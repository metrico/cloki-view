import{g as Ot,c as Rr,R as Y,r as j,a as ca}from"./react-432945ee.js";/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function Yt(r){return Object.prototype.toString.call(r)==="[object Object]"}function me(r){var e,t;return Yt(r)===!1?!1:(e=r.constructor,e===void 0?!0:(t=e.prototype,!(Yt(t)===!1||t.hasOwnProperty("isPrototypeOf")===!1)))}function Me(r){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+r+(t.length?" "+t.map(function(u){return"'"+u+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ir(r){return!!r&&!!r[Pe]}function or(r){var e;return!!r&&(function(t){if(!t||typeof t!="object")return!1;var n=Object.getPrototypeOf(t);if(n===null)return!0;var u=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return u===Object||typeof u=="function"&&Function.toString.call(u)===pa}(r)||Array.isArray(r)||!!r[tn]||!!(!((e=r.constructor)===null||e===void 0)&&e[tn])||yt(r)||xt(r))}function br(r,e,t){t===void 0&&(t=!1),gr(r)===0?(t?Object.keys:jt)(r).forEach(function(n){t&&typeof n=="symbol"||e(n,r[n],r)}):r.forEach(function(n,u){return e(u,n,r)})}function gr(r){var e=r[Pe];return e?e.i>3?e.i-4:e.i:Array.isArray(r)?1:yt(r)?2:xt(r)?3:0}function dt(r,e){return gr(r)===2?r.has(e):Object.prototype.hasOwnProperty.call(r,e)}function va(r,e){return gr(r)===2?r.get(e):r[e]}function mu(r,e,t){var n=gr(r);n===2?r.set(e,t):n===3?r.add(t):r[e]=t}function da(r,e){return r===e?r!==0||1/r==1/e:r!=r&&e!=e}function yt(r){return Ca&&r instanceof Map}function xt(r){return ma&&r instanceof Set}function rr(r){return r.o||r.t}function Pt(r){if(Array.isArray(r))return Array.prototype.slice.call(r);var e=Ba(r);delete e[Pe];for(var t=jt(e),n=0;n<t.length;n++){var u=t[n],a=e[u];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(e[u]={configurable:!0,writable:!0,enumerable:a.enumerable,value:r[u]})}return Object.create(Object.getPrototypeOf(r),e)}function St(r,e){return e===void 0&&(e=!1),Tt(r)||ir(r)||!or(r)||(gr(r)>1&&(r.set=r.add=r.clear=r.delete=Da),Object.freeze(r),e&&br(r,function(t,n){return St(n,!0)},!0)),r}function Da(){Me(2)}function Tt(r){return r==null||typeof r!="object"||Object.isFrozen(r)}function We(r){var e=Ea[r];return e||Me(18,r),e}function Xt(){return Or}function Qr(r,e){e&&(We("Patches"),r.u=[],r.s=[],r.v=e)}function qr(r){Dt(r),r.p.forEach(ha),r.p=null}function Dt(r){r===Or&&(Or=r.l)}function Jt(r){return Or={p:[],l:Or,h:r,m:!0,_:0}}function ha(r){var e=r[Pe];e.i===0||e.i===1?e.j():e.g=!0}function _r(r,e){e._=e.p.length;var t=e.p[0],n=r!==void 0&&r!==t;return e.h.O||We("ES5").S(e,r,n),n?(t[Pe].P&&(qr(e),Me(4)),or(r)&&(r=Vr(e,r),e.l||Kr(e,r)),e.u&&We("Patches").M(t[Pe].t,r,e.u,e.s)):r=Vr(e,t,[]),qr(e),e.u&&e.v(e.u,e.s),r!==pu?r:void 0}function Vr(r,e,t){if(Tt(e))return e;var n=e[Pe];if(!n)return br(e,function(o,c){return Zt(r,n,e,o,c,t)},!0),e;if(n.A!==r)return e;if(!n.P)return Kr(r,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var u=n.i===4||n.i===5?n.o=Pt(n.k):n.o,a=u,s=!1;n.i===3&&(a=new Set(u),u.clear(),s=!0),br(a,function(o,c){return Zt(r,n,u,o,c,t,s)}),Kr(r,u,!1),t&&r.u&&We("Patches").N(n,t,r.u,r.s)}return n.o}function Zt(r,e,t,n,u,a,s){if(ir(u)){var o=Vr(r,u,a&&e&&e.i!==3&&!dt(e.R,n)?a.concat(n):void 0);if(mu(t,n,o),!ir(o))return;r.m=!1}else s&&t.add(u);if(or(u)&&!Tt(u)){if(!r.h.D&&r._<1)return;Vr(r,u),e&&e.A.l||Kr(r,u)}}function Kr(r,e,t){t===void 0&&(t=!1),!r.l&&r.h.D&&r.m&&St(e,t)}function et(r,e){var t=r[Pe];return(t?rr(t):r)[e]}function Qt(r,e){if(e in r)for(var t=Object.getPrototypeOf(r);t;){var n=Object.getOwnPropertyDescriptor(t,e);if(n)return n;t=Object.getPrototypeOf(t)}}function ht(r){r.P||(r.P=!0,r.l&&ht(r.l))}function rt(r){r.o||(r.o=Pt(r.t))}function gt(r,e,t){var n=yt(e)?We("MapSet").F(e,t):xt(e)?We("MapSet").T(e,t):r.O?function(u,a){var s=Array.isArray(u),o={i:s?1:0,A:a?a.A:Xt(),P:!1,I:!1,R:{},l:a,t:u,k:null,o:null,j:null,C:!1},c=o,f=Ct;s&&(c=[o],f=Er);var v=Proxy.revocable(c,f),D=v.revoke,h=v.proxy;return o.k=h,o.j=D,h}(e,t):We("ES5").J(e,t);return(t?t.A:Xt()).p.push(n),n}function ga(r){return ir(r)||Me(22,r),function e(t){if(!or(t))return t;var n,u=t[Pe],a=gr(t);if(u){if(!u.P&&(u.i<4||!We("ES5").K(u)))return u.t;u.I=!0,n=_t(t,a),u.I=!1}else n=_t(t,a);return br(n,function(s,o){u&&va(u.t,s)===o||mu(n,s,e(o))}),a===3?new Set(n):n}(r)}function _t(r,e){switch(e){case 2:return new Map(r);case 3:return Array.from(r)}return Pt(r)}var en,Or,Rt=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Ca=typeof Map<"u",ma=typeof Set<"u",rn=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",pu=Rt?Symbol.for("immer-nothing"):((en={})["immer-nothing"]=!0,en),tn=Rt?Symbol.for("immer-draftable"):"__$immer_draftable",Pe=Rt?Symbol.for("immer-state"):"__$immer_state",pa=""+Object.prototype.constructor,jt=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:Object.getOwnPropertyNames,Ba=Object.getOwnPropertyDescriptors||function(r){var e={};return jt(r).forEach(function(t){e[t]=Object.getOwnPropertyDescriptor(r,t)}),e},Ea={},Ct={get:function(r,e){if(e===Pe)return r;var t=rr(r);if(!dt(t,e))return function(u,a,s){var o,c=Qt(a,s);return c?"value"in c?c.value:(o=c.get)===null||o===void 0?void 0:o.call(u.k):void 0}(r,t,e);var n=t[e];return r.I||!or(n)?n:n===et(r.t,e)?(rt(r),r.o[e]=gt(r.A.h,n,r)):n},has:function(r,e){return e in rr(r)},ownKeys:function(r){return Reflect.ownKeys(rr(r))},set:function(r,e,t){var n=Qt(rr(r),e);if(n!=null&&n.set)return n.set.call(r.k,t),!0;if(!r.P){var u=et(rr(r),e),a=u==null?void 0:u[Pe];if(a&&a.t===t)return r.o[e]=t,r.R[e]=!1,!0;if(da(t,u)&&(t!==void 0||dt(r.t,e)))return!0;rt(r),ht(r)}return r.o[e]===t&&(t!==void 0||e in r.o)||Number.isNaN(t)&&Number.isNaN(r.o[e])||(r.o[e]=t,r.R[e]=!0),!0},deleteProperty:function(r,e){return et(r.t,e)!==void 0||e in r.t?(r.R[e]=!1,rt(r),ht(r)):delete r.R[e],r.o&&delete r.o[e],!0},getOwnPropertyDescriptor:function(r,e){var t=rr(r),n=Reflect.getOwnPropertyDescriptor(t,e);return n&&{writable:!0,configurable:r.i!==1||e!=="length",enumerable:n.enumerable,value:t[e]}},defineProperty:function(){Me(11)},getPrototypeOf:function(r){return Object.getPrototypeOf(r.t)},setPrototypeOf:function(){Me(12)}},Er={};br(Ct,function(r,e){Er[r]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Er.deleteProperty=function(r,e){return Er.set.call(this,r,e,void 0)},Er.set=function(r,e,t){return Ct.set.call(this,r[0],e,t,r[0])};var Aa=function(){function r(t){var n=this;this.O=rn,this.D=!0,this.produce=function(u,a,s){if(typeof u=="function"&&typeof a!="function"){var o=a;a=u;var c=n;return function(i){var E=this;i===void 0&&(i=o);for(var p=arguments.length,F=Array(p>1?p-1:0),b=1;b<p;b++)F[b-1]=arguments[b];return c.produce(i,function(y){var N;return(N=a).call.apply(N,[E,y].concat(F))})}}var f;if(typeof a!="function"&&Me(6),s!==void 0&&typeof s!="function"&&Me(7),or(u)){var v=Jt(n),D=gt(n,u,void 0),h=!0;try{f=a(D),h=!1}finally{h?qr(v):Dt(v)}return typeof Promise<"u"&&f instanceof Promise?f.then(function(i){return Qr(v,s),_r(i,v)},function(i){throw qr(v),i}):(Qr(v,s),_r(f,v))}if(!u||typeof u!="object"){if((f=a(u))===void 0&&(f=u),f===pu&&(f=void 0),n.D&&St(f,!0),s){var C=[],g=[];We("Patches").M(u,f,C,g),s(C,g)}return f}Me(21,u)},this.produceWithPatches=function(u,a){if(typeof u=="function")return function(f){for(var v=arguments.length,D=Array(v>1?v-1:0),h=1;h<v;h++)D[h-1]=arguments[h];return n.produceWithPatches(f,function(C){return u.apply(void 0,[C].concat(D))})};var s,o,c=n.produce(u,a,function(f,v){s=f,o=v});return typeof Promise<"u"&&c instanceof Promise?c.then(function(f){return[f,s,o]}):[c,s,o]},typeof(t==null?void 0:t.useProxies)=="boolean"&&this.setUseProxies(t.useProxies),typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze)}var e=r.prototype;return e.createDraft=function(t){or(t)||Me(8),ir(t)&&(t=ga(t));var n=Jt(this),u=gt(this,t,void 0);return u[Pe].C=!0,Dt(n),u},e.finishDraft=function(t,n){var u=t&&t[Pe],a=u.A;return Qr(a,n),_r(void 0,a)},e.setAutoFreeze=function(t){this.D=t},e.setUseProxies=function(t){t&&!rn&&Me(20),this.O=t},e.applyPatches=function(t,n){var u;for(u=n.length-1;u>=0;u--){var a=n[u];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}u>-1&&(n=n.slice(u+1));var s=We("Patches").$;return ir(t)?s(t,n):this.produce(t,function(o){return s(o,n)})},r}(),Se=new Aa,Nt=Se.produce;Se.produceWithPatches.bind(Se);Se.setAutoFreeze.bind(Se);Se.setUseProxies.bind(Se);Se.applyPatches.bind(Se);var nn=Se.createDraft.bind(Se),un=Se.finishDraft.bind(Se),Fa={transform(r,e){var{current:t,affinity:n}=r;if(t!=null){var u=d.transform(t,e,{affinity:n});r.current=u,u==null&&r.unref()}}},wa={transform(r,e){var{current:t,affinity:n}=r;if(t!=null){var u=_.transform(t,e,{affinity:n});r.current=u,u==null&&r.unref()}}},ba={transform(r,e){var{current:t,affinity:n}=r;if(t!=null){var u=B.transform(t,e,{affinity:n});r.current=u,u==null&&r.unref()}}},Ur=new WeakMap,Gr=new WeakMap,Ar=new WeakMap,Bu=new WeakMap,an=new WeakMap,sn=new WeakMap,on=new WeakMap,d={ancestors(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:t=!1}=e,n=d.levels(r,e);return t?n=n.slice(1):n=n.slice(0,-1),n},common(r,e){for(var t=[],n=0;n<r.length&&n<e.length;n++){var u=r[n],a=e[n];if(u!==a)break;t.push(u)}return t},compare(r,e){for(var t=Math.min(r.length,e.length),n=0;n<t;n++){if(r[n]<e[n])return-1;if(r[n]>e[n])return 1}return 0},endsAfter(r,e){var t=r.length-1,n=r.slice(0,t),u=e.slice(0,t),a=r[t],s=e[t];return d.equals(n,u)&&a>s},endsAt(r,e){var t=r.length,n=r.slice(0,t),u=e.slice(0,t);return d.equals(n,u)},endsBefore(r,e){var t=r.length-1,n=r.slice(0,t),u=e.slice(0,t),a=r[t],s=e[t];return d.equals(n,u)&&a<s},equals(r,e){return r.length===e.length&&r.every((t,n)=>t===e[n])},hasPrevious(r){return r[r.length-1]>0},isAfter(r,e){return d.compare(r,e)===1},isAncestor(r,e){return r.length<e.length&&d.compare(r,e)===0},isBefore(r,e){return d.compare(r,e)===-1},isChild(r,e){return r.length===e.length+1&&d.compare(r,e)===0},isCommon(r,e){return r.length<=e.length&&d.compare(r,e)===0},isDescendant(r,e){return r.length>e.length&&d.compare(r,e)===0},isParent(r,e){return r.length+1===e.length&&d.compare(r,e)===0},isPath(r){return Array.isArray(r)&&(r.length===0||typeof r[0]=="number")},isSibling(r,e){if(r.length!==e.length)return!1;var t=r.slice(0,-1),n=e.slice(0,-1),u=r[r.length-1],a=e[e.length-1];return u!==a&&d.equals(t,n)},levels(r){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:t=!1}=e,n=[],u=0;u<=r.length;u++)n.push(r.slice(0,u));return t&&n.reverse(),n},next(r){if(r.length===0)throw new Error("Cannot get the next path of a root path [".concat(r,"], because it has no next index."));var e=r[r.length-1];return r.slice(0,-1).concat(e+1)},operationCanTransformPath(r){switch(r.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(r){if(r.length===0)throw new Error("Cannot get the parent path of the root path [".concat(r,"]."));return r.slice(0,-1)},previous(r){if(r.length===0)throw new Error("Cannot get the previous path of a root path [".concat(r,"], because it has no previous index."));var e=r[r.length-1];if(e<=0)throw new Error("Cannot get the previous path of a first child path [".concat(r,"] because it would result in a negative index."));return r.slice(0,-1).concat(e-1)},relative(r,e){if(!d.isAncestor(e,r)&&!d.equals(r,e))throw new Error("Cannot get the relative path of [".concat(r,"] inside ancestor [").concat(e,"], because it is not above or equal to the path."));return r.slice(e.length)},transform(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!r)return null;var n=[...r],{affinity:u="forward"}=t;if(r.length===0)return n;switch(e.type){case"insert_node":{var{path:a}=e;(d.equals(a,n)||d.endsBefore(a,n)||d.isAncestor(a,n))&&(n[a.length-1]+=1);break}case"remove_node":{var{path:s}=e;if(d.equals(s,n)||d.isAncestor(s,n))return null;d.endsBefore(s,n)&&(n[s.length-1]-=1);break}case"merge_node":{var{path:o,position:c}=e;d.equals(o,n)||d.endsBefore(o,n)?n[o.length-1]-=1:d.isAncestor(o,n)&&(n[o.length-1]-=1,n[o.length]+=c);break}case"split_node":{var{path:f,position:v}=e;if(d.equals(f,n)){if(u==="forward")n[n.length-1]+=1;else if(u!=="backward")return null}else d.endsBefore(f,n)?n[f.length-1]+=1:d.isAncestor(f,n)&&r[f.length]>=v&&(n[f.length-1]+=1,n[f.length]-=v);break}case"move_node":{var{path:D,newPath:h}=e;if(d.equals(D,h))return n;if(d.isAncestor(D,n)||d.equals(D,n)){var C=h.slice();return d.endsBefore(D,h)&&D.length<h.length&&(C[D.length-1]-=1),C.concat(n.slice(D.length))}else d.isSibling(D,h)&&(d.isAncestor(h,n)||d.equals(h,n))?d.endsBefore(D,n)?n[D.length-1]-=1:n[D.length-1]+=1:d.endsBefore(h,n)||d.equals(h,n)||d.isAncestor(h,n)?(d.endsBefore(D,n)&&(n[D.length-1]-=1),n[h.length-1]+=1):d.endsBefore(D,n)&&(d.equals(h,n)&&(n[h.length-1]+=1),n[D.length-1]-=1);break}}return n}};function Ae(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ln(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function pr(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ln(Object(t),!0).forEach(function(n){Ae(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ln(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Oa=(r,e,t)=>{switch(t.type){case"insert_node":{var{path:n,node:u}=t,a=O.parent(r,n),s=n[n.length-1];if(s>a.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(n,"] because the destination is past the end of the node."));if(a.children.splice(s,0,u),e)for(var[o,c]of B.points(e))e[c]=_.transform(o,t);break}case"insert_text":{var{path:f,offset:v,text:D}=t;if(D.length===0)break;var h=O.leaf(r,f),C=h.text.slice(0,v),g=h.text.slice(v);if(h.text=C+D+g,e)for(var[i,E]of B.points(e))e[E]=_.transform(i,t);break}case"merge_node":{var{path:p}=t,F=O.get(r,p),b=d.previous(p),y=O.get(r,b),N=O.parent(r,p),M=p[p.length-1];if(z.isText(F)&&z.isText(y))y.text+=F.text;else if(!z.isText(F)&&!z.isText(y))y.children.push(...F.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(p,"] to nodes of different interfaces: ").concat(Ce.stringify(F)," ").concat(Ce.stringify(y)));if(N.children.splice(M,1),e)for(var[S,H]of B.points(e))e[H]=_.transform(S,t);break}case"move_node":{var{path:K,newPath:I}=t;if(d.isAncestor(K,I))throw new Error("Cannot move a path [".concat(K,"] to new path [").concat(I,"] because the destination is inside itself."));var U=O.get(r,K),R=O.parent(r,K),$=K[K.length-1];R.children.splice($,1);var P=d.transform(K,t),k=O.get(r,d.parent(P)),J=P[P.length-1];if(k.children.splice(J,0,U),e)for(var[V,oe]of B.points(e))e[oe]=_.transform(V,t);break}case"remove_node":{var{path:X}=t,re=X[X.length-1],ve=O.parent(r,X);if(ve.children.splice(re,1),e)for(var[ie,Fe]of B.points(e)){var Z=_.transform(ie,t);if(e!=null&&Z!=null)e[Fe]=Z;else{var m=void 0,T=void 0;for(var[x,L]of O.texts(r))if(d.compare(L,X)===-1)m=[x,L];else{T=[x,L];break}var ee=!1;m&&T&&(d.equals(T[1],X)?ee=!d.hasPrevious(T[1]):ee=d.common(m[1],X).length<d.common(T[1],X).length),m&&!ee?(ie.path=m[1],ie.offset=m[0].text.length):T?(ie.path=T[1],ie.offset=0):e=null}}break}case"remove_text":{var{path:q,offset:le,text:ne}=t;if(ne.length===0)break;var te=O.leaf(r,q),Q=te.text.slice(0,le),se=te.text.slice(le+ne.length);if(te.text=Q+se,e)for(var[he,ae]of B.points(e))e[ae]=_.transform(he,t);break}case"set_node":{var{path:pe,properties:Te,newProperties:Oe}=t;if(pe.length===0)throw new Error("Cannot set properties on the root node!");var ye=O.get(r,pe);for(var de in Oe){if(de==="children"||de==="text")throw new Error('Cannot set the "'.concat(de,'" property of nodes!'));var xe=Oe[de];xe==null?delete ye[de]:ye[de]=xe}for(var ge in Te)Oe.hasOwnProperty(ge)||delete ye[ge];break}case"set_selection":{var{newProperties:ue}=t;if(ue==null)e=ue;else{if(e==null){if(!B.isRange(ue))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(Ce.stringify(ue)," when there is no current selection."));e=pr({},ue)}for(var Ne in ue){var _e=ue[Ne];if(_e==null){if(Ne==="anchor"||Ne==="focus")throw new Error('Cannot remove the "'.concat(Ne,'" selection property'));delete e[Ne]}else e[Ne]=_e}}break}case"split_node":{var{path:we,position:Le,properties:er}=t;if(we.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(we,"] because the root node cannot be split."));var ze=O.get(r,we),mr=O.parent(r,we),Tr=we[we.length-1],Zr;if(z.isText(ze)){var aa=ze.text.slice(0,Le),sa=ze.text.slice(Le);ze.text=aa,Zr=pr(pr({},er),{},{text:sa})}else{var ia=ze.children.slice(0,Le),oa=ze.children.slice(Le);ze.children=ia,Zr=pr(pr({},er),{},{children:oa})}if(mr.children.splice(Tr+1,0,Zr),e)for(var[la,fa]of B.points(e))e[fa]=_.transform(la,t);break}}return e},ya={transform(r,e){r.children=nn(r.children);var t=r.selection&&nn(r.selection);try{t=Oa(r,t,e)}finally{r.children=un(r.children),t?r.selection=ir(t)?un(t):t:r.selection=null}}},xa={insertNodes(r,e,t){r.insertNodes(e,t)},liftNodes(r,e){r.liftNodes(e)},mergeNodes(r,e){r.mergeNodes(e)},moveNodes(r,e){r.moveNodes(e)},removeNodes(r,e){r.removeNodes(e)},setNodes(r,e,t){r.setNodes(e,t)},splitNodes(r,e){r.splitNodes(e)},unsetNodes(r,e,t){r.unsetNodes(e,t)},unwrapNodes(r,e){r.unwrapNodes(e)},wrapNodes(r,e,t){r.wrapNodes(e,t)}},Pa={collapse(r,e){r.collapse(e)},deselect(r){r.deselect()},move(r,e){r.move(e)},select(r,e){r.select(e)},setPoint(r,e,t){r.setPoint(e,t)},setSelection(r,e){r.setSelection(e)}},Eu=(r,e)=>{for(var t in r){var n=r[t],u=e[t];if(me(n)&&me(u)){if(!Eu(n,u))return!1}else if(Array.isArray(n)&&Array.isArray(u)){if(n.length!==u.length)return!1;for(var a=0;a<n.length;a++)if(n[a]!==u[a])return!1}else if(n!==u)return!1}for(var s in e)if(r[s]===void 0&&e[s]!==void 0)return!1;return!0};function Sa(r,e){if(r==null)return{};var t={},n=Object.keys(r),u,a;for(a=0;a<n.length;a++)u=n[a],!(e.indexOf(u)>=0)&&(t[u]=r[u]);return t}function Ve(r,e){if(r==null)return{};var t=Sa(r,e),n,u;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(u=0;u<a.length;u++)n=a[u],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}var Ta=["anchor","focus"];function fn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function Ra(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fn(Object(t),!0).forEach(function(n){Ae(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):fn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var B={edges(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:t=!1}=e,{anchor:n,focus:u}=r;return B.isBackward(r)===t?[n,u]:[u,n]},end(r){var[,e]=B.edges(r);return e},equals(r,e){return _.equals(r.anchor,e.anchor)&&_.equals(r.focus,e.focus)},includes(r,e){if(B.isRange(e)){if(B.includes(r,e.anchor)||B.includes(r,e.focus))return!0;var[t,n]=B.edges(r),[u,a]=B.edges(e);return _.isBefore(t,u)&&_.isAfter(n,a)}var[s,o]=B.edges(r),c=!1,f=!1;return _.isPoint(e)?(c=_.compare(e,s)>=0,f=_.compare(e,o)<=0):(c=d.compare(e,s.path)>=0,f=d.compare(e,o.path)<=0),c&&f},intersection(r,e){var t=Ve(r,Ta),[n,u]=B.edges(r),[a,s]=B.edges(e),o=_.isBefore(n,a)?a:n,c=_.isBefore(u,s)?u:s;return _.isBefore(c,o)?null:Ra({anchor:o,focus:c},t)},isBackward(r){var{anchor:e,focus:t}=r;return _.isAfter(e,t)},isCollapsed(r){var{anchor:e,focus:t}=r;return _.equals(e,t)},isExpanded(r){return!B.isCollapsed(r)},isForward(r){return!B.isBackward(r)},isRange(r){return me(r)&&_.isPoint(r.anchor)&&_.isPoint(r.focus)},*points(r){yield[r.anchor,"anchor"],yield[r.focus,"focus"]},start(r){var[e]=B.edges(r);return e},transform(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Nt(r,n=>{if(n===null)return null;var{affinity:u="inward"}=t,a,s;if(u==="inward"){var o=B.isCollapsed(n);B.isForward(n)?(a="forward",s=o?a:"backward"):(a="backward",s=o?a:"forward")}else u==="outward"?B.isForward(n)?(a="backward",s="forward"):(a="forward",s="backward"):(a=u,s=u);var c=_.transform(n.anchor,e,{affinity:a}),f=_.transform(n.focus,e,{affinity:s});if(!c||!f)return null;n.anchor=c,n.focus=f})}},cn=r=>me(r)&&O.isNodeList(r.children)&&!l.isEditor(r),W={isAncestor(r){return me(r)&&O.isNodeList(r.children)},isElement:cn,isElementList(r){return Array.isArray(r)&&r.every(e=>W.isElement(e))},isElementProps(r){return r.children!==void 0},isElementType:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return cn(e)&&e[n]===t},matches(r,e){for(var t in e)if(t!=="children"&&r[t]!==e[t])return!1;return!0}},ja=["children"],Na=["text"],vn=new WeakMap,O={ancestor(r,e){var t=O.get(r,e);if(z.isText(t))throw new Error("Cannot get the ancestor node at path [".concat(e,"] because it refers to a text node instead: ").concat(Ce.stringify(t)));return t},*ancestors(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var n of d.ancestors(e,t)){var u=O.ancestor(r,n),a=[u,n];yield a}},child(r,e){if(z.isText(r))throw new Error("Cannot get the child of a text node: ".concat(Ce.stringify(r)));var t=r.children[e];if(t==null)throw new Error("Cannot get child at index `".concat(e,"` in node: ").concat(Ce.stringify(r)));return t},*children(r,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{reverse:n=!1}=t,u=O.ancestor(r,e),{children:a}=u,s=n?a.length-1:0;n?s>=0:s<a.length;){var o=O.child(u,s),c=e.concat(s);yield[o,c],s=n?s-1:s+1}},common(r,e,t){var n=d.common(e,t),u=O.get(r,n);return[u,n]},descendant(r,e){var t=O.get(r,e);if(l.isEditor(t))throw new Error("Cannot get the descendant node at path [".concat(e,"] because it refers to the root editor node instead: ").concat(Ce.stringify(t)));return t},*descendants(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[t,n]of O.nodes(r,e))n.length!==0&&(yield[t,n])},*elements(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[t,n]of O.nodes(r,e))W.isElement(t)&&(yield[t,n])},extractProps(r){if(W.isAncestor(r)){var e=Ve(r,ja);return e}else{var e=Ve(r,Na);return e}},first(r,e){for(var t=e.slice(),n=O.get(r,t);n&&!(z.isText(n)||n.children.length===0);)n=n.children[0],t.push(0);return[n,t]},fragment(r,e){if(z.isText(r))throw new Error("Cannot get a fragment starting from a root text node: ".concat(Ce.stringify(r)));var t=Nt({children:r.children},n=>{var[u,a]=B.edges(e),s=O.nodes(n,{reverse:!0,pass:h=>{var[,C]=h;return!B.includes(e,C)}});for(var[,o]of s){if(!B.includes(e,o)){var c=O.parent(n,o),f=o[o.length-1];c.children.splice(f,1)}if(d.equals(o,a.path)){var v=O.leaf(n,o);v.text=v.text.slice(0,a.offset)}if(d.equals(o,u.path)){var D=O.leaf(n,o);D.text=D.text.slice(u.offset)}}l.isEditor(n)&&(n.selection=null)});return t.children},get(r,e){for(var t=r,n=0;n<e.length;n++){var u=e[n];if(z.isText(t)||!t.children[u])throw new Error("Cannot find a descendant at path [".concat(e,"] in node: ").concat(Ce.stringify(r)));t=t.children[u]}return t},has(r,e){for(var t=r,n=0;n<e.length;n++){var u=e[n];if(z.isText(t)||!t.children[u])return!1;t=t.children[u]}return!0},isNode(r){return z.isText(r)||W.isElement(r)||l.isEditor(r)},isNodeList(r){if(!Array.isArray(r))return!1;var e=vn.get(r);if(e!==void 0)return e;var t=r.every(n=>O.isNode(n));return vn.set(r,t),t},last(r,e){for(var t=e.slice(),n=O.get(r,t);n&&!(z.isText(n)||n.children.length===0);){var u=n.children.length-1;n=n.children[u],t.push(u)}return[n,t]},leaf(r,e){var t=O.get(r,e);if(!z.isText(t))throw new Error("Cannot get the leaf node at path [".concat(e,"] because it refers to a non-leaf node: ").concat(Ce.stringify(t)));return t},*levels(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var n of d.levels(e,t)){var u=O.get(r,n);yield[u,n]}},matches(r,e){return W.isElement(r)&&W.isElementProps(e)&&W.matches(r,e)||z.isText(r)&&z.isTextProps(e)&&z.matches(r,e)},*nodes(r){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{pass:t,reverse:n=!1}=e,{from:u=[],to:a}=e,s=new Set,o=[],c=r;!(a&&(n?d.isBefore(o,a):d.isAfter(o,a)));){if(s.has(c)||(yield[c,o]),!s.has(c)&&!z.isText(c)&&c.children.length!==0&&(t==null||t([c,o])===!1)){s.add(c);var f=n?c.children.length-1:0;d.isAncestor(o,u)&&(f=u[o.length]),o=o.concat(f),c=O.get(r,o);continue}if(o.length===0)break;if(!n){var v=d.next(o);if(O.has(r,v)){o=v,c=O.get(r,o);continue}}if(n&&o[o.length-1]!==0){var D=d.previous(o);o=D,c=O.get(r,o);continue}o=d.parent(o),c=O.get(r,o),s.add(c)}},parent(r,e){var t=d.parent(e),n=O.get(r,t);if(z.isText(n))throw new Error("Cannot get the parent of path [".concat(e,"] because it does not exist in the root."));return n},string(r){return z.isText(r)?r.text:r.children.map(O.string).join("")},*texts(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[t,n]of O.nodes(r,e))z.isText(t)&&(yield[t,n])}};function dn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function fe(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dn(Object(t),!0).forEach(function(n){Ae(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):dn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Xe={isNodeOperation(r){return Xe.isOperation(r)&&r.type.endsWith("_node")},isOperation(r){if(!me(r))return!1;switch(r.type){case"insert_node":return d.isPath(r.path)&&O.isNode(r.node);case"insert_text":return typeof r.offset=="number"&&typeof r.text=="string"&&d.isPath(r.path);case"merge_node":return typeof r.position=="number"&&d.isPath(r.path)&&me(r.properties);case"move_node":return d.isPath(r.path)&&d.isPath(r.newPath);case"remove_node":return d.isPath(r.path)&&O.isNode(r.node);case"remove_text":return typeof r.offset=="number"&&typeof r.text=="string"&&d.isPath(r.path);case"set_node":return d.isPath(r.path)&&me(r.properties)&&me(r.newProperties);case"set_selection":return r.properties===null&&B.isRange(r.newProperties)||r.newProperties===null&&B.isRange(r.properties)||me(r.properties)&&me(r.newProperties);case"split_node":return d.isPath(r.path)&&typeof r.position=="number"&&me(r.properties);default:return!1}},isOperationList(r){return Array.isArray(r)&&r.every(e=>Xe.isOperation(e))},isSelectionOperation(r){return Xe.isOperation(r)&&r.type.endsWith("_selection")},isTextOperation(r){return Xe.isOperation(r)&&r.type.endsWith("_text")},inverse(r){switch(r.type){case"insert_node":return fe(fe({},r),{},{type:"remove_node"});case"insert_text":return fe(fe({},r),{},{type:"remove_text"});case"merge_node":return fe(fe({},r),{},{type:"split_node",path:d.previous(r.path)});case"move_node":{var{newPath:e,path:t}=r;if(d.equals(e,t))return r;if(d.isSibling(t,e))return fe(fe({},r),{},{path:e,newPath:t});var n=d.transform(t,r),u=d.transform(d.next(t),r);return fe(fe({},r),{},{path:n,newPath:u})}case"remove_node":return fe(fe({},r),{},{type:"insert_node"});case"remove_text":return fe(fe({},r),{},{type:"insert_text"});case"set_node":{var{properties:a,newProperties:s}=r;return fe(fe({},r),{},{properties:s,newProperties:a})}case"set_selection":{var{properties:o,newProperties:c}=r;return o==null?fe(fe({},r),{},{properties:c,newProperties:null}):c==null?fe(fe({},r),{},{properties:null,newProperties:o}):fe(fe({},r),{},{properties:c,newProperties:o})}case"split_node":return fe(fe({},r),{},{type:"merge_node",path:d.next(r.path)})}}},Dn=new WeakMap,Ma=r=>{var e=Dn.get(r);if(e!==void 0)return e;if(!me(r))return!1;var t=typeof r.addMark=="function"&&typeof r.apply=="function"&&typeof r.deleteFragment=="function"&&typeof r.insertBreak=="function"&&typeof r.insertSoftBreak=="function"&&typeof r.insertFragment=="function"&&typeof r.insertNode=="function"&&typeof r.insertText=="function"&&typeof r.isElementReadOnly=="function"&&typeof r.isInline=="function"&&typeof r.isSelectable=="function"&&typeof r.isVoid=="function"&&typeof r.normalizeNode=="function"&&typeof r.onChange=="function"&&typeof r.removeMark=="function"&&typeof r.getDirtyPaths=="function"&&(r.marks===null||me(r.marks))&&(r.selection===null||B.isRange(r.selection))&&O.isNodeList(r.children)&&Xe.isOperationList(r.operations);return Dn.set(r,t),t},l={above(r,e){return r.above(e)},addMark(r,e,t){r.addMark(e,t)},after(r,e,t){return r.after(e,t)},before(r,e,t){return r.before(e,t)},deleteBackward(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:t="character"}=e;r.deleteBackward(t)},deleteForward(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:t="character"}=e;r.deleteForward(t)},deleteFragment(r,e){r.deleteFragment(e)},edges(r,e){return r.edges(e)},elementReadOnly(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r.elementReadOnly(e)},end(r,e){return r.end(e)},first(r,e){return r.first(e)},fragment(r,e){return r.fragment(e)},hasBlocks(r,e){return r.hasBlocks(e)},hasInlines(r,e){return r.hasInlines(e)},hasPath(r,e){return r.hasPath(e)},hasTexts(r,e){return r.hasTexts(e)},insertBreak(r){r.insertBreak()},insertFragment(r,e,t){r.insertFragment(e,t)},insertNode(r,e){r.insertNode(e)},insertSoftBreak(r){r.insertSoftBreak()},insertText(r,e){r.insertText(e)},isBlock(r,e){return r.isBlock(e)},isEdge(r,e,t){return r.isEdge(e,t)},isEditor(r){return Ma(r)},isElementReadOnly(r,e){return r.isElementReadOnly(e)},isEmpty(r,e){return r.isEmpty(e)},isEnd(r,e,t){return r.isEnd(e,t)},isInline(r,e){return r.isInline(e)},isNormalizing(r){return r.isNormalizing()},isSelectable(r,e){return r.isSelectable(e)},isStart(r,e,t){return r.isStart(e,t)},isVoid(r,e){return r.isVoid(e)},last(r,e){return r.last(e)},leaf(r,e,t){return r.leaf(e,t)},levels(r,e){return r.levels(e)},marks(r){return r.getMarks()},next(r,e){return r.next(e)},node(r,e,t){return r.node(e,t)},nodes(r,e){return r.nodes(e)},normalize(r,e){r.normalize(e)},parent(r,e,t){return r.parent(e,t)},path(r,e,t){return r.path(e,t)},pathRef(r,e,t){return r.pathRef(e,t)},pathRefs(r){return r.pathRefs()},point(r,e,t){return r.point(e,t)},pointRef(r,e,t){return r.pointRef(e,t)},pointRefs(r){return r.pointRefs()},positions(r,e){return r.positions(e)},previous(r,e){return r.previous(e)},range(r,e,t){return r.range(e,t)},rangeRef(r,e,t){return r.rangeRef(e,t)},rangeRefs(r){return r.rangeRefs()},removeMark(r,e){r.removeMark(e)},setNormalizing(r,e){r.setNormalizing(e)},start(r,e){return r.start(e)},string(r,e,t){return r.string(e,t)},unhangRange(r,e,t){return r.unhangRange(e,t)},void(r,e){return r.void(e)},withoutNormalizing(r,e){r.withoutNormalizing(e)}},Ia={isSpan(r){return Array.isArray(r)&&r.length===2&&r.every(d.isPath)}};function hn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function gn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hn(Object(t),!0).forEach(function(n){Ae(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):hn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var _={compare(r,e){var t=d.compare(r.path,e.path);return t===0?r.offset<e.offset?-1:r.offset>e.offset?1:0:t},isAfter(r,e){return _.compare(r,e)===1},isBefore(r,e){return _.compare(r,e)===-1},equals(r,e){return r.offset===e.offset&&d.equals(r.path,e.path)},isPoint(r){return me(r)&&typeof r.offset=="number"&&d.isPath(r.path)},transform(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Nt(r,n=>{if(n===null)return null;var{affinity:u="forward"}=t,{path:a,offset:s}=n;switch(e.type){case"insert_node":case"move_node":{n.path=d.transform(a,e,t);break}case"insert_text":{d.equals(e.path,a)&&(e.offset<s||e.offset===s&&u==="forward")&&(n.offset+=e.text.length);break}case"merge_node":{d.equals(e.path,a)&&(n.offset+=e.position),n.path=d.transform(a,e,t);break}case"remove_text":{d.equals(e.path,a)&&e.offset<=s&&(n.offset-=Math.min(s-e.offset,e.text.length));break}case"remove_node":{if(d.equals(e.path,a)||d.isAncestor(e.path,a))return null;n.path=d.transform(a,e,t);break}case"split_node":{if(d.equals(e.path,a)){if(e.position===s&&u==null)return null;(e.position<s||e.position===s&&u==="forward")&&(n.offset-=e.position,n.path=d.transform(a,e,gn(gn({},t),{},{affinity:"forward"})))}else n.path=d.transform(a,e,t);break}}})}},Cn=void 0,Ce={setScrubber(r){Cn=r},stringify(r){return JSON.stringify(r,Cn)}},La=["text"],$a=["anchor","focus"];function mn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function He(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mn(Object(t),!0).forEach(function(n){Ae(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):mn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var z={equals(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:n=!1}=t;function u(a){var s=Ve(a,La);return s}return Eu(n?u(r):r,n?u(e):e)},isText(r){return me(r)&&typeof r.text=="string"},isTextList(r){return Array.isArray(r)&&r.every(e=>z.isText(e))},isTextProps(r){return r.text!==void 0},matches(r,e){for(var t in e)if(t!=="text"&&(!r.hasOwnProperty(t)||r[t]!==e[t]))return!1;return!0},decorations(r,e){var t=[He({},r)];for(var n of e){var u=Ve(n,$a),[a,s]=B.edges(n),o=[],c=0,f=a.offset,v=s.offset;for(var D of t){var{length:h}=D.text,C=c;if(c+=h,f<=C&&c<=v){Object.assign(D,u),o.push(D);continue}if(f!==v&&(f===c||v===C)||f>c||v<C||v===C&&C!==0){o.push(D);continue}var g=D,i=void 0,E=void 0;if(v<c){var p=v-C;E=He(He({},g),{},{text:g.text.slice(p)}),g=He(He({},g),{},{text:g.text.slice(0,p)})}if(f>C){var F=f-C;i=He(He({},g),{},{text:g.text.slice(0,F)}),g=He(He({},g),{},{text:g.text.slice(F)})}Object.assign(g,u),i&&o.push(i),o.push(g),E&&o.push(E)}t=o}return t}},Mt=r=>r.selection?r.selection:r.children.length>0?l.end(r,[]):[0],Cr=(r,e)=>{var[t]=l.node(r,e);return n=>n===t},It=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=!t,u=t?Va(e):e,a=G.None,s=G.None,o=0,c=null,f=null;for(var v of u){var D=v.codePointAt(0);if(!D)break;var h=ts(v,D);if([a,s]=n?[s,h]:[h,a],fr(a,G.ZWJ)&&fr(s,G.ExtPict)&&(n?c=pn(e.substring(0,o)):c=pn(e.substring(0,e.length-o)),!c)||fr(a,G.RI)&&fr(s,G.RI)&&(f!==null?f=!f:n?f=!0:f=is(e.substring(0,e.length-o)),!f)||a!==G.None&&s!==G.None&&us(a,s))break;o+=v.length}return o||1},ka=/\s/,Wa=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,za=/['\u2018\u2019]/,Ha=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=0,u=!1;e.length>0;){var a=It(e,t),[s,o]=Lt(e,a,t);if(qa(s,o,t))u=!0,n+=a;else if(!u)n+=a;else break;e=o}return n},Lt=(r,e,t)=>{if(t){var n=r.length-e;return[r.slice(n,r.length),r.slice(0,n)]}return[r.slice(0,e),r.slice(e)]},qa=function r(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(ka.test(e))return!1;if(za.test(e)){var u=It(t,n),[a,s]=Lt(t,u,n);if(r(a,s,n))return!0}return!Wa.test(e)},Va=function*(e){for(var t=e.length-1,n=0;n<e.length;n++){var u=e.charAt(t-n);if(Ua(u.charCodeAt(0))){var a=e.charAt(t-n-1);if(Ka(a.charCodeAt(0))){yield a+u,n++;continue}}yield u}},Ka=r=>r>=55296&&r<=56319,Ua=r=>r>=56320&&r<=57343,G;(function(r){r[r.None=0]="None",r[r.Extend=1]="Extend",r[r.ZWJ=2]="ZWJ",r[r.RI=4]="RI",r[r.Prepend=8]="Prepend",r[r.SpacingMark=16]="SpacingMark",r[r.L=32]="L",r[r.V=64]="V",r[r.T=128]="T",r[r.LV=256]="LV",r[r.LVT=512]="LVT",r[r.ExtPict=1024]="ExtPict",r[r.Any=2048]="Any"})(G||(G={}));var Ga=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,Ya=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,Xa=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,Ja=/^[\u1100-\u115F\uA960-\uA97C]$/,Za=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,Qa=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,_a=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,es=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,rs=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,ts=(r,e)=>{var t=G.Any;return r.search(Ga)!==-1&&(t|=G.Extend),e===8205&&(t|=G.ZWJ),e>=127462&&e<=127487&&(t|=G.RI),r.search(Ya)!==-1&&(t|=G.Prepend),r.search(Xa)!==-1&&(t|=G.SpacingMark),r.search(Ja)!==-1&&(t|=G.L),r.search(Za)!==-1&&(t|=G.V),r.search(Qa)!==-1&&(t|=G.T),r.search(_a)!==-1&&(t|=G.LV),r.search(es)!==-1&&(t|=G.LVT),r.search(rs)!==-1&&(t|=G.ExtPict),t};function fr(r,e){return(r&e)!==0}var ns=[[G.L,G.L|G.V|G.LV|G.LVT],[G.LV|G.V,G.V|G.T],[G.LVT|G.T,G.T],[G.Any,G.Extend|G.ZWJ],[G.Any,G.SpacingMark],[G.Prepend,G.Any],[G.ZWJ,G.ExtPict],[G.RI,G.RI]];function us(r,e){return ns.findIndex(t=>fr(r,t[0])&&fr(e,t[1]))===-1}var as=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,pn=r=>r.search(as)!==-1,ss=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,is=r=>{var e=r.match(ss);if(e===null)return!1;var t=e[0].length/2;return t%2===1},os={delete(r,e){r.delete(e)},insertFragment(r,e,t){r.insertFragment(e,t)},insertText(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};l.withoutNormalizing(r,()=>{var{voids:n=!1}=t,{at:u=Mt(r)}=t;if(d.isPath(u)&&(u=l.range(r,u)),B.isRange(u))if(B.isCollapsed(u))u=u.anchor;else{var a=B.end(u);if(!n&&l.void(r,{at:a}))return;var s=B.start(u),o=l.pointRef(r,s),c=l.pointRef(r,a);w.delete(r,{at:u,voids:n});var f=o.unref(),v=c.unref();u=f||v,w.setSelection(r,{anchor:u,focus:u})}if(!(!n&&l.void(r,{at:u})||l.elementReadOnly(r,{at:u}))){var{path:D,offset:h}=u;e.length>0&&r.apply({type:"insert_text",path:D,offset:h,text:e})}})}};function Bn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function jr(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Bn(Object(t),!0).forEach(function(n){Ae(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Bn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var w=jr(jr(jr(jr({},ya),xa),Pa),os),ls=(r,e)=>{for(var t of l.pathRefs(r))Fa.transform(t,e);for(var n of l.pointRefs(r))wa.transform(n,e);for(var u of l.rangeRefs(r))ba.transform(u,e);var a=Ur.get(r)||[],s=Gr.get(r)||new Set,o,c,f=g=>{if(g){var i=g.join(",");c.has(i)||(c.add(i),o.push(g))}};if(d.operationCanTransformPath(e)){o=[],c=new Set;for(var v of a){var D=d.transform(v,e);f(D)}}else o=a,c=s;var h=r.getDirtyPaths(e);for(var C of h)f(C);Ur.set(r,o),Gr.set(r,c),w.transform(r,e),r.operations.push(e),l.normalize(r,{operation:e}),e.type==="set_selection"&&(r.marks=null),Ar.get(r)||(Ar.set(r,!0),Promise.resolve().then(()=>{Ar.set(r,!1),r.onChange({operation:e}),r.operations=[]}))},fs=(r,e)=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":{var{path:t}=e;return d.levels(t)}case"insert_node":{var{node:n,path:u}=e,a=d.levels(u),s=z.isText(n)?[]:Array.from(O.nodes(n),I=>{var[,U]=I;return u.concat(U)});return[...a,...s]}case"merge_node":{var{path:o}=e,c=d.ancestors(o),f=d.previous(o);return[...c,f]}case"move_node":{var{path:v,newPath:D}=e;if(d.equals(v,D))return[];var h=[],C=[];for(var g of d.ancestors(v)){var i=d.transform(g,e);h.push(i)}for(var E of d.ancestors(D)){var p=d.transform(E,e);C.push(p)}var F=C[C.length-1],b=D[D.length-1],y=F.concat(b);return[...h,...C,y]}case"remove_node":{var{path:N}=e,M=d.ancestors(N);return[...M]}case"split_node":{var{path:S}=e,H=d.levels(S),K=d.next(S);return[...H,K]}default:return[]}},cs=r=>{var{selection:e}=r;return e?O.fragment(r,e):[]},vs=(r,e)=>{var[t,n]=e;if(!z.isText(t)){if(W.isElement(t)&&t.children.length===0){var u={text:""};w.insertNodes(r,u,{at:n.concat(0),voids:!0});return}for(var a=l.isEditor(t)?!1:W.isElement(t)&&(r.isInline(t)||t.children.length===0||z.isText(t.children[0])||r.isInline(t.children[0])),s=0,o=0;o<t.children.length;o++,s++){var c=O.get(r,n);if(!z.isText(c)){var f=c.children[s],v=c.children[s-1],D=o===t.children.length-1,h=z.isText(f)||W.isElement(f)&&r.isInline(f);if(h!==a)w.removeNodes(r,{at:n.concat(s),voids:!0}),s--;else if(W.isElement(f)){if(r.isInline(f)){if(v==null||!z.isText(v)){var C={text:""};w.insertNodes(r,C,{at:n.concat(s),voids:!0}),s++}else if(D){var g={text:""};w.insertNodes(r,g,{at:n.concat(s+1),voids:!0}),s++}}}else v!=null&&z.isText(v)&&(z.equals(f,v,{loose:!0})?(w.mergeNodes(r,{at:n.concat(s),voids:!0}),s--):v.text===""?(w.removeNodes(r,{at:n.concat(s-1),voids:!0}),s--):f.text===""&&(w.removeNodes(r,{at:n.concat(s),voids:!0}),s--))}}}},ds=(r,e)=>{var{iteration:t,initialDirtyPathsLength:n}=e,u=n*42;if(t>u)throw new Error("Could not completely normalize the editor after ".concat(u," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},Ds=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:n=!1,mode:u="lowest",at:a=e.selection,match:s}=t;if(a){var o=l.path(e,a),c=u==="lowest";for(var[f,v]of l.levels(e,{at:o,voids:n,match:s,reverse:c}))if(!z.isText(f)){if(B.isRange(a)){if(d.isAncestor(v,a.anchor.path)&&d.isAncestor(v,a.focus.path))return[f,v]}else if(!d.equals(o,v))return[f,v]}}};function En(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function An(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?En(Object(t),!0).forEach(function(n){Ae(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):En(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var hs=(r,e,t)=>{var{selection:n}=r;if(n){var u=(D,h)=>{if(!z.isText(D))return!1;var[C,g]=l.parent(r,h);return!r.isVoid(C)||r.markableVoid(C)},a=B.isExpanded(n),s=!1;if(!a){var[o,c]=l.node(r,n);if(o&&u(o,c)){var[f]=l.parent(r,c);s=f&&r.markableVoid(f)}}if(a||s)w.setNodes(r,{[e]:t},{match:u,split:!0,voids:!0});else{var v=An(An({},l.marks(r)||{}),{},{[e]:t});r.marks=v,Ar.get(r)||r.onChange()}}};function Fn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function wn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Fn(Object(t),!0).forEach(function(n){Ae(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Fn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var gs=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=l.point(e,t,{edge:"end"}),a=l.end(e,[]),s={anchor:u,focus:a},{distance:o=1}=n,c=0,f;for(var v of l.positions(e,wn(wn({},n),{},{at:s}))){if(c>o)break;c!==0&&(f=v),c++}return f};function bn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function On(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bn(Object(t),!0).forEach(function(n){Ae(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):bn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Cs=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=l.start(e,[]),a=l.point(e,t,{edge:"start"}),s={anchor:u,focus:a},{distance:o=1}=n,c=0,f;for(var v of l.positions(e,On(On({},n),{},{at:s,reverse:!0}))){if(c>o)break;c!==0&&(f=v),c++}return f},ms=(r,e)=>{var{selection:t}=r;t&&B.isCollapsed(t)&&w.delete(r,{unit:e,reverse:!0})},ps=(r,e)=>{var{selection:t}=r;t&&B.isCollapsed(t)&&w.delete(r,{unit:e})},Bs=function(e){var{direction:t="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=e;n&&B.isExpanded(n)&&w.delete(e,{reverse:t==="backward"})},Es=(r,e)=>[l.start(r,e),l.end(r,e)];function yn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function xn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yn(Object(t),!0).forEach(function(n){Ae(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):yn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var As=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return l.above(e,xn(xn({},t),{},{match:n=>W.isElement(n)&&l.isElementReadOnly(e,n)}))},Fs=(r,e)=>l.point(r,e,{edge:"end"}),ws=(r,e)=>{var t=l.path(r,e,{edge:"start"});return l.node(r,t)},bs=(r,e)=>{var t=l.range(r,e);return O.fragment(r,t)};function Pn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function Sn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Pn(Object(t),!0).forEach(function(n){Ae(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Pn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Os=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return l.above(e,Sn(Sn({},t),{},{match:n=>W.isElement(n)&&l.isVoid(e,n)}))},ys=(r,e)=>e.children.some(t=>W.isElement(t)&&l.isBlock(r,t)),xs=(r,e)=>e.children.some(t=>z.isText(t)||l.isInline(r,t)),Ps=(r,e)=>O.has(r,e),Ss=(r,e)=>e.children.every(t=>z.isText(t)),Ts=r=>{w.splitNodes(r,{always:!0})},Rs=(r,e,t)=>{w.insertNodes(r,e,t)},js=r=>{w.splitNodes(r,{always:!0})};function Tn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function Ns(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Tn(Object(t),!0).forEach(function(n){Ae(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Tn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Ms=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:u,marks:a}=e;if(u){if(a){var s=Ns({text:t},a);w.insertNodes(e,s,{at:n.at,voids:n.voids})}else w.insertText(e,t,n);e.marks=null}},Is=(r,e)=>!r.isInline(e),Ls=(r,e,t)=>l.isStart(r,e,t)||l.isEnd(r,e,t),$s=(r,e)=>{var{children:t}=e,[n]=t;return t.length===0||t.length===1&&z.isText(n)&&n.text===""&&!r.isVoid(e)},ks=(r,e,t)=>{var n=l.end(r,t);return _.equals(e,n)},Ws=r=>{var e=Bu.get(r);return e===void 0?!0:e},zs=(r,e,t)=>{if(e.offset!==0)return!1;var n=l.start(r,t);return _.equals(e,n)},Hs=(r,e)=>{var t=l.path(r,e,{edge:"end"});return l.node(r,t)},qs=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=l.path(e,t,n),a=O.leaf(e,u);return[a,u]};function*Vs(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:t=r.selection,reverse:n=!1,voids:u=!1}=e,{match:a}=e;if(a==null&&(a=()=>!0),!!t){var s=[],o=l.path(r,t);for(var[c,f]of O.levels(r,o))if(a(c,f)&&(s.push([c,f]),!u&&W.isElement(c)&&l.isVoid(r,c)))break;n&&s.reverse(),yield*s}}var Ks=["text"],Us=["text"],Gs=function(e){var{marks:t,selection:n}=e;if(!n)return null;if(t)return t;if(B.isExpanded(n)){var[u]=l.nodes(e,{match:z.isText});if(u){var[a]=u,s=Ve(a,Ks);return s}else return{}}var{anchor:o}=n,{path:c}=o,[f]=l.leaf(e,c);if(o.offset===0){var v=l.previous(e,{at:c,match:z.isText}),D=l.above(e,{match:p=>W.isElement(p)&&l.isVoid(e,p)&&e.markableVoid(p)});if(!D){var h=l.above(e,{match:p=>W.isElement(p)&&l.isBlock(e,p)});if(v&&h){var[C,g]=v,[,i]=h;d.isAncestor(i,g)&&(f=C)}}}var E=Ve(f,Us);return E},Ys=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:u=!1}=t,{match:a,at:s=e.selection}=t;if(s){var o=l.after(e,s,{voids:u});if(o){var[,c]=l.last(e,[]),f=[o.path,c];if(d.isPath(s)&&s.length===0)throw new Error("Cannot get the next node from the root node!");if(a==null)if(d.isPath(s)){var[v]=l.parent(e,s);a=h=>v.children.includes(h)}else a=()=>!0;var[D]=l.nodes(e,{at:f,match:a,mode:n,voids:u});return D}}},Xs=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=l.path(e,t,n),a=O.get(e,u);return[a,u]};function*Js(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:t=r.selection,mode:n="all",universal:u=!1,reverse:a=!1,voids:s=!1,ignoreNonSelectable:o=!1}=e,{match:c}=e;if(c||(c=()=>!0),!!t){var f,v;if(Ia.isSpan(t))f=t[0],v=t[1];else{var D=l.path(r,t,{edge:"start"}),h=l.path(r,t,{edge:"end"});f=a?h:D,v=a?D:h}var C=O.nodes(r,{reverse:a,from:f,to:v,pass:y=>{var[N]=y;return W.isElement(N)?!!(!s&&(l.isVoid(r,N)||l.isElementReadOnly(r,N))||o&&!l.isSelectable(r,N)):!1}}),g=[],i;for(var[E,p]of C)if(!(o&&W.isElement(E)&&!l.isSelectable(r,E))){var F=i&&d.compare(p,i[1])===0;if(!(n==="highest"&&F)){if(!c(E,p)){if(u&&!F&&z.isText(E))return;continue}if(n==="lowest"&&F){i=[E,p];continue}var b=n==="lowest"?i:[E,p];b&&(u?g.push(b):yield b),i=[E,p]}}n==="lowest"&&i&&(u?g.push(i):yield i),u&&(yield*g)}}var Zs=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:n=!1,operation:u}=t,a=v=>Ur.get(v)||[],s=v=>Gr.get(v)||new Set,o=v=>{var D=a(v).pop(),h=D.join(",");return s(v).delete(h),D};if(l.isNormalizing(e)){if(n){var c=Array.from(O.nodes(e),v=>{var[,D]=v;return D}),f=new Set(c.map(v=>v.join(",")));Ur.set(e,c),Gr.set(e,f)}a(e).length!==0&&l.withoutNormalizing(e,()=>{for(var v of a(e))if(O.has(e,v)){var D=l.node(e,v),[h,C]=D;W.isElement(h)&&h.children.length===0&&e.normalizeNode(D,{operation:u})}for(var g=a(e),i=g.length,E=0;g.length!==0;){if(!e.shouldNormalize({dirtyPaths:g,iteration:E,initialDirtyPathsLength:i,operation:u}))return;var p=o(e);if(O.has(e,p)){var F=l.node(e,p);e.normalizeNode(F,{operation:u})}E++,g=a(e)}})}},Qs=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=l.path(e,t,n),a=d.parent(u),s=l.node(e,a);return s},_s=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:u="forward"}=n,a={current:t,affinity:u,unref(){var{current:o}=a,c=l.pathRefs(e);return c.delete(a),a.current=null,o}},s=l.pathRefs(e);return s.add(a),a},ei=r=>{var e=an.get(r);return e||(e=new Set,an.set(r,e)),e},ri=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:u,edge:a}=n;if(d.isPath(t)){if(a==="start"){var[,s]=O.first(e,t);t=s}else if(a==="end"){var[,o]=O.last(e,t);t=o}}return B.isRange(t)&&(a==="start"?t=B.start(t):a==="end"?t=B.end(t):t=d.common(t.anchor.path,t.focus.path)),_.isPoint(t)&&(t=t.path),u!=null&&(t=t.slice(0,u)),t},ti=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:u="forward"}=n,a={current:t,affinity:u,unref(){var{current:o}=a,c=l.pointRefs(e);return c.delete(a),a.current=null,o}},s=l.pointRefs(e);return s.add(a),a},ni=r=>{var e=sn.get(r);return e||(e=new Set,sn.set(r,e)),e},ui=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:u="start"}=n;if(d.isPath(t)){var a;if(u==="end"){var[,s]=O.last(e,t);a=s}else{var[,o]=O.first(e,t);a=o}var c=O.get(e,a);if(!z.isText(c))throw new Error("Cannot get the ".concat(u," point in the node at path [").concat(t,"] because it has no ").concat(u," text node."));return{path:a,offset:u==="end"?c.text.length:0}}if(B.isRange(t)){var[f,v]=B.edges(t);return u==="start"?f:v}return t};function*ai(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:t=r.selection,unit:n="offset",reverse:u=!1,voids:a=!1,ignoreNonSelectable:s=!1}=e;if(!t)return;var o=l.range(r,t),[c,f]=B.edges(o),v=u?f:c,D=!1,h="",C=0,g=0,i=0;for(var[E,p]of l.nodes(r,{at:t,reverse:u,voids:a,ignoreNonSelectable:s})){if(W.isElement(E)){if(!a&&(r.isVoid(E)||r.isElementReadOnly(E))){yield l.start(r,p);continue}if(r.isInline(E))continue;if(l.hasInlines(r,E)){var F=d.isAncestor(p,f.path)?f:l.end(r,p),b=d.isAncestor(p,c.path)?c:l.start(r,p);h=l.string(r,{anchor:b,focus:F},{voids:a}),D=!0}}if(z.isText(E)){var y=d.equals(p,v.path);for(y?(g=u?v.offset:E.text.length-v.offset,i=v.offset):(g=E.text.length,i=u?g:0),(y||D||n==="offset")&&(yield{path:p,offset:i},D=!1);;){if(C===0){if(h==="")break;C=N(h,n,u),h=Lt(h,C,u)[1]}if(i=u?i-C:i+C,g=g-C,g<0){C=-g;break}C=0,yield{path:p,offset:i}}}}function N(M,S,H){return S==="character"?It(M,H):S==="word"?Ha(M,H):S==="line"||S==="block"?M.length:1}}var si=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:u=!1}=t,{match:a,at:s=e.selection}=t;if(s){var o=l.before(e,s,{voids:u});if(o){var[,c]=l.first(e,[]),f=[o.path,c];if(d.isPath(s)&&s.length===0)throw new Error("Cannot get the previous node from the root node!");if(a==null)if(d.isPath(s)){var[v]=l.parent(e,s);a=h=>v.children.includes(h)}else a=()=>!0;var[D]=l.nodes(e,{reverse:!0,at:f,match:a,mode:n,voids:u});return D}}},ii=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:u="forward"}=n,a={current:t,affinity:u,unref(){var{current:o}=a,c=l.rangeRefs(e);return c.delete(a),a.current=null,o}},s=l.rangeRefs(e);return s.add(a),a},oi=r=>{var e=on.get(r);return e||(e=new Set,on.set(r,e)),e},li=(r,e,t)=>{if(B.isRange(e)&&!t)return e;var n=l.start(r,e),u=l.end(r,t||e);return{anchor:n,focus:u}};function Rn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function fi(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Rn(Object(t),!0).forEach(function(n){Ae(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Rn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var ci=(r,e)=>{var{selection:t}=r;if(t){var n=(v,D)=>{if(!z.isText(v))return!1;var[h,C]=l.parent(r,D);return!r.isVoid(h)||r.markableVoid(h)},u=B.isExpanded(t),a=!1;if(!u){var[s,o]=l.node(r,t);if(s&&n(s,o)){var[c]=l.parent(r,o);a=c&&r.markableVoid(c)}}if(u||a)w.unsetNodes(r,e,{match:n,split:!0,voids:!0});else{var f=fi({},l.marks(r)||{});delete f[e],r.marks=f,Ar.get(r)||r.onChange()}}},vi=(r,e)=>{Bu.set(r,e)},di=(r,e)=>l.point(r,e,{edge:"start"}),Di=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:u=!1}=n,a=l.range(e,t),[s,o]=B.edges(a),c="";for(var[f,v]of l.nodes(e,{at:a,match:z.isText,voids:u})){var D=f.text;d.equals(v,o.path)&&(D=D.slice(0,o.offset)),d.equals(v,s.path)&&(D=D.slice(s.offset)),c+=D}return c},hi=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:u=!1}=n,[a,s]=B.edges(t);if(a.offset!==0||s.offset!==0||B.isCollapsed(t)||d.hasPrevious(s.path))return t;var o=l.above(e,{at:s,match:g=>W.isElement(g)&&l.isBlock(e,g),voids:u}),c=o?o[1]:[],f=l.start(e,a),v={anchor:f,focus:s},D=!0;for(var[h,C]of l.nodes(e,{at:v,match:z.isText,reverse:!0,voids:u})){if(D){D=!1;continue}if(h.text!==""||d.isBefore(C,c)){s={path:C,offset:h.text.length};break}}return{anchor:a,focus:s}},gi=(r,e)=>{var t=l.isNormalizing(r);l.setNormalizing(r,!1);try{e()}finally{l.setNormalizing(r,t)}l.normalize(r)},Ci=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l.withoutNormalizing(e,()=>{var n,u,{reverse:a=!1,unit:s="character",distance:o=1,voids:c=!1}=t,{at:f=e.selection,hanging:v=!1}=t;if(f){var D=!1;if(B.isRange(f)&&B.isCollapsed(f)&&(D=!0,f=f.anchor),_.isPoint(f)){var h=l.void(e,{at:f,mode:"highest"});if(!c&&h){var[,C]=h;f=C}else{var g={unit:s,distance:o},i=a?l.before(e,f,g)||l.start(e,[]):l.after(e,f,g)||l.end(e,[]);f={anchor:f,focus:i},v=!0}}if(d.isPath(f)){w.removeNodes(e,{at:f,voids:c});return}if(!B.isCollapsed(f)){if(!v){var[,E]=B.edges(f),p=l.end(e,[]);_.equals(E,p)||(f=l.unhangRange(e,f,{voids:c}))}var[F,b]=B.edges(f),y=l.above(e,{match:Q=>W.isElement(Q)&&l.isBlock(e,Q),at:F,voids:c}),N=l.above(e,{match:Q=>W.isElement(Q)&&l.isBlock(e,Q),at:b,voids:c}),M=y&&N&&!d.equals(y[1],N[1]),S=d.equals(F.path,b.path),H=c?null:(n=l.void(e,{at:F,mode:"highest"}))!==null&&n!==void 0?n:l.elementReadOnly(e,{at:F,mode:"highest"}),K=c?null:(u=l.void(e,{at:b,mode:"highest"}))!==null&&u!==void 0?u:l.elementReadOnly(e,{at:b,mode:"highest"});if(H){var I=l.before(e,F);I&&y&&d.isAncestor(y[1],I.path)&&(F=I)}if(K){var U=l.after(e,b);U&&N&&d.isAncestor(N[1],U.path)&&(b=U)}var R=[],$;for(var P of l.nodes(e,{at:f,voids:c})){var[k,J]=P;$&&d.compare(J,$)===0||(!c&&W.isElement(k)&&(l.isVoid(e,k)||l.isElementReadOnly(e,k))||!d.isCommon(J,F.path)&&!d.isCommon(J,b.path))&&(R.push(P),$=J)}var V=Array.from(R,Q=>{var[,se]=Q;return l.pathRef(e,se)}),oe=l.pointRef(e,F),X=l.pointRef(e,b),re="";if(!S&&!H){var ve=oe.current,[ie]=l.leaf(e,ve),{path:Fe}=ve,{offset:Z}=F,m=ie.text.slice(Z);m.length>0&&(e.apply({type:"remove_text",path:Fe,offset:Z,text:m}),re=m)}if(V.reverse().map(Q=>Q.unref()).filter(Q=>Q!==null).forEach(Q=>w.removeNodes(e,{at:Q,voids:c})),!K){var T=X.current,[x]=l.leaf(e,T),{path:L}=T,ee=S?F.offset:0,q=x.text.slice(ee,b.offset);q.length>0&&(e.apply({type:"remove_text",path:L,offset:ee,text:q}),re=q)}!S&&M&&X.current&&oe.current&&w.mergeNodes(e,{at:X.current,hanging:!0,voids:c}),D&&a&&s==="character"&&re.length>1&&re.match(/[\u0E00-\u0E7F]+/)&&w.insertText(e,re.slice(0,re.length-o));var le=oe.unref(),ne=X.unref(),te=a?le||ne:ne||le;t.at==null&&te&&w.select(e,te)}}})},mi=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};l.withoutNormalizing(e,()=>{var{hanging:u=!1,voids:a=!1}=n,{at:s=Mt(e)}=n;if(t.length){if(B.isRange(s))if(u||(s=l.unhangRange(e,s,{voids:a})),B.isCollapsed(s))s=s.anchor;else{var[,o]=B.edges(s);if(!a&&l.void(e,{at:o}))return;var c=l.pointRef(e,o);w.delete(e,{at:s}),s=c.unref()}else d.isPath(s)&&(s=l.start(e,s));if(!(!a&&l.void(e,{at:s}))){var f=l.above(e,{at:s,match:Z=>W.isElement(Z)&&l.isInline(e,Z),mode:"highest",voids:a});if(f){var[,v]=f;if(l.isEnd(e,s,v)){var D=l.after(e,v);s=D}else if(l.isStart(e,s,v)){var h=l.before(e,v);s=h}}var C=l.above(e,{match:Z=>W.isElement(Z)&&l.isBlock(e,Z),at:s,voids:a}),[,g]=C,i=l.isStart(e,s,g),E=l.isEnd(e,s,g),p=i&&E,F=!i||i&&E,b=!E,[,y]=O.first({children:t},[]),[,N]=O.last({children:t},[]),M=[],S=Z=>{var[m,T]=Z,x=T.length===0;return x?!1:p?!0:!(F&&d.isAncestor(T,y)&&W.isElement(m)&&!e.isVoid(m)&&!e.isInline(m)||b&&d.isAncestor(T,N)&&W.isElement(m)&&!e.isVoid(m)&&!e.isInline(m))};for(var H of O.nodes({children:t},{pass:S}))S(H)&&M.push(H);var K=[],I=[],U=[],R=!0,$=!1;for(var[P]of M)W.isElement(P)&&!e.isInline(P)?(R=!1,$=!0,I.push(P)):R?K.push(P):U.push(P);var[k]=l.nodes(e,{at:s,match:Z=>z.isText(Z)||l.isInline(e,Z),mode:"highest",voids:a}),[,J]=k,V=l.isStart(e,s,J),oe=l.isEnd(e,s,J),X=l.pathRef(e,E&&!U.length?d.next(g):g),re=l.pathRef(e,oe?d.next(J):J);w.splitNodes(e,{at:s,match:Z=>$?W.isElement(Z)&&l.isBlock(e,Z):z.isText(Z)||l.isInline(e,Z),mode:$?"lowest":"highest",always:$&&(!i||K.length>0)&&(!E||U.length>0),voids:a});var ve=l.pathRef(e,!V||V&&oe?d.next(J):J);if(w.insertNodes(e,K,{at:ve.current,match:Z=>z.isText(Z)||l.isInline(e,Z),mode:"highest",voids:a}),p&&!K.length&&I.length&&!U.length&&w.delete(e,{at:g,voids:a}),w.insertNodes(e,I,{at:X.current,match:Z=>W.isElement(Z)&&l.isBlock(e,Z),mode:"lowest",voids:a}),w.insertNodes(e,U,{at:re.current,match:Z=>z.isText(Z)||l.isInline(e,Z),mode:"highest",voids:a}),!n.at){var ie;if(U.length>0&&re.current?ie=d.previous(re.current):I.length>0&&X.current?ie=d.previous(X.current):ve.current&&(ie=d.previous(ve.current)),ie){var Fe=l.end(e,ie);w.select(e,Fe)}}ve.unref(),X.unref(),re.unref()}}})},pi=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:n="anchor"}=t,{selection:u}=e;if(u){if(n==="anchor")w.select(e,u.anchor);else if(n==="focus")w.select(e,u.focus);else if(n==="start"){var[a]=B.edges(u);w.select(e,a)}else if(n==="end"){var[,s]=B.edges(u);w.select(e,s)}}else return},Bi=r=>{var{selection:e}=r;e&&r.apply({type:"set_selection",properties:e,newProperties:null})},Ei=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=e,{distance:u=1,unit:a="character",reverse:s=!1}=t,{edge:o=null}=t;if(n){o==="start"&&(o=B.isBackward(n)?"focus":"anchor"),o==="end"&&(o=B.isBackward(n)?"anchor":"focus");var{anchor:c,focus:f}=n,v={distance:u,unit:a,ignoreNonSelectable:!0},D={};if(o==null||o==="anchor"){var h=s?l.before(e,c,v):l.after(e,c,v);h&&(D.anchor=h)}if(o==null||o==="focus"){var C=s?l.before(e,f,v):l.after(e,f,v);C&&(D.focus=C)}w.setSelection(e,D)}},Ai=(r,e)=>{var{selection:t}=r;if(e=l.range(r,e),t){w.setSelection(r,e);return}if(!B.isRange(e))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(Ce.stringify(e)));r.apply({type:"set_selection",properties:t,newProperties:e})};function jn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function Nn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jn(Object(t),!0).forEach(function(n){Ae(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):jn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Fi=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:u}=e,{edge:a="both"}=n;if(u){a==="start"&&(a=B.isBackward(u)?"focus":"anchor"),a==="end"&&(a=B.isBackward(u)?"anchor":"focus");var{anchor:s,focus:o}=u,c=a==="anchor"?s:o;w.setSelection(e,{[a==="anchor"?"anchor":"focus"]:Nn(Nn({},c),t)})}},wi=(r,e)=>{var{selection:t}=r,n={},u={};if(t){for(var a in e)(a==="anchor"&&e.anchor!=null&&!_.equals(e.anchor,t.anchor)||a==="focus"&&e.focus!=null&&!_.equals(e.focus,t.focus)||a!=="anchor"&&a!=="focus"&&e[a]!==t[a])&&(n[a]=t[a],u[a]=e[a]);Object.keys(n).length>0&&r.apply({type:"set_selection",properties:n,newProperties:u})}},bi=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};l.withoutNormalizing(e,()=>{var{hanging:u=!1,voids:a=!1,mode:s="lowest"}=n,{at:o,match:c,select:f}=n;if(O.isNode(t)&&(t=[t]),t.length!==0){var[v]=t;if(o||(o=Mt(e),f=!0),f==null&&(f=!1),B.isRange(o))if(u||(o=l.unhangRange(e,o,{voids:a})),B.isCollapsed(o))o=o.anchor;else{var[,D]=B.edges(o),h=l.pointRef(e,D);w.delete(e,{at:o}),o=h.unref()}if(_.isPoint(o)){c==null&&(z.isText(v)?c=S=>z.isText(S):e.isInline(v)?c=S=>z.isText(S)||l.isInline(e,S):c=S=>W.isElement(S)&&l.isBlock(e,S));var[C]=l.nodes(e,{at:o.path,match:c,mode:s,voids:a});if(C){var[,g]=C,i=l.pathRef(e,g),E=l.isEnd(e,o,g);w.splitNodes(e,{at:o,match:c,mode:s,voids:a});var p=i.unref();o=E?d.next(p):p}else return}var F=d.parent(o),b=o[o.length-1];if(!(!a&&l.void(e,{at:F}))){for(var y of t){var N=F.concat(b);b++,e.apply({type:"insert_node",path:N,node:y}),o=d.next(o)}if(o=d.previous(o),f){var M=l.end(e,o);M&&w.select(e,M)}}}})},Oi=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l.withoutNormalizing(e,()=>{var{at:n=e.selection,mode:u="lowest",voids:a=!1}=t,{match:s}=t;if(s==null&&(s=d.isPath(n)?Cr(e,n):y=>W.isElement(y)&&l.isBlock(e,y)),!!n){var o=l.nodes(e,{at:n,match:s,mode:u,voids:a}),c=Array.from(o,y=>{var[,N]=y;return l.pathRef(e,N)});for(var f of c){var v=f.unref();if(v.length<2)throw new Error("Cannot lift node at a path [".concat(v,"] because it has a depth of less than `2`."));var D=l.node(e,d.parent(v)),[h,C]=D,g=v[v.length-1],{length:i}=h.children;if(i===1){var E=d.next(C);w.moveNodes(e,{at:v,to:E,voids:a}),w.removeNodes(e,{at:C,voids:a})}else if(g===0)w.moveNodes(e,{at:v,to:C,voids:a});else if(g===i-1){var p=d.next(C);w.moveNodes(e,{at:v,to:p,voids:a})}else{var F=d.next(v),b=d.next(C);w.splitNodes(e,{at:F,voids:a}),w.moveNodes(e,{at:v,to:b,voids:a})}}}})},yi=["text"],xi=["children"],Au=(r,e)=>{if(W.isElement(e)){var t=e;return l.isVoid(r,e)?!0:t.children.length===1?Au(r,t.children[0]):!1}else return!l.isEditor(e)},Pi=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l.withoutNormalizing(e,()=>{var{match:n,at:u=e.selection}=t,{hanging:a=!1,voids:s=!1,mode:o="lowest"}=t;if(u){if(n==null)if(d.isPath(u)){var[c]=l.parent(e,u);n=I=>c.children.includes(I)}else n=I=>W.isElement(I)&&l.isBlock(e,I);if(!a&&B.isRange(u)&&(u=l.unhangRange(e,u,{voids:s})),B.isRange(u))if(B.isCollapsed(u))u=u.anchor;else{var[,f]=B.edges(u),v=l.pointRef(e,f);w.delete(e,{at:u}),u=v.unref(),t.at==null&&w.select(e,u)}var[D]=l.nodes(e,{at:u,match:n,voids:s,mode:o}),h=l.previous(e,{at:u,match:n,voids:s,mode:o});if(!(!D||!h)){var[C,g]=D,[i,E]=h;if(!(g.length===0||E.length===0)){var p=d.next(E),F=d.common(g,E),b=d.isSibling(g,E),y=Array.from(l.levels(e,{at:g}),I=>{var[U]=I;return U}).slice(F.length).slice(0,-1),N=l.above(e,{at:g,mode:"highest",match:I=>y.includes(I)&&Au(e,I)}),M=N&&l.pathRef(e,N[1]),S,H;if(z.isText(C)&&z.isText(i)){var K=Ve(C,yi);H=i.text.length,S=K}else if(W.isElement(C)&&W.isElement(i)){var K=Ve(C,xi);H=i.children.length,S=K}else throw new Error("Cannot merge the node at path [".concat(g,"] with the previous sibling because it is not the same kind: ").concat(Ce.stringify(C)," ").concat(Ce.stringify(i)));b||w.moveNodes(e,{at:g,to:p,voids:s}),M&&w.removeNodes(e,{at:M.current,voids:s}),W.isElement(i)&&l.isEmpty(e,i)||z.isText(i)&&i.text===""&&E[E.length-1]!==0?w.removeNodes(e,{at:E,voids:s}):e.apply({type:"merge_node",path:p,position:H,properties:S}),M&&M.unref()}}}})},Si=(r,e)=>{l.withoutNormalizing(r,()=>{var{to:t,at:n=r.selection,mode:u="lowest",voids:a=!1}=e,{match:s}=e;if(n){s==null&&(s=d.isPath(n)?Cr(r,n):C=>W.isElement(C)&&l.isBlock(r,C));var o=l.pathRef(r,t),c=l.nodes(r,{at:n,match:s,mode:u,voids:a}),f=Array.from(c,C=>{var[,g]=C;return l.pathRef(r,g)});for(var v of f){var D=v.unref(),h=o.current;D.length!==0&&r.apply({type:"move_node",path:D,newPath:h}),o.current&&d.isSibling(h,D)&&d.isAfter(h,D)&&(o.current=d.next(o.current))}o.unref()}})},Ti=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:u=!1,mode:a="lowest"}=t,{at:s=e.selection,match:o}=t;if(s){o==null&&(o=d.isPath(s)?Cr(e,s):C=>W.isElement(C)&&l.isBlock(e,C)),!n&&B.isRange(s)&&(s=l.unhangRange(e,s,{voids:u}));var c=l.nodes(e,{at:s,match:o,mode:a,voids:u}),f=Array.from(c,C=>{var[,g]=C;return l.pathRef(e,g)});for(var v of f){var D=v.unref();if(D){var[h]=l.node(e,D);e.apply({type:"remove_node",path:D,node:h})}}}})},Ri=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};l.withoutNormalizing(e,()=>{var{match:u,at:a=e.selection,compare:s,merge:o}=n,{hanging:c=!1,mode:f="lowest",split:v=!1,voids:D=!1}=n;if(a){if(u==null&&(u=d.isPath(a)?Cr(e,a):H=>W.isElement(H)&&l.isBlock(e,H)),!c&&B.isRange(a)&&(a=l.unhangRange(e,a,{voids:D})),v&&B.isRange(a)){if(B.isCollapsed(a)&&l.leaf(e,a.anchor)[0].text.length>0)return;var h=l.rangeRef(e,a,{affinity:"inward"}),[C,g]=B.edges(a),i=f==="lowest"?"lowest":"highest",E=l.isEnd(e,g,g.path);w.splitNodes(e,{at:g,match:u,mode:i,voids:D,always:!E});var p=l.isStart(e,C,C.path);w.splitNodes(e,{at:C,match:u,mode:i,voids:D,always:!p}),a=h.unref(),n.at==null&&w.select(e,a)}s||(s=(H,K)=>H!==K);for(var[F,b]of l.nodes(e,{at:a,match:u,mode:f,voids:D})){var y={},N={};if(b.length!==0){var M=!1;for(var S in t)S==="children"||S==="text"||s(t[S],F[S])&&(M=!0,F.hasOwnProperty(S)&&(y[S]=F[S]),o?t[S]!=null&&(N[S]=o(F[S],t[S])):t[S]!=null&&(N[S]=t[S]));M&&e.apply({type:"set_node",path:b,properties:y,newProperties:N})}}}})},ji=(r,e)=>{if(B.isCollapsed(e))return e.anchor;var[,t]=B.edges(e),n=l.pointRef(r,t);return w.delete(r,{at:e}),n.unref()},Ni=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l.withoutNormalizing(e,()=>{var{mode:n="lowest",voids:u=!1}=t,{match:a,at:s=e.selection,height:o=0,always:c=!1}=t;if(a==null&&(a=X=>W.isElement(X)&&l.isBlock(e,X)),B.isRange(s)&&(s=ji(e,s)),d.isPath(s)){var f=s,v=l.point(e,f),[D]=l.parent(e,f);a=X=>X===D,o=v.path.length-f.length+1,s=v,c=!0}if(s){var h=l.pointRef(e,s,{affinity:"backward"}),C;try{var[g]=l.nodes(e,{at:s,match:a,mode:n,voids:u});if(!g)return;var i=l.void(e,{at:s,mode:"highest"}),E=0;if(!u&&i){var[p,F]=i;if(W.isElement(p)&&e.isInline(p)){var b=l.after(e,F);if(!b){var y={text:""},N=d.next(F);w.insertNodes(e,y,{at:N,voids:u}),b=l.point(e,N)}s=b,c=!0}var M=s.path.length-F.length;o=M+1,c=!0}C=l.pointRef(e,s);var S=s.path.length-o,[,H]=g,K=s.path.slice(0,S),I=o===0?s.offset:s.path[S]+E;for(var[U,R]of l.levels(e,{at:K,reverse:!0,voids:u})){var $=!1;if(R.length<H.length||R.length===0||!u&&W.isElement(U)&&l.isVoid(e,U))break;var P=h.current,k=l.isEnd(e,P,R);if(c||!h||!l.isEdge(e,P,R)){$=!0;var J=O.extractProps(U);e.apply({type:"split_node",path:R,position:I,properties:J})}I=R[R.length-1]+($||k?1:0)}if(t.at==null){var V=C.current||l.end(e,[]);w.select(e,V)}}finally{var oe;h.unref(),(oe=C)===null||oe===void 0||oe.unref()}}})},Mi=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(t)||(t=[t]);var u={};for(var a of t)u[a]=null;w.setNodes(e,u,n)},Ii=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l.withoutNormalizing(e,()=>{var{mode:n="lowest",split:u=!1,voids:a=!1}=t,{at:s=e.selection,match:o}=t;if(s){o==null&&(o=d.isPath(s)?Cr(e,s):C=>W.isElement(C)&&l.isBlock(e,C)),d.isPath(s)&&(s=l.range(e,s));var c=B.isRange(s)?l.rangeRef(e,s):null,f=l.nodes(e,{at:s,match:o,mode:n,voids:a}),v=Array.from(f,C=>{var[,g]=C;return l.pathRef(e,g)}).reverse(),D=function(g){var i=g.unref(),[E]=l.node(e,i),p=l.range(e,i);u&&c&&(p=B.intersection(c.current,p)),w.liftNodes(e,{at:p,match:F=>W.isAncestor(E)&&E.children.includes(F),voids:a})};for(var h of v)D(h);c&&c.unref()}})};function Mn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function In(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Mn(Object(t),!0).forEach(function(n){Ae(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Mn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Li=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};l.withoutNormalizing(e,()=>{var{mode:u="lowest",split:a=!1,voids:s=!1}=n,{match:o,at:c=e.selection}=n;if(c){if(o==null&&(d.isPath(c)?o=Cr(e,c):e.isInline(t)?o=p=>W.isElement(p)&&l.isInline(e,p)||z.isText(p):o=p=>W.isElement(p)&&l.isBlock(e,p)),a&&B.isRange(c)){var[f,v]=B.edges(c),D=l.rangeRef(e,c,{affinity:"inward"});w.splitNodes(e,{at:v,match:o,voids:s}),w.splitNodes(e,{at:f,match:o,voids:s}),c=D.unref(),n.at==null&&w.select(e,c)}var h=Array.from(l.nodes(e,{at:c,match:e.isInline(t)?p=>W.isElement(p)&&l.isBlock(e,p):p=>l.isEditor(p),mode:"lowest",voids:s}));for(var[,C]of h){var g=B.isRange(c)?B.intersection(c,l.range(e,C)):c;if(g){var i=Array.from(l.nodes(e,{at:g,match:o,mode:u,voids:s}));if(i.length>0){var E=function(){var[p]=i,F=i[i.length-1],[,b]=p,[,y]=F;if(b.length===0&&y.length===0)return"continue";var N=d.equals(b,y)?d.parent(b):d.common(b,y),M=l.range(e,b,y),S=l.node(e,N),[H]=S,K=N.length+1,I=d.next(y.slice(0,K)),U=In(In({},t),{},{children:[]});w.insertNodes(e,U,{at:I,voids:s}),w.moveNodes(e,{at:M,match:R=>W.isAncestor(H)&&H.children.includes(R),to:I.concat(0),voids:s})}();if(E==="continue")continue}}}}})},Jf=()=>{var r={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ls(r,...n)},addMark:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return hs(r,...n)},deleteBackward:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ms(r,...n)},deleteForward:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ps(r,...n)},deleteFragment:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Bs(r,...n)},getFragment:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return cs(r,...n)},insertBreak:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Ts(r,...n)},insertSoftBreak:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return js(r,...n)},insertFragment:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return mi(r,...n)},insertNode:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Rs(r,...n)},insertText:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Ms(r,...n)},normalizeNode:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return vs(r,...n)},removeMark:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ci(r,...n)},getDirtyPaths:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return fs(r,...n)},shouldNormalize:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ds(r,...n)},above:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Ds(r,...n)},after:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return gs(r,...n)},before:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Cs(r,...n)},collapse:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return pi(r,...n)},delete:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Ci(r,...n)},deselect:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Bi(r,...n)},edges:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Es(r,...n)},elementReadOnly:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return As(r,...n)},end:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Fs(r,...n)},first:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ws(r,...n)},fragment:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return bs(r,...n)},getMarks:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Gs(r,...n)},hasBlocks:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ys(r,...n)},hasInlines:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return xs(r,...n)},hasPath:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Ps(r,...n)},hasTexts:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Ss(r,...n)},insertNodes:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return bi(r,...n)},isBlock:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Is(r,...n)},isEdge:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Ls(r,...n)},isEmpty:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return $s(r,...n)},isEnd:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ks(r,...n)},isNormalizing:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Ws(r,...n)},isStart:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return zs(r,...n)},last:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Hs(r,...n)},leaf:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return qs(r,...n)},levels:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Vs(r,...n)},liftNodes:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Oi(r,...n)},mergeNodes:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Pi(r,...n)},move:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Ei(r,...n)},moveNodes:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Si(r,...n)},next:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Ys(r,...n)},node:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Xs(r,...n)},nodes:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Js(r,...n)},normalize:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Zs(r,...n)},parent:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Qs(r,...n)},path:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ri(r,...n)},pathRef:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return _s(r,...n)},pathRefs:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ei(r,...n)},point:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ui(r,...n)},pointRef:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ti(r,...n)},pointRefs:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ni(r,...n)},positions:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ai(r,...n)},previous:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return si(r,...n)},range:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return li(r,...n)},rangeRef:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ii(r,...n)},rangeRefs:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return oi(r,...n)},removeNodes:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Ti(r,...n)},select:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Ai(r,...n)},setNodes:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Ri(r,...n)},setNormalizing:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return vi(r,...n)},setPoint:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Fi(r,...n)},setSelection:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return wi(r,...n)},splitNodes:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Ni(r,...n)},start:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return di(r,...n)},string:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Di(r,...n)},unhangRange:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return hi(r,...n)},unsetNodes:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Mi(r,...n)},unwrapNodes:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Ii(r,...n)},void:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Os(r,...n)},withoutNormalizing:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return gi(r,...n)},wrapNodes:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Li(r,...n)}};return r},$i=zi,Fu="֑-߿יִ-﷽ﹰ-ﻼ",wu="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",ki=new RegExp("^[^"+wu+"]*["+Fu+"]"),Wi=new RegExp("^[^"+Fu+"]*["+wu+"]");function zi(r){return r=String(r||""),ki.test(r)?"rtl":Wi.test(r)?"ltr":"neutral"}const bu=Ot($i);function Hi(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")}var $t=Hi,qi=typeof Rr=="object"&&Rr&&Rr.Object===Object&&Rr,Vi=qi,Ki=Vi,Ui=typeof self=="object"&&self&&self.Object===Object&&self,Gi=Ki||Ui||Function("return this")(),Ou=Gi,Yi=Ou,Xi=function(){return Yi.Date.now()},Ji=Xi,Zi=/\s/;function Qi(r){for(var e=r.length;e--&&Zi.test(r.charAt(e)););return e}var _i=Qi,eo=_i,ro=/^\s+/;function to(r){return r&&r.slice(0,eo(r)+1).replace(ro,"")}var no=to,uo=Ou,ao=uo.Symbol,yu=ao,Ln=yu,xu=Object.prototype,so=xu.hasOwnProperty,io=xu.toString,Br=Ln?Ln.toStringTag:void 0;function oo(r){var e=so.call(r,Br),t=r[Br];try{r[Br]=void 0;var n=!0}catch{}var u=io.call(r);return n&&(e?r[Br]=t:delete r[Br]),u}var lo=oo,fo=Object.prototype,co=fo.toString;function vo(r){return co.call(r)}var Do=vo,$n=yu,ho=lo,go=Do,Co="[object Null]",mo="[object Undefined]",kn=$n?$n.toStringTag:void 0;function po(r){return r==null?r===void 0?mo:Co:kn&&kn in Object(r)?ho(r):go(r)}var Bo=po;function Eo(r){return r!=null&&typeof r=="object"}var Ao=Eo,Fo=Bo,wo=Ao,bo="[object Symbol]";function Oo(r){return typeof r=="symbol"||wo(r)&&Fo(r)==bo}var yo=Oo,xo=no,Wn=$t,Po=yo,zn=0/0,So=/^[-+]0x[0-9a-f]+$/i,To=/^0b[01]+$/i,Ro=/^0o[0-7]+$/i,jo=parseInt;function No(r){if(typeof r=="number")return r;if(Po(r))return zn;if(Wn(r)){var e=typeof r.valueOf=="function"?r.valueOf():r;r=Wn(e)?e+"":e}if(typeof r!="string")return r===0?r:+r;r=xo(r);var t=To.test(r);return t||Ro.test(r)?jo(r.slice(2),t?2:8):So.test(r)?zn:+r}var Mo=No,Io=$t,tt=Ji,Hn=Mo,Lo="Expected a function",$o=Math.max,ko=Math.min;function Wo(r,e,t){var n,u,a,s,o,c,f=0,v=!1,D=!1,h=!0;if(typeof r!="function")throw new TypeError(Lo);e=Hn(e)||0,Io(t)&&(v=!!t.leading,D="maxWait"in t,a=D?$o(Hn(t.maxWait)||0,e):a,h="trailing"in t?!!t.trailing:h);function C(M){var S=n,H=u;return n=u=void 0,f=M,s=r.apply(H,S),s}function g(M){return f=M,o=setTimeout(p,e),v?C(M):s}function i(M){var S=M-c,H=M-f,K=e-S;return D?ko(K,a-H):K}function E(M){var S=M-c,H=M-f;return c===void 0||S>=e||S<0||D&&H>=a}function p(){var M=tt();if(E(M))return F(M);o=setTimeout(p,i(M))}function F(M){return o=void 0,h&&n?C(M):(n=u=void 0,s)}function b(){o!==void 0&&clearTimeout(o),f=0,n=c=u=o=void 0}function y(){return o===void 0?s:F(tt())}function N(){var M=tt(),S=E(M);if(n=arguments,u=this,c=M,S){if(o===void 0)return g(c);if(D)return clearTimeout(o),o=setTimeout(p,e),C(c)}return o===void 0&&(o=setTimeout(p,e)),s}return N.cancel=b,N.flush=y,N}var Pu=Wo;const zo=Ot(Pu);var Ho=Pu,qo=$t,Vo="Expected a function";function Ko(r,e,t){var n=!0,u=!0;if(typeof r!="function")throw new TypeError(Vo);return qo(t)&&(n="leading"in t?!!t.leading:n,u="trailing"in t?!!t.trailing:u),Ho(r,e,{leading:n,maxWait:e,trailing:u})}var Uo=Ko;const Go=Ot(Uo),qn=r=>typeof r=="object"&&r!=null&&r.nodeType===1,Vn=(r,e)=>(!e||r!=="hidden")&&r!=="visible"&&r!=="clip",nt=(r,e)=>{if(r.clientHeight<r.scrollHeight||r.clientWidth<r.scrollWidth){const t=getComputedStyle(r,null);return Vn(t.overflowY,e)||Vn(t.overflowX,e)||(n=>{const u=(a=>{if(!a.ownerDocument||!a.ownerDocument.defaultView)return null;try{return a.ownerDocument.defaultView.frameElement}catch{return null}})(n);return!!u&&(u.clientHeight<n.scrollHeight||u.clientWidth<n.scrollWidth)})(r)}return!1},Nr=(r,e,t,n,u,a,s,o)=>a<r&&s>e||a>r&&s<e?0:a<=r&&o<=t||s>=e&&o>=t?a-r-n:s>e&&o<t||a<r&&o>t?s-e+u:0,Yo=r=>{const e=r.parentElement;return e??(r.getRootNode().host||null)},Kn=(r,e)=>{var t,n,u,a;if(typeof document>"u")return[];const{scrollMode:s,block:o,inline:c,boundary:f,skipOverflowHiddenElements:v}=e,D=typeof f=="function"?f:J=>J!==f;if(!qn(r))throw new TypeError("Invalid target");const h=document.scrollingElement||document.documentElement,C=[];let g=r;for(;qn(g)&&D(g);){if(g=Yo(g),g===h){C.push(g);break}g!=null&&g===document.body&&nt(g)&&!nt(document.documentElement)||g!=null&&nt(g,v)&&C.push(g)}const i=(n=(t=window.visualViewport)==null?void 0:t.width)!=null?n:innerWidth,E=(a=(u=window.visualViewport)==null?void 0:u.height)!=null?a:innerHeight,{scrollX:p,scrollY:F}=window,{height:b,width:y,top:N,right:M,bottom:S,left:H}=r.getBoundingClientRect(),{top:K,right:I,bottom:U,left:R}=(J=>{const V=window.getComputedStyle(J);return{top:parseFloat(V.scrollMarginTop)||0,right:parseFloat(V.scrollMarginRight)||0,bottom:parseFloat(V.scrollMarginBottom)||0,left:parseFloat(V.scrollMarginLeft)||0}})(r);let $=o==="start"||o==="nearest"?N-K:o==="end"?S+U:N+b/2-K+U,P=c==="center"?H+y/2-R+I:c==="end"?M+I:H-R;const k=[];for(let J=0;J<C.length;J++){const V=C[J],{height:oe,width:X,top:re,right:ve,bottom:ie,left:Fe}=V.getBoundingClientRect();if(s==="if-needed"&&N>=0&&H>=0&&S<=E&&M<=i&&N>=re&&S<=ie&&H>=Fe&&M<=ve)return k;const Z=getComputedStyle(V),m=parseInt(Z.borderLeftWidth,10),T=parseInt(Z.borderTopWidth,10),x=parseInt(Z.borderRightWidth,10),L=parseInt(Z.borderBottomWidth,10);let ee=0,q=0;const le="offsetWidth"in V?V.offsetWidth-V.clientWidth-m-x:0,ne="offsetHeight"in V?V.offsetHeight-V.clientHeight-T-L:0,te="offsetWidth"in V?V.offsetWidth===0?0:X/V.offsetWidth:0,Q="offsetHeight"in V?V.offsetHeight===0?0:oe/V.offsetHeight:0;if(h===V)ee=o==="start"?$:o==="end"?$-E:o==="nearest"?Nr(F,F+E,E,T,L,F+$,F+$+b,b):$-E/2,q=c==="start"?P:c==="center"?P-i/2:c==="end"?P-i:Nr(p,p+i,i,m,x,p+P,p+P+y,y),ee=Math.max(0,ee+F),q=Math.max(0,q+p);else{ee=o==="start"?$-re-T:o==="end"?$-ie+L+ne:o==="nearest"?Nr(re,ie,oe,T,L+ne,$,$+b,b):$-(re+oe/2)+ne/2,q=c==="start"?P-Fe-m:c==="center"?P-(Fe+X/2)+le/2:c==="end"?P-ve+x+le:Nr(Fe,ve,X,m,x+le,P,P+y,y);const{scrollLeft:se,scrollTop:he}=V;ee=Q===0?0:Math.max(0,Math.min(he+ee/Q,V.scrollHeight-oe/Q+ne)),q=te===0?0:Math.max(0,Math.min(se+q/te,V.scrollWidth-X/te+le)),$+=he-ee,P+=se-q}k.push({el:V,top:ee,left:q})}return k},Xo=r=>r===!1?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&Object.keys(e).length!==0)(r)?r:{block:"start",inline:"nearest"};function Jo(r,e){if(!r.isConnected||!(u=>{let a=u;for(;a&&a.parentNode;){if(a.parentNode===document)return!0;a=a.parentNode instanceof ShadowRoot?a.parentNode.host:a.parentNode}return!1})(r))return;const t=(u=>{const a=window.getComputedStyle(u);return{top:parseFloat(a.scrollMarginTop)||0,right:parseFloat(a.scrollMarginRight)||0,bottom:parseFloat(a.scrollMarginBottom)||0,left:parseFloat(a.scrollMarginLeft)||0}})(r);if((u=>typeof u=="object"&&typeof u.behavior=="function")(e))return e.behavior(Kn(r,e));const n=typeof e=="boolean"||e==null?void 0:e.behavior;for(const{el:u,top:a,left:s}of Kn(r,Xo(e))){const o=a-t.top+t.bottom,c=s-t.left+t.right;u.scroll({top:o,left:c,behavior:n})}}var ur=[],Zo=function(){return ur.some(function(r){return r.activeTargets.length>0})},Qo=function(){return ur.some(function(r){return r.skippedTargets.length>0})},Un="ResizeObserver loop completed with undelivered notifications.",_o=function(){var r;typeof ErrorEvent=="function"?r=new ErrorEvent("error",{message:Un}):(r=document.createEvent("Event"),r.initEvent("error",!1,!1),r.message=Un),window.dispatchEvent(r)},yr;(function(r){r.BORDER_BOX="border-box",r.CONTENT_BOX="content-box",r.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(yr||(yr={}));var ar=function(r){return Object.freeze(r)},el=function(){function r(e,t){this.inlineSize=e,this.blockSize=t,ar(this)}return r}(),Su=function(){function r(e,t,n,u){return this.x=e,this.y=t,this.width=n,this.height=u,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,ar(this)}return r.prototype.toJSON=function(){var e=this,t=e.x,n=e.y,u=e.top,a=e.right,s=e.bottom,o=e.left,c=e.width,f=e.height;return{x:t,y:n,top:u,right:a,bottom:s,left:o,width:c,height:f}},r.fromRect=function(e){return new r(e.x,e.y,e.width,e.height)},r}(),kt=function(r){return r instanceof SVGElement&&"getBBox"in r},Tu=function(r){if(kt(r)){var e=r.getBBox(),t=e.width,n=e.height;return!t&&!n}var u=r,a=u.offsetWidth,s=u.offsetHeight;return!(a||s||r.getClientRects().length)},Gn=function(r){var e;if(r instanceof Element)return!0;var t=(e=r==null?void 0:r.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(t&&r instanceof t.Element)},rl=function(r){switch(r.tagName){case"INPUT":if(r.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Fr=typeof window<"u"?window:{},Mr=new WeakMap,Yn=/auto|scroll/,tl=/^tb|vertical/,nl=/msie|trident/i.test(Fr.navigator&&Fr.navigator.userAgent),$e=function(r){return parseFloat(r||"0")},dr=function(r,e,t){return r===void 0&&(r=0),e===void 0&&(e=0),t===void 0&&(t=!1),new el((t?e:r)||0,(t?r:e)||0)},Xn=ar({devicePixelContentBoxSize:dr(),borderBoxSize:dr(),contentBoxSize:dr(),contentRect:new Su(0,0,0,0)}),Ru=function(r,e){if(e===void 0&&(e=!1),Mr.has(r)&&!e)return Mr.get(r);if(Tu(r))return Mr.set(r,Xn),Xn;var t=getComputedStyle(r),n=kt(r)&&r.ownerSVGElement&&r.getBBox(),u=!nl&&t.boxSizing==="border-box",a=tl.test(t.writingMode||""),s=!n&&Yn.test(t.overflowY||""),o=!n&&Yn.test(t.overflowX||""),c=n?0:$e(t.paddingTop),f=n?0:$e(t.paddingRight),v=n?0:$e(t.paddingBottom),D=n?0:$e(t.paddingLeft),h=n?0:$e(t.borderTopWidth),C=n?0:$e(t.borderRightWidth),g=n?0:$e(t.borderBottomWidth),i=n?0:$e(t.borderLeftWidth),E=D+f,p=c+v,F=i+C,b=h+g,y=o?r.offsetHeight-b-r.clientHeight:0,N=s?r.offsetWidth-F-r.clientWidth:0,M=u?E+F:0,S=u?p+b:0,H=n?n.width:$e(t.width)-M-N,K=n?n.height:$e(t.height)-S-y,I=H+E+N+F,U=K+p+y+b,R=ar({devicePixelContentBoxSize:dr(Math.round(H*devicePixelRatio),Math.round(K*devicePixelRatio),a),borderBoxSize:dr(I,U,a),contentBoxSize:dr(H,K,a),contentRect:new Su(D,c,H,K)});return Mr.set(r,R),R},ju=function(r,e,t){var n=Ru(r,t),u=n.borderBoxSize,a=n.contentBoxSize,s=n.devicePixelContentBoxSize;switch(e){case yr.DEVICE_PIXEL_CONTENT_BOX:return s;case yr.BORDER_BOX:return u;default:return a}},ul=function(){function r(e){var t=Ru(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=ar([t.borderBoxSize]),this.contentBoxSize=ar([t.contentBoxSize]),this.devicePixelContentBoxSize=ar([t.devicePixelContentBoxSize])}return r}(),Nu=function(r){if(Tu(r))return 1/0;for(var e=0,t=r.parentNode;t;)e+=1,t=t.parentNode;return e},al=function(){var r=1/0,e=[];ur.forEach(function(s){if(s.activeTargets.length!==0){var o=[];s.activeTargets.forEach(function(f){var v=new ul(f.target),D=Nu(f.target);o.push(v),f.lastReportedSize=ju(f.target,f.observedBox),D<r&&(r=D)}),e.push(function(){s.callback.call(s.observer,o,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var t=0,n=e;t<n.length;t++){var u=n[t];u()}return r},Jn=function(r){ur.forEach(function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach(function(u){u.isActive()&&(Nu(u.target)>r?t.activeTargets.push(u):t.skippedTargets.push(u))})})},sl=function(){var r=0;for(Jn(r);Zo();)r=al(),Jn(r);return Qo()&&_o(),r>0},ut,Mu=[],il=function(){return Mu.splice(0).forEach(function(r){return r()})},ol=function(r){if(!ut){var e=0,t=document.createTextNode(""),n={characterData:!0};new MutationObserver(function(){return il()}).observe(t,n),ut=function(){t.textContent="".concat(e?e--:e++)}}Mu.push(r),ut()},ll=function(r){ol(function(){requestAnimationFrame(r)})},Wr=0,fl=function(){return!!Wr},cl=250,vl={attributes:!0,characterData:!0,childList:!0,subtree:!0},Zn=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Qn=function(r){return r===void 0&&(r=0),Date.now()+r},at=!1,dl=function(){function r(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return r.prototype.run=function(e){var t=this;if(e===void 0&&(e=cl),!at){at=!0;var n=Qn(e);ll(function(){var u=!1;try{u=sl()}finally{if(at=!1,e=n-Qn(),!fl())return;u?t.run(1e3):e>0?t.run(e):t.start()}})}},r.prototype.schedule=function(){this.stop(),this.run()},r.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,vl)};document.body?t():Fr.addEventListener("DOMContentLoaded",t)},r.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Zn.forEach(function(t){return Fr.addEventListener(t,e.listener,!0)}))},r.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),Zn.forEach(function(t){return Fr.removeEventListener(t,e.listener,!0)}),this.stopped=!0)},r}(),mt=new dl,_n=function(r){!Wr&&r>0&&mt.start(),Wr+=r,!Wr&&mt.stop()},Dl=function(r){return!kt(r)&&!rl(r)&&getComputedStyle(r).display==="inline"},hl=function(){function r(e,t){this.target=e,this.observedBox=t||yr.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return r.prototype.isActive=function(){var e=ju(this.target,this.observedBox,!0);return Dl(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},r}(),gl=function(){function r(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t}return r}(),Ir=new WeakMap,eu=function(r,e){for(var t=0;t<r.length;t+=1)if(r[t].target===e)return t;return-1},Lr=function(){function r(){}return r.connect=function(e,t){var n=new gl(e,t);Ir.set(e,n)},r.observe=function(e,t,n){var u=Ir.get(e),a=u.observationTargets.length===0;eu(u.observationTargets,t)<0&&(a&&ur.push(u),u.observationTargets.push(new hl(t,n&&n.box)),_n(1),mt.schedule())},r.unobserve=function(e,t){var n=Ir.get(e),u=eu(n.observationTargets,t),a=n.observationTargets.length===1;u>=0&&(a&&ur.splice(ur.indexOf(n),1),n.observationTargets.splice(u,1),_n(-1))},r.disconnect=function(e){var t=this,n=Ir.get(e);n.observationTargets.slice().forEach(function(u){return t.unobserve(e,u.target)}),n.activeTargets.splice(0,n.activeTargets.length)},r}(),Cl=function(){function r(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Lr.connect(this,e)}return r.prototype.observe=function(e,t){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Gn(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Lr.observe(this,e,t)},r.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Gn(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Lr.unobserve(this,e)},r.prototype.disconnect=function(){Lr.disconnect(this)},r.toString=function(){return"function ResizeObserver () { [polyfill code] }"},r}(),Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});var ml=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),st={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},Iu={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:ml?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},Wt={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var $r=1;$r<20;$r++)Wt["f"+$r]=111+$r;function Xr(r,e,t){e&&!("byKey"in e)&&(t=e,e=null),Array.isArray(r)||(r=[r]);var n=r.map(function(s){return Lu(s,e)}),u=function(o){return n.some(function(c){return $u(c,o)})},a=t==null?u:u(t);return a}function pl(r,e){return Xr(r,e)}function Bl(r,e){return Xr(r,{byKey:!0},e)}function Lu(r,e){var t=e&&e.byKey,n={};r=r.replace("++","+add");var u=r.split("+"),a=u.length;for(var s in st)n[st[s]]=!1;var o=!0,c=!1,f=void 0;try{for(var v=u[Symbol.iterator](),D;!(o=(D=v.next()).done);o=!0){var h=D.value,C=h.endsWith("?")&&h.length>1;C&&(h=h.slice(0,-1));var g=zt(h),i=st[g];if(h.length>1&&!i&&!Iu[h]&&!Wt[g])throw new TypeError('Unknown modifier: "'+h+'"');(a===1||!i)&&(t?n.key=g:n.which=ku(h)),i&&(n[i]=C?null:!0)}}catch(E){c=!0,f=E}finally{try{!o&&v.return&&v.return()}finally{if(c)throw f}}return n}function $u(r,e){for(var t in r){var n=r[t],u=void 0;if(n!=null&&(t==="key"&&e.key!=null?u=e.key.toLowerCase():t==="which"?u=n===91&&e.which===93?91:e.which:u=e[t],!(u==null&&n===!1)&&u!==n))return!1}return!0}function ku(r){r=zt(r);var e=Wt[r]||r.toUpperCase().charCodeAt(0);return e}function zt(r){return r=r.toLowerCase(),r=Iu[r]||r,r}Ke.default=Xr;var it=Ke.isHotkey=Xr;Ke.isCodeHotkey=pl;Ke.isKeyHotkey=Bl;Ke.parseHotkey=Lu;Ke.compareHotkey=$u;Ke.toKeyCode=ku;Ke.toKeyName=zt;function El(r,e){if(r==null)return{};var t={},n=Object.keys(r),u,a;for(a=0;a<n.length;a++)u=n[a],!(e.indexOf(u)>=0)&&(t[u]=r[u]);return t}function Dr(r,e){if(r==null)return{};var t=El(r,e),n,u;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(u=0;u<a.length;u++)n=a[u],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function xr(r){"@babel/helpers - typeof";return xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xr(r)}function Al(r,e){if(xr(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(xr(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Fl(r){var e=Al(r,"string");return xr(e)==="symbol"?e:String(e)}function je(r,e,t){return e=Fl(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var Ht=j.createContext(null),Qe=()=>{var r=j.useContext(Ht);if(!r)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return r},ot,lt,Wu=parseInt(Y.version.split(".")[0],10),zu=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,ru=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),Ee=typeof navigator<"u"&&/Android/.test(navigator.userAgent),cr=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),tr=typeof navigator<"u"&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),wl=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),Hu=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),bl=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),Ol=Ee&&typeof navigator<"u"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),yl=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),xl=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),Pl=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),zr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tu=typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&/Version\/(\d+)/.test(navigator.userAgent)&&((ot=navigator.userAgent.match(/Version\/(\d+)/))!==null&&ot!==void 0&&ot[1]?parseInt((lt=navigator.userAgent.match(/Version\/(\d+)/))===null||lt===void 0?void 0:lt[1],10)<17:!1),Ue=(!bl||!Ol)&&!wl&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",qt=new WeakMap,Vt=new WeakMap,qu=new WeakMap,Hr=new WeakMap,pt=new WeakMap,Pr=new WeakMap,sr=new WeakMap,Yr=new WeakMap,Jr=new WeakMap,Bt=new WeakMap,Je=new WeakMap,nr=new WeakMap,wr=new WeakMap,Et=new WeakMap,Kt=new WeakMap,Ie=new WeakMap,qe=new WeakMap,be=new WeakMap,Ge=new WeakMap,Ye=new WeakMap,Vu=new WeakMap,hr=Symbol("placeholder"),Ku=Symbol("mark-placeholder"),Sl=globalThis.Text,Ut=r=>r&&r.ownerDocument&&r.ownerDocument.defaultView||null,Tl=r=>Ze(r)&&r.nodeType===8,Re=r=>Ze(r)&&r.nodeType===1,Ze=r=>{var e=Ut(r);return!!e&&r instanceof e.Node},At=r=>{var e=r&&r.anchorNode&&Ut(r.anchorNode);return!!e&&r instanceof e.Selection},Uu=r=>Ze(r)&&r.nodeType===3,Rl=r=>r.clipboardData&&r.clipboardData.getData("text/plain")!==""&&r.clipboardData.types.length===1,jl=r=>{var[e,t]=r;if(Re(e)&&e.childNodes.length){var n=t===e.childNodes.length,u=n?t-1:t;for([e,u]=Gu(e,u,n?"backward":"forward"),n=u<t;Re(e)&&e.childNodes.length;){var a=n?e.childNodes.length-1:0;e=Ml(e,a,n?"backward":"forward")}t=n&&e.textContent!=null?e.textContent.length:0}return[e,t]},Nl=r=>{for(var e=r&&r.parentNode;e;){if(e.toString()==="[object ShadowRoot]")return!0;e=e.parentNode}return!1},Gu=(r,e,t)=>{for(var{childNodes:n}=r,u=n[e],a=e,s=!1,o=!1;(Tl(u)||Re(u)&&u.childNodes.length===0||Re(u)&&u.getAttribute("contenteditable")==="false")&&!(s&&o);){if(a>=n.length){s=!0,a=e-1,t="backward";continue}if(a<0){o=!0,a=e+1,t="forward";continue}u=n[a],e=a,a+=t==="forward"?1:-1}return[u,e]},Ml=(r,e,t)=>{var[n]=Gu(r,e,t);return n},Yu=r=>{var e="";if(Uu(r)&&r.nodeValue)return r.nodeValue;if(Re(r)){for(var t of Array.from(r.childNodes))e+=Yu(t);var n=getComputedStyle(r).getPropertyValue("display");(n==="block"||n==="list"||r.tagName==="BR")&&(e+=`
`)}return e},Il=/data-slate-fragment="(.+?)"/m,Ll=r=>{var e=r.getData("text/html"),[,t]=e.match(Il)||[];return t},Gt=(r,e,t)=>{var{target:n}=e;if(Re(n)&&n.matches('[contentEditable="false"]'))return!1;var{document:u}=A.getWindow(r);if(u.contains(n))return A.hasDOMNode(r,n,{editable:!0});var a=t.find(s=>{var{addedNodes:o,removedNodes:c}=s;for(var f of o)if(f===n||f.contains(n))return!0;for(var v of c)if(v===n||v.contains(n))return!0});return!a||a===e?!1:Gt(r,a,t)},$l=()=>{for(var r=document.activeElement;(e=r)!==null&&e!==void 0&&e.shadowRoot&&(t=r.shadowRoot)!==null&&t!==void 0&&t.activeElement;){var e,t,n;r=(n=r)===null||n===void 0||(n=n.shadowRoot)===null||n===void 0?void 0:n.activeElement}return r},kl=0;class Wl{constructor(){je(this,"id",void 0),this.id="".concat(kl++)}}var A={androidPendingDiffs:r=>be.get(r),androidScheduleFlush:r=>{var e;(e=Kt.get(r))===null||e===void 0||e()},blur:r=>{var e=A.toDOMNode(r,r),t=A.findDocumentOrShadowRoot(r);Je.set(r,!1),t.activeElement===e&&e.blur()},deselect:r=>{var{selection:e}=r,t=A.findDocumentOrShadowRoot(r),n=t.getSelection();n&&n.rangeCount>0&&n.removeAllRanges(),e&&w.deselect(r)},findDocumentOrShadowRoot:r=>{var e=A.toDOMNode(r,r),t=e.getRootNode();return(t instanceof Document||t instanceof ShadowRoot)&&t.getSelection!=null?t:e.ownerDocument},findEventRange:(r,e)=>{"nativeEvent"in e&&(e=e.nativeEvent);var{clientX:t,clientY:n,target:u}=e;if(t==null||n==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(e));var a=A.toSlateNode(r,e.target),s=A.findPath(r,a);if(W.isElement(a)&&l.isVoid(r,a)){var o=u.getBoundingClientRect(),c=r.isInline(a)?t-o.left<o.left+o.width-t:n-o.top<o.top+o.height-n,f=l.point(r,s,{edge:c?"start":"end"}),v=c?l.before(r,f):l.after(r,f);if(v){var D=l.range(r,v);return D}}var h,{document:C}=A.getWindow(r);if(C.caretRangeFromPoint)h=C.caretRangeFromPoint(t,n);else{var g=C.caretPositionFromPoint(t,n);g&&(h=C.createRange(),h.setStart(g.offsetNode,g.offset),h.setEnd(g.offsetNode,g.offset))}if(!h)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(e));var i=A.toSlateRange(r,h,{exactMatch:!1,suppressThrow:!1});return i},findKey:(r,e)=>{var t=Yr.get(e);return t||(t=new Wl,Yr.set(e,t)),t},findPath:(r,e)=>{for(var t=[],n=e;;){var u=Vt.get(n);if(u==null){if(l.isEditor(n))return t;break}var a=qt.get(n);if(a==null)break;t.unshift(a),n=u}throw new Error("Unable to find the path for Slate node: ".concat(Ce.stringify(e)))},focus:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{retries:5};if(!Je.get(e)){if(t.retries<=0)throw new Error("Could not set focus, editor seems stuck with pending operations");if(e.operations.length>0){setTimeout(()=>{A.focus(e,{retries:t.retries-1})},10);return}var n=A.toDOMNode(e,e),u=A.findDocumentOrShadowRoot(e);if(u.activeElement!==n){if(e.selection&&u instanceof Document){var a=u.getSelection(),s=A.toDOMRange(e,e.selection);a==null||a.removeAllRanges(),a==null||a.addRange(s)}e.selection||(w.select(e,l.start(e,[])),e.onChange()),Je.set(e,!0),n.focus({preventScroll:!0})}}},getWindow:r=>{var e=qu.get(r);if(!e)throw new Error("Unable to find a host window element for this editor");return e},hasDOMNode:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:u=!1}=n,a=A.toDOMNode(e,e),s;try{s=Re(t)?t:t.parentElement}catch(o){if(o instanceof Error&&!o.message.includes('Permission denied to access property "nodeType"'))throw o}return s?s.closest("[data-slate-editor]")===a&&(!u||s.isContentEditable?!0:typeof s.isContentEditable=="boolean"&&s.closest('[contenteditable="false"]')===a||!!s.getAttribute("data-slate-zero-width")):!1},hasEditableTarget:(r,e)=>Ze(e)&&A.hasDOMNode(r,e,{editable:!0}),hasRange:(r,e)=>{var{anchor:t,focus:n}=e;return l.hasPath(r,t.path)&&l.hasPath(r,n.path)},hasSelectableTarget:(r,e)=>A.hasEditableTarget(r,e)||A.isTargetInsideNonReadonlyVoid(r,e),hasTarget:(r,e)=>Ze(e)&&A.hasDOMNode(r,e),insertData:(r,e)=>{r.insertData(e)},insertFragmentData:(r,e)=>r.insertFragmentData(e),insertTextData:(r,e)=>r.insertTextData(e),isComposing:r=>!!nr.get(r),isFocused:r=>!!Je.get(r),isReadOnly:r=>!!Bt.get(r),isTargetInsideNonReadonlyVoid:(r,e)=>{if(Bt.get(r))return!1;var t=A.hasTarget(r,e)&&A.toSlateNode(r,e);return W.isElement(t)&&l.isVoid(r,t)},setFragmentData:(r,e,t)=>r.setFragmentData(e,t),toDOMNode:(r,e)=>{var t=Jr.get(r),n=l.isEditor(e)?Hr.get(r):t==null?void 0:t.get(A.findKey(r,e));if(!n)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(Ce.stringify(e)));return n},toDOMPoint:(r,e)=>{var[t]=l.node(r,e.path),n=A.toDOMNode(r,t),u;l.void(r,{at:e})&&(e={path:e.path,offset:0});for(var a="[data-slate-string], [data-slate-zero-width]",s=Array.from(n.querySelectorAll(a)),o=0,c=0;c<s.length;c++){var f=s[c],v=f.childNodes[0];if(!(v==null||v.textContent==null)){var{length:D}=v.textContent,h=f.getAttribute("data-slate-length"),C=h==null?D:parseInt(h,10),g=o+C,i=s[c+1];if(e.offset===g&&i!==null&&i!==void 0&&i.hasAttribute("data-slate-mark-placeholder")){var E,p=i.childNodes[0];u=[p instanceof Sl?p:i,(E=i.textContent)!==null&&E!==void 0&&E.startsWith("\uFEFF")?1:0];break}if(e.offset<=g){var F=Math.min(D,Math.max(0,e.offset-o));u=[v,F];break}o=g}}if(!u)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(Ce.stringify(e)));return u},toDOMRange:(r,e)=>{var{anchor:t,focus:n}=e,u=B.isBackward(e),a=A.toDOMPoint(r,t),s=B.isCollapsed(e)?a:A.toDOMPoint(r,n),o=A.getWindow(r),c=o.document.createRange(),[f,v]=u?s:a,[D,h]=u?a:s,C=Re(f)?f:f.parentElement,g=!!C.getAttribute("data-slate-zero-width"),i=Re(D)?D:D.parentElement,E=!!i.getAttribute("data-slate-zero-width");return c.setStart(f,g?1:v),c.setEnd(D,E?1:h),c},toSlateNode:(r,e)=>{var t=Re(e)?e:e.parentElement;t&&!t.hasAttribute("data-slate-node")&&(t=t.closest("[data-slate-node]"));var n=t?Pr.get(t):null;if(!n)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(t));return n},toSlatePoint:(r,e,t)=>{var{exactMatch:n,suppressThrow:u}=t,[a,s]=n?e:jl(e),o=a.parentNode,c=null,f=0;if(o){var v,D,h=A.toDOMNode(r,r),C=o.closest('[data-slate-void="true"]'),g=C&&h.contains(C)?C:null,i=o.closest("[data-slate-leaf]"),E=null;if(i){if(c=i.closest('[data-slate-node="text"]'),c){var p=A.getWindow(r),F=p.document.createRange();F.setStart(c,0),F.setEnd(a,s);var b=F.cloneContents(),y=[...Array.prototype.slice.call(b.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(b.querySelectorAll("[contenteditable=false]"))];y.forEach(P=>{if(Ee&&!n&&P.hasAttribute("data-slate-zero-width")&&P.textContent.length>0&&P.textContext!=="\uFEFF"){P.textContent.startsWith("\uFEFF")&&(P.textContent=P.textContent.slice(1));return}P.parentNode.removeChild(P)}),f=b.textContent.length,E=c}}else if(g){for(var N=g.querySelectorAll("[data-slate-leaf]"),M=0;M<N.length;M++){var S=N[M];if(A.hasDOMNode(r,S)){i=S;break}}i?(c=i.closest('[data-slate-node="text"]'),E=i,f=E.textContent.length,E.querySelectorAll("[data-slate-zero-width]").forEach(P=>{f-=P.textContent.length})):f=1}E&&f===E.textContent.length&&Ee&&E.getAttribute("data-slate-zero-width")==="z"&&(v=E.textContent)!==null&&v!==void 0&&v.startsWith("\uFEFF")&&(o.hasAttribute("data-slate-zero-width")||cr&&(D=E.textContent)!==null&&D!==void 0&&D.endsWith(`

`))&&f--}if(Ee&&!c&&!n){var H=o.hasAttribute("data-slate-node")?o:o.closest("[data-slate-node]");if(H&&A.hasDOMNode(r,H,{editable:!0})){var K=A.toSlateNode(r,H),{path:I,offset:U}=l.start(r,A.findPath(r,K));return H.querySelector("[data-slate-leaf]")||(U=s),{path:I,offset:U}}}if(!c){if(u)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(e))}var R=A.toSlateNode(r,c),$=A.findPath(r,R);return{path:$,offset:f}},toSlateRange:(r,e,t)=>{var n,{exactMatch:u,suppressThrow:a}=t,s=At(e)?e.anchorNode:e.startContainer,o,c,f,v,D;if(s)if(At(e)){if(cr&&e.rangeCount>1){f=e.focusNode;var h=e.getRangeAt(0),C=e.getRangeAt(e.rangeCount-1);if(f instanceof HTMLTableRowElement&&h.startContainer instanceof HTMLTableRowElement&&C.startContainer instanceof HTMLTableRowElement){let M=function(S){return S.childElementCount>0?M(S.children[0]):S};var g=h.startContainer,i=C.startContainer,E=M(g.children[h.startOffset]),p=M(i.children[C.startOffset]);v=0,p.childNodes.length>0?o=p.childNodes[0]:o=p,E.childNodes.length>0?f=E.childNodes[0]:f=E,p instanceof HTMLElement?c=p.innerHTML.length:c=0}else h.startContainer===f?(o=C.endContainer,c=C.endOffset,v=h.startOffset):(o=h.startContainer,c=h.endOffset,v=C.startOffset)}else o=e.anchorNode,c=e.anchorOffset,f=e.focusNode,v=e.focusOffset;Hu&&Nl(o)||cr?D=e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset:D=e.isCollapsed}else o=e.startContainer,c=e.startOffset,f=e.endContainer,v=e.endOffset,D=e.collapsed;if(o==null||f==null||c==null||v==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(e));if(cr&&(n=f.textContent)!==null&&n!==void 0&&n.endsWith(`

`)&&v===f.textContent.length&&v--,"getAttribute"in f&&f.getAttribute("contenteditable")==="false"&&f.getAttribute("data-slate-void")!=="true"){var F;f=o,v=((F=o.textContent)===null||F===void 0?void 0:F.length)||0}var b=A.toSlatePoint(r,[o,c],{exactMatch:u,suppressThrow:a});if(!b)return null;var y=D?b:A.toSlatePoint(r,[f,v],{exactMatch:u,suppressThrow:a});if(!y)return null;var N={anchor:b,focus:y};return B.isExpanded(N)&&B.isForward(N)&&Re(f)&&l.void(r,{at:N.focus,mode:"highest"})&&(N=l.unhangRange(r,N,{voids:!0})),N}};function zl(r,e){var{path:t,diff:n}=e;if(!l.hasPath(r,t))return!1;var u=O.get(r,t);if(!z.isText(u))return!1;if(n.start!==u.text.length||n.text.length===0)return u.text.slice(n.start,n.start+n.text.length)===n.text;var a=d.next(t);if(!l.hasPath(r,a))return!1;var s=O.get(r,a);return z.isText(s)&&s.text.startsWith(n.text)}function Xu(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return t.reduce((u,a)=>u.slice(0,a.start)+a.text+u.slice(a.end),r)}function Hl(r,e){for(var t=Math.min(r.length,e.length),n=0;n<t;n++)if(r.charAt(n)!==e.charAt(n))return n;return t}function ql(r,e,t){for(var n=Math.min(r.length,e.length,t),u=0;u<n;u++)if(r.charAt(r.length-u-1)!==e.charAt(e.length-u-1))return u;return n}function Ju(r,e){var{start:t,end:n,text:u}=e,a=r.slice(t,n),s=Hl(a,u),o=Math.min(a.length-s,u.length-s),c=ql(a,u,o),f={start:t+s,end:n-c,text:u.slice(s,u.length-c)};return f.start===f.end&&f.text.length===0?null:f}function Vl(r,e,t){var n=Math.min(e.start,t.start),u=Math.max(0,Math.min(e.start+e.text.length,t.end)-t.start),a=Xu(r,e,t),s=Math.max(t.start+t.text.length,e.start+e.text.length+(e.start+e.text.length>t.start?t.text.length:0)-u),o=a.slice(n,s),c=Math.max(e.end,t.end-e.text.length+(e.end-e.start));return Ju(r,{start:n,end:c,text:o})}function Kl(r){var{path:e,diff:t}=r;return{anchor:{path:e,offset:t.start},focus:{path:e,offset:t.end}}}function Ft(r,e){var{path:t,offset:n}=e;if(!l.hasPath(r,t))return null;var u=O.get(r,t);if(!z.isText(u))return null;var a=l.above(r,{match:o=>W.isElement(o)&&l.isBlock(r,o),at:t});if(!a)return null;for(;n>u.text.length;){var s=l.next(r,{at:t,match:z.isText});if(!s||!d.isDescendant(s[1],a[1]))return null;n-=u.text.length,u=s[0],t=s[1]}return{path:t,offset:n}}function nu(r,e){var t=Ft(r,e.anchor);if(!t)return null;if(B.isCollapsed(e))return{anchor:t,focus:t};var n=Ft(r,e.focus);return n?{anchor:t,focus:n}:null}function wt(r,e,t){var n=be.get(r),u=n==null?void 0:n.find(v=>{var{path:D}=v;return d.equals(D,e.path)});if(!u||e.offset<=u.diff.start)return _.transform(e,t,{affinity:"backward"});var{diff:a}=u;if(e.offset<=a.start+a.text.length){var s={path:e.path,offset:a.start},o=_.transform(s,t,{affinity:"backward"});return o?{path:o.path,offset:o.offset+e.offset-a.start}:null}var c={path:e.path,offset:e.offset-a.text.length+a.end-a.start},f=_.transform(c,t,{affinity:"backward"});return f?t.type==="split_node"&&d.equals(t.path,e.path)&&c.offset<t.position&&a.start<t.position?f:{path:f.path,offset:f.offset+a.text.length-a.end+a.start}:null}function uu(r,e,t){var n=wt(r,e.anchor,t);if(!n)return null;if(B.isCollapsed(e))return{anchor:n,focus:n};var u=wt(r,e.focus,t);return u?{anchor:n,focus:u}:null}function Ul(r,e){var{path:t,diff:n,id:u}=r;switch(e.type){case"insert_text":return!d.equals(e.path,t)||e.offset>=n.end?r:e.offset<=n.start?{diff:{start:e.text.length+n.start,end:e.text.length+n.end,text:n.text},id:u,path:t}:{diff:{start:n.start,end:n.end+e.text.length,text:n.text},id:u,path:t};case"remove_text":return!d.equals(e.path,t)||e.offset>=n.end?r:e.offset+e.text.length<=n.start?{diff:{start:n.start-e.text.length,end:n.end-e.text.length,text:n.text},id:u,path:t}:{diff:{start:n.start,end:n.end-e.text.length,text:n.text},id:u,path:t};case"split_node":return!d.equals(e.path,t)||e.position>=n.end?{diff:n,id:u,path:d.transform(t,e,{affinity:"backward"})}:e.position>n.start?{diff:{start:n.start,end:Math.min(e.position,n.end),text:n.text},id:u,path:t}:{diff:{start:n.start-e.position,end:n.end-e.position,text:n.text},id:u,path:d.transform(t,e,{affinity:"forward"})};case"merge_node":return d.equals(e.path,t)?{diff:{start:n.start+e.position,end:n.end+e.position,text:n.text},id:u,path:d.transform(t,e)}:{diff:n,id:u,path:d.transform(t,e)}}var a=d.transform(t,e);return a?{diff:n,path:a,id:u}:null}function au(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function kr(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?au(Object(t),!0).forEach(function(n){je(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):au(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Gl=25,Yl=200,Xl=function(){},Jl=r=>(r==null?void 0:r.constructor.name)==="DataTransfer";function Zl(r){var{editor:e,scheduleOnDOMSelectionChange:t,onDOMSelectionChange:n}=r,u=!1,a=null,s=null,o=null,c=0,f=!1,v=()=>{var R=Ye.get(e);if(Ye.delete(e),R){var{selection:$}=e,P=nu(e,R);P&&(!$||!B.equals(P,$))&&w.select(e,P)}},D=()=>{var R=Ge.get(e);if(Ge.delete(e),!!R){if(R.at){var $=_.isPoint(R.at)?Ft(e,R.at):nu(e,R.at);if(!$)return;var P=l.range(e,$);(!e.selection||!B.equals(e.selection,P))&&w.select(e,$)}R.run()}},h=()=>{if(s&&(clearTimeout(s),s=null),o&&(clearTimeout(o),o=null),!y()&&!b()){v();return}u||(u=!0,setTimeout(()=>u=!1)),b()&&(u="action");var R=e.selection&&l.rangeRef(e,e.selection,{affinity:"forward"});qe.set(e,e.marks),Xl("flush",Ge.get(e),be.get(e));for(var $=y(),P;P=(k=be.get(e))===null||k===void 0?void 0:k[0];){var k,J,V=Ie.get(e);V!==void 0&&(Ie.delete(e),e.marks=V),V&&f===!1&&(f=null);var oe=Kl(P);(!e.selection||!B.equals(e.selection,oe))&&w.select(e,oe),P.diff.text?l.insertText(e,P.diff.text):l.deleteFragment(e),be.set(e,(J=be.get(e))===null||J===void 0?void 0:J.filter(ve=>{var{id:ie}=ve;return ie!==P.id})),zl(e,P)||($=!1,Ge.delete(e),qe.delete(e),u="action",Ye.delete(e),t.cancel(),n.cancel(),R==null||R.unref())}var X=R==null?void 0:R.unref();if(X&&!Ye.get(e)&&(!e.selection||!B.equals(X,e.selection))&&w.select(e,X),b()){D();return}$&&t(),t.flush(),n.flush(),v();var re=qe.get(e);qe.delete(e),re!==void 0&&(e.marks=re,e.onChange())},C=R=>{a&&clearTimeout(a),a=setTimeout(()=>{nr.set(e,!1),h()},Gl)},g=R=>{nr.set(e,!0),a&&(clearTimeout(a),a=null)},i=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,P=pt.get(e);if(P){if(y()||$){P.style.display="none";return}P.style.removeProperty("display")}},E=(R,$)=>{var P,k=(P=be.get(e))!==null&&P!==void 0?P:[];be.set(e,k);var J=O.leaf(e,R),V=k.findIndex(re=>d.equals(re.path,R));if(V<0){var oe=Ju(J.text,$);oe&&k.push({path:R,diff:$,id:c++}),i();return}var X=Vl(J.text,k[V].diff,$);if(!X){k.splice(V,1),i();return}k[V]=kr(kr({},k[V]),{},{diff:X})},p=function($){var{at:P}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f=!1,Ye.delete(e),t.cancel(),n.cancel(),b()&&h(),Ge.set(e,{at:P,run:$}),o=setTimeout(h)},F=R=>{var $;s&&(clearTimeout(s),s=null);var{inputType:P}=R,k=null,J=R.dataTransfer||R.data||void 0;f!==!1&&P!=="insertText"&&P!=="insertCompositionText"&&(f=!1);var[V]=R.getTargetRanges();V&&(k=A.toSlateRange(e,V,{exactMatch:!1,suppressThrow:!0}));var oe=A.getWindow(e),X=oe.getSelection();if(!k&&X&&(V=X,k=A.toSlateRange(e,X,{exactMatch:!1,suppressThrow:!0})),k=($=k)!==null&&$!==void 0?$:e.selection,!!k){var re=!0;if(P.startsWith("delete")){if(B.isExpanded(k)){var[ve,ie]=B.edges(k),Fe=O.leaf(e,ve.path);if(Fe.text.length===ve.offset&&ie.offset===0){var Z=l.next(e,{at:ve.path,match:z.isText});Z&&d.equals(Z[1],ie.path)&&(k={anchor:ie,focus:ie})}}var m=P.endsWith("Backward")?"backward":"forward",[T,x]=B.edges(k),[L,ee]=l.leaf(e,T.path),q={text:"",start:T.offset,end:x.offset},le=be.get(e),ne=le==null?void 0:le.find(we=>d.equals(we.path,ee)),te=ne?[ne.diff,q]:[q],Q=Xu(L.text,...te);if(Q.length===0&&(re=!1),B.isExpanded(k)){if(re&&d.equals(k.anchor.path,k.focus.path)){var se={path:k.anchor.path,offset:T.offset},he=l.range(e,se,se);return S(he),E(k.anchor.path,{text:"",end:x.offset,start:T.offset})}return p(()=>l.deleteFragment(e,{direction:m}),{at:k})}}switch(P){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return p(()=>l.deleteFragment(e),{at:k});case"deleteContent":case"deleteContentForward":{var{anchor:ae}=k;if(re&&B.isCollapsed(k)){var pe=O.leaf(e,ae.path);if(ae.offset<pe.text.length)return E(ae.path,{text:"",start:ae.offset,end:ae.offset+1})}return p(()=>l.deleteForward(e),{at:k})}case"deleteContentBackward":{var Te,{anchor:Oe}=k,ye=At(V)?V.isCollapsed:!!((Te=V)!==null&&Te!==void 0&&Te.collapsed);return re&&ye&&B.isCollapsed(k)&&Oe.offset>0?E(Oe.path,{text:"",start:Oe.offset-1,end:Oe.offset}):p(()=>l.deleteBackward(e),{at:k})}case"deleteEntireSoftLine":return p(()=>{l.deleteBackward(e,{unit:"line"}),l.deleteForward(e,{unit:"line"})},{at:k});case"deleteHardLineBackward":return p(()=>l.deleteBackward(e,{unit:"block"}),{at:k});case"deleteSoftLineBackward":return p(()=>l.deleteBackward(e,{unit:"line"}),{at:k});case"deleteHardLineForward":return p(()=>l.deleteForward(e,{unit:"block"}),{at:k});case"deleteSoftLineForward":return p(()=>l.deleteForward(e,{unit:"line"}),{at:k});case"deleteWordBackward":return p(()=>l.deleteBackward(e,{unit:"word"}),{at:k});case"deleteWordForward":return p(()=>l.deleteForward(e,{unit:"word"}),{at:k});case"insertLineBreak":return p(()=>l.insertSoftBreak(e),{at:k});case"insertParagraph":return p(()=>l.insertBreak(e),{at:k});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if(Jl(J))return p(()=>A.insertData(e,J),{at:k});var de=J??"";if(Ie.get(e)&&(de=de.replace("\uFEFF","")),P==="insertText"&&/.*\n.*\n$/.test(de)&&(de=de.slice(0,-1)),de.includes(`
`))return p(()=>{var we=de.split(`
`);we.forEach((Le,er)=>{Le&&l.insertText(e,Le),er!==we.length-1&&l.insertSoftBreak(e)})},{at:k});if(d.equals(k.anchor.path,k.focus.path)){var[xe,ge]=B.edges(k),ue={start:xe.offset,end:ge.offset,text:de};if(de&&f&&P==="insertCompositionText"){var Ne=f.start+f.text.search(/\S|$/),_e=ue.start+ue.text.search(/\S|$/);_e===Ne+1&&ue.end===f.start+f.text.length?(ue.start-=1,f=null,I()):f=!1}else P==="insertText"?f===null?f=ue:f&&B.isCollapsed(k)&&f.end+f.text.length===xe.offset?f=kr(kr({},f),{},{text:f.text+de}):f=!1:f=!1;if(re){E(xe.path,ue);return}}return p(()=>l.insertText(e,de),{at:k})}}}},b=()=>!!Ge.get(e),y=()=>{var R;return!!((R=be.get(e))!==null&&R!==void 0&&R.length)},N=()=>b()||y(),M=()=>u,S=R=>{Ye.set(e,R),s&&(clearTimeout(s),s=null);var{selection:$}=e;if(R){var P=!$||!d.equals($.anchor.path,R.anchor.path),k=!$||!d.equals($.anchor.path.slice(0,-1),R.anchor.path.slice(0,-1));(P&&f||k)&&(f=!1),(P||y())&&(s=setTimeout(h,Yl))}},H=()=>{(b()||!y())&&h()},K=R=>{y()||(i(!0),setTimeout(i))},I=()=>{b()||(o=setTimeout(h))},U=R=>{if(!(y()||b())&&R.some(P=>Gt(e,P,R))){var $;($=Vu.get(e))===null||$===void 0||$()}};return{flush:h,scheduleFlush:I,hasPendingDiffs:y,hasPendingAction:b,hasPendingChanges:N,isFlushing:M,handleUserSelect:S,handleCompositionEnd:C,handleCompositionStart:g,handleDOMBeforeInput:F,handleKeyDown:K,handleDomMutations:U,handleInput:H}}function Ql(){var r=j.useRef(!1);return j.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),r.current}var Sr=zr?j.useLayoutEffect:j.useEffect;function _l(r,e,t){var[n]=j.useState(()=>new MutationObserver(e));Sr(()=>{n.takeRecords()}),j.useEffect(()=>{if(!r.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return n.observe(r.current,t),()=>n.disconnect()},[n,r,t])}var ef=["node"];function su(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function rf(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?su(Object(t),!0).forEach(function(n){je(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):su(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var tf={subtree:!0,childList:!0,characterData:!0},nf=Ee?r=>{var{node:e}=r,t=Dr(r,ef);if(!Ee)return null;var n=Qe(),u=Ql(),[a]=j.useState(()=>Zl(rf({editor:n},t)));return _l(e,a.handleDomMutations,tf),Kt.set(n,a.scheduleFlush),u&&a.flush(),a}:()=>null,uf=["anchor","focus"],af=["anchor","focus"],sf=(r,e)=>Object.keys(r).length===Object.keys(e).length&&Object.keys(r).every(t=>e.hasOwnProperty(t)&&r[t]===e[t]),Zu=(r,e)=>{var t=Dr(r,uf),n=Dr(e,af);return r[hr]===e[hr]&&sf(t,n)},of=(r,e)=>{if(r.length!==e.length)return!1;for(var t=0;t<r.length;t++){var n=r[t],u=e[t];if(!B.equals(n,u)||!Zu(n,u))return!1}return!0},lf=(r,e)=>{if(r.length!==e.length)return!1;for(var t=0;t<r.length;t++){var n=r[t],u=e[t];if(n.anchor.offset!==u.anchor.offset||n.focus.offset!==u.focus.offset||!Zu(n,u))return!1}return!0};function iu(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function ff(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?iu(Object(t),!0).forEach(function(n){je(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):iu(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var cf=r=>{var{isLast:e,leaf:t,parent:n,text:u}=r,a=Qe(),s=A.findPath(a,u),o=d.parent(s),c=!!t[Ku];return a.isVoid(n)?Y.createElement(ft,{length:O.string(n).length}):t.text===""&&n.children[n.children.length-1]===u&&!a.isInline(n)&&l.string(a,o)===""?Y.createElement(ft,{isLineBreak:!0,isMarkPlaceholder:c}):t.text===""?Y.createElement(ft,{isMarkPlaceholder:c}):e&&t.text.slice(-1)===`
`?Y.createElement(ou,{isTrailing:!0,text:t.text}):Y.createElement(ou,{text:t.text})},ou=r=>{var{text:e,isTrailing:t=!1}=r,n=j.useRef(null),u=()=>"".concat(e??"").concat(t?`
`:""),[a]=j.useState(u);return Sr(()=>{var s=u();n.current&&n.current.textContent!==s&&(n.current.textContent=s)}),Y.createElement(vf,{ref:n},a)},vf=j.memo(j.forwardRef((r,e)=>Y.createElement("span",{"data-slate-string":!0,ref:e},r.children))),ft=r=>{var{length:e=0,isLineBreak:t=!1,isMarkPlaceholder:n=!1}=r,u={"data-slate-zero-width":t?"n":"z","data-slate-length":e};return n&&(u["data-slate-mark-placeholder"]=!0),Y.createElement("span",ff({},u),!(Ee||zu)||!t?"\uFEFF":null,t?Y.createElement("br",null):null)};function lu(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function Qu(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?lu(Object(t),!0).forEach(function(n){je(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):lu(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var df=Ee?300:0;function Df(r,e){r.current&&(r.current.disconnect(),e&&(r.current=null))}function fu(r){r.current&&(clearTimeout(r.current),r.current=null)}var hf=r=>{var{leaf:e,isLast:t,text:n,parent:u,renderPlaceholder:a,renderLeaf:s=F=>Y.createElement(Cf,Qu({},F))}=r,o=Qe(),c=j.useRef(null),f=j.useRef(null),[v,D]=j.useState(!1),h=j.useRef(null),C=j.useCallback(F=>{if(Df(c,F==null),F==null){var b;pt.delete(o),(b=e.onPlaceholderResize)===null||b===void 0||b.call(e,null)}else{if(pt.set(o,F),!c.current){var y=window.ResizeObserver||Cl;c.current=new y(()=>{var N;(N=e.onPlaceholderResize)===null||N===void 0||N.call(e,F)})}c.current.observe(F),f.current=F}},[f,e,o]),g=Y.createElement(cf,{isLast:t,leaf:e,parent:u,text:n}),i=!!e[hr];if(j.useEffect(()=>(i?h.current||(h.current=setTimeout(()=>{D(!0),h.current=null},df)):(fu(h),D(!1)),()=>fu(h)),[i,D]),i&&v){var E={children:e.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:tr?"inherit":void 0},contentEditable:!1,ref:C}};g=Y.createElement(Y.Fragment,null,a(E),g)}var p={"data-slate-leaf":!0};return s({attributes:p,children:g,leaf:e,text:n})},gf=Y.memo(hf,(r,e)=>e.parent===r.parent&&e.isLast===r.isLast&&e.renderLeaf===r.renderLeaf&&e.renderPlaceholder===r.renderPlaceholder&&e.text===r.text&&z.equals(e.leaf,r.leaf)&&e.leaf[hr]===r.leaf[hr]),Cf=r=>{var{attributes:e,children:t}=r;return Y.createElement("span",Qu({},e),t)},mf=r=>{for(var{decorations:e,isLast:t,parent:n,renderPlaceholder:u,renderLeaf:a,text:s}=r,o=Qe(),c=j.useRef(null),f=z.decorations(s,e),v=A.findKey(o,s),D=[],h=0;h<f.length;h++){var C=f[h];D.push(Y.createElement(gf,{isLast:t&&h===f.length-1,key:"".concat(v.id,"-").concat(h),renderPlaceholder:u,leaf:C,text:s,parent:n,renderLeaf:a}))}var g=j.useCallback(i=>{var E=Jr.get(o);i?(E==null||E.set(v,i),sr.set(s,i),Pr.set(i,s)):(E==null||E.delete(v),sr.delete(s),c.current&&Pr.delete(c.current)),c.current=i},[c,o,v,s]);return Y.createElement("span",{"data-slate-node":"text",ref:g},D)},_u=Y.memo(mf,(r,e)=>e.parent===r.parent&&e.isLast===r.isLast&&e.renderLeaf===r.renderLeaf&&e.renderPlaceholder===r.renderPlaceholder&&e.text===r.text&&lf(e.decorations,r.decorations));function cu(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function bt(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cu(Object(t),!0).forEach(function(n){je(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):cu(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var pf=r=>{var{decorations:e,element:t,renderElement:n=F=>Y.createElement(Ef,bt({},F)),renderPlaceholder:u,renderLeaf:a,selection:s}=r,o=Qe(),c=wf(),f=o.isInline(t),v=A.findKey(o,t),D=j.useCallback(F=>{var b=Jr.get(o);F?(b==null||b.set(v,F),sr.set(t,F),Pr.set(F,t)):(b==null||b.delete(v),sr.delete(t))},[o,v,t]),h=ra({decorations:e,node:t,renderElement:n,renderPlaceholder:u,renderLeaf:a,selection:s}),C={"data-slate-node":"element",ref:D};if(f&&(C["data-slate-inline"]=!0),!f&&l.hasInlines(o,t)){var g=O.string(t),i=bu(g);i==="rtl"&&(C.dir=i)}if(l.isVoid(o,t)){C["data-slate-void"]=!0,!c&&f&&(C.contentEditable=!1);var E=f?"span":"div",[[p]]=O.texts(t);h=Y.createElement(E,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},Y.createElement(_u,{renderPlaceholder:u,decorations:[],isLast:!1,parent:t,text:p})),qt.set(p,0),Vt.set(p,t)}return n({attributes:C,children:h,element:t})},Bf=Y.memo(pf,(r,e)=>r.element===e.element&&r.renderElement===e.renderElement&&r.renderLeaf===e.renderLeaf&&r.renderPlaceholder===e.renderPlaceholder&&of(r.decorations,e.decorations)&&(r.selection===e.selection||!!r.selection&&!!e.selection&&B.equals(r.selection,e.selection))),Ef=r=>{var{attributes:e,children:t,element:n}=r,u=Qe(),a=u.isInline(n)?"span":"div";return Y.createElement(a,bt(bt({},e),{},{style:{position:"relative"}}),t)},ea=j.createContext(()=>[]),Af=()=>j.useContext(ea),Ff=j.createContext(!1),ra=r=>{for(var{decorations:e,node:t,renderElement:n,renderPlaceholder:u,renderLeaf:a,selection:s}=r,o=Af(),c=Qe(),f=A.findPath(c,t),v=[],D=W.isElement(t)&&!c.isInline(t)&&l.hasInlines(c,t),h=0;h<t.children.length;h++){var C=f.concat(h),g=t.children[h],i=A.findKey(c,g),E=l.range(c,C),p=s&&B.intersection(E,s),F=o([g,C]);for(var b of e){var y=B.intersection(b,E);y&&F.push(y)}W.isElement(g)?v.push(Y.createElement(Ff.Provider,{key:"provider-".concat(i.id),value:!!p},Y.createElement(Bf,{decorations:F,element:g,key:i.id,renderElement:n,renderPlaceholder:u,renderLeaf:a,selection:p}))):v.push(Y.createElement(_u,{decorations:F,key:i.id,isLast:D&&h===t.children.length-1,parent:t,renderPlaceholder:u,renderLeaf:a,text:g})),qt.set(g,h),Vt.set(g,t)}return v},ta=j.createContext(!1),wf=()=>j.useContext(ta),na=j.createContext(null),bf=()=>{var r=j.useContext(na);if(!r)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:e}=r;return e};function Of(){var r=Qe(),e=j.useRef(!1),t=j.useRef(0),n=j.useCallback(()=>{if(!e.current){e.current=!0;var u=A.getWindow(r);u.cancelAnimationFrame(t.current),t.current=u.requestAnimationFrame(()=>{e.current=!1})}},[r]);return j.useEffect(()=>()=>cancelAnimationFrame(t.current),[]),{receivedUserInput:e,onUserInput:n}}var yf=3,xf={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},Pf={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},Sf={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},ce=r=>{var e=xf[r],t=Pf[r],n=Sf[r],u=e&&it(e),a=t&&it(t),s=n&&it(n);return o=>!!(u&&u(o)||ru&&a&&a(o)||!ru&&s&&s(o))},De={isBold:ce("bold"),isCompose:ce("compose"),isMoveBackward:ce("moveBackward"),isMoveForward:ce("moveForward"),isDeleteBackward:ce("deleteBackward"),isDeleteForward:ce("deleteForward"),isDeleteLineBackward:ce("deleteLineBackward"),isDeleteLineForward:ce("deleteLineForward"),isDeleteWordBackward:ce("deleteWordBackward"),isDeleteWordForward:ce("deleteWordForward"),isExtendBackward:ce("extendBackward"),isExtendForward:ce("extendForward"),isExtendLineBackward:ce("extendLineBackward"),isExtendLineForward:ce("extendLineForward"),isItalic:ce("italic"),isMoveLineBackward:ce("moveLineBackward"),isMoveLineForward:ce("moveLineForward"),isMoveWordBackward:ce("moveWordBackward"),isMoveWordForward:ce("moveWordForward"),isRedo:ce("redo"),isSoftBreak:ce("insertSoftBreak"),isSplitBlock:ce("splitBlock"),isTransposeCharacter:ce("transposeCharacter"),isUndo:ce("undo")},Tf=(r,e)=>{var t=[],n=()=>{t=[]},u=s=>{if(e.current){var o=s.filter(c=>Gt(r,c,s));t.push(...o)}};function a(){t.length>0&&(t.reverse().forEach(s=>{s.type!=="characterData"&&(s.removedNodes.forEach(o=>{s.target.insertBefore(o,s.nextSibling)}),s.addedNodes.forEach(o=>{s.target.removeChild(o)}))}),n())}return{registerMutations:u,restoreDOM:a,clear:n}},Rf={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class ua extends j.Component{constructor(){super(...arguments),je(this,"context",null),je(this,"manager",null),je(this,"mutationObserver",null)}observe(){var e,{node:t}=this.props;if(!t.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");(e=this.mutationObserver)===null||e===void 0||e.observe(t.current,Rf)}componentDidMount(){var{receivedUserInput:e}=this.props,t=this.context;this.manager=Tf(t,e),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var e,t,n,u=(e=this.mutationObserver)===null||e===void 0?void 0:e.takeRecords();if(u!=null&&u.length){var a;(a=this.manager)===null||a===void 0||a.registerMutations(u)}return(t=this.mutationObserver)===null||t===void 0||t.disconnect(),(n=this.manager)===null||n===void 0||n.restoreDOM(),null}componentDidUpdate(){var e;(e=this.manager)===null||e===void 0||e.clear(),this.observe()}componentWillUnmount(){var e;(e=this.mutationObserver)===null||e===void 0||e.disconnect()}render(){return this.props.children}}je(ua,"contextType",Ht);var jf=Ee?ua:r=>{var{children:e}=r;return Y.createElement(Y.Fragment,null,e)},Nf=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],Mf=["text"];function vu(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function ke(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vu(Object(t),!0).forEach(function(n){je(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):vu(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var If=r=>Y.createElement(Y.Fragment,null,ra(r)),Zf=r=>{var e=j.useCallback(m=>Y.createElement(Lf,ke({},m)),[]),{autoFocus:t,decorate:n=$f,onDOMBeforeInput:u,placeholder:a,readOnly:s=!1,renderElement:o,renderLeaf:c,renderPlaceholder:f=e,scrollSelectionIntoView:v=kf,style:D={},as:h="div",disableDefaultStyles:C=!1}=r,g=Dr(r,Nf),i=bf(),[E,p]=j.useState(!1),F=j.useRef(null),b=j.useRef([]),[y,N]=j.useState(),M=j.useRef(!1),{onUserInput:S,receivedUserInput:H}=Of(),[,K]=j.useReducer(m=>m+1,0);Vu.set(i,K),Bt.set(i,s);var I=j.useMemo(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);j.useEffect(()=>{F.current&&t&&F.current.focus()},[t]);var U=j.useRef(),R=j.useMemo(()=>Go(()=>{var m=A.toDOMNode(i,i),T=m.getRootNode();if(tu&&!M.current&&tr&&T instanceof ShadowRoot){M.current=!0;var x=$l();x?document.execCommand("indent"):w.deselect(i),M.current=!1;return}var L=U.current;if((Ee||!A.isComposing(i))&&(!I.isUpdatingSelection||L!=null&&L.isFlushing())&&!I.isDraggingInternally){var ee=A.findDocumentOrShadowRoot(i),{activeElement:q}=ee,le=A.toDOMNode(i,i),ne=ee.getSelection();if(q===le?(I.latestElement=q,Je.set(i,!0)):Je.delete(i),!ne)return w.deselect(i);var{anchorNode:te,focusNode:Q}=ne,se=A.hasEditableTarget(i,te)||A.isTargetInsideNonReadonlyVoid(i,te),he=A.hasEditableTarget(i,Q)||A.isTargetInsideNonReadonlyVoid(i,Q);if(se&&he){var ae=A.toSlateRange(i,ne,{exactMatch:!1,suppressThrow:!0});ae&&(!A.isComposing(i)&&!(L!=null&&L.hasPendingChanges())&&!(L!=null&&L.isFlushing())?w.select(i,ae):L==null||L.handleUserSelect(ae))}s&&(!se||!he)&&w.deselect(i)}},100),[i,s,I]),$=j.useMemo(()=>zo(R,0),[R]);U.current=nf({node:F,onDOMSelectionChange:R,scheduleOnDOMSelectionChange:$}),Sr(()=>{var m,T,x;F.current&&(x=Ut(F.current))?(qu.set(i,x),Hr.set(i,F.current),sr.set(i,F.current),Pr.set(F.current,i)):sr.delete(i);var{selection:L}=i,ee=A.findDocumentOrShadowRoot(i),q=ee.getSelection();if(!(!q||!A.isFocused(i)||(m=U.current)!==null&&m!==void 0&&m.hasPendingAction())){var le=se=>{var he=q.type!=="None";if(!(!L&&!he)){var ae=q.focusNode,pe;if(cr&&q.rangeCount>1){var Te=q.getRangeAt(0),Oe=q.getRangeAt(q.rangeCount-1);Te.startContainer===ae?pe=Oe.endContainer:pe=Te.startContainer}else pe=q.anchorNode;var ye=Hr.get(i),de=!1;if(ye.contains(pe)&&ye.contains(ae)&&(de=!0),he&&de&&L&&!se){var xe=A.toSlateRange(i,q,{exactMatch:!0,suppressThrow:!0});if(xe&&B.equals(xe,L)){var ge;if(!I.hasMarkPlaceholder||(ge=pe)!==null&&ge!==void 0&&(ge=ge.parentElement)!==null&&ge!==void 0&&ge.hasAttribute("data-slate-mark-placeholder"))return}}if(L&&!A.hasRange(i,L)){i.selection=A.toSlateRange(i,q,{exactMatch:!1,suppressThrow:!0});return}I.isUpdatingSelection=!0;var ue=L&&A.toDOMRange(i,L);return ue?(A.isComposing(i)&&!Ee?q.collapseToEnd():B.isBackward(L)?q.setBaseAndExtent(ue.endContainer,ue.endOffset,ue.startContainer,ue.startOffset):q.setBaseAndExtent(ue.startContainer,ue.startOffset,ue.endContainer,ue.endOffset),v(i,ue)):q.removeAllRanges(),ue}};q.rangeCount<=1&&le();var ne=((T=U.current)===null||T===void 0?void 0:T.isFlushing())==="action";if(!Ee||!ne){setTimeout(()=>{I.isUpdatingSelection=!1});return}var te=null,Q=requestAnimationFrame(()=>{if(ne){var se=he=>{try{var ae=A.toDOMNode(i,i);ae.focus(),le(he)}catch{}};se(),te=setTimeout(()=>{se(!0),I.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(Q),te&&clearTimeout(te)}}});var P=j.useCallback(m=>{var T=A.toDOMNode(i,i),x=T.getRootNode();if(tu&&M!==null&&M!==void 0&&M.current&&tr&&x instanceof ShadowRoot){var L=m.getTargetRanges(),ee=L[0],q=new window.Range;q.setStart(ee.startContainer,ee.startOffset),q.setEnd(ee.endContainer,ee.endOffset);var le=A.toSlateRange(i,q,{exactMatch:!1,suppressThrow:!1});w.select(i,le),m.preventDefault(),m.stopImmediatePropagation();return}if(S(),!s&&A.hasEditableTarget(i,m.target)&&!Wf(m,u)){var ne;if(U.current)return U.current.handleDOMBeforeInput(m);$.flush(),R.flush();var{selection:te}=i,{inputType:Q}=m,se=m.dataTransfer||m.data||void 0,he=Q==="insertCompositionText"||Q==="deleteCompositionText";if(he&&A.isComposing(i))return;var ae=!1;if(Q==="insertText"&&te&&B.isCollapsed(te)&&m.data&&m.data.length===1&&/[a-z ]/i.test(m.data)&&te.anchor.offset!==0){var pe,Te;ae=!0,i.marks&&(ae=!1);var{anchor:Oe}=te,[ye,de]=A.toDOMPoint(i,Oe),xe=(pe=ye.parentElement)===null||pe===void 0?void 0:pe.closest("a"),ge=A.getWindow(i);if(ae&&xe&&A.hasDOMNode(i,xe)){var ue,Ne=ge==null?void 0:ge.document.createTreeWalker(xe,NodeFilter.SHOW_TEXT).lastChild();Ne===ye&&((ue=Ne.textContent)===null||ue===void 0?void 0:ue.length)===de&&(ae=!1)}if(ae&&ye.parentElement&&(ge==null||(Te=ge.getComputedStyle(ye.parentElement))===null||Te===void 0?void 0:Te.whiteSpace)==="pre"){var _e=l.above(i,{at:Oe.path,match:Tr=>W.isElement(Tr)&&l.isBlock(i,Tr)});_e&&O.string(_e[0]).includes("	")&&(ae=!1)}}if(!Q.startsWith("delete")||Q.startsWith("deleteBy")){var[we]=m.getTargetRanges();if(we){var Le=A.toSlateRange(i,we,{exactMatch:!1,suppressThrow:!1});if(!te||!B.equals(te,Le)){ae=!1;var er=!he&&i.selection&&l.rangeRef(i,i.selection);w.select(i,Le),er&&wr.set(i,er)}}}if(he)return;if(ae||m.preventDefault(),te&&B.isExpanded(te)&&Q.startsWith("delete")){var ze=Q.endsWith("Backward")?"backward":"forward";l.deleteFragment(i,{direction:ze});return}switch(Q){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{l.deleteFragment(i);break}case"deleteContent":case"deleteContentForward":{l.deleteForward(i);break}case"deleteContentBackward":{l.deleteBackward(i);break}case"deleteEntireSoftLine":{l.deleteBackward(i,{unit:"line"}),l.deleteForward(i,{unit:"line"});break}case"deleteHardLineBackward":{l.deleteBackward(i,{unit:"block"});break}case"deleteSoftLineBackward":{l.deleteBackward(i,{unit:"line"});break}case"deleteHardLineForward":{l.deleteForward(i,{unit:"block"});break}case"deleteSoftLineForward":{l.deleteForward(i,{unit:"line"});break}case"deleteWordBackward":{l.deleteBackward(i,{unit:"word"});break}case"deleteWordForward":{l.deleteForward(i,{unit:"word"});break}case"insertLineBreak":l.insertSoftBreak(i);break;case"insertParagraph":{l.insertBreak(i);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{Q==="insertFromComposition"&&A.isComposing(i)&&(p(!1),nr.set(i,!1)),(se==null?void 0:se.constructor.name)==="DataTransfer"?A.insertData(i,se):typeof se=="string"&&(ae?b.current.push(()=>l.insertText(i,se)):l.insertText(i,se));break}}var mr=(ne=wr.get(i))===null||ne===void 0?void 0:ne.unref();wr.delete(i),mr&&(!i.selection||!B.equals(i.selection,mr))&&w.select(i,mr)}},[i,R,S,u,s,$]),k=j.useCallback(m=>{m==null?(R.cancel(),$.cancel(),Hr.delete(i),sr.delete(i),F.current&&Ue&&F.current.removeEventListener("beforeinput",P)):Ue&&m.addEventListener("beforeinput",P),F.current=m},[R,$,i,P]);Sr(()=>{var m=A.getWindow(i);return m.document.addEventListener("selectionchange",$),()=>{m.document.removeEventListener("selectionchange",$)}},[$]);var J=n([i,[]]),V=a&&i.children.length===1&&Array.from(O.texts(i)).length===1&&O.string(i)===""&&!E,oe=j.useCallback(m=>{if(m&&V){var T;N((T=m.getBoundingClientRect())===null||T===void 0?void 0:T.height)}else N(void 0)},[V]);if(V){var X=l.start(i,[]);J.push({[hr]:!0,placeholder:a,onPlaceholderResize:oe,anchor:X,focus:X})}var{marks:re}=i;if(I.hasMarkPlaceholder=!1,i.selection&&B.isCollapsed(i.selection)&&re){var{anchor:ve}=i.selection,ie=O.leaf(i,ve.path),Fe=Dr(ie,Mf);if(!z.equals(ie,re,{loose:!0})){I.hasMarkPlaceholder=!0;var Z=Object.fromEntries(Object.keys(Fe).map(m=>[m,null]));J.push(ke(ke(ke({[Ku]:!0},Z),re),{},{anchor:ve,focus:ve}))}}return j.useEffect(()=>{setTimeout(()=>{var{selection:m}=i;if(m){var{anchor:T}=m,x=O.leaf(i,T.path);if(re&&!z.equals(x,re,{loose:!0})){Ie.set(i,re);return}}Ie.delete(i)})}),Y.createElement(ta.Provider,{value:s},Y.createElement(ea.Provider,{value:n},Y.createElement(jf,{node:F,receivedUserInput:H},Y.createElement(h,ke(ke({role:s?void 0:"textbox","aria-multiline":s?void 0:!0},g),{},{spellCheck:Ue||!zr?g.spellCheck:!1,autoCorrect:Ue||!zr?g.autoCorrect:"false",autoCapitalize:Ue||!zr?g.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!s,zindex:-1,suppressContentEditableWarning:!0,ref:k,style:ke(ke({},C?{}:ke({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},y?{minHeight:y}:{})),D),onBeforeInput:j.useCallback(m=>{if(!Ue&&!s&&!Be(m,g.onBeforeInput)&&A.hasSelectableTarget(i,m.target)&&(m.preventDefault(),!A.isComposing(i))){var T=m.data;l.insertText(i,T)}},[g.onBeforeInput,i,s]),onInput:j.useCallback(m=>{if(!Be(m,g.onInput)){if(U.current){U.current.handleInput();return}for(var T of b.current)T();b.current=[]}},[g.onInput]),onBlur:j.useCallback(m=>{if(!(s||I.isUpdatingSelection||!A.hasSelectableTarget(i,m.target)||Be(m,g.onBlur))){var T=A.findDocumentOrShadowRoot(i);if(I.latestElement!==T.activeElement){var{relatedTarget:x}=m,L=A.toDOMNode(i,i);if(x!==L&&!(Re(x)&&x.hasAttribute("data-slate-spacer"))){if(x!=null&&Ze(x)&&A.hasDOMNode(i,x)){var ee=A.toSlateNode(i,x);if(W.isElement(ee)&&!i.isVoid(ee))return}if(tr){var q=T.getSelection();q==null||q.removeAllRanges()}Je.delete(i)}}}},[s,I.isUpdatingSelection,I.latestElement,i,g.onBlur]),onClick:j.useCallback(m=>{if(A.hasTarget(i,m.target)&&!Be(m,g.onClick)&&Ze(m.target)){var T=A.toSlateNode(i,m.target),x=A.findPath(i,T);if(!l.hasPath(i,x)||O.get(i,x)!==T)return;if(m.detail===yf&&x.length>=1){var L=x;if(!(W.isElement(T)&&l.isBlock(i,T))){var ee,q=l.above(i,{match:ae=>W.isElement(ae)&&l.isBlock(i,ae),at:x});L=(ee=q==null?void 0:q[1])!==null&&ee!==void 0?ee:x.slice(0,1)}var le=l.range(i,L);w.select(i,le);return}if(s)return;var ne=l.start(i,x),te=l.end(i,x),Q=l.void(i,{at:ne}),se=l.void(i,{at:te});if(Q&&se&&d.equals(Q[1],se[1])){var he=l.range(i,ne);w.select(i,he)}}},[i,g.onClick,s]),onCompositionEnd:j.useCallback(m=>{if(A.hasSelectableTarget(i,m.target)){var T;if(A.isComposing(i)&&Promise.resolve().then(()=>{p(!1),nr.set(i,!1)}),(T=U.current)===null||T===void 0||T.handleCompositionEnd(m),Be(m,g.onCompositionEnd)||Ee)return;if(!tr&&!yl&&!zu&&!Pl&&!xl&&m.data){var x=Ie.get(i);Ie.delete(i),x!==void 0&&(qe.set(i,i.marks),i.marks=x),l.insertText(i,m.data);var L=qe.get(i);qe.delete(i),L!==void 0&&(i.marks=L)}}},[g.onCompositionEnd,i]),onCompositionUpdate:j.useCallback(m=>{A.hasSelectableTarget(i,m.target)&&!Be(m,g.onCompositionUpdate)&&(A.isComposing(i)||(p(!0),nr.set(i,!0)))},[g.onCompositionUpdate,i]),onCompositionStart:j.useCallback(m=>{if(A.hasSelectableTarget(i,m.target)){var T;if((T=U.current)===null||T===void 0||T.handleCompositionStart(m),Be(m,g.onCompositionStart)||Ee)return;p(!0);var{selection:x}=i;if(x&&B.isExpanded(x)){l.deleteFragment(i);return}}},[g.onCompositionStart,i]),onCopy:j.useCallback(m=>{A.hasSelectableTarget(i,m.target)&&!Be(m,g.onCopy)&&!du(m)&&(m.preventDefault(),A.setFragmentData(i,m.clipboardData,"copy"))},[g.onCopy,i]),onCut:j.useCallback(m=>{if(!s&&A.hasSelectableTarget(i,m.target)&&!Be(m,g.onCut)&&!du(m)){m.preventDefault(),A.setFragmentData(i,m.clipboardData,"cut");var{selection:T}=i;if(T)if(B.isExpanded(T))l.deleteFragment(i);else{var x=O.parent(i,T.anchor.path);l.isVoid(i,x)&&w.delete(i)}}},[s,i,g.onCut]),onDragOver:j.useCallback(m=>{if(A.hasTarget(i,m.target)&&!Be(m,g.onDragOver)){var T=A.toSlateNode(i,m.target);W.isElement(T)&&l.isVoid(i,T)&&m.preventDefault()}},[g.onDragOver,i]),onDragStart:j.useCallback(m=>{if(!s&&A.hasTarget(i,m.target)&&!Be(m,g.onDragStart)){var T=A.toSlateNode(i,m.target),x=A.findPath(i,T),L=W.isElement(T)&&l.isVoid(i,T)||l.void(i,{at:x,voids:!0});if(L){var ee=l.range(i,x);w.select(i,ee)}I.isDraggingInternally=!0,A.setFragmentData(i,m.dataTransfer,"drag")}},[s,i,g.onDragStart,I]),onDrop:j.useCallback(m=>{if(!s&&A.hasTarget(i,m.target)&&!Be(m,g.onDrop)){m.preventDefault();var T=i.selection,x=A.findEventRange(i,m),L=m.dataTransfer;w.select(i,x),I.isDraggingInternally&&T&&!B.equals(T,x)&&!l.void(i,{at:x,voids:!0})&&w.delete(i,{at:T}),A.insertData(i,L),A.isFocused(i)||A.focus(i)}I.isDraggingInternally=!1},[s,i,g.onDrop,I]),onDragEnd:j.useCallback(m=>{!s&&I.isDraggingInternally&&g.onDragEnd&&A.hasTarget(i,m.target)&&g.onDragEnd(m),I.isDraggingInternally=!1},[s,I,g,i]),onFocus:j.useCallback(m=>{if(!s&&!I.isUpdatingSelection&&A.hasEditableTarget(i,m.target)&&!Be(m,g.onFocus)){var T=A.toDOMNode(i,i),x=A.findDocumentOrShadowRoot(i);if(I.latestElement=x.activeElement,cr&&m.target!==T){T.focus();return}Je.set(i,!0)}},[s,I,i,g.onFocus]),onKeyDown:j.useCallback(m=>{if(!s&&A.hasEditableTarget(i,m.target)){var T;(T=U.current)===null||T===void 0||T.handleKeyDown(m);var{nativeEvent:x}=m;if(A.isComposing(i)&&x.isComposing===!1&&(nr.set(i,!1),p(!1)),Be(m,g.onKeyDown)||A.isComposing(i))return;var{selection:L}=i,ee=i.children[L!==null?L.focus.path[0]:0],q=bu(O.string(ee))==="rtl";if(De.isRedo(x)){m.preventDefault();var le=i;typeof le.redo=="function"&&le.redo();return}if(De.isUndo(x)){m.preventDefault();var ne=i;typeof ne.undo=="function"&&ne.undo();return}if(De.isMoveLineBackward(x)){m.preventDefault(),w.move(i,{unit:"line",reverse:!0});return}if(De.isMoveLineForward(x)){m.preventDefault(),w.move(i,{unit:"line"});return}if(De.isExtendLineBackward(x)){m.preventDefault(),w.move(i,{unit:"line",edge:"focus",reverse:!0});return}if(De.isExtendLineForward(x)){m.preventDefault(),w.move(i,{unit:"line",edge:"focus"});return}if(De.isMoveBackward(x)){m.preventDefault(),L&&B.isCollapsed(L)?w.move(i,{reverse:!q}):w.collapse(i,{edge:q?"end":"start"});return}if(De.isMoveForward(x)){m.preventDefault(),L&&B.isCollapsed(L)?w.move(i,{reverse:q}):w.collapse(i,{edge:q?"start":"end"});return}if(De.isMoveWordBackward(x)){m.preventDefault(),L&&B.isExpanded(L)&&w.collapse(i,{edge:"focus"}),w.move(i,{unit:"word",reverse:!q});return}if(De.isMoveWordForward(x)){m.preventDefault(),L&&B.isExpanded(L)&&w.collapse(i,{edge:"focus"}),w.move(i,{unit:"word",reverse:q});return}if(Ue){if((Hu||tr)&&L&&(De.isDeleteBackward(x)||De.isDeleteForward(x))&&B.isCollapsed(L)){var te=O.parent(i,L.anchor.path);if(W.isElement(te)&&l.isVoid(i,te)&&(l.isInline(i,te)||l.isBlock(i,te))){m.preventDefault(),l.deleteBackward(i,{unit:"block"});return}}}else{if(De.isBold(x)||De.isItalic(x)||De.isTransposeCharacter(x)){m.preventDefault();return}if(De.isSoftBreak(x)){m.preventDefault(),l.insertSoftBreak(i);return}if(De.isSplitBlock(x)){m.preventDefault(),l.insertBreak(i);return}if(De.isDeleteBackward(x)){m.preventDefault(),L&&B.isExpanded(L)?l.deleteFragment(i,{direction:"backward"}):l.deleteBackward(i);return}if(De.isDeleteForward(x)){m.preventDefault(),L&&B.isExpanded(L)?l.deleteFragment(i,{direction:"forward"}):l.deleteForward(i);return}if(De.isDeleteLineBackward(x)){m.preventDefault(),L&&B.isExpanded(L)?l.deleteFragment(i,{direction:"backward"}):l.deleteBackward(i,{unit:"line"});return}if(De.isDeleteLineForward(x)){m.preventDefault(),L&&B.isExpanded(L)?l.deleteFragment(i,{direction:"forward"}):l.deleteForward(i,{unit:"line"});return}if(De.isDeleteWordBackward(x)){m.preventDefault(),L&&B.isExpanded(L)?l.deleteFragment(i,{direction:"backward"}):l.deleteBackward(i,{unit:"word"});return}if(De.isDeleteWordForward(x)){m.preventDefault(),L&&B.isExpanded(L)?l.deleteFragment(i,{direction:"forward"}):l.deleteForward(i,{unit:"word"});return}}}},[s,i,g.onKeyDown]),onPaste:j.useCallback(m=>{!s&&A.hasEditableTarget(i,m.target)&&!Be(m,g.onPaste)&&(!Ue||Rl(m.nativeEvent)||tr)&&(m.preventDefault(),A.insertData(i,m.clipboardData))},[s,i,g.onPaste])}),Y.createElement(If,{decorations:J,node:i,renderElement:o,renderPlaceholder:f,renderLeaf:c,selection:i.selection})))))},Lf=r=>{var{attributes:e,children:t}=r;return Y.createElement("span",ke({},e),t,Ee&&Y.createElement("br",null))},$f=()=>[],kf=(r,e)=>{if(e.getBoundingClientRect&&(!r.selection||r.selection&&B.isCollapsed(r.selection))){var t=e.startContainer.parentElement;t.getBoundingClientRect=e.getBoundingClientRect.bind(e),Jo(t,{scrollMode:"if-needed"}),delete t.getBoundingClientRect}},Be=(r,e)=>{if(!e)return!1;var t=e(r);return t??(r.isDefaultPrevented()||r.isPropagationStopped())},du=r=>Ze(r.target)&&(r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement),Wf=(r,e)=>{if(!e)return!1;var t=e(r);return t??r.defaultPrevented},zf=j.createContext(!1),Hf=j.createContext({});function qf(r){var e=j.useRef([]).current,t=j.useRef({editor:r}).current,n=j.useCallback(a=>{t.editor=a,e.forEach(s=>s(a))},[e,t]),u=j.useMemo(()=>({getSlate:()=>t.editor,addEventListener:a=>(e.push(a),()=>{e.splice(e.indexOf(a),1)})}),[e,t]);return{selectorContext:u,onChange:n}}var Vf=["editor","children","onChange","onSelectionChange","onValueChange","initialValue"],Qf=r=>{var{editor:e,children:t,onChange:n,onSelectionChange:u,onValueChange:a,initialValue:s}=r,o=Dr(r,Vf),[c,f]=Y.useState(()=>{if(!O.isNodeList(s))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(Ce.stringify(s)));if(!l.isEditor(e))throw new Error("[Slate] editor is invalid! You passed: ".concat(Ce.stringify(e)));return e.children=s,Object.assign(e,o),{v:0,editor:e}}),{selectorContext:v,onChange:D}=qf(e),h=j.useCallback(i=>{var E;switch(n&&n(e.children),i==null||(E=i.operation)===null||E===void 0?void 0:E.type){case"set_selection":u==null||u(e.selection);break;default:a==null||a(e.children)}f(p=>({v:p.v+1,editor:e})),D(e)},[e,D,n,u,a]);j.useEffect(()=>(Et.set(e,h),()=>{Et.set(e,()=>{})}),[e,h]);var[C,g]=j.useState(A.isFocused(e));return j.useEffect(()=>{g(A.isFocused(e))},[e]),Sr(()=>{var i=()=>g(A.isFocused(e));return Wu>=17?(document.addEventListener("focusin",i),document.addEventListener("focusout",i),()=>{document.removeEventListener("focusin",i),document.removeEventListener("focusout",i)}):(document.addEventListener("focus",i,!0),document.addEventListener("blur",i,!0),()=>{document.removeEventListener("focus",i,!0),document.removeEventListener("blur",i,!0)})},[]),Y.createElement(Hf.Provider,{value:v},Y.createElement(na.Provider,{value:c},Y.createElement(Ht.Provider,{value:c.editor},Y.createElement(zf.Provider,{value:C},t))))},Du=(r,e)=>{var t=(e.top+e.bottom)/2;return r.top<=t&&r.bottom>=t},hu=(r,e,t)=>{var n=A.toDOMRange(r,e).getBoundingClientRect(),u=A.toDOMRange(r,t).getBoundingClientRect();return Du(n,u)&&Du(u,n)},Kf=(r,e)=>{var t=l.range(r,B.end(e)),n=Array.from(l.positions(r,{at:e})),u=0,a=n.length,s=Math.floor(a/2);if(hu(r,l.range(r,n[u]),t))return l.range(r,n[u],t);if(n.length<2)return l.range(r,n[n.length-1],t);for(;s!==n.length&&s!==u;)hu(r,l.range(r,n[s]),t)?a=s:u=s,s=Math.floor((u+a)/2);return l.range(r,n[a],t)};function gu(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function Cu(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gu(Object(t),!0).forEach(function(n){je(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):gu(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var _f=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",n=e,{apply:u,onChange:a,deleteBackward:s,addMark:o,removeMark:c}=n;return Jr.set(n,new WeakMap),n.addMark=(f,v)=>{var D,h;(D=Kt.get(n))===null||D===void 0||D(),!Ie.get(n)&&(h=be.get(n))!==null&&h!==void 0&&h.length&&Ie.set(n,null),qe.delete(n),o(f,v)},n.removeMark=f=>{var v;!Ie.get(n)&&(v=be.get(n))!==null&&v!==void 0&&v.length&&Ie.set(n,null),qe.delete(n),c(f)},n.deleteBackward=f=>{if(f!=="line")return s(f);if(n.selection&&B.isCollapsed(n.selection)){var v=l.above(n,{match:g=>W.isElement(g)&&l.isBlock(n,g),at:n.selection});if(v){var[,D]=v,h=l.range(n,D,n.selection.anchor),C=Kf(n,h);B.isCollapsed(C)||w.delete(n,{at:C})}}},n.apply=f=>{var v=[],D=[],h=be.get(n);if(h!=null&&h.length){var C=h.map(P=>Ul(P,f)).filter(Boolean);be.set(n,C)}var g=Ye.get(n);g&&Ye.set(n,uu(n,g,f));var i=Ge.get(n);if(i!=null&&i.at){var E=_.isPoint(i==null?void 0:i.at)?wt(n,i.at,f):uu(n,i.at,f);Ge.set(n,E?Cu(Cu({},i),{},{at:E}):null)}switch(f.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{v.push(...lr(n,f.path));break}case"set_selection":{var p;(p=wr.get(n))===null||p===void 0||p.unref(),wr.delete(n);break}case"insert_node":case"remove_node":{v.push(...lr(n,d.parent(f.path)));break}case"merge_node":{var F=d.previous(f.path);v.push(...lr(n,F));break}case"move_node":{var b=d.common(d.parent(f.path),d.parent(f.newPath));v.push(...lr(n,b));var y;d.isBefore(f.path,f.newPath)?(v.push(...lr(n,d.parent(f.path))),y=f.newPath):(v.push(...lr(n,d.parent(f.newPath))),y=f.path);var N=O.get(e,d.parent(y)),M=A.findKey(n,N),S=l.pathRef(n,d.parent(y));D.push([S,M]);break}}u(f);for(var[H,K]of v){var[I]=l.node(n,H);Yr.set(I,K)}for(var[U,R]of D)if(U.current){var[$]=l.node(n,U.current);Yr.set($,R)}},n.setFragmentData=f=>{var{selection:v}=n;if(v){var[D,h]=B.edges(v),C=l.void(n,{at:D.path}),g=l.void(n,{at:h.path});if(!(B.isCollapsed(v)&&!C)){var i=A.toDOMRange(n,v),E=i.cloneContents(),p=E.childNodes[0];if(E.childNodes.forEach(I=>{I.textContent&&I.textContent.trim()!==""&&(p=I)}),g){var[F]=g,b=i.cloneRange(),y=A.toDOMNode(n,F);b.setEndAfter(y),E=b.cloneContents()}if(C&&(p=E.querySelector("[data-slate-spacer]")),Array.from(E.querySelectorAll("[data-slate-zero-width]")).forEach(I=>{var U=I.getAttribute("data-slate-zero-width")==="n";I.textContent=U?`
`:""}),Uu(p)){var N=p.ownerDocument.createElement("span");N.style.whiteSpace="pre",N.appendChild(p),E.appendChild(N),p=N}var M=n.getFragment(),S=JSON.stringify(M),H=window.btoa(encodeURIComponent(S));p.setAttribute("data-slate-fragment",H),f.setData("application/".concat(t),H);var K=E.ownerDocument.createElement("div");return K.appendChild(E),K.setAttribute("hidden","true"),E.ownerDocument.body.appendChild(K),f.setData("text/html",K.innerHTML),f.setData("text/plain",Yu(K)),E.ownerDocument.body.removeChild(K),f}}},n.insertData=f=>{n.insertFragmentData(f)||n.insertTextData(f)},n.insertFragmentData=f=>{var v=f.getData("application/".concat(t))||Ll(f);if(v){var D=decodeURIComponent(window.atob(v)),h=JSON.parse(D);return n.insertFragment(h),!0}return!1},n.insertTextData=f=>{var v=f.getData("text/plain");if(v){var D=v.split(/\r\n|\r|\n/),h=!1;for(var C of D)h&&w.splitNodes(n,{always:!0}),n.insertText(C),h=!0;return!0}return!1},n.onChange=f=>{var v=Wu<18?ca.unstable_batchedUpdates:D=>D();v(()=>{var D=Et.get(n);D&&D(f),a(f)})},n},lr=(r,e)=>{var t=[];for(var[n,u]of l.levels(r,{at:e})){var a=A.findKey(r,n);t.push([u,a])}return t},Uf={isHistory(r){return me(r)&&Array.isArray(r.redos)&&Array.isArray(r.undos)&&(r.redos.length===0||Xe.isOperationList(r.redos[0].operations))&&(r.undos.length===0||Xe.isOperationList(r.undos[0].operations))}},ct=new WeakMap,vt=new WeakMap,vr={isHistoryEditor(r){return Uf.isHistory(r.history)&&l.isEditor(r)},isMerging(r){return vt.get(r)},isSaving(r){return ct.get(r)},redo(r){r.redo()},undo(r){r.undo()},withoutMerging(r,e){var t=vr.isMerging(r);vt.set(r,!1),e(),vt.set(r,t)},withoutSaving(r,e){var t=vr.isSaving(r);ct.set(r,!1),e(),ct.set(r,t)}},ec=r=>{var e=r,{apply:t}=e;return e.history={undos:[],redos:[]},e.redo=()=>{var{history:n}=e,{redos:u}=n;if(u.length>0){var a=u[u.length-1];a.selectionBefore&&w.setSelection(e,a.selectionBefore),vr.withoutSaving(e,()=>{l.withoutNormalizing(e,()=>{for(var s of a.operations)e.apply(s)})}),n.redos.pop(),e.writeHistory("undos",a)}},e.undo=()=>{var{history:n}=e,{undos:u}=n;if(u.length>0){var a=u[u.length-1];vr.withoutSaving(e,()=>{l.withoutNormalizing(e,()=>{var s=a.operations.map(Xe.inverse).reverse();for(var o of s)e.apply(o);a.selectionBefore&&w.setSelection(e,a.selectionBefore)})}),e.writeHistory("redos",a),n.undos.pop()}},e.apply=n=>{var{operations:u,history:a}=e,{undos:s}=a,o=s[s.length-1],c=o&&o.operations[o.operations.length-1],f=vr.isSaving(e),v=vr.isMerging(e);if(f==null&&(f=Yf(n)),f){if(v==null&&(o==null?v=!1:u.length!==0?v=!0:v=Gf(n,c)),o&&v)o.operations.push(n);else{var D={operations:[n],selectionBefore:e.selection};e.writeHistory("undos",D)}for(;s.length>100;)s.shift();a.redos=[]}t(n)},e.writeHistory=(n,u)=>{e.history[n].push(u)},e},Gf=(r,e)=>!!(e&&r.type==="insert_text"&&e.type==="insert_text"&&r.offset===e.offset+e.text.length&&d.equals(r.path,e.path)||e&&r.type==="remove_text"&&e.type==="remove_text"&&r.offset+r.text.length===e.offset&&d.equals(r.path,e.path)),Yf=(r,e)=>r.type!=="set_selection";export{Zf as E,Qf as S,z as T,_f as a,Jf as c,ec as w};
