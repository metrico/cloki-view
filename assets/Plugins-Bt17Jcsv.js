import{h,i as w,d as t,F as x,f as g,j as u,g as m}from"./index-DxUL60HE.js";import{r as d}from"./react-B8DbRJ_3.js";import{L as v}from"./PluginManagerFactory-CGvlLmxY.js";import{r as P,S}from"./createSvgIcon-H-dIiTtO.js";import{j as N}from"./reactDnd-BahdM_e-.js";import{u as j}from"./vendor-B716flWj.js";import{u as z}from"./useWebVitals-LVB-yI_d.js";import"./reactSelect-BJA0LmWP.js";import"./memoize-CbKs8VX_.js";const k=e=>h("max-width:1440px;padding:10px;margin:10px;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;overflow-x:hidden;display:flex;flex-direction:column;flex:1;height:100%;overflow:hidden;max-width:1440px;align-self:center;.plugin-section{padding:4px;font-size:14px;color:",e.contrast,";}.page-header{border-bottom:1px solid ",e.shadow,";margin-bottom:0.5em;padding:1em 0.25em;display:flex;gap:0.25em;align-items:baseline;h1{font-size:1.5em;color:",e.contrast,";}h3{font-size:1.25em;color:",e.contrastNeutral,";}}.cards-container{display:flex;flex-direction:row;flex:1;gap:1em;}",""),E=e=>h("padding:10px;margin:4px;background:",e.shadow,";border:1px solid ",e.accentNeutral,";color:",e.contrast,";display:flex;align-items:flex-start;flex-direction:column;width:350px;border-radius:3px;height:fit-content;.image{display:flex;align-items:center;}.title{font-size:16px;padding:4px;align-self:flex-start;display:flex;align-items:center;width:100%;.plugin-name{flex:1;margin-left:10px;}.switch{display:flex;align-items:center;justify-self:end;}}.text{font-size:12px;padding:4px;line-height:1.5;}.icon{font-size:60px;opacity:0.25;}","");var f={},_=w;Object.defineProperty(f,"__esModule",{value:!0});var b=f.default=void 0,C=_(P()),M=N;b=f.default=(0,C.default)((0,M.jsx)("path",{d:"M10.5 4.5c.28 0 .5.22.5.5v2h6v6h2c.28 0 .5.22.5.5s-.22.5-.5.5h-2v6h-2.12c-.68-1.75-2.39-3-4.38-3s-3.7 1.25-4.38 3H4v-2.12c1.75-.68 3-2.39 3-4.38 0-1.99-1.24-3.7-2.99-4.38L4 7h6V5c0-.28.22-.5.5-.5m0-2C9.12 2.5 8 3.62 8 5H4c-1.1 0-1.99.9-1.99 2v3.8h.29c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-.3c0-1.49 1.21-2.7 2.7-2.7s2.7 1.21 2.7 2.7v.3H17c1.1 0 2-.9 2-2v-4c1.38 0 2.5-1.12 2.5-2.5S20.38 11 19 11V7c0-1.1-.9-2-2-2h-4c0-1.38-1.12-2.5-2.5-2.5"}),"ExtensionOutlined");const O=e=>{const{name:n,active:a,section:s}=e,i=v(),[r,c]=d.useState(a),l=(o,y,p)=>{c(()=>!p),i.togglePlugin(o,y,!p)};return t(x,{children:t(S,{size:"small",checked:r,onChange:()=>l(s,n,r),inputProps:{"aria-label":"controlled"}})})},H=e=>{const{theme:n,name:a,description:s,section:i,active:r,visible:c}=e;return c?t(x,{children:u("div",{className:m(E(n)),children:[u("div",{className:"title",children:[t("div",{className:"image",children:t(b,{className:"icon"})}),u("div",{className:"plugin-name",children:[" ",a]}),t("div",{className:"switch",children:t(O,{active:r,name:a,section:i})})]}),t("div",{className:"text",children:s})]})}):t(x,{})},R=({components:e,section:n})=>{const a=j(l=>l.currentUser.role),s=d.useMemo(()=>e==null?void 0:e.filter(l=>l.roles.includes(a)),[a,e]),[i,r]=d.useState(s);d.useEffect(()=>{if(a&&e){let l=e==null?void 0:e.filter(o=>o.roles.includes(a));r(l)}},[a,e]);const c=g();return t("div",{style:{display:"flex",gap:".5em"},children:(i==null?void 0:i.length)>0&&(i==null?void 0:i.map((l,o)=>t(H,{theme:c,name:l.name,active:l.active,visible:l.visible,section:n,description:l.description},o)))})};function W(){const e=g();z({page:"Plugins"});const n=v(),[a]=d.useState(n.getAll()),s=d.useMemo(()=>{var i;return((i=Object.keys(a))==null?void 0:i.length)>0?Object.entries(a):[]},[a]);return u("div",{className:m(k(e)),children:[u("div",{className:"page-header",children:[t("h1",{children:"Plugins"}),t("h3",{children:"(need to reload page to activate)"})]}),t("div",{className:"cards-container",children:(s==null?void 0:s.length)>0&&(s==null?void 0:s.map(([i,r],c)=>t(R,{components:r,section:i},c)))})]})}export{W as default};
