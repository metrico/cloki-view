import{k as Gp,m as Kp,n as Jp,o as Ti,r as hr,p as Yp,q as Xp,t as Zp,c as Qn,v as tc,b as Sr,w as wr,x as Zr,s as Tn,B as eg,y as dd,z as Ht,a as vi,A as tg,u as Tr,C as ao,D as en,E as It,d as f,g as Pe,G as fd,H as hd,h as ie,f as Be,j as F,i as ve,I as ng,J as Pa,P as pd,F as mt,K as gd,l as md,e as jn,L as oo,M as rg,O as ig}from"./index-2eff3ecd.js";import{a as yt,d as Cr,m as zt,u as Re,q as ei,x as sa,y as ui,z as nc,A as rc,D as $a,E as za,F as Va,G as aa,H as sg,I as ag,J as zr,K as Ur,M as lo,Q as og,S as yn,T as lg,U as vd,V as bd,W as co,X as bi,Y as ic,Z as yd,$ as Bn,n as Gn,o as Sn,a0 as cg,a1 as ug,a2 as dg,a3 as fg,a4 as hg,a5 as pg,j as Pn,a6 as gg,w as wn,a7 as Wi,a8 as sc,a9 as ac,aa as mg,ab as vg,ac as bg,ad as uo,ae as yg,af as ls,v as oc,r as xg}from"./vendor-154e05f8.js";import{h as nn}from"./moment-e9e012b5.js";import{r as b,c as xd,a as Mi,R as ln,d as Ci}from"./react-5ef71a40.js";import{f as Sd,h as cs,u as fo,s as Sg,i as wg,T as Lt,C as Tg,D as ho,j as po,k as Cg,l as kg,m as Eg,o as _g,p as Ig,q as Rg,r as Mg,E as Ng,t as go,v as Og,w as wd,x as Xe,b as Lg,y as di,M as Fa,z as Dg,A as Td,G as Vr,H as Ag,I as Pg,J as $g,K as zg,L as Fr,N as Vg,R as Cd,O as fr,d as Fg,Q as kd,U as Ed,V as _d,W as mo,X as Ni,Y as jg,Z as Hg,_ as Id,$ as lc,n as tr,a as ts,a0 as Rd,a1 as Bg,a2 as qg,a3 as Wg,a4 as Md,a5 as Nd,a6 as Od,a7 as ja,a8 as Ld,P as Oi,a9 as Ug,aa as Qg,ab as cc,S as Gg,ac as Kg,ad as uc}from"./consts-3bd6e49a.js";import{s as Dd,B as vo}from"./DeleteOutlineOutlined-e88ff8a8.js";import{l as Ft}from"./lodash-92c2b3e1.js";import{a as Jg,u as Ad,r as Tt,i as Ct,S as xn}from"./createSvgIcon-33a0b0c3.js";import{j as qe,u as Yg,b as Xg,H as Zg,D as em}from"./reactDnd-30d7bbb0.js";import{k as Pd,d as $d,s as tm,i as nm,g as rm,_ as im,b as vt,S as bo,e as zd,j as Li,f as Vd}from"./reactSelect-0cdb4520.js";import{r as sm,f as dc,u as am,g as om,a as lm,b as cm,c as um,d as dm,e as fm,h as hm,i as pm}from"./reactTable-5a308316.js";import{m as ti,d as gm,a as mm,u as fc}from"./memoize-ac76fba7.js";import{m as Fd}from"./momentTimeZone-25b7492d.js";import{w as jd,a as Hd,T as Bd,S as qd,E as Wd,c as Ud}from"./slate-cfc13f69.js";import{F as Ui,d as Di,s as us,e as yo}from"./AddOutlined-65c4ddb2.js";import{P as vm,u as bm,L as hc}from"./PluginManagerFactory-37902b06.js";import{s as ym}from"./actions-2742fbfc.js";const xo=e=>t=>{t({type:"SET_START_TIME",start:e})},So=e=>t=>{t({type:"SET_STOP_TIME",stop:e})},xm=e=>t=>{t({type:"SET_QUERY_STEP",step:e})},pc=e=>t=>{t({type:"SET_RANGE_OPEN",rangeOpen:e})},wo=e=>t=>{t({type:"SET_TIME_RANGE_LABEL",label:e})},Qd=e=>t=>{t({type:"SET_QUERY_TIME",time:e})},ns=e=>t=>{t({type:"SET_QUERY_HISTORY",queryHistory:e})},Gd=e=>t=>{t({type:"SET_HISTORY_OPEN",historyOpen:e})};function Sm(e){return function(t){t({type:"SET_FROM_TIME",toTime:e})}}function wm(e){return function(t){t({type:"SET_TO_TIME"})}}const mr=e=>t=>{t({type:"SET_IS_EMPTY_VIEW",isEmptyView:e})};function Tm(e){return function(t){t({type:"SET_RESPONSE_TYPE",responseType:e})}}const Yt=e=>t=>{t({type:"SET_RIGHT_PANEL",right:e})},cn=e=>t=>{t({type:"SET_LEFT_PANEL",left:e})},kr=e=>t=>{t({type:"SET_RIGHT_DATAVIEW",rightDataView:e})},Er=e=>t=>{t({type:"SET_LEFT_DATAVIEW",leftDataView:e})},Cm=e=>t=>{t({type:"SET_SPLIT_VIEW",isSplit:e})},km=Gp(),Em=km,_m=["component","direction","spacing","divider","children","className","useFlexGap"],Im=Kp(),Rm=Em("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function Mm(e){return Jp({props:e,name:"MuiStack",defaultTheme:Im})}function Nm(e,t){const n=b.Children.toArray(e).filter(Boolean);return n.reduce((r,i,s)=>(r.push(i),s<n.length-1&&r.push(b.cloneElement(t,{key:`separator-${s}`})),r),[])}const Om=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],Lm=({ownerState:e,theme:t})=>{let n=yt({display:"flex",flexDirection:"column"},Ti({theme:t},hr({values:e.direction,breakpoints:t.breakpoints.values}),r=>({flexDirection:r})));if(e.spacing){const r=Yp(t),i=Object.keys(t.breakpoints.values).reduce((c,h)=>((typeof e.spacing=="object"&&e.spacing[h]!=null||typeof e.direction=="object"&&e.direction[h]!=null)&&(c[h]=!0),c),{}),s=hr({values:e.direction,base:i}),o=hr({values:e.spacing,base:i});typeof s=="object"&&Object.keys(s).forEach((c,h,u)=>{if(!s[c]){const S=h>0?s[u[h-1]]:"column";s[c]=S}}),n=Xp(n,Ti({theme:t},o,(c,h)=>e.useFlexGap?{gap:tc(r,c)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Om(h?s[h]:e.direction)}`]:tc(r,c)}}))}return n=Zp(t.breakpoints,n),n};function Dm(e={}){const{createStyledComponent:t=Rm,useThemeProps:n=Mm,componentName:r="MuiStack"}=e,i=()=>Sr({root:["root"]},c=>wr(r,c),{}),s=t(Lm);return b.forwardRef(function(c,h){const u=n(c),g=Sd(u),{component:S="div",direction:w="column",spacing:m=0,divider:C,children:k,className:T,useFlexGap:y=!1}=g,N=Cr(g,_m),M={direction:w,spacing:m,useFlexGap:y},L=i();return qe.jsx(s,yt({as:S,ownerState:M,ref:h,className:Qn(L.root,T)},N,{children:C?Nm(k,C):k}))})}function Kd({props:e,states:t,muiFormControl:n}){return t.reduce((r,i)=>(r[i]=e[i],n&&typeof e[i]>"u"&&(r[i]=n[i]),r),{})}function Am(e){return wr("MuiButton",e)}const Pm=Zr("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Qi=Pm,$m=b.createContext({}),zm=$m,Vm=b.createContext(void 0),Fm=Vm,jm=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Hm=e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=e,l={root:["root",s,`${s}${Ht(t)}`,`size${Ht(i)}`,`${s}Size${Ht(i)}`,t==="inherit"&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${Ht(i)}`],endIcon:["endIcon",`iconSize${Ht(i)}`]},c=Sr(l,Am,o);return yt({},o,c)},Jd=e=>yt({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),Bm=Tn(eg,{shouldForwardProp:e=>dd(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Ht(n.color)}`],t[`size${Ht(n.size)}`],t[`${n.variant}Size${Ht(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var n,r;const i=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],s=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return yt({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":yt({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:vi(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:vi(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:vi(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":yt({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${Qi.focusVisible}`]:yt({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${Qi.disabled}`]:yt({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${vi(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(n=(r=e.palette).getContrastText)==null?void 0:n.call(r,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:i,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Qi.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Qi.disabled}`]:{boxShadow:"none"}}),qm=Tn("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${Ht(n.size)}`]]}})(({ownerState:e})=>yt({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},Jd(e))),Wm=Tn("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${Ht(n.size)}`]]}})(({ownerState:e})=>yt({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},Jd(e))),Um=b.forwardRef(function(t,n){const r=b.useContext(zm),i=b.useContext(Fm),s=tg(r,t),o=Tr({props:s,name:"MuiButton"}),{children:l,color:c="primary",component:h="button",className:u,disabled:g=!1,disableElevation:S=!1,disableFocusRipple:w=!1,endIcon:m,focusVisibleClassName:C,fullWidth:k=!1,size:T="medium",startIcon:y,type:N,variant:M="text"}=o,L=Cr(o,jm),P=yt({},o,{color:c,component:h,disabled:g,disableElevation:S,disableFocusRipple:w,fullWidth:k,size:T,type:N,variant:M}),p=Hm(P),_=y&&qe.jsx(qm,{className:p.startIcon,ownerState:P,children:y}),I=m&&qe.jsx(Wm,{className:p.endIcon,ownerState:P,children:m}),D=i||"";return qe.jsxs(Bm,yt({ownerState:P,className:Qn(r.className,p.root,u,D),component:h,disabled:g,focusRipple:!w,focusVisibleClassName:Qn(p.focusVisible,C),ref:n,type:N},L,{classes:p,children:[_,l,I]}))}),Yd=Um,Qm=ao(qe.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),Gm=ao(qe.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),Km=ao(qe.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function Jm(e){return wr("MuiCheckbox",e)}const Ym=Zr("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),oa=Ym,Xm=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],Zm=e=>{const{classes:t,indeterminate:n,color:r,size:i}=e,s={root:["root",n&&"indeterminate",`color${Ht(r)}`,`size${Ht(i)}`]},o=Sr(s,Jm,t);return yt({},t,o)},ev=Tn(Jg,{shouldForwardProp:e=>dd(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t[`size${Ht(n.size)}`],n.color!=="default"&&t[`color${Ht(n.color)}`]]}})(({theme:e,ownerState:t})=>yt({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${t.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:vi(t.color==="default"?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${oa.checked}, &.${oa.indeterminate}`]:{color:(e.vars||e).palette[t.color].main},[`&.${oa.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),tv=qe.jsx(Gm,{}),nv=qe.jsx(Qm,{}),rv=qe.jsx(Km,{}),iv=b.forwardRef(function(t,n){var r,i;const s=Tr({props:t,name:"MuiCheckbox"}),{checkedIcon:o=tv,color:l="primary",icon:c=nv,indeterminate:h=!1,indeterminateIcon:u=rv,inputProps:g,size:S="medium",className:w}=s,m=Cr(s,Xm),C=h?u:c,k=h?u:o,T=yt({},s,{color:l,indeterminate:h,size:S}),y=Zm(T);return qe.jsx(ev,yt({type:"checkbox",inputProps:yt({"data-indeterminate":h},g),icon:b.cloneElement(C,{fontSize:(r=C.props.fontSize)!=null?r:S}),checkedIcon:b.cloneElement(k,{fontSize:(i=k.props.fontSize)!=null?i:S}),ownerState:T,ref:n,className:Qn(y.root,w)},m,{classes:y}))}),sv=iv;function av(e){return wr("MuiCircularProgress",e)}Zr("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const ov=["className","color","disableShrink","size","style","thickness","value","variant"];let Ts=e=>e,gc,mc,vc,bc;const Zn=44,lv=Pd(gc||(gc=Ts`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),cv=Pd(mc||(mc=Ts`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),uv=e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,s={root:["root",n,`color${Ht(r)}`],svg:["svg"],circle:["circle",`circle${Ht(n)}`,i&&"circleDisableShrink"]};return Sr(s,av,t)},dv=Tn("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${Ht(n.color)}`]]}})(({ownerState:e,theme:t})=>yt({display:"inline-block"},e.variant==="determinate"&&{transition:t.transitions.create("transform")},e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&$d(vc||(vc=Ts`
      animation: ${0} 1.4s linear infinite;
    `),lv)),fv=Tn("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),hv=Tn("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${Ht(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>yt({stroke:"currentColor"},e.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&$d(bc||(bc=Ts`
      animation: ${0} 1.4s ease-in-out infinite;
    `),cv)),pv=b.forwardRef(function(t,n){const r=Tr({props:t,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:l=40,style:c,thickness:h=3.6,value:u=0,variant:g="indeterminate"}=r,S=Cr(r,ov),w=yt({},r,{color:s,disableShrink:o,size:l,thickness:h,value:u,variant:g}),m=uv(w),C={},k={},T={};if(g==="determinate"){const y=2*Math.PI*((Zn-h)/2);C.strokeDasharray=y.toFixed(3),T["aria-valuenow"]=Math.round(u),C.strokeDashoffset=`${((100-u)/100*y).toFixed(3)}px`,k.transform="rotate(-90deg)"}return qe.jsx(dv,yt({className:Qn(m.root,i),style:yt({width:l,height:l},k,c),ownerState:w,ref:n,role:"progressbar"},T,S,{children:qe.jsx(fv,{className:m.svg,ownerState:w,viewBox:`${Zn/2} ${Zn/2} ${Zn} ${Zn}`,children:qe.jsx(hv,{className:m.circle,style:C,ownerState:w,cx:Zn,cy:Zn,r:(Zn-h)/2,fill:"none",strokeWidth:h})})}))}),gv=pv,mv=Dm({createStyledComponent:Tn("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>Tr({props:e,name:"MuiStack"})}),vv=mv;function bv(e){return wr("MuiFormControlLabel",e)}const yv=Zr("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),yi=yv,xv=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],Sv=e=>{const{classes:t,disabled:n,labelPlacement:r,error:i,required:s}=e,o={root:["root",n&&"disabled",`labelPlacement${Ht(r)}`,i&&"error",s&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return Sr(o,bv,t)},wv=Tn("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${yi.label}`]:t.label},t.root,t[`labelPlacement${Ht(n.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>yt({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${yi.disabled}`]:{cursor:"default"}},t.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},t.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},t.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${yi.label}`]:{[`&.${yi.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),Tv=Tn("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${yi.error}`]:{color:(e.vars||e).palette.error.main}})),Cv=b.forwardRef(function(t,n){var r,i;const s=Tr({props:t,name:"MuiFormControlLabel"}),{className:o,componentsProps:l={},control:c,disabled:h,disableTypography:u,label:g,labelPlacement:S="end",required:w,slotProps:m={}}=s,C=Cr(s,xv),k=Ad(),T=(r=h??c.props.disabled)!=null?r:k==null?void 0:k.disabled,y=w??c.props.required,N={disabled:T,required:y};["checked","name","onChange","value","inputRef"].forEach(I=>{typeof c.props[I]>"u"&&typeof s[I]<"u"&&(N[I]=s[I])});const M=Kd({props:s,muiFormControl:k,states:["error"]}),L=yt({},s,{disabled:T,labelPlacement:S,required:y,error:M.error}),P=Sv(L),p=(i=m.typography)!=null?i:l.typography;let _=g;return _!=null&&_.type!==cs&&!u&&(_=qe.jsx(cs,yt({component:"span"},p,{className:Qn(P.label,p==null?void 0:p.className),children:_}))),qe.jsxs(wv,yt({className:Qn(P.root,o),ownerState:L,ref:n},C,{children:[b.cloneElement(c,N),y?qe.jsxs(vv,{display:"block",children:[_,qe.jsxs(Tv,{ownerState:L,"aria-hidden":!0,className:P.asterisk,children:[" ","*"]})]}):_]}))}),kv=Cv;function Ev(e){return wr("MuiFormGroup",e)}Zr("MuiFormGroup",["root","row","error"]);const _v=["className","row"],Iv=e=>{const{classes:t,row:n,error:r}=e;return Sr({root:["root",n&&"row",r&&"error"]},Ev,t)},Rv=Tn("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})(({ownerState:e})=>yt({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),Mv=b.forwardRef(function(t,n){const r=Tr({props:t,name:"MuiFormGroup"}),{className:i,row:s=!1}=r,o=Cr(r,_v),l=Ad(),c=Kd({props:r,muiFormControl:l,states:["error"]}),h=yt({},r,{row:s,error:c.error}),u=Iv(h);return qe.jsx(Rv,yt({className:Qn(u.root,i),ownerState:h,ref:n},o))}),Nv=Mv,Ov=b.createContext(),yc=Ov;function Lv(e){return wr("MuiGrid",e)}const Dv=[0,1,2,3,4,5,6,7,8,9,10],Av=["column-reverse","column","row-reverse","row"],Pv=["nowrap","wrap-reverse","wrap"],fi=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],ki=Zr("MuiGrid",["root","container","item","zeroMinWidth",...Dv.map(e=>`spacing-xs-${e}`),...Av.map(e=>`direction-xs-${e}`),...Pv.map(e=>`wrap-xs-${e}`),...fi.map(e=>`grid-xs-${e}`),...fi.map(e=>`grid-sm-${e}`),...fi.map(e=>`grid-md-${e}`),...fi.map(e=>`grid-lg-${e}`),...fi.map(e=>`grid-xl-${e}`)]),$v=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Hr(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function zv({theme:e,ownerState:t}){let n;return e.breakpoints.keys.reduce((r,i)=>{let s={};if(t[i]&&(n=t[i]),!n)return r;if(n===!0)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=hr({values:t.columns,breakpoints:e.breakpoints.values}),l=typeof o=="object"?o[i]:o;if(l==null)return r;const c=`${Math.round(n/l*1e8)/1e6}%`;let h={};if(t.container&&t.item&&t.columnSpacing!==0){const u=e.spacing(t.columnSpacing);if(u!=="0px"){const g=`calc(${c} + ${Hr(u)})`;h={flexBasis:g,maxWidth:g}}}s=yt({flexBasis:c,flexGrow:0,maxWidth:c},h)}return e.breakpoints.values[i]===0?Object.assign(r,s):r[e.breakpoints.up(i)]=s,r},{})}function Vv({theme:e,ownerState:t}){const n=hr({values:t.direction,breakpoints:e.breakpoints.values});return Ti({theme:e},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${ki.item}`]={maxWidth:"none"}),i})}function Xd({breakpoints:e,values:t}){let n="";Object.keys(t).forEach(i=>{n===""&&t[i]!==0&&(n=i)});const r=Object.keys(e).sort((i,s)=>e[i]-e[s]);return r.slice(0,r.indexOf(n))}function Fv({theme:e,ownerState:t}){const{container:n,rowSpacing:r}=t;let i={};if(n&&r!==0){const s=hr({values:r,breakpoints:e.breakpoints.values});let o;typeof s=="object"&&(o=Xd({breakpoints:e.breakpoints.values,values:s})),i=Ti({theme:e},s,(l,c)=>{var h;const u=e.spacing(l);return u!=="0px"?{marginTop:`-${Hr(u)}`,[`& > .${ki.item}`]:{paddingTop:Hr(u)}}:(h=o)!=null&&h.includes(c)?{}:{marginTop:0,[`& > .${ki.item}`]:{paddingTop:0}}})}return i}function jv({theme:e,ownerState:t}){const{container:n,columnSpacing:r}=t;let i={};if(n&&r!==0){const s=hr({values:r,breakpoints:e.breakpoints.values});let o;typeof s=="object"&&(o=Xd({breakpoints:e.breakpoints.values,values:s})),i=Ti({theme:e},s,(l,c)=>{var h;const u=e.spacing(l);return u!=="0px"?{width:`calc(100% + ${Hr(u)})`,marginLeft:`-${Hr(u)}`,[`& > .${ki.item}`]:{paddingLeft:Hr(u)}}:(h=o)!=null&&h.includes(c)?{}:{width:"100%",marginLeft:0,[`& > .${ki.item}`]:{paddingLeft:0}}})}return i}function Hv(e,t,n={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[n[`spacing-xs-${String(e)}`]];const r=[];return t.forEach(i=>{const s=e[i];Number(s)>0&&r.push(n[`spacing-${i}-${String(s)}`])}),r}const Bv=Tn("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:i,item:s,spacing:o,wrap:l,zeroMinWidth:c,breakpoints:h}=n;let u=[];r&&(u=Hv(o,h,t));const g=[];return h.forEach(S=>{const w=n[S];w&&g.push(t[`grid-${S}-${String(w)}`])}),[t.root,r&&t.container,s&&t.item,c&&t.zeroMinWidth,...u,i!=="row"&&t[`direction-xs-${String(i)}`],l!=="wrap"&&t[`wrap-xs-${String(l)}`],...g]}})(({ownerState:e})=>yt({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),Vv,Fv,jv,zv);function qv(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const n=[];return t.forEach(r=>{const i=e[r];if(Number(i)>0){const s=`spacing-${r}-${String(i)}`;n.push(s)}}),n}const Wv=e=>{const{classes:t,container:n,direction:r,item:i,spacing:s,wrap:o,zeroMinWidth:l,breakpoints:c}=e;let h=[];n&&(h=qv(s,c));const u=[];c.forEach(S=>{const w=e[S];w&&u.push(`grid-${S}-${String(w)}`)});const g={root:["root",n&&"container",i&&"item",l&&"zeroMinWidth",...h,r!=="row"&&`direction-xs-${String(r)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...u]};return Sr(g,Lv,t)},Uv=b.forwardRef(function(t,n){const r=Tr({props:t,name:"MuiGrid"}),{breakpoints:i}=fo(),s=Sd(r),{className:o,columns:l,columnSpacing:c,component:h="div",container:u=!1,direction:g="row",item:S=!1,rowSpacing:w,spacing:m=0,wrap:C="wrap",zeroMinWidth:k=!1}=s,T=Cr(s,$v),y=w||m,N=c||m,M=b.useContext(yc),L=u?l||12:M,P={},p=yt({},T);i.keys.forEach(D=>{T[D]!=null&&(P[D]=T[D],delete p[D])});const _=yt({},s,{columns:L,container:u,direction:g,item:S,rowSpacing:y,columnSpacing:N,wrap:C,zeroMinWidth:k,spacing:m},P,{breakpoints:i.keys}),I=Wv(_);return qe.jsx(yc.Provider,{value:L,children:qe.jsx(Bv,yt({ownerState:_,className:Qn(I.root,o),as:h,ref:n},p))})}),on=Uv;const Qv=e=>t=>{t({type:"SET_IS_EMBED",isEmbed:e})},Gv=e=>t=>{t({type:"SET_URL_LOCATION",urlLocation:e})},Kv=e=>t=>{t({type:"SET_URL_QUERY_PARAMS",urlQueryParams:e})},Qr=e=>t=>{t({type:"SET_SPLIT_VIEW",isSplit:e})},Gi=["step","theme","time"],Jv=["label"],la=["left","right"],Ki=["start","stop"],Ji=["isSubmit","isSplit","autoTheme","isEmbed"];function Yv(){const e=b.useMemo(()=>window.matchMedia("(prefers-color-scheme: light)").matches,[]),t=zt(),n=Re(({urlQueryParams:_})=>_),r=Re(({start:_})=>_),i=Re(({stop:_})=>_),s=Re(({label:_})=>_),o=Re(({from:_})=>_),l=Re(({to:_})=>_),c=Re(({step:_})=>_),h=Re(({isSubmit:_})=>_),u=Re(({isEmbed:_})=>_),g=Re(({time:_})=>_),S=Re(({left:_})=>_),w=Re(({right:_})=>_),m=Re(({theme:_})=>_),C=Re(({autoTheme:_})=>_),k=Re(({isSplit:_})=>_),[T,y]=b.useState(e?"light":m);b.useEffect(()=>{y(m)},[m]);const N={start:r,step:c,stop:i,label:s,from:o,to:l,time:g,isSubmit:h,isEmbed:u,theme:m,autoTheme:C,left:S,right:w,isSplit:k},M={start:xo,step:xm,stop:So,label:wo,from:Sm,to:wm,time:Qd,isSubmit:Sg,isEmbed:Qv,theme:Dd,left:cn,right:Yt,isSplit:Qr,autoTheme:wg},L=_=>(_==null?void 0:_.getTime())+"000000",P=(_,I)=>{try{let D=JSON.parse(_);return D&&D!==void 0?D:I}catch{return I}},{hash:p}=ei();b.useEffect(()=>{const _=new URLSearchParams(p.replace(/#/,""));if(p.length>0){const I=n;for(let[D,$]of _.entries())I[D]=$;Object.keys(I).length>0&&(t(Kv({...n,startParams:I})),t(Gv(p)),Object.keys(I).forEach(D=>{if((Gi.includes(D)||Jv.includes(D))&&I[D]!=="")t(M[D](en.sanitize(I[D])));else if(D==="theme")t(M[D](en.sanitize(T)));else if(Ki.includes(D)&&I[D]!==""){const $=I[D]/1e6,z=new Date(nn($).format("YYYY-MM-DDTHH:mm:ss.SSSZ"));t(M[D](z))}else if(Ji.includes(D))try{const $=P(I[D],!1);t(M[D]($))}catch($){console.log($)}else if(la.includes(D))try{const $=P(decodeURIComponent(I[D]),[]);($==null?void 0:$.length)>0&&t(M[D]($))}catch($){console.log($)}}))}else Gi.concat(Ki).concat(Ji).concat(la).forEach(D=>{var $,z;if(Gi.includes(D))_.set(D,en.sanitize(($=N[D])==null?void 0:$.toString()));else if(D==="theme")_.set(D,en.sanitize(T.toString()));else if(Ki.includes(D)){const V=((z=N[D])==null?void 0:z.getTime())*1e6;_.set(D,en.sanitize(V.toString()))}else if(Ji.includes(D))try{_.set(D,P(N[D],!1))}catch(V){console.log(V)}else if(la.includes(D))try{const V=JSON.stringify(N[D]);_.set(D,V)}catch(V){console.log(V)}}),window.location.hash=_},[]),b.useEffect(()=>{if(p.length>0){const _=new URLSearchParams(p.replace(/#/,""));let I={};for(let[D,$]of _.entries())I[D]=$;Object.keys(N).forEach(D=>{if(Gi.includes(D)&&I[D]!==N[D]){const $=en.sanitize(N[D].toString().trim());_.set(D,$)}else if(Ki.includes(D)&&I[D]!==L(N[D])){const $=L(N[D]);_.set(D,en.sanitize($))}else if(Ji.includes(D)&&I[D]!==N[D])try{_.set(D,P(N[D],!1))}catch($){console.error($)}else if(D==="left"){const $=JSON.stringify(S);_.set("left",$)}else if(D==="right"){const $=JSON.stringify(w);_.set("right",$)}}),window.location.hash=_}},[N])}function Xv(e,t,n){const{queryUrl:r,encodedQuery:i,limit:s,parsedTime:o,queryStep:l,direction:c,time:h}=t;return e==="metrics"||e==="logs"?n==="instant"?`${r}/query?query=${i}&limit=${s}&time=${h}&direction=${c}`:`${r}/query_range?query=${i}&limit=${s}${o}${l}&direction=${c}`:e==="flux"?`${r}`:e==="traces"?n==="trace-search"?`${r}${o}`:`${r}`:""}function Zv(e,t,n){return Xv(e,n,t)}function eb(e,t){var r;const n=((r=Object.keys(t))==null?void 0:r.length)>0?t:void 0;return e==="flux"?{method:"POST",headers:n||{Accept:"application/csv","Content-Type":"application/vnd.flux"}}:{method:"GET",headers:n||{"Content-Type":"application/json"}}}const tb=(e,t)=>Array.from({length:Math.ceil(e.length/t)},(n,r)=>e.slice(r*t,r*t+t)),ca=(...e)=>e.filter(t=>t).join(" "),nb=e=>{const t=za(sg(e)),n=Va(ag(e)),r=[];for(let i=t;zr(i,n);)r.push(i),i=$a(i,1);return r},rb=({dateStart:e},t)=>e&&Ur(t,e),ib=({dateEnd:e},t)=>e&&Ur(t,e),sb=({dateStart:e,dateEnd:t},n)=>e&&t&&(lo(n,{start:e,end:t})||Ur(n,e)||Ur(n,t)),ab=({dateStart:e,dateEnd:t})=>e&&t?Ur(e,t):!1,Cs=e=>To(new Date).find(t=>t.label===e),xc=(e,t)=>{if(e instanceof Date){const n=og(e);if(yn(n))return n}if(e instanceof String){const n=lg(e.toString());if(yn(n))return n}else return t},ob=(e,t)=>{var r,i;const n=Math.floor(t/2);return(i=(r=Array(t))==null?void 0:r.fill(0))==null?void 0:i.map((s,o)=>(e==null?void 0:e.getFullYear())-n+o)},Sc=(e,t)=>{const{dateStart:n,dateEnd:r,label:i}=e,{dateStart:s,dateEnd:o,label:l}=t;return i===l?!0:n&&s&&r&&o?ic(n,s)&&ic(r,o):!1},lb=(e,t,n)=>{let{dateStart:r,dateEnd:i}=e;if(r&&i){const s=vd([r,t]),o=bd([i,n]);return[s,co(s,o)?bi(s,1):o]}else return[r,i]},To=e=>[{label:"Last 5 minutes",dateStart:sa(e,-5),dateEnd:e},{label:"Last 15 minutes",dateStart:sa(e,-15),dateEnd:e},{label:"Last 30 minutes",dateStart:sa(e,-30),dateEnd:e},{label:"Last 1 hour",dateStart:ui(e,-1),dateEnd:e},{label:"Last 3 hours",dateStart:ui(e,-3),dateEnd:e},{label:"Last 6 hours",dateStart:ui(e,-6),dateEnd:e},{label:"Last 12 hours",dateStart:ui(e,-12),dateEnd:e},{label:"Last 24 hours",dateStart:ui(e,-24),dateEnd:e},{label:"Today",dateStart:nc(e),dateEnd:rc(e)},{label:"Yesterday",dateStart:nc($a(e,-1)),dateEnd:rc($a(e,-1))},{label:"This Week",dateStart:za(e),dateEnd:Va(e)},{label:"Last Week",dateStart:za(aa(e,-1)),dateEnd:Va(aa(e,-1))},{label:"Last 7 Days",dateStart:aa(e,-1),dateEnd:e}];To(new Date);function cb(e){return e/1e6}function nr(e){return new Date(e).getTime()+"000000"}function jr(e){let t=new Date(e);return Math.round(t.getTime()/1e3)}const ub=e=>e||parseInt(new Date().getTime()+"000000"),db=(e,t)=>{let n=Cs(e);const{dateStart:r,dateEnd:i}=n;let s,o;return t==="metrics"?(s=jr(r),o=jr(i)):(s=parseInt(nr(r)),o=parseInt(nr(i))),{pStart:s,pStop:o,dateStart:r,dateEnd:i}};function Co(e,t,n){const{time:r,from:i,to:s}=It.getState(),o=It.getState()[n],l=o==null?void 0:o.find(M=>M.id===t),c=l.start,h=l.stop,u=ub(r),g=l.label,S=c,w=h;let m=0,C=0;if(Cs(g)){const{pStart:M,pStop:L}=db(g,e);e==="traces"?(m=Math.round(M/1e9),C=Math.round(L/1e9)):(m=M,C=L)}else e==="metrics"?(m=jr(S),C=jr(w)):e==="logs"?(m=parseInt(nr(S)),C=parseInt(nr(w))):e==="traces"?(m=jr(S),C=jr(w)):(m=parseInt(nr(S)),C=parseInt(nr(w)));const k="&start="+(i||m)+"&end="+(s||C),T=parseInt(i||m);return{tDiff:(parseInt(s||C)-T)/(e==="metrics"?1:1e6),time:u,parsedTime:k}}function fb(e,t,n,r,i,s="",o,l,c,h,u){const g=It.getState(),{isSplit:S}=g,w=S?2:1,m=window.innerWidth,{parsedTime:C,time:k}=Co(e,h,u),T=s;let y=0;c>0?y=c:y=m/Math.round(m/r*10/w),y===0&&(y=1);const N=`&step=${y}`,M=`${encodeURIComponent(t)}`;let L="";switch(e){case"logs":L=`${T}/loki/api/v1`;break;case"metrics":L=`${T}/api/v1`;break;case"flux":L=`${T}/api/v2/query`;break;case"traces":L=o==="trace-search"?`${l}`:`${T}/api/traces/${t}/json`;break;default:L=`${T}/loki/api/v1`}return{queryUrl:L,encodedQuery:M,parsedTime:C,time:k,queryStep:N,limit:n,direction:i,queryType:o}}async function Ha(e){e(mr(!0))}function Zd(e){let t=[];try{for(let n of e){let r=Object.keys(n.metric);for(let i in r)t.includes(r[i])||t.push(r[i])}}catch(n){console.log(n)}return t}function Ba(e){let t=[];try{for(let n of e){let r=Object.keys(n);for(let i of r)t.includes(i)||t.push(i)}}catch(n){console.log(n)}return t}function rs(e,t="logs"){if(t==="flux"||t==="traces")try{return e}catch(n){console.log(n)}else{const n=Zd(e);try{let r=[];const i=e.length,s=n.length;for(let l=0;l<i;l++){let c=e[l],h=c.metric,[u,g]=c.value,S={};for(let w=0;w<s;w++){let m=n[w];S[m]=h[m]||""}S.time=u,S.value=g,r.push(S)}return Ft.sortBy(r,l=>l.time)}catch(r){console.log(r)}}}const hb={locale:"en",long:{year:{previous:"last year",current:"this year",next:"next year",past:{one:"{0} year ago",other:"{0} years ago"},future:{one:"in {0} year",other:"in {0} years"}},quarter:{previous:"last quarter",current:"this quarter",next:"next quarter",past:{one:"{0} quarter ago",other:"{0} quarters ago"},future:{one:"in {0} quarter",other:"in {0} quarters"}},month:{previous:"last month",current:"this month",next:"next month",past:{one:"{0} month ago",other:"{0} months ago"},future:{one:"in {0} month",other:"in {0} months"}},week:{previous:"last week",current:"this week",next:"next week",past:{one:"{0} week ago",other:"{0} weeks ago"},future:{one:"in {0} week",other:"in {0} weeks"}},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:{one:"{0} hour ago",other:"{0} hours ago"},future:{one:"in {0} hour",other:"in {0} hours"}},minute:{current:"this minute",past:{one:"{0} minute ago",other:"{0} minutes ago"},future:{one:"in {0} minute",other:"in {0} minutes"}},second:{current:"now",past:{one:"{0} second ago",other:"{0} seconds ago"},future:{one:"in {0} second",other:"in {0} seconds"}}},short:{year:{previous:"last yr.",current:"this yr.",next:"next yr.",past:"{0} yr. ago",future:"in {0} yr."},quarter:{previous:"last qtr.",current:"this qtr.",next:"next qtr.",past:{one:"{0} qtr. ago",other:"{0} qtrs. ago"},future:{one:"in {0} qtr.",other:"in {0} qtrs."}},month:{previous:"last mo.",current:"this mo.",next:"next mo.",past:"{0} mo. ago",future:"in {0} mo."},week:{previous:"last wk.",current:"this wk.",next:"next wk.",past:"{0} wk. ago",future:"in {0} wk."},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:"{0} hr. ago",future:"in {0} hr."},minute:{current:"this minute",past:"{0} min. ago",future:"in {0} min."},second:{current:"now",past:"{0} sec. ago",future:"in {0} sec."}},narrow:{year:{previous:"last yr.",current:"this yr.",next:"next yr.",past:"{0}y ago",future:"in {0}y"},quarter:{previous:"last qtr.",current:"this qtr.",next:"next qtr.",past:"{0}q ago",future:"in {0}q"},month:{previous:"last mo.",current:"this mo.",next:"next mo.",past:"{0}mo ago",future:"in {0}mo"},week:{previous:"last wk.",current:"this wk.",next:"next wk.",past:"{0}w ago",future:"in {0}w"},day:{previous:"yesterday",current:"today",next:"tomorrow",past:"{0}d ago",future:"in {0}d"},hour:{current:"this hour",past:"{0}h ago",future:"in {0}h"},minute:{current:"this minute",past:"{0}m ago",future:"in {0}m"},second:{current:"now",past:"{0}s ago",future:"in {0}s"}},now:{now:{current:"now",future:"in a moment",past:"just now"}},mini:{year:"{0}yr",month:"{0}mo",week:"{0}wk",day:"{0}d",hour:"{0}h",minute:"{0}m",second:"{0}s",now:"now"},"short-time":{year:"{0} yr.",month:"{0} mo.",week:"{0} wk.",day:{one:"{0} day",other:"{0} days"},hour:"{0} hr.",minute:"{0} min.",second:"{0} sec."},"long-time":{year:{one:"{0} year",other:"{0} years"},month:{one:"{0} month",other:"{0} months"},week:{one:"{0} week",other:"{0} weeks"},day:{one:"{0} day",other:"{0} days"},hour:{one:"{0} hour",other:"{0} hours"},minute:{one:"{0} minute",other:"{0} minutes"},second:{one:"{0} second",other:"{0} seconds"}}},pb=()=>It.getState().theme==="light"?fd:hd,gb=e=>ie("border:none;background:none;color:",e.primaryLight,";cursor:pointer;&:hover{text-decoration:underline;}","");yd.addDefaultLocale(hb);function mb(e){return nn(parseInt(e.getValue()+"000")).format("YYYY-MM-DDTHH:mm:ss.SSZ")}function vb(e){return e.getValue()+" ms"}function bb(e){return new yd("en-US").format(e.getValue()/1e6)}function yb(e,t){const n=It.dispatch,r=It.getState()[e.panel],i=It.getState().right,s=window.innerWidth<=1013,o=r.find(h=>h.id===e.id);e.panel==="left"&&!s&&n(Qr(!0));let l=JSON.parse(JSON.stringify(i));const c=JSON.parse(JSON.stringify(o));try{const h={...l[0],id:l[0].id,idRef:"Trace "+t,panel:"right",queryType:"range",dataSourceType:"traces",dataSourceId:e.dataSourceId,dataSourceURL:e.url,expr:t,limit:100,step:100,tableView:!1,chartView:!1,isShowTs:!1,isBuilder:!1,isLogsVolume:!1,browserOpen:!1,open:!0,labels:[],values:[],direction:"backwards"};n(Yt([h])),n(An("traces",t,"range",c.limit||100,"right",h.id,"backwards",e.dataSourceId,e.url))}catch(h){console.log(h)}}function xb(e){return nn(e.getValue()).format("YYYY-MM-DDTHH:mm:ss.SSZ")}function Sb(e,t="logs",n,r={}){var o,l;const i=(l=(o=It.getState())==null?void 0:o[r.panel])==null?void 0:l.find(c=>c.id===r.id);i&&(r.dataSourceId=i.dataSourceId,r.url=i.dataSourceURL);const s=pb();return e.length>0&&t==="traces"?e==null?void 0:e.map(c=>c.accessorKey==="durationMs"?{header:"Duration Ms",accessorKey:c.accessorKey,cell:h=>vb(h)}:c.accessorKey==="startTimeUnixNano"?{header:"Start Time",accessorKey:c.accessorKey,cell:h=>bb(h)}:c.accessorKey==="traceID"||c.accessorKey==="traceId"?{header:"Trace Id",accessorKey:c.accessorKey,cell:h=>f("button",{onClick:u=>yb(r,h.getValue()),className:Pe(gb(s)),children:h.getValue()})}:c.accessorKey==="rootServiceName"?{header:"Service Name",accessorKey:c.accessorKey,cell:h=>h.getValue()}:c.accessorKey==="rootTraceName"?{header:"Trace Name",accessorKey:c.accessorKey,cell:h=>h.getValue()}:c):e.length>0&&t==="flux"?e==null?void 0:e.map(c=>c.accessorKey===n||c.accessorKey==="_time"?{header:"Time",accessorKey:c.accessorKey,cell:h=>xb(h)}:c):e.length>0?[{header:"Time",accessorKey:"time",cell:c=>mb(c)},...e,{header:"Value",accessorKey:"value"}]:[]}function is(e,t="logs",n,r={}){const i=e==null?void 0:e.map(o=>({header:o,accessorKey:o,id:o,cell:l=>l.getValue()}));return Sb(i,t,n,r)}function ua(e){return e==="left"?{state:"leftDataView",action:Er}:{state:"rightDataView",action:kr}}function ef(e){var u,g,S,w,m,C;const{result:t,debugMode:n,dispatch:r,panel:i,id:s,type:o,dsType:l,raw:c}=e;let h={panel:i,id:s,type:o};if(o==="traces")try{const k=Ba(t),T=y=>{const N=y[0],M=Object.entries(N);if(M){const L=M.find(([P,p])=>Bn(p));return(L==null?void 0:L[0])||null}};if(k.length>0){const y=T(t),M=is(k,o,y,{panel:i,id:s,type:o}),L=rs(t,o),P={columnsData:M,dataRows:L,panel:i,id:s};if((M==null?void 0:M.length)>0&&(L==null?void 0:L.length)>0){const p={id:s,type:"vector",raw:c,dsType:l,data:{tableData:P},tableData:P,total:((u=P==null?void 0:P.dataRows)==null?void 0:u.length)||0},_=ua(i),{action:I,state:D}=_,$=(g=It.getState())==null?void 0:g[D];if($.some(z=>z.id===p.id)){let z=[];r(I([])),z=[...$.filter(K=>K.id!==p.id),{...p}],r(I(z))}else{let z=[...$,p];r(I(z))}}}}catch(k){console.log(k)}else if(o==="flux")try{const k=Ba(t),T=y=>{const N=y[0],M=Object.entries(N);if(M){const L=M.find(([P,p])=>Bn(p));return(L==null?void 0:L[0])||null}};if(k.length>0){const y=T(t),N=is(k,o,y,h),M=rs(t,o),L={columnsData:N,dataRows:M,panel:i,id:s};if((N==null?void 0:N.length)>0&&(M==null?void 0:M.length)>0){const P={id:s,type:"vector",data:{tableData:L},raw:c,dsType:l,tableData:L,total:((S=L==null?void 0:L.dataRows)==null?void 0:S.length)||0},p=ua(i),{action:_,state:I}=p,D=(w=It.getState())==null?void 0:w[I];if(D.some($=>$.id===P.id)){let $=[];r(_([])),$=[...D.filter(V=>V.id!==P.id),{...P}],r(_($))}else{let $=[...D,P];r(_($))}}}}catch(k){console.log(k)}else try{const k=Zd(t);if(k.length>0){const T=is(k,o,null,h),y=rs(t),N={columnsData:T,dataRows:y,panel:i,id:s};if(T.length>0&&y.length>0){const M={id:s,type:"vector",data:{tableData:N},raw:c,dsType:l,tableData:N||{},total:((m=N==null?void 0:N.dataRows)==null?void 0:m.length)||0},L=ua(i),{action:P,state:p}=L,_=(C=It.getState())==null?void 0:C[p];if(_.some(I=>I.id===M.id)){let I=[];r(P([])),I=[..._.filter($=>$.id!==M.id),{...M}],r(P(I))}else{let I=[..._,M];r(P(I))}}}}catch(k){n&&console.log("🚧 getData / getting an error from rendering vector type streams"),console.log(k)}}function tf(e){return(e==null?void 0:e.map(t=>({...t,id:Gn()})))||[]}function wb(e){return nn(e.getValue()*1e3).format("YYYY-MM-DDTHH:mm:ss.SSZ")}function Tb(e){return e.map(({metric:t,values:n})=>({metric:JSON.stringify(t),rows:n.map(([r,i])=>({time:r,metric:JSON.stringify(t),value:i})),get rowsLength(){var r;return(r=this.rows)==null?void 0:r.length},get title(){return`'${this.metric}' (${this.rowsLength})`}}))}function Cb(e){const t=[{header:"Time",accessorKey:"time",cell:s=>wb(s)},{header:"Metric",accessorKey:"metric"},{header:"Value",accessorKey:"value"}],n=Tb(e);let r=[];for(let s of n)r.push(s.rows);const i=Ft.sortBy(r.flat(),s=>s.time);return{columnsData:t,dataRows:i,total:i.length}}function kb(e){return e==="left"?{state:"leftDataView",action:Er}:{state:"rightDataView",action:kr}}function wc(e){var g;const{result:t,debugMode:n,dispatch:r,panel:i,id:s,raw:o,dsType:l,isLogsVolume:c}=e,h=Cb(t),u=kb(i);try{const S=tf(t),w={id:s,type:"matrix",tableData:h,data:S,dsType:l,raw:o,total:(S==null?void 0:S.length)||0},{action:m,state:C}=u,k=(g=It.getState())==null?void 0:g[C];if(k.some(T=>T.id===w.id)){let T=[];if(c){T=[...k];let y=T.map(N=>N.id===s?{...N,logsVolumeData:S,total:S.length}:N);r(m([])),r(m(y))}else r(m([])),T=[...k.filter(N=>N.id!==w.id),{...w}],r(m(T))}else{let T=[...k,w];r(m(T))}}catch(S){n&&console.log("🚧 getData / getting an error from rendering matrix type streams"),console.log(S)}}const Eb=e=>t=>{t({type:"SET_LOGS",logs:e})};function _b(e){return nn(parseInt(e.getValue())/1e6).format("YYYY-MM-DDTHH:mm:ss.SSZ")}function Ib(e){return e==null?void 0:e.map(({stream:t,values:n})=>({stream:`${JSON.stringify(t)}`,rows:n==null?void 0:n.map(([r,i])=>({time:r,stream:JSON.stringify(t),log:i})),get rowsLength(){var r;return((r=this==null?void 0:this.rows)==null?void 0:r.length)||0}}))}function Tc(e){return f("span",{title:e.getValue(),children:e.getValue()})}function Rb(e){const t=[{id:"time",header:"Time",accessorKey:"time",cell:s=>_b(s)},{id:"stream",header:"Stream",accessorKey:"stream",cell:s=>Tc(s)},{id:"log",accessorKey:"log",header:"Log",cell:s=>Tc(s)}],n=Ib(e),r=(n==null?void 0:n.length)||0;let i=[];if(r>0)for(let s of n)i.push(s.rows);return{columnsData:t,dataRows:Ft.sortBy(i.flat(),s=>s.time),length:r}}function Mb(e){return e==="left"?{state:"leftDataView",action:Er}:{state:"rightDataView",action:kr}}function Cc(e){var y,N;const{result:t,raw:n,time:r,debugMode:i,queryType:s,panel:o,id:l,dispatch:c,dsType:h,direction:u,isLogsVolume:g}=e,S=Bb(t,u),w=Mb(o),m=Rb(t),C=nf(S,u);function k(M){return[].concat.apply([],M).filter(function(L,P,p){return p.indexOf(L)===P})}let T={id:l,type:"stream",tableData:{},data:[{}],raw:"[]",labels:[],total:0,isLogsVolume:g,dsType:h};if(C)try{Fb(c(Eb(C||[]))).then(()=>{C.length===0&&(i&&console.log("🚧 getData / getting no messages sorted"),c(mr(!0))),c(mr(!1))});const M=Array.from(new Set(C==null?void 0:C.map(I=>Object.keys(I.tags)))),L=k(M);T={id:l,type:"stream",dsType:h,tableData:m,data:C,isLogsVolume:g,raw:n,labels:[...L],total:(C==null?void 0:C.length)||0};const{action:P,state:p}=w,_=(y=It.getState())==null?void 0:y[p];if(_.some(I=>I.id===T.id)){let I=[];if(g){I=[..._];let D=I.map($=>{var z;if($.id===l){let V=[];return $!=null&&$.logsVolumeData&&((z=$.logsVolumeData)==null?void 0:z.length)>0&&(V=[...$.logsVolumeData]),{...{...T},logsVolumeData:V}}else return $});c(P([])),c(P(D))}else{let D=[];c(P([])),D=[..._.filter(z=>z.id!==T.id),{...T}],c(P(D))}}else{let I=[..._,T];c(P(I))}s==="instant"&&c(Qd(r))}catch(M){console.log(M)}else{const{action:M,state:L}=w,P=(N=It.getState())==null?void 0:N[L];if(P.some(p=>p.id===T.id)){let p=[];c(M([])),p=[...(P==null?void 0:P.filter(I=>I.id!==T.id))||[],{...T}],c(M(p))}else{let p=[...P,T];c(M(p))}}}function Nb(e){return e==="left"?{state:"leftDataView",action:Er}:{state:"rightDataView",action:kr}}async function Ob(e){var u,g;const{result:t,debugMode:n,dispatch:r,panel:i,id:s,type:o,dsType:l,queryType:c,raw:h}=e;if(c==="trace-search")await ef(e);else try{const S={id:s,type:o,dsType:l,tableData:{},data:t,raw:h,labels:[],open:!0,total:(u=t==null?void 0:t.resourceSpans)==null?void 0:u.length},w=Nb(i),{action:m,state:C}=w,k=(g=It.getState())==null?void 0:g[C];if(k.some(T=>T.id===S.id)){let T=[];r(m([])),T=[...k.filter(N=>N.id!==S.id),{...S}],r(m(T))}else{let T=[...k,S];r(m(T))}}catch(S){n&&console.log(" 🚧 getData / getting an error from rendering Traces type streams",S),console.log(S)}}function Lb(e){return nn(e.getValue()).format("YYYY-MM-DDTHH:mm:ss.SSZ")}function Db(e){return[{metric:{__name__:"Flux"},values:e.map(n=>Object.values(n).map((r,i)=>isNaN(+r)?null:(r instanceof Date?r.getTime()/1e3:r)+(i===0?0:"")).filter(r=>!!r))}]}function Ab(e){return e.map(({metric:t,values:n})=>({metric:JSON.stringify(t),rows:n.map(([r,i])=>({time:r,metric:JSON.stringify(t),value:i})),get rowsLength(){var r;return(r=this.rows)==null?void 0:r.length},get title(){return`'${this.metric}' (${this.rowsLength})`}}))}function kc(e){return f("span",{title:e.getValue(),children:e.getValue()})}function Pb(e){const t=[{accessorKey:"time",header:()=>f("span",{children:"Time"}),cell:s=>Lb(s)},{header:"Metric",cell:s=>kc(s),accessorKey:"metric"},{header:"Value",accessorKey:"value",cell:s=>kc(s)}],n=Ab(e);let r=[];for(let s of n)r.push(s.rows);const i=Ft.sortBy(r.flat(),s=>s.time);return{columnsData:t,dataRows:i,total:i.length}}function $b(e){return e==="left"?{state:"leftDataView",action:Er}:{state:"rightDataView",action:kr}}function zb(e){const{result:t,panel:n,id:r,type:i}=e,s={panel:n,id:r,type:i},o=Ba(e.result),c=(S=>{const w=S[0],m=Object.entries(w);if(m){const C=m.find(([k,T])=>Bn(T));return(C==null?void 0:C[0])||null}})(t),h=is(o,i,c,s),u=rs(t,i),g={columnsData:h,dataRows:u,panel:n,id:r};if((h==null?void 0:h.length)>0&&(u==null?void 0:u.length)>0)return g}function Vb(e){var u;let{result:t,debugMode:n,dispatch:r,panel:i,id:s,raw:o,dsType:l}=e;t=Db(t);const c=Pb(t),h=$b(i);try{const g=tf(t),S=zb(e),m={id:s,type:"vector",tableData:c,data:{chartData:g,tableData:S},dsType:l,raw:o,total:(g==null?void 0:g.length)||0},{action:C,state:k}=h,T=(u=It.getState())==null?void 0:u[k];if(T.some(y=>y.id===m.id)){let y=[];r(C([])),y=[...T.filter(M=>M.id!==m.id),{...m}],r(C(y))}else{let y=[...T,m];r(C(y))}}catch(g){n&&console.log("🚧 getData / getting an error from rendering Flux type streams"),console.error(g)}}const{debugMode:ko}=It.getState();async function Fb(e){return await e}function nf(e,t){return t==="forward"?jb(e):Hb(e)}function jb(e){const t=performance.now(),n=e==null?void 0:e.sort((i,s)=>i.timestamp-s.timestamp),r=performance.now()-t;return ko&&console.log("🚧 getData / sorting logs took: ",r," ms"),n}function Hb(e){const t=performance.now(),n=e==null?void 0:e.sort((i,s)=>s.timestamp-i.timestamp),r=performance.now()-t;return ko&&console.log("🚧 getData / sorting logs took: ",r," ms"),n}function Bb(e,t="backwards"){const n=performance.now();let r=[];e==null||e.forEach(s=>{s.values.forEach(([o,l],c)=>{r.push({type:"stream",timestamp:cb(o),text:l,tags:s.stream||{},isShowTs:!0,isBuilder:!1,showLabels:!1,id:Gn()})})});const i=performance.now()-n;return ko&&console.log("🚧 getData / mapping logs took: ",i," ms"),nf(r,t)}async function Ar(e){const{type:t}=e;switch(t){case"streams":await Cc(e);break;case"vector":await ef(e);break;case"matrix":await wc(e);break;case"scalar":await wc(e);break;case"flux":await Vb(e);break;case"traces":await Ob(e);break;default:await Cc(e)}}var rf={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){(function(n,r){e.exports=r()})(xd,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i=!r.document&&!!r.postMessage,s=r.IS_PAPA_WORKER||!1,o={},l=0,c={parse:function(_,I){var D=(I=I||{}).dynamicTyping||!1;if(p(D)&&(I.dynamicTypingFunction=D,D={}),I.dynamicTyping=D,I.transform=!!p(I.transform)&&I.transform,I.worker&&c.WORKERS_SUPPORTED){var $=function(){if(!c.WORKERS_SUPPORTED)return!1;var V=(se=r.URL||r.webkitURL||null,ue=n.toString(),c.BLOB_URL||(c.BLOB_URL=se.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",ue,")();"],{type:"text/javascript"})))),K=new r.Worker(V),se,ue;return K.onmessage=y,K.id=l++,o[K.id]=K}();return $.userStep=I.step,$.userChunk=I.chunk,$.userComplete=I.complete,$.userError=I.error,I.step=p(I.step),I.chunk=p(I.chunk),I.complete=p(I.complete),I.error=p(I.error),delete I.worker,void $.postMessage({input:_,config:I,workerId:$.id})}var z=null;return c.NODE_STREAM_INPUT,typeof _=="string"?(_=function(V){return V.charCodeAt(0)===65279?V.slice(1):V}(_),z=I.download?new g(I):new w(I)):_.readable===!0&&p(_.read)&&p(_.on)?z=new m(I):(r.File&&_ instanceof File||_ instanceof Object)&&(z=new S(I)),z.stream(_)},unparse:function(_,I){var D=!1,$=!0,z=",",V=`\r
`,K='"',se=K+K,ue=!1,te=null,he=!1;(function(){if(typeof I=="object"){if(typeof I.delimiter!="string"||c.BAD_DELIMITERS.filter(function(me){return I.delimiter.indexOf(me)!==-1}).length||(z=I.delimiter),(typeof I.quotes=="boolean"||typeof I.quotes=="function"||Array.isArray(I.quotes))&&(D=I.quotes),typeof I.skipEmptyLines!="boolean"&&typeof I.skipEmptyLines!="string"||(ue=I.skipEmptyLines),typeof I.newline=="string"&&(V=I.newline),typeof I.quoteChar=="string"&&(K=I.quoteChar),typeof I.header=="boolean"&&($=I.header),Array.isArray(I.columns)){if(I.columns.length===0)throw new Error("Option columns is empty");te=I.columns}I.escapeChar!==void 0&&(se=I.escapeChar+K),(typeof I.escapeFormulae=="boolean"||I.escapeFormulae instanceof RegExp)&&(he=I.escapeFormulae instanceof RegExp?I.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var Y=new RegExp(k(K),"g");if(typeof _=="string"&&(_=JSON.parse(_)),Array.isArray(_)){if(!_.length||Array.isArray(_[0]))return Fe(null,_,ue);if(typeof _[0]=="object")return Fe(te||Object.keys(_[0]),_,ue)}else if(typeof _=="object")return typeof _.data=="string"&&(_.data=JSON.parse(_.data)),Array.isArray(_.data)&&(_.fields||(_.fields=_.meta&&_.meta.fields||te),_.fields||(_.fields=Array.isArray(_.data[0])?_.fields:typeof _.data[0]=="object"?Object.keys(_.data[0]):[]),Array.isArray(_.data[0])||typeof _.data[0]=="object"||(_.data=[_.data])),Fe(_.fields||[],_.data||[],ue);throw new Error("Unable to serialize unrecognized input");function Fe(me,ke,Oe){var re="";typeof me=="string"&&(me=JSON.parse(me)),typeof ke=="string"&&(ke=JSON.parse(ke));var Ce=Array.isArray(me)&&0<me.length,Ee=!Array.isArray(ke[0]);if(Ce&&$){for(var be=0;be<me.length;be++)0<be&&(re+=z),re+=$e(me[be],be);0<ke.length&&(re+=V)}for(var pe=0;pe<ke.length;pe++){var Te=Ce?me.length:ke[pe].length,Je=!1,tt=Ce?Object.keys(ke[pe]).length===0:ke[pe].length===0;if(Oe&&!Ce&&(Je=Oe==="greedy"?ke[pe].join("").trim()==="":ke[pe].length===1&&ke[pe][0].length===0),Oe==="greedy"&&Ce){for(var De=[],Ye=0;Ye<Te;Ye++){var Ze=Ee?me[Ye]:Ye;De.push(ke[pe][Ze])}Je=De.join("").trim()===""}if(!Je){for(var it=0;it<Te;it++){0<it&&!tt&&(re+=z);var rt=Ce&&Ee?me[it]:it;re+=$e(ke[pe][rt],it)}pe<ke.length-1&&(!Oe||0<Te&&!tt)&&(re+=V)}}return re}function $e(me,ke){if(me==null)return"";if(me.constructor===Date)return JSON.stringify(me).slice(1,25);var Oe=!1;he&&typeof me=="string"&&he.test(me)&&(me="'"+me,Oe=!0);var re=me.toString().replace(Y,se);return(Oe=Oe||D===!0||typeof D=="function"&&D(me,ke)||Array.isArray(D)&&D[ke]||function(Ce,Ee){for(var be=0;be<Ee.length;be++)if(-1<Ce.indexOf(Ee[be]))return!0;return!1}(re,c.BAD_DELIMITERS)||-1<re.indexOf(z)||re.charAt(0)===" "||re.charAt(re.length-1)===" ")?K+re+K:re}}};if(c.RECORD_SEP=String.fromCharCode(30),c.UNIT_SEP=String.fromCharCode(31),c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!i&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=T,c.ParserHandle=C,c.NetworkStreamer=g,c.FileStreamer=S,c.StringStreamer=w,c.ReadableStreamStreamer=m,r.jQuery){var h=r.jQuery;h.fn.parse=function(_){var I=_.config||{},D=[];return this.each(function(V){if(!(h(this).prop("tagName").toUpperCase()==="INPUT"&&h(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var K=0;K<this.files.length;K++)D.push({file:this.files[K],inputElem:this,instanceConfig:h.extend({},I)})}),$(),this;function $(){if(D.length!==0){var V,K,se,ue,te=D[0];if(p(_.before)){var he=_.before(te.file,te.inputElem);if(typeof he=="object"){if(he.action==="abort")return V="AbortError",K=te.file,se=te.inputElem,ue=he.reason,void(p(_.error)&&_.error({name:V},K,se,ue));if(he.action==="skip")return void z();typeof he.config=="object"&&(te.instanceConfig=h.extend(te.instanceConfig,he.config))}else if(he==="skip")return void z()}var Y=te.instanceConfig.complete;te.instanceConfig.complete=function(Fe){p(Y)&&Y(Fe,te.file,te.inputElem),z()},c.parse(te.file,te.instanceConfig)}else p(_.complete)&&_.complete()}function z(){D.splice(0,1),$()}}}function u(_){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(I){var D=L(I);D.chunkSize=parseInt(D.chunkSize),I.step||I.chunk||(D.chunkSize=null),this._handle=new C(D),(this._handle.streamer=this)._config=D}).call(this,_),this.parseChunk=function(I,D){if(this.isFirstChunk&&p(this._config.beforeFirstChunk)){var $=this._config.beforeFirstChunk(I);$!==void 0&&(I=$)}this.isFirstChunk=!1,this._halted=!1;var z=this._partialLine+I;this._partialLine="";var V=this._handle.parse(z,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var K=V.meta.cursor;this._finished||(this._partialLine=z.substring(K-this._baseIndex),this._baseIndex=K),V&&V.data&&(this._rowCount+=V.data.length);var se=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(s)r.postMessage({results:V,workerId:c.WORKER_ID,finished:se});else if(p(this._config.chunk)&&!D){if(this._config.chunk(V,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);V=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(V.data),this._completeResults.errors=this._completeResults.errors.concat(V.errors),this._completeResults.meta=V.meta),this._completed||!se||!p(this._config.complete)||V&&V.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),se||V&&V.meta.paused||this._nextChunk(),V}this._halted=!0},this._sendError=function(I){p(this._config.error)?this._config.error(I):s&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:I,finished:!1})}}function g(_){var I;(_=_||{}).chunkSize||(_.chunkSize=c.RemoteChunkSize),u.call(this,_),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(D){this._input=D,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(I=new XMLHttpRequest,this._config.withCredentials&&(I.withCredentials=this._config.withCredentials),i||(I.onload=P(this._chunkLoaded,this),I.onerror=P(this._chunkError,this)),I.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var D=this._config.downloadRequestHeaders;for(var $ in D)I.setRequestHeader($,D[$])}if(this._config.chunkSize){var z=this._start+this._config.chunkSize-1;I.setRequestHeader("Range","bytes="+this._start+"-"+z)}try{I.send(this._config.downloadRequestBody)}catch(V){this._chunkError(V.message)}i&&I.status===0&&this._chunkError()}},this._chunkLoaded=function(){I.readyState===4&&(I.status<200||400<=I.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:I.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(D){var $=D.getResponseHeader("Content-Range");return $===null?-1:parseInt($.substring($.lastIndexOf("/")+1))}(I),this.parseChunk(I.responseText)))},this._chunkError=function(D){var $=I.statusText||D;this._sendError(new Error($))}}function S(_){var I,D;(_=_||{}).chunkSize||(_.chunkSize=c.LocalChunkSize),u.call(this,_);var $=typeof FileReader<"u";this.stream=function(z){this._input=z,D=z.slice||z.webkitSlice||z.mozSlice,$?((I=new FileReader).onload=P(this._chunkLoaded,this),I.onerror=P(this._chunkError,this)):I=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var z=this._input;if(this._config.chunkSize){var V=Math.min(this._start+this._config.chunkSize,this._input.size);z=D.call(z,this._start,V)}var K=I.readAsText(z,this._config.encoding);$||this._chunkLoaded({target:{result:K}})},this._chunkLoaded=function(z){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(z.target.result)},this._chunkError=function(){this._sendError(I.error)}}function w(_){var I;u.call(this,_=_||{}),this.stream=function(D){return I=D,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var D,$=this._config.chunkSize;return $?(D=I.substring(0,$),I=I.substring($)):(D=I,I=""),this._finished=!I,this.parseChunk(D)}}}function m(_){u.call(this,_=_||{});var I=[],D=!0,$=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(z){this._input=z,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){$&&I.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),I.length?this.parseChunk(I.shift()):D=!0},this._streamData=P(function(z){try{I.push(typeof z=="string"?z:z.toString(this._config.encoding)),D&&(D=!1,this._checkIsFinished(),this.parseChunk(I.shift()))}catch(V){this._streamError(V)}},this),this._streamError=P(function(z){this._streamCleanUp(),this._sendError(z)},this),this._streamEnd=P(function(){this._streamCleanUp(),$=!0,this._streamData("")},this),this._streamCleanUp=P(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function C(_){var I,D,$,z=Math.pow(2,53),V=-z,K=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,se=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ue=this,te=0,he=0,Y=!1,Fe=!1,$e=[],me={data:[],errors:[],meta:{}};if(p(_.step)){var ke=_.step;_.step=function(pe){if(me=pe,Ce())re();else{if(re(),me.data.length===0)return;te+=pe.data.length,_.preview&&te>_.preview?D.abort():(me.data=me.data[0],ke(me,ue))}}}function Oe(pe){return _.skipEmptyLines==="greedy"?pe.join("").trim()==="":pe.length===1&&pe[0].length===0}function re(){return me&&$&&(be("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),$=!1),_.skipEmptyLines&&(me.data=me.data.filter(function(pe){return!Oe(pe)})),Ce()&&function(){if(!me)return;function pe(Je,tt){p(_.transformHeader)&&(Je=_.transformHeader(Je,tt)),$e.push(Je)}if(Array.isArray(me.data[0])){for(var Te=0;Ce()&&Te<me.data.length;Te++)me.data[Te].forEach(pe);me.data.splice(0,1)}else me.data.forEach(pe)}(),function(){if(!me||!_.header&&!_.dynamicTyping&&!_.transform)return me;function pe(Je,tt){var De,Ye=_.header?{}:[];for(De=0;De<Je.length;De++){var Ze=De,it=Je[De];_.header&&(Ze=De>=$e.length?"__parsed_extra":$e[De]),_.transform&&(it=_.transform(it,Ze)),it=Ee(Ze,it),Ze==="__parsed_extra"?(Ye[Ze]=Ye[Ze]||[],Ye[Ze].push(it)):Ye[Ze]=it}return _.header&&(De>$e.length?be("FieldMismatch","TooManyFields","Too many fields: expected "+$e.length+" fields but parsed "+De,he+tt):De<$e.length&&be("FieldMismatch","TooFewFields","Too few fields: expected "+$e.length+" fields but parsed "+De,he+tt)),Ye}var Te=1;return!me.data.length||Array.isArray(me.data[0])?(me.data=me.data.map(pe),Te=me.data.length):me.data=pe(me.data,0),_.header&&me.meta&&(me.meta.fields=$e),he+=Te,me}()}function Ce(){return _.header&&$e.length===0}function Ee(pe,Te){return Je=pe,_.dynamicTypingFunction&&_.dynamicTyping[Je]===void 0&&(_.dynamicTyping[Je]=_.dynamicTypingFunction(Je)),(_.dynamicTyping[Je]||_.dynamicTyping)===!0?Te==="true"||Te==="TRUE"||Te!=="false"&&Te!=="FALSE"&&(function(tt){if(K.test(tt)){var De=parseFloat(tt);if(V<De&&De<z)return!0}return!1}(Te)?parseFloat(Te):se.test(Te)?new Date(Te):Te===""?null:Te):Te;var Je}function be(pe,Te,Je,tt){var De={type:pe,code:Te,message:Je};tt!==void 0&&(De.row=tt),me.errors.push(De)}this.parse=function(pe,Te,Je){var tt=_.quoteChar||'"';if(_.newline||(_.newline=function(Ze,it){Ze=Ze.substring(0,1048576);var rt=new RegExp(k(it)+"([^]*?)"+k(it),"gm"),Ke=(Ze=Ze.replace(rt,"")).split("\r"),Et=Ze.split(`
`),Rt=1<Et.length&&Et[0].length<Ke[0].length;if(Ke.length===1||Rt)return`
`;for(var _e=0,je=0;je<Ke.length;je++)Ke[je][0]===`
`&&_e++;return _e>=Ke.length/2?`\r
`:"\r"}(pe,tt)),$=!1,_.delimiter)p(_.delimiter)&&(_.delimiter=_.delimiter(pe),me.meta.delimiter=_.delimiter);else{var De=function(Ze,it,rt,Ke,Et){var Rt,_e,je,Qe;Et=Et||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var at=0;at<Et.length;at++){var Ie=Et[at],ut=0,Dt=0,qt=0;je=void 0;for(var Gt=new T({comments:Ke,delimiter:Ie,newline:it,preview:10}).parse(Ze),jt=0;jt<Gt.data.length;jt++)if(rt&&Oe(Gt.data[jt]))qt++;else{var Mt=Gt.data[jt].length;Dt+=Mt,je!==void 0?0<Mt&&(ut+=Math.abs(Mt-je),je=Mt):je=Mt}0<Gt.data.length&&(Dt/=Gt.data.length-qt),(_e===void 0||ut<=_e)&&(Qe===void 0||Qe<Dt)&&1.99<Dt&&(_e=ut,Rt=Ie,Qe=Dt)}return{successful:!!(_.delimiter=Rt),bestDelimiter:Rt}}(pe,_.newline,_.skipEmptyLines,_.comments,_.delimitersToGuess);De.successful?_.delimiter=De.bestDelimiter:($=!0,_.delimiter=c.DefaultDelimiter),me.meta.delimiter=_.delimiter}var Ye=L(_);return _.preview&&_.header&&Ye.preview++,I=pe,D=new T(Ye),me=D.parse(I,Te,Je),re(),Y?{meta:{paused:!0}}:me||{meta:{paused:!1}}},this.paused=function(){return Y},this.pause=function(){Y=!0,D.abort(),I=p(_.chunk)?"":I.substring(D.getCharIndex())},this.resume=function(){ue.streamer._halted?(Y=!1,ue.streamer.parseChunk(I,!0)):setTimeout(ue.resume,3)},this.aborted=function(){return Fe},this.abort=function(){Fe=!0,D.abort(),me.meta.aborted=!0,p(_.complete)&&_.complete(me),I=""}}function k(_){return _.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function T(_){var I,D=(_=_||{}).delimiter,$=_.newline,z=_.comments,V=_.step,K=_.preview,se=_.fastMode,ue=I=_.quoteChar===void 0||_.quoteChar===null?'"':_.quoteChar;if(_.escapeChar!==void 0&&(ue=_.escapeChar),(typeof D!="string"||-1<c.BAD_DELIMITERS.indexOf(D))&&(D=","),z===D)throw new Error("Comment character same as delimiter");z===!0?z="#":(typeof z!="string"||-1<c.BAD_DELIMITERS.indexOf(z))&&(z=!1),$!==`
`&&$!=="\r"&&$!==`\r
`&&($=`
`);var te=0,he=!1;this.parse=function(Y,Fe,$e){if(typeof Y!="string")throw new Error("Input must be a string");var me=Y.length,ke=D.length,Oe=$.length,re=z.length,Ce=p(V),Ee=[],be=[],pe=[],Te=te=0;if(!Y)return Nt();if(_.header&&!Fe){var Je=Y.split($)[0].split(D),tt=[],De={},Ye=!1;for(var Ze in Je){var it=Je[Ze];p(_.transformHeader)&&(it=_.transformHeader(it,Ze));var rt=it,Ke=De[it]||0;for(0<Ke&&(Ye=!0,rt=it+"_"+Ke),De[it]=Ke+1;tt.includes(rt);)rt=rt+"_"+Ke;tt.push(rt)}if(Ye){var Et=Y.split($);Et[0]=tt.join(D),Y=Et.join($)}}if(se||se!==!1&&Y.indexOf(I)===-1){for(var Rt=Y.split($),_e=0;_e<Rt.length;_e++){if(pe=Rt[_e],te+=pe.length,_e!==Rt.length-1)te+=$.length;else if($e)return Nt();if(!z||pe.substring(0,re)!==z){if(Ce){if(Ee=[],qt(pe.split(D)),At(),he)return Nt()}else qt(pe.split(D));if(K&&K<=_e)return Ee=Ee.slice(0,K),Nt(!0)}}return Nt()}for(var je=Y.indexOf(D,te),Qe=Y.indexOf($,te),at=new RegExp(k(ue)+k(I),"g"),Ie=Y.indexOf(I,te);;)if(Y[te]!==I)if(z&&pe.length===0&&Y.substring(te,te+re)===z){if(Qe===-1)return Nt();te=Qe+Oe,Qe=Y.indexOf($,te),je=Y.indexOf(D,te)}else if(je!==-1&&(je<Qe||Qe===-1))pe.push(Y.substring(te,je)),te=je+ke,je=Y.indexOf(D,te);else{if(Qe===-1)break;if(pe.push(Y.substring(te,Qe)),Mt(Qe+Oe),Ce&&(At(),he))return Nt();if(K&&Ee.length>=K)return Nt(!0)}else for(Ie=te,te++;;){if((Ie=Y.indexOf(I,Ie+1))===-1)return $e||be.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ee.length,index:te}),jt();if(Ie===me-1)return jt(Y.substring(te,Ie).replace(at,I));if(I!==ue||Y[Ie+1]!==ue){if(I===ue||Ie===0||Y[Ie-1]!==ue){je!==-1&&je<Ie+1&&(je=Y.indexOf(D,Ie+1)),Qe!==-1&&Qe<Ie+1&&(Qe=Y.indexOf($,Ie+1));var ut=Gt(Qe===-1?je:Math.min(je,Qe));if(Y.substr(Ie+1+ut,ke)===D){pe.push(Y.substring(te,Ie).replace(at,I)),Y[te=Ie+1+ut+ke]!==I&&(Ie=Y.indexOf(I,te)),je=Y.indexOf(D,te),Qe=Y.indexOf($,te);break}var Dt=Gt(Qe);if(Y.substring(Ie+1+Dt,Ie+1+Dt+Oe)===$){if(pe.push(Y.substring(te,Ie).replace(at,I)),Mt(Ie+1+Dt+Oe),je=Y.indexOf(D,te),Ie=Y.indexOf(I,te),Ce&&(At(),he))return Nt();if(K&&Ee.length>=K)return Nt(!0);break}be.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ee.length,index:te}),Ie++}}else Ie++}return jt();function qt(kt){Ee.push(kt),Te=te}function Gt(kt){var Wt=0;if(kt!==-1){var Cn=Y.substring(Ie+1,kt);Cn&&Cn.trim()===""&&(Wt=Cn.length)}return Wt}function jt(kt){return $e||(kt===void 0&&(kt=Y.substring(te)),pe.push(kt),te=me,qt(pe),Ce&&At()),Nt()}function Mt(kt){te=kt,qt(pe),pe=[],Qe=Y.indexOf($,te)}function Nt(kt){return{data:Ee,errors:be,meta:{delimiter:D,linebreak:$,aborted:he,truncated:!!kt,cursor:Te+(Fe||0)}}}function At(){V(Nt()),Ee=[],be=[]}},this.abort=function(){he=!0},this.getCharIndex=function(){return te}}function y(_){var I=_.data,D=o[I.workerId],$=!1;if(I.error)D.userError(I.error,I.file);else if(I.results&&I.results.data){var z={abort:function(){$=!0,N(I.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:M,resume:M};if(p(D.userStep)){for(var V=0;V<I.results.data.length&&(D.userStep({data:I.results.data[V],errors:I.results.errors,meta:I.results.meta},z),!$);V++);delete I.results}else p(D.userChunk)&&(D.userChunk(I.results,z,I.file),delete I.results)}I.finished&&!$&&N(I.workerId,I.results)}function N(_,I){var D=o[_];p(D.userComplete)&&D.userComplete(I),D.terminate(),delete o[_]}function M(){throw new Error("Not implemented.")}function L(_){if(typeof _!="object"||_===null)return _;var I=Array.isArray(_)?[]:{};for(var D in _)I[D]=L(_[D]);return I}function P(_,I){return function(){_.apply(I,arguments)}}function p(_){return typeof _=="function"}return s&&(r.onmessage=function(_){var I=_.data;if(c.WORKER_ID===void 0&&I&&(c.WORKER_ID=I.workerId),typeof I.input=="string")r.postMessage({workerId:c.WORKER_ID,results:c.parse(I.input,I.config),finished:!0});else if(r.File&&I.input instanceof File||I.input instanceof Object){var D=c.parse(I.input,I.config);D&&r.postMessage({workerId:c.WORKER_ID,results:D,finished:!0})}}),(g.prototype=Object.create(u.prototype)).constructor=g,(S.prototype=Object.create(u.prototype)).constructor=S,(w.prototype=Object.create(w.prototype)).constructor=w,(m.prototype=Object.create(u.prototype)).constructor=m,c})})(rf);var qb=rf.exports;const Wb=Mi(qb);async function Ub(e){try{var t={meta:[],data:[],statistics:{elapsed:.360986682,rows_read:0,bytes_read:0}},n=Wb.parse(e,{header:!0,comments:!0,dynamicTyping:!0});t.data=await n.data.map(function(r){return delete r[""],delete r.table,delete r.result,r}),t.data.length=t.data.length-2;for(const[r,i]of Object.entries(t.data[0]))t.meta.push({name:r,type:typeof i});return t.rows=t.data.length,t}catch{return e}}function Qb(e,t){return e==="left"?cn(t):Yt(t)}const Ec=(e,t,n,r,i,s)=>{const{time:o}=Co(e,r,n),{debugMode:l}=It.getState(),c={result:{resourceSpans:[],result:[],length:0},raw:[],time:o,debugMode:l,dispatch:t,type:"traces",dsType:e,panel:n,id:r,ts:Date.now(),queryType:s,open:!0};Ar(c)};async function _c(e,t,n,r,i,s,o,l){var u,g,S,w,m,C,k,T,y,N,M,L,P,p,_,I,D,$,z;const{time:c}=Co(e,i,r),{debugMode:h}=It.getState();if(e==="traces"){if(o==="trace-search"&&((g=(u=t==null?void 0:t.data)==null?void 0:u.traces)==null?void 0:g.length)>0){const V={result:t.data.traces||[],raw:t.data,time:c,debugMode:h,dispatch:n,dsType:e,type:e,panel:r,open:!0,id:i,ts:Date.now(),queryType:o};Ar(V)}if(((w=(S=t==null?void 0:t.data)==null?void 0:S.resourceSpans)==null?void 0:w.length)>0){const V={result:(t==null?void 0:t.data)||[],raw:t==null?void 0:t.data,time:c,debugMode:h,dispatch:n,type:e,dsType:e,panel:r,open:!0,id:i,ts:Date.now(),queryType:o};Ar(V)}}if(e==="flux"&&await Ub(t==null?void 0:t.data).then(V=>{var K;if(((K=V==null?void 0:V.data)==null?void 0:K.length)>0){const se={result:V.data||[],raw:V==null?void 0:V.data,time:c,debugMode:h,queryType:o,dispatch:n,dsType:e,type:e,panel:r,open:!0,id:i,ts:Date.now(),direction:s};Ar(se)}}),((C=(m=t==null?void 0:t.data)==null?void 0:m.streams)==null?void 0:C.length)===0){const V={result:[],raw:"[]",time:c,debugMode:h,queryType:o,dispatch:n,open:!0,type:"streams",dsType:e,panel:r,id:i,ts:Date.now(),direction:s,isLogsVolume:l};Ar(V),n(mr(!0))}if((k=t==null?void 0:t.data)!=null&&k.data){const V=(y=(T=t==null?void 0:t.data)==null?void 0:T.data)==null?void 0:y.result,K=(M=(N=t==null?void 0:t.data)==null?void 0:N.data)==null?void 0:M.resultType;let se={hasStats:!1,statsData:{}};(P=(L=t==null?void 0:t.data)==null?void 0:L.data)!=null&&P.stats&&((I=Object.keys((_=(p=t==null?void 0:t.data)==null?void 0:p.data)==null?void 0:_.stats))==null?void 0:I.length)>0&&(se={hasStats:!0,statsData:{...($=(D=t==null?void 0:t.data)==null?void 0:D.data)==null?void 0:$.stats}});const ue=It.getState()[r],te=ue==null?void 0:ue.map(Y=>Y.id===i?{...Y,hasStats:(se==null?void 0:se.hasStats)||!1,statsData:(se==null?void 0:se.statsData)||{},open:!0}:Y);n(Qb(r,te)),n(Tm(e));const he={result:V,raw:(z=t==null?void 0:t.data)==null?void 0:z.data,time:c,debugMode:h,queryType:o,dispatch:n,type:K,dsType:e,open:!0,panel:r,id:i,ts:Date.now(),direction:s,isLogsVolume:l};Ar(he)}else Ha(n)}function Gb(e){var i,s,o;const t=e.match(/\[(.*?)\]/gm),n=(t==null?void 0:t[0].replace(/\[\]']+/g,"").trim())||"";let r=0;if(Array.isArray(t)){const l=n.match(/^(?<tnum>[0-9.]+)(?<trange>ns|us|ms|s|m|h)?$/),c=typeof((i=l==null?void 0:l.groups)==null?void 0:i.tnum)=="string"?parseInt((s=l==null?void 0:l.groups)==null?void 0:s.tnum):1,h=((o=l==null?void 0:l.groups)==null?void 0:o.trange)||"m";r=c/Kb(h)}return r}function Kb(e){const t=/^(ns|us|ms|s|m|h)$/,n={ns:1e9,us:1e6,s:1,m:.016666666666666666,h:.0002777777777777778},r=new Map(Object.entries(n));return t.test(e)&&typeof e=="string"?r.get(e)||1/60:r.get("m")||1/60}function Ic(e,t){window.bosco.send(e,t)}function Jb(e,t,n){if(e==="left")return t(cn(n));if(e==="right")return t(Yt(n))}function Yb(e,t,n){return n(e==="left"?Er(t):kr(t))}function Xb(e,t,n){return[...e].map(r=>r.id===t?{...r,loading:n||!1}:r)}function An(e,t,n,r,i,s,o="backwards",l="",c="",h=0,u=!1){var L,P,p,_,I,D;let g={url:"",requestHeaders:{},method:{value:""},headers:[],auth:{method:{value:"GET"},basicAuth:{value:!0},fields:{basicAuth:[{name:"user",value:""},{name:"password",value:""}]}},hasSettings:!1},S="",w="";if(l!==""){const $=It.getState().dataSources,z=$.find(V=>V.id===l);if(z&&((L=Object.keys(z))==null?void 0:L.length)>0){const V=$.find(se=>se.id===l),K=g.url!==""?g.url:V.url;g={...V,url:K,hasSettings:!0}}if(((P=g==null?void 0:g.headers)==null?void 0:P.length)>0){let V={};for(let K of g.headers){const se={[String(K.header)]:K.value};V={...V,...se}}g.requestHeaders=V||{}}if((_=(p=g==null?void 0:g.auth)==null?void 0:p.basicAuth)!=null&&_.value){const V=(D=(I=g==null?void 0:g.auth)==null?void 0:I.fields)==null?void 0:D.basicAuth;for(let K of V)(K==null?void 0:K.name)==="user"&&(K.value,S=K.value),(K==null?void 0:K.name)==="password"&&(K.value,w=K.value);g.requestHeaders={...g.requestHeaders}}}const m=($,z)=>{const V=It.getState()[i];Jb(i,$,Xb(V,s,z))},{debugMode:C}=It.getState(),k=eb(e,g.requestHeaders),T=Gb(t),y=fb(e,t,r,T,o,g.url||"",n,c,h,s,i),N=Zv(e,n,y),M=($,z)=>{var se;const V=(se=It.getState())==null?void 0:se[`${i}DataView`],K=V==null?void 0:V.find(ue=>ue.id===s);K&&(K.loading=$),Yb(i,V,z)};return async function($){var V,K,se,ue;M(!0,$),m($,!0);let z;if(c===""){n==="trace-search"&&Ec(e,$,i,s,o,n),m($,!1);return}if(t===""&&n!=="trace-search"){e==="traces"&&Ec(e,$,i,s,o,n),m($,!1);return}typeof z<"u"&&z.cancel("Cancelling the previous request"),z=Sn.CancelToken.source(),k.cancelToken=z.token;try{(k==null?void 0:k.method)==="POST"?await((K=(V=Sn)==null?void 0:V.post(N,t,k))==null?void 0:K.then(te=>{_c(e,te,$,i,s,o,n)}).catch(te=>{Ha($),$(mr(!0)),M(!1,$),C&&console.log("Error loading flux data",te)}).finally(()=>{M(!1,$),m($,!1)})):(k==null?void 0:k.method)==="GET"&&await((ue=(se=Sn)==null?void 0:se.get(N,{auth:{username:S,password:w},...k}))==null?void 0:ue.then(te=>{_c(e,te||{data:{data:[]}},$,i,s,o,n,u),C&&Ic({level:"info",id:s,type:e,direction:o},s),m($,!1)}).catch(te=>{Ha($),$(mr(!0)),M(!1,$),m($,!1),C&&(Ic({level:"error",id:s,type:e,direction:o},s),console.log("getting an error from response: ",te))}).finally(()=>{m($,!1),M(!1,$)}))}catch(te){m($,!1),console.log(te)}}}var Eo={},Zb=Ct;Object.defineProperty(Eo,"__esModule",{value:!0});var ks=Eo.default=void 0,ey=Zb(Tt()),ty=qe,ny=(0,ey.default)((0,ty.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline");ks=Eo.default=ny;var _o={},ry=Ct;Object.defineProperty(_o,"__esModule",{value:!0});var Io=_o.default=void 0,iy=ry(Tt()),sy=qe,ay=(0,iy.default)((0,sy.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");Io=_o.default=ay;var Ro={},oy=Ct;Object.defineProperty(Ro,"__esModule",{value:!0});var sf=Ro.default=void 0,ly=oy(Tt()),Rc=qe,cy=(0,ly.default)([(0,Rc.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},"0"),(0,Rc.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime");sf=Ro.default=cy;var Mo={},uy=Ct;Object.defineProperty(Mo,"__esModule",{value:!0});var af=Mo.default=void 0,dy=uy(Tt()),fy=qe,hy=(0,dy.default)((0,fy.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}),"Launch");af=Mo.default=hy;var No={},py=Ct;Object.defineProperty(No,"__esModule",{value:!0});var Kn=No.default=void 0,gy=py(Tt()),my=qe,vy=(0,gy.default)((0,my.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight");Kn=No.default=vy;var Oo={},by=Ct;Object.defineProperty(Oo,"__esModule",{value:!0});var of=Oo.default=void 0,yy=by(Tt()),xy=qe,Sy=(0,yy.default)((0,xy.jsx)("path",{d:"m15 3 2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3h-6zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3v6zm6 12-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6h6zm12-6-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6v-6z"}),"ZoomOutMap");of=Oo.default=Sy;var Lo={},wy=Ct;Object.defineProperty(Lo,"__esModule",{value:!0});var lf=Lo.default=void 0,Ty=wy(Tt()),Cy=qe,ky=(0,Ty.default)((0,Cy.jsx)("path",{d:"M9 9V3H7v2.59L3.91 2.5 2.5 3.91 5.59 7H3v2h6zm12 0V7h-2.59l3.09-3.09-1.41-1.41L17 5.59V3h-2v6h6zM3 15v2h2.59L2.5 20.09l1.41 1.41L7 18.41V21h2v-6H3zm12 0v6h2v-2.59l3.09 3.09 1.41-1.41L18.41 17H21v-2h-6z"}),"ZoomInMap");lf=Lo.default=ky;var Do={},Ey=Ct;Object.defineProperty(Do,"__esModule",{value:!0});var Gr=Do.default=void 0,_y=Ey(Tt()),Iy=qe,Ry=(0,_y.default)((0,Iy.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDownOutlined");Gr=Do.default=Ry;const My=ve("div",{target:"e13u74u10"})("background:",({theme:e})=>e.shadow,";#alert-dialog-title{color:",({theme:e})=>e.contrast,";}#alert-dialog-description{color:",({theme:e})=>e.lightContrast,";font-weight:normal;}");function Mc({clearHistory:e,dialogType:t}){const[n,r]=b.useState(!1),i=Be(),s=()=>{r(!0)},o=()=>{r(!1)};function l(){e(),r(!1)}return f(Mg,{theme:i,children:F("div",{children:[f(Lt,{title:"Clear Query History",children:f(Tg,{onClick:s,children:"Clear History"})}),f(ho,{open:n,onClose:o,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",PaperProps:{classes:{root:po}},children:F(My,{children:[F(Cg,{id:"alert-dialog-title",children:["Are you sure you want to clear the ",t," ","History?"]}),f(kg,{children:F(Eg,{id:"alert-dialog-description",children:["Click ‘Clear History’ to delete your"," ",t," history permanently"]})}),F(_g,{children:[f(Ig,{onClick:o,children:"Cancel"}),f(Rg,{onClick:l,autoFocus:!0,children:"Clear History"})]})]})})]})})}function cf({message:e}){return f(Ng,{children:e})}function Ny({onClose:e}){return f(Og,{onClick:e,children:f(go,{style:{height:"16px",width:"16px"}})})}const uf=Object.fromEntries?Object.fromEntries:e=>{if(!e||!e[Symbol.iterator])throw new Error("Object.fromEntries() requires a single iterable argument");const t={};return Object.keys(e).forEach(n=>{const[r,i]=e[n];t[r]=i}),t};function Kr(e){return Object.keys(e)}function Ao(e,t){if(!e)throw new Error(t)}function Po(e,t){return t}const $o=e=>{const t=e.length;let n=0,r="";for(;n<t;n++){const i=e[n];if(i==null)continue;let s;switch(typeof i){case"boolean":break;case"object":{if(Array.isArray(i))s=$o(i);else{Ao(!Po(i,!1)),s="";for(const o in i)i[o]&&o&&(s&&(s+=" "),s+=o)}break}default:s=i}s&&(r&&(r+=" "),r+=s)}return r};function Oy(e,t){const n=b.useRef();return(!n.current||t.length!==n.current.prevDeps.length||n.current.prevDeps.map((r,i)=>r===t[i]).indexOf(!1)>=0)&&(n.current={v:e(),prevDeps:[...t]}),n.current.v}function Ly(e){return e instanceof Object&&!("styles"in e)&&!("length"in e)&&!("__emotion_styles"in e)}const{createCssAndCx:Dy}=(()=>{function e(n,r,i){const s=[],o=rm(n,s,i);return s.length<2?i:o+r(s)}function t(n){const{cache:r}=n,i=(...o)=>{const l=tm(o,r.registered);nm(r,l,!1);const c=`${r.key}-${l.name}`;e:{const h=o[0];if(!Ly(h))break e;Nc.saveClassNameCSSObjectMapping(r,c,h)}return c};return{css:i,cx:(...o)=>{const l=$o(o),c=Nc.fixClassName(r,l,i);return e(r.registered,i,c)}}}return{createCssAndCx:t}})();function df(e){const{useCache:t}=e;function n(){const r=t(),{css:i,cx:s}=Oy(()=>Dy({cache:r}),[r]);return{css:i,cx:s}}return{useCssAndCx:n}}const Nc=(()=>{const e=new WeakMap;return{saveClassNameCSSObjectMapping:(t,n,r)=>{let i=e.get(t);i===void 0&&(i=new Map,e.set(t,i)),i.set(n,r)},fixClassName:(()=>{function t(n){let r=!1;return n.map(([i,s])=>{if(s===void 0)return i;let o;if(r)o={"&&":s};else{o=i;for(const l in s)if(l.startsWith("@media")){r=!0;break}}return o})}return(n,r,i)=>{const s=e.get(n);return $o(t(r.split(" ").map(o=>[o,s==null?void 0:s.get(o)])).map(o=>typeof o=="string"?o:i(o)))}})()}})();function Jr(e){if(!(e instanceof Object)||typeof e=="function")return e;const t=[];for(const n in e){const r=e[n],i=typeof r;if(!(i==="string"||i==="number"&&!isNaN(r)||i==="boolean"||r===void 0||r===null))return e;t.push(`${n}:${i}_${r}`)}return"xSqLiJdLMd9s"+t.join("|")}function zo(e,t,n){if(!(t instanceof Object))return e;const r={};return Kr(e).forEach(i=>r[i]=n(e[i],t[i])),Kr(t).forEach(i=>{if(i in e)return;const s=t[i];typeof s=="string"&&(r[i]=s)}),r}const ff=({classes:e,theme:t,muiStyleOverridesParams:n,css:r,cx:i,name:s})=>{var o,l;e:{if(s==="makeStyle no name"){s=void 0;break e}if(n!==void 0&&s===void 0)throw new Error("To use muiStyleOverridesParams, you must specify a name using .withName('MyComponent')")}let c;try{c=s===void 0?void 0:((l=(o=t.components)===null||o===void 0?void 0:o[s])===null||l===void 0?void 0:l.styleOverrides)||void 0}catch{}const h=b.useMemo(()=>{if(c===void 0)return;const u={};for(const g in c){const S=c[g];S instanceof Object&&(u[g]=r(typeof S=="function"?S(Object.assign({theme:t,ownerState:n==null?void 0:n.ownerState},n==null?void 0:n.props)):S))}return u},[c,Jr(n==null?void 0:n.props),Jr(n==null?void 0:n.ownerState),r]);return e=b.useMemo(()=>zo(e,h,i),[e,h,i]),{classes:e}};let Ay=0;function hf(e){const{useTheme:t,cache:n}=e,{useCache:r}=pf({cacheProvidedAtInception:n}),{useCssAndCx:i}=df({useCache:r});function s(l){const{name:c,uniqId:h=`${Ay++}`}=l??{},u=typeof c!="object"?c:Object.keys(c)[0];return function(g){const S=typeof g=="function"?g:()=>g;return function(m,C){const k=t();let{css:T,cx:y}=i();const N=r();let M=b.useMemo(()=>{const L={},P=typeof Proxy<"u"&&new Proxy({},{get:(I,D)=>(typeof D=="symbol"&&Ao(!1),L[D]=`${N.key}-${h}${u!==void 0?`-${u}`:""}-${D}-ref`)}),p=S(k,m,P||{}),_=uf(Kr(p).map(I=>{const D=p[I];return D.label||(D.label=`${u!==void 0?`${u}-`:""}${I}`),[I,`${T(D)}${Po(I,I in L)?` ${L[I]}`:""}`]}));return Kr(L).forEach(I=>{I in _||(_[I]=L[I])}),_},[N,T,y,k,Jr(m)]);{const L=C==null?void 0:C.props.classes;M=b.useMemo(()=>zo(M,L,y),[M,Jr(L),y])}{const L=ff({classes:M,css:T,cx:y,name:u??"makeStyle no name",idOfUseStyles:h,muiStyleOverridesParams:C,theme:k});L.classes!==void 0&&(M=L.classes),L.css!==void 0&&(T=L.css),L.cx!==void 0&&(y=L.cx)}return{classes:M,theme:k,css:T,cx:y}}}}function o(){const l=t(),{css:c,cx:h}=i();return{theme:l,css:c,cx:h}}return{makeStyles:s,useStyles:o}}const Py=b.createContext(void 0),{createUseCache:pf}=(()=>{function e(){return b.useContext(Py)}function t(n){const{cacheProvidedAtInception:r}=n;function i(){var s;const o=im(),l=e(),c=(s=r??l)!==null&&s!==void 0?s:o;if(c===null)throw new Error(["In order to get SSR working with tss-react you need to explicitly provide an Emotion cache.","MUI users be aware: This is not an error strictly related to tss-react, with or without tss-react,","MUI needs an Emotion cache to be provided for SSR to work.","Here is the MUI documentation related to SSR setup: https://mui.com/material-ui/guides/server-rendering/","TSS provides helper that makes the process of setting up SSR easier: https://docs.tss-react.dev/ssr"].join(`
`));return c}return{useCache:i}}return{createUseCache:t}})();function Oc(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Lc=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function $y(e){const{useTheme:t,cache:n}=e,{makeStyles:r}=hf({useTheme:t,cache:n});function i(s,o,l){const c=typeof s=="string"?(()=>{const w=s,m=function(C){var{children:k}=C,T=Lc(C,["children"]);return b.createElement(w,T,k)};return Object.defineProperty(m,"name",{value:Oc(w)}),m})():s,h=(()=>{{const{name:w}=l??{};if(w!==void 0)return typeof w!="object"?w:Object.keys(w)[0]}{const w=c.displayName;if(typeof w=="string"&&w!=="")return w}{const{name:w}=c;if(w)return w.replace(/\$/g,"usd")}})(),u=r(Object.assign(Object.assign({},l),{name:h}))(typeof o=="function"?(w,m,C)=>Ac(o(w,m,C)):Ac(o));function g(w){for(const m in w)if(m!=="root")return!0;return!1}const S=b.forwardRef(function(w,m){const{className:C,classes:k}=w,T=Lc(w,["className","classes"]),{classes:y,cx:N}=u(w,{props:w}),M=N(y.root,C);return gf.set(y,Object.assign(Object.assign({},y),{root:M})),ln.createElement(c,Object.assign({ref:m,className:g(y)?C:M},typeof s=="string"?{}:{classes:y},T))});return h!==void 0&&(S.displayName=`${Oc(h)}WithStyles`,Object.defineProperty(S,"name",{value:S.displayName})),S}return i.getClasses=zy,{withStyles:i}}const gf=new WeakMap,Dc="getClasses should only be used in conjunction with withStyles";function zy(e){const t=e.classes;if(t===void 0)throw new Error(Dc);const n=gf.get(t);if(n===void 0)throw new Error(Dc);return n}function Ac(e){const t={},n={};return Object.keys(e).forEach(r=>(r.startsWith("@media")?n:t)[r]=e[r]),Object.keys(n).forEach(r=>{const i=n[r];Object.keys(i).forEach(s=>{var o;return t[s]=Object.assign(Object.assign({},(o=t[s])!==null&&o!==void 0?o:{}),{[r]:i[s]})})}),t}const Vy=(()=>!(typeof document=="object"&&typeof(document==null?void 0:document.getElementById)=="function")&&!(typeof jest<"u")&&!(typeof mocha<"u")&&!(typeof __vitest_worker__<"u"))();var Fy=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function mf(e){const{useContext:t,usePlugin:n,cache:r}=e,{useCache:i}=pf({cacheProvidedAtInception:r}),{useCssAndCx:s}=df({useCache:i});return{tss:ss({useContext:t,useCache:i,useCssAndCx:s,usePlugin:n??(({classes:c,cx:h,css:u})=>({classes:c,cx:h,css:u})),name:void 0,doesUseNestedSelectors:!1})}}let jy=0;const da=[];function ss(e){const{useContext:t,useCache:n,useCssAndCx:r,usePlugin:i,name:s,doesUseNestedSelectors:o}=e;return{withParams:()=>ss(Object.assign({},e)),withName:l=>ss(Object.assign(Object.assign({},e),{name:typeof l!="object"?l:Object.keys(l)[0]})),withNestedSelectors:()=>ss(Object.assign(Object.assign({},e),{doesUseNestedSelectors:!0})),create:l=>{const c=`x${jy++}`,h=typeof l=="function"?l:()=>l;return function(g){var S,w,m;const C=g??{},{classesOverrides:k}=C,T=Fy(C,["classesOverrides"]),y=t(),{css:N,cx:M}=r(),L=n();let P=b.useMemo(()=>{const _={},I=h(Object.assign(Object.assign(Object.assign({},g),y),o?{classes:typeof Proxy>"u"?{}:new Proxy({},{get:($,z)=>{if(typeof z=="symbol"&&Ao(!1),Vy){{let V=da.find(K=>K.name===s&&K.idOfUseStyles===c);V===void 0&&(V={name:s,idOfUseStyles:c,nestedSelectorRuleNames:new Set},da.push(V)),V.nestedSelectorRuleNames.add(z)}if(da.find(V=>V.name===s&&V.idOfUseStyles!==c&&V.nestedSelectorRuleNames.has(z))!==void 0)throw new Error([`tss-react: Duplicate nested selector "${z}" detected in ${s===void 0?`useStyles named "${s}"`:"anonymous useStyles function"}.`,"In SSR setups, this may lead to CSS class name collisions, causing nested selectors to target elements outside of the intended scope.",'Solution: Ensure each useStyles using nested selectors has a unique name. Use tss.withName("UniqueName").withNestedSelectors<...>()... to set a name.'].join(`
`))}return _[z]=`${L.key}-${c}${s!==void 0?`-${s}`:""}-${z}-ref`}})}:{})),D=uf(Kr(I).map($=>{const z=I[$];return z.label||(z.label=`${s!==void 0?`${s}-`:""}${$}`),[$,`${N(z)}${Po($,$ in _)?` ${_[$]}`:""}`]}));return Kr(_).forEach($=>{$ in D||(D[$]=_[$])}),D},[L,N,M,Jr(g),...Object.values(y)]);P=b.useMemo(()=>zo(P,k,M),[P,Jr(k),M]);const p=i(Object.assign(Object.assign({classes:P,css:N,cx:M,idOfUseStyles:c,name:s},y),T));return Object.assign({classes:(S=p.classes)!==null&&S!==void 0?S:P,css:(w=p.css)!==null&&w!==void 0?w:N,cx:(m=p.cx)!==null&&m!==void 0?m:M},y)}}}}function Hy(e){return Object.assign(Object.assign({},hf(e)),$y(e))}const{tss:By}=mf({useContext:()=>({})});By.create({});const{makeStyles:DL,withStyles:Vo}=Hy({useTheme:fo}),{tss:qy}=mf({useContext:function(){return{theme:fo()}},usePlugin:ff});qy.create({});var Fo={},Wy=Ct;Object.defineProperty(Fo,"__esModule",{value:!0});var jo=Fo.default=void 0,Uy=Wy(Tt()),Qy=qe,Gy=(0,Uy.default)((0,Qy.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft");jo=Fo.default=Gy;var Ho={},Ky=Ct;Object.defineProperty(Ho,"__esModule",{value:!0});var vf=Ho.default=void 0,Jy=Ky(Tt()),Yy=qe,Xy=(0,Jy.default)((0,Yy.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");vf=Ho.default=Xy;const Zy=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],e0=["Su","Mo","Tu","We","Th","Fr","Sa"],ur={FIRST_MONTH:Symbol("firstMonth"),SECOND_MONTH:Symbol("secondMonth")},qa="dateTimeRange",t0=It.getState().theme,n0={light:fd,dark:hd},Pr=n0[t0],r0=()=>({iconContainer:{padding:5,color:Pr.contrast},icon:{padding:10,color:Pr.contrast,"&:hover":{color:Pr.contrast,background:"none"}},selector:{color:Pr.contrast,borderBottom:`1px solid ${Pr.contrast}`}}),i0=()=>{const e=It.getState().theme;return ng({palette:{mode:e,primary:{main:Pr.contrast}}})},Pc=ve("select",{target:"etc1wzw0"})("cursor:pointer;position:relative;font-size:14px;color:",e=>e.theme.contrast,";background:",e=>e.theme.deep,";border:none;border-radius:3px;padding:4px 8px;line-height:20px;flex:1;&::-webkit-scrollbar{width:5px;background:",e=>e.theme.deep,";}&::-webkit-scrollbar-corner{background:transparent;}&::-webkit-scrollbar-thumb{border-radius:5px;background:",e=>e.theme.alphaPlusNeutral,";}"),s0=({date:e,classes:t,setDate:n,nextDisabled:r,prevDisabled:i,onClickNext:s,onClickPrevious:o})=>{const l=Be(),c=u=>{n(dg(e,parseInt(u.target.value)))},h=u=>{n(fg(e,parseInt(u.target.value)))};return f(wd,{theme:l,children:F(on,{container:!0,justifyContent:"space-between",alignItems:"center",style:{marginTop:"20px"},children:[f(on,{item:!0,className:t.iconContainer,children:f(Pa,{disabled:i,onClick:o,children:f(jo,{style:{color:i?l.lightContrast:l.contrast}})})}),f(on,{item:!0,children:f(Pc,{value:cg(e),onChange:c,children:Zy.map((u,g)=>f("option",{value:g,children:u},u))})}),f(on,{item:!0,children:f(Pc,{value:ug(e),onChange:h,children:ob(e,30).map(u=>f("option",{className:"custom-option",value:u,children:u},u))})}),f(on,{item:!0,className:t.iconContainer,children:f(Pa,{disabled:r,onClick:s,children:f(vf,{style:{color:r?l.lightContrast:l.contrast}})})})]})})},a0=Vo(s0,r0),o0=()=>({leftBorderRadius:{borderRadius:"50% 0 0 50%"},rightBorderRadius:{borderRadius:"0 50% 50% 0"},buttonContainer:{display:"flex"},button:{height:30,width:30,padding:0},inactive:{color:"gray"},outlined:{border:"1px solid #11abab"},maxContrast:{lineHeight:1.6,color:"primary"},filled:{"&:hover":{backgroundColor:"#11abab",color:"text.primary"},backgroundColor:"#11abab",color:"text.primary"},highlighted:{backgroundColor:"#14b8b852"},contrast:{color:"text.primary"}}),l0=e=>{const{classes:t}=e;return f(vt,{theme:i0,children:f("div",{className:ca(t.buttonContainer,e.startOfRange&&t.leftBorderRadius,e.endOfRange&&t.rightBorderRadius,!e.disabled&&e.highlighted&&t.highlighted,e.disabled&&t.disabled),children:f(Pa,{className:ca(t.button,!e.disabled&&e.outlined&&t.outlined,!e.disabled&&e.filled&&t.filled),disabled:e.disabled,onClick:e.onClick,onMouseOver:e.onHover,children:f(cs,{color:e.disabled?"text.secondary":"text.primary",className:ca(t.maxContrast,!e.disabled&&e.filled&&t.contrast,e.disabled&&t.inactive),variant:"body2",children:e.value})})})})},c0=Vo(l0,o0),$c={Previous:-1,Next:1},u0=e=>({root:{width:260,background:e.background},weekDaysContainer:{marginTop:5,paddingLeft:30,paddingRight:30},daysContainer:{paddingLeft:15,paddingRight:15,marginTop:10,marginBottom:20}}),d0=e=>{const t=Be(),[n,r]=b.useState(t),{classes:i,helpers:s,handlers:o,value:l,dateRange:c,marker:h,setValue:u,minDate:g,maxDate:S}=e,[w,m]=e.navState;return b.useEffect(()=>{r(t)},[t,r]),f(vt,{theme:t,children:f(pd,{square:!0,elevation:0,className:i.root,style:{background:t.background},children:F(on,{container:!0,children:[f(a0,{date:l,setDate:u,nextDisabled:!m,prevDisabled:!w,onClickPrevious:()=>o.onMonthNavigate(h,$c.Previous),onClickNext:()=>o.onMonthNavigate(h,$c.Next)}),f(on,{item:!0,container:!0,direction:"row",justifyContent:"space-between",className:i.weekDaysContainer,children:e0.map(C=>f("div",{style:{color:t.contrast,fontSize:"10px"},children:C},C))}),f(on,{item:!0,container:!0,direction:"column",justifyContent:"space-between",className:i.daysContainer,children:tb(nb(l),7).map((C,k)=>f(on,{container:!0,direction:"row",justifyContent:"center",children:C.map(T=>{const y=rb(c,T),N=ib(c,T),M=ab(c),L=sb(c,T)||s.inHoverRange(T);return f(c0,{themeSelected:n,filled:y||N,outlined:hg(T),highlighted:L&&!M,disabled:!co(l,T)||!lo(T,{start:g,end:S}),startOfRange:y&&!M,endOfRange:N&&!M,onClick:()=>o.onDayClick(T),onHover:()=>o.onDayHover(T),value:pg(T)},Pn(T,"mm-dd-yyyy"))})},k))})]})})})},Nr=Vo(d0,u0),f0=ve("div",{target:"eb241j10"})("display:flex;flex-direction:column;padding:10px;max-height:250px;overflow-y:auto;flex:1;margin-top:10px;margin-bottom:10px;padding:5px;&::-webkit-scrollbar{width:5px;background:",e=>e.theme.lightNeutral,";}&::-webkit-scrollbar-corner{background:transparent;}&::-webkit-scrollbar-thumb{border-radius:5px;background:",e=>e.theme.neutral,";}button{background:none;text-align:left;border:none;padding:10px;line-height:1.5;border-radius:3px;font-size:12px;cursor:pointer;&:hover{background:",e=>e.theme.lightNeutral,";}}"),zc=e=>{const t=Be();return f(vt,{theme:t,children:f(f0,{children:e.ranges.map((n,r)=>f("button",{onClick:()=>{e.setRange(n),e.onClose()},children:f("span",{style:{fontWeight:Sc(n,e.selectedRange)?"bold":"normal",color:Sc(n,e.selectedRange)?"orange":t.contrast,whiteSpace:"nowrap"},children:n.label})},r))})})};var Bo={},h0=Ct;Object.defineProperty(Bo,"__esModule",{value:!0});var Es=Bo.default=void 0,p0=h0(Tt()),g0=qe,m0=(0,p0.default)((0,g0.jsx)("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIos");Es=Bo.default=m0;var qo={},v0=Ct;Object.defineProperty(qo,"__esModule",{value:!0});var Wa=qo.default=void 0,b0=v0(Tt()),y0=qe,x0=(0,b0.default)((0,y0.jsx)("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");Wa=qo.default=x0;const S0=ve("div",{target:"ebkgyot2"})("display:",e=>e.isDisplay?"flex":"none",";flex-direction:column;margin:20px;margin-top:30px;.time-selectors{display:",e=>e.isDisplay?"flex":"none",";flex-direction:column;margin-bottom:15px;.label{font-size:0.85em;color:",e=>e.theme.alphaNeutral,";width:50px;margin-left:5px;margin-bottom:5px;white-space:nowrap;}.input-group{display:flex;margin-bottom:20px;input{background:",e=>e.theme.deep,";color:",e=>e.theme.contrast,";}.date-time-ranged{font-size:14px;width:170px;line-height:20px;border:1px solid ",e=>e.theme.lightNeutral,";color:",e=>e.theme.contrast,";margin:0;padding:0px 8px;margin-right:5px;&:focus{border:1px solid ",e=>e.theme.neutral,";}}}}"),w0=ve(vo,{target:"ebkgyot1"})("color:",e=>e.theme.maxContrast,";background:",e=>e.theme.primary,";padding:6px;justify-content:center;margin-top:10px;margin-bottom:10px;cursor:pointer;&:hover{background:",e=>e.theme.primaryLight,";}"),Vc=ve(vo,{target:"ebkgyot0"})("color:",e=>e.theme.contrast,";background:",e=>e.theme.neutral,";border:1px solid ",e=>e.theme.accentNeutral,";padding:8px;&:hover{background:",e=>e.theme.lightNeutral,";color:",e=>e.theme.contrast,";}");function Fc({getEditedStartDate:e,getEditedEndDate:t,handleStart:n,handleStop:r,onTimeRangeSet:i,setCalendarOpen:s,isFullCalendar:o,setStopCalendar:l,setStartCalendar:c,startCalendarOpen:h,stopCalendarOpen:u,isHorizontal:g,styles:S,isMobile:w}){const m=Be();function C(){o?s(T=>!T):(s(T=>!(T&&h)),l(()=>!1),c(T=>!T))}function k(){o?s(T=>!T):(s(T=>!(T&&u)),c(()=>!1),l(T=>!T))}return f(vt,{theme:m,children:F(S0,{isDisplay:S,children:[F("div",{className:"time-selectors",children:[f("span",{className:"label",children:"From"}),F("div",{className:"input-group",children:[f("input",{className:"date-time-ranged",value:Xe(e()),onChange:T=>n(T,!1),onBlur:T=>n(T,!0)}),f(Vc,{onClick:C,children:f(Wa,{style:{height:"16px",width:"16px"}})})]})]}),F("div",{className:"time-selectors",children:[f("span",{className:"label",children:"To"}),F("div",{className:"input-group",children:[f("input",{className:"date-time-ranged",value:Xe(t()),onChange:T=>r(T,!1),onBlur:T=>r(T,!0)}),f(Vc,{onClick:k,children:f(Wa,{style:{height:"16px",width:"16px"}})})]})]}),f(w0,{isHorizontal:g,isMobile:w,onClick:T=>{i(T)},children:"Apply Time Range"})]})})}const T0=ve("button",{target:"e1opaqag1"})("padding:10px;border-radius:3px;color:",({theme:e})=>e.accent,";font-size:1em;border:none;background:none;display:flex;cursor:pointer;align-items:center;justify-content:center;margin-bottom:10px;&:hover{background:#11111155;}span{margin-right:4px;font-size:12px;}"),C0=ve("div",{target:"e1opaqag0"})("position:absolute;.header{padding:10px;justify-content:space-between;}.headerItem{text-align:center;}.dateComplete{font-size:0.85em;}.divider{border-left:1px solid action;margin-bottom:20;}.container{position:relative;z-index:1000;right:75%;top:30px;display:flex;flex-direction:column;overflow-y:auto;background:",({theme:e})=>e.background,";}.applyButton{color:white;background:hsl(0, 0%, 31%);border:1px solid hsl(0, 0%, 31%);padding:6px 8px;border-radius:3px;margin-left:10px;cursor:pointer;}"),k0=e=>{const{ranges:t,dateRange:n,minDate:r,maxDate:i,firstMonth:s,setFirstMonth:o,secondMonth:l,setSecondMonth:c,setDateRange:h,helpers:u,handlers:g}=e,S=Be(),[w,m]=b.useState(!1),C={label:"Last 5 minutes",dateStart:new Date(Date.now()-5*6e4),dateEnd:new Date(Date.now())},k=gg(l,s)>=2,T={dateRange:n,minDate:r,maxDate:i,helpers:u,handlers:g},y=zt(),[N,M]=b.useState(n.dateStart),[L,P]=b.useState(n.dateEnd),[p,_]=b.useState(!0),[I]=b.useState(n.label)||C.label,D=wn.useMediaQuery({query:"(min-width: 1013px)"}),$=wn.useMediaQuery({query:"(max-width: 1013px)"}),z=wn.useMediaQuery({query:"(orientation: portrait)"}),V=Re(re=>re.isSplit),[K,se]=b.useState(!1),[ue,te]=b.useState(!1);b.useEffect(()=>{if(I){const re=Cs(I);M(re.dateStart),P(re.dateEnd)}},[P,M,I]);const he=(re,Ce)=>{re.preventDefault();const Ee=new Date(re.target.value);Ce&&yn(Ee)?P(Ee):P(re.target.value)},Y=(re,Ce)=>{re.preventDefault();const Ee=new Date(re.target.value);Ce&&yn(Ee)?M(Ee):M(re.target.value)},Fe=re=>{re.preventDefault();const Ce=new Date(N),Ee=new Date(L);Bn(Ce)&&!Wi(n.dateStart,Ce)&&(y(xo(Ce)),M(Ce)),yn(Ee)&&!Wi(n.dateEnd,Ee)&&(y(So(Ee)),P(Ee));const be=yn(Ee)&&Bn(Ce),pe=zr(Ce,Ee),Te=!Wi(n.dateStart,Ce)||!Wi(n.dateEnd,Ee);be&&pe&&Te?(y(wo("")),h({dateStart:Ce,dateEnd:Ee}),$e({dateStart:Ce,dateEnd:Ee}),e.onClose(re)):pe||console.log("Invalid time range")},$e=re=>{localStorage.setItem(qa,JSON.stringify(re))},me=()=>yn(N)?Pn(N,"yyy-MM-dd HH:mm:ss"):N,ke=()=>yn(L)?Pn(L,"yyy-MM-dd HH:mm:ss"):typeof L<"u"?L:"",Oe=()=>{_(re=>!re)};return f(vt,{theme:S,children:f(C0,{children:f(pd,{className:"container",elevation:5,children:F(on,{display:"flex",style:{flex:"1"},children:[w&&D&&F(on,{container:!0,direction:"row",wrap:"nowrap",children:[f(Nr,{...T,value:s,setValue:o,navState:[!0,k],marker:ur.FIRST_MONTH}),f("div",{className:"divider"}),f(Nr,{...T,value:l,setValue:c,navState:[k,!0],marker:ur.SECOND_MONTH})]}),w&&!D&&!z&&!p&&!V&&F(on,{container:!0,direction:"row",wrap:"nowrap",children:[K&&f(Nr,{...T,value:s,setValue:o,navState:[!0,k],marker:ur.FIRST_MONTH}),ue&&f(Nr,{...T,value:l,setValue:c,navState:[k,!0],marker:ur.SECOND_MONTH})]}),F(on,{display:"flex",flex:1,children:[F("div",{style:{display:"flex",flexDirection:"column",flex:"1"},children:[$&&F(mt,{children:[f("div",{style:{maxHeight:z?"60vh":"50vh",overflowY:"auto",display:p?"flex":"none",flex:1,flexDirection:"column"},children:f(zc,{selectedRange:n,isHorizontal:!z,ranges:t,setRange:h,onClose:e.onClose})}),f(Fc,{styles:!p,getEditedStartDate:me,isHorizontal:!z,isMobile:!0,isFullCalendar:!1,getEditedEndDate:ke,handleStart:Y,handleStop:he,onTimeRangeSet:Fe,calendarOpen:w,stopCalendarOpen:ue,startCalendarOpen:K,setCalendarOpen:m,setStopCalendar:te,setStartCalendar:se}),$&&F(T0,{onClick:Oe,theme:S,children:[f("span",{children:p?"Set Absolute Time":"Set Relative Time"}),f(Es,{className:ie({name:"rnnx2x",styles:"font-size:12px"})})]})]}),!$&&f(Fc,{styles:!0,isMobile:!1,isFullCalendar:!0,getEditedStartDate:me,getEditedEndDate:ke,handleStart:Y,handleStop:he,onTimeRangeSet:Fe,calendarOpen:w,setCalendarOpen:m}),w&&$&&!p&&F(on,{container:!0,direction:"row",wrap:"nowrap",children:[K&&f(Nr,{...T,value:s,setValue:o,navState:[!0,k],marker:ur.FIRST_MONTH}),ue&&f(Nr,{...T,value:l,setValue:c,navState:[k,!0],marker:ur.SECOND_MONTH})]})]}),f("div",{className:"divider"}),D&&f(on,{style:{display:"flex",flex:1},children:f(zc,{selectedRange:n,ranges:t,setRange:h,onClose:e.onClose})})]})]})})})})};function E0(){const e=zt(),t=b.useRef(null),n=i=>{i.key==="Escape"&&e(pc(!1))},r=i=>{t.current&&!t.current.contains(i.target)&&e(pc(!1))};return b.useEffect(()=>(document.addEventListener("keydown",n,!0),document.addEventListener("click",r,!0),()=>{document.removeEventListener("keydown",n,!0),document.removeEventListener("click",r,!0)})),{ref:t}}var Wo={},_0=Ct;Object.defineProperty(Wo,"__esModule",{value:!0});var bf=Wo.default=void 0,I0=_0(Tt()),R0=qe,M0=(0,I0.default)((0,R0.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"}),"AccessTimeOutlined");bf=Wo.default=M0;var Uo={},N0=Ct;Object.defineProperty(Uo,"__esModule",{value:!0});var yf=Uo.default=void 0,O0=N0(Tt()),L0=qe,D0=(0,O0.default)((0,L0.jsx)("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"KeyboardArrowLeft");yf=Uo.default=D0;const A0=ve("div",{target:"e13b6hz0"})({name:"12m2hdf",styles:'display:flex;flex-direction:column;justify-content:"center";padding:"3px";.time-span{text-align:center;}'});function P0({dateRange:e}){const t=Be();return f(vt,{theme:t,children:F(A0,{children:[f("span",{className:"time-span",children:yn(e.dateStart)?Pn(e.dateStart,"yyyy/MM/dd HH:mm:ss"):e.dateStart}),f("span",{className:"time-span",children:"to"}),f("span",{className:"time-span",children:yn(e.dateEnd)?Pn(e.dateEnd,"yyyy/MM/dd HH:mm:ss"):typeof e.dateEnd<"u"?e.dateEnd:""})]})})}const hi=ie({name:"th2gus",styles:"svg{font-size:1.15em;margin:0px 2px;}.tooltip{background-color:red;display:flex;align-items:center;justify-items:center;}@media screen and (max-width: 1200px){font-size:1em;padding:8px;color:#ddd;line-height:1.5;svg{margin-right:0;}span{display:none;}}"}),$0=e=>{try{let t=localStorage.getItem(e);if(typeof t=="string"){let n=JSON.parse(t);if(n.dateStart&&n.dateEnd)return JSON.parse(t)}}catch(t){return console.log(t),{dateStart:"",dateEnd:""}}},Ua=e=>f(Lg,{id:e.id,elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"left"},PaperProps:{sx:{background:e.qryntheme.neutral,color:e.qryntheme.contrast}},transformOrigin:{vertical:"bottom",horizontal:"left"},...e}),jc=["1m","5m","10m","30m","1h","3h","6h","12h","24h"];function z0(e){const t=Date.now(),{id:n,minDate:r,maxDate:i,startTs:s,stopTs:o,label:l,onLabelChange:c,onStartChange:h,onStopChange:u,pickerOpen:g,onPickerOpen:S}=e,w=wn.useMediaQuery({query:"(max-width: 1013px)"}),m=Re(_e=>_e.isSplit),C=Be(),k={label:"Last 5 minutes",dateStart:new Date(Date.now()-5*6e4),dateEnd:new Date(Date.now())},T=()=>{try{const _e=$0(qa);if(!_e)return k;if((_e==null?void 0:_e.label)!==""&&typeof _e.label<"u"){const je=Cs(_e==null?void 0:_e.label);_e.dateStart=je.dateStart,_e.dateEnd=je.dateEnd}else _e.dateStart=new Date(_e.dateStart),_e.dateEnd=new Date(_e.dateEnd);return _e}catch{if(Bn(s)&&Bn(o))return{dateStart:s,dateEnd:o}}},y=xc(r,sc(t,-10)),N=xc(i,sc(t,10)),[M,L]=lb(T()||{},y,N),[P,p]=b.useState({...T()}),[_,I]=b.useState(),[D,$]=b.useState(M||t),[z,V]=b.useState(L||bi(D,1)),K=b.useMemo(()=>({dateStart:s,dateEnd:o,label:l}),[s,o,l]);b.useEffect(()=>{c(K.label)},[K.label]);const{dateStart:se,dateEnd:ue}=P,{ref:te}=E0(),he=_e=>{zr(_e,z)&&$(_e)},Y=_e=>{ac(_e,D)&&V(_e)},Fe=_e=>{let{label:je,dateStart:Qe,dateEnd:at}=_e;Qe&&at&&(_e.label=je,_e.dateStart=Qe=vd([Qe,y]),_e.dateEnd=at=bd([at,N]),p(_e),$e(_e),pe(_e),$(Qe),V(co(Qe,at)?bi(Qe,1):at))},$e=_e=>{localStorage.setItem(qa,JSON.stringify(_e))},me=_e=>{if(se&&!ue&&!zr(_e,se)){const je={dateStart:se,dateEnd:_e};pe(je),$e(je),p(je),c(""),re()}else p({dateStart:_e,dateEnd:void 0});I(_e)},ke=(_e,je)=>{if(_e===ur.FIRST_MONTH){const Qe=bi(D,je);zr(Qe,z)&&$(Qe)}else{const Qe=bi(z,je);zr(D,Qe)&&V(Qe)}},Oe=_e=>{se&&!ue&&(!_||!Ur(_e,_))&&I(_e)},re=(_e=null)=>{_e==null||_e.preventDefault(),S(!1)},Ee={inHoverRange:_e=>se&&!ue&&_&&ac(_,se)&&lo(_e,{start:se,end:_})},be={onDayClick:me,onDayHover:Oe,onMonthNavigate:ke};function pe(_e){const{dateStart:je,dateEnd:Qe,label:at}=_e,Ie=Bn(je),ut=Bn(Qe),Dt=typeof at<"u";Ie&&h(je),ut&&u(Qe),Dt&&c(at)}const Te=_e=>{_e.preventDefault(),g===!0?re(_e):S(!0)},Je=(_e,je="range")=>{const Qe=_e==="backward"?vg:bg;let at={years:0,months:0,days:0,hours:0,minutes:0,seconds:0};je==="range"?at=mg({start:se,end:ue}):je.includes("d")?at.days=parseInt(je):je.includes("h")?at.hours=parseInt(je):je.includes("m")?at.minutes=parseInt(je):je.includes("s")&&(at.seconds=parseInt(je));const Ie=Qe(se,at),ut=Qe(ue,at),Dt={dateStart:Ie,dateEnd:ut,label:""};p(Dt),$e(Dt),pe(Dt)},[tt,De]=b.useState(null),Ye=!!tt,[Ze,it]=b.useState(null),rt=!!Ze,Ke=_e=>{De(()=>_e.currentTarget)},Et=_e=>{it(()=>_e.currentTarget)},Rt=(_e,je,Qe)=>{De(null),it(null),je&&Qe&&Je(je,Qe)};return F("div",{style:{display:"flex"},children:[!w&&!m&&F(mt,{children:[f(di,{onClick:()=>{Je("backward")},attachedside:"r",emptySide:"l",className:Pe(hi),children:f(yf,{})}),f(di,{onClick:Ke,attachedside:"both",size:"small",className:Pe(hi),"aria-controls":Ye?"backward-menu":void 0,"aria-haspopup":"true","aria-expanded":Ye?"true":void 0,children:f(Gr,{})}),f(Ua,{id:"backward-menu",anchorEl:tt,open:Ye,onClose:Rt,qryntheme:C,children:jc.map(_e=>f(Fa,{sx:{"&.MuiMenuItem-root":{fontSize:12}},onClick:je=>Rt(je,"backward",_e),children:_e},`${_e} l`))})]}),f(Lt,{title:l?f(P0,{dateRange:P}):"",children:F(di,{onClick:Te,className:Pe(hi),attachedside:"both",children:[f(bf,{}),f("span",{children:l||(yn(P.dateStart)?Pn(P.dateStart,"yyyy/MM/dd HH:mm:ss"):P.dateStart)+"-"+(yn(P.dateEnd)?Pn(P.dateEnd,"yyyy/MM/dd HH:mm:ss"):typeof P.dateEnd<"u"?P.dateEnd:"")})]})}),!w&&!m&&F(mt,{children:[f(di,{onClick:Et,id:`forward-button-${n}`,size:"small",className:Pe(hi),"aria-controls":rt?`forward-menu${n}`:void 0,"aria-haspopup":"true","aria-expanded":rt?"true":void 0,children:f(Gr,{})}),f(Ua,{id:`forward-menu-${n}`,anchorEl:Ze,open:rt,onClose:Rt,qryntheme:C,children:jc.map(_e=>f(Fa,{sx:{"&.MuiMenuItem-root":{fontSize:12}},onClick:je=>Rt(je,"forward",_e),children:_e},`${_e} r`))}),f(di,{onClick:()=>{Je("forward")},attachedside:"l",className:Pe(hi),children:f(Kn,{})})]}),g?f("div",{tabIndex:0,ref:te,children:f(vt,{theme:C,children:f(k0,{dateRange:P,minDate:y,maxDate:N,ranges:To(new Date),firstMonth:D,secondMonth:z,setFirstMonth:he,setSecondMonth:Y,setDateRange:Fe,helpers:Ee,handlers:be,onClose:re})})}):null]})}const V0=z0;function F0(e){const{historyTabHeader:t,historyTab:n,starredHistoryTab:r,closeButton:i,linksTabHeader:s,linksTab:o,settingTab:l,settingTabHeader:c}=e;return F(Vg,{defaultValue:0,children:[F(Td,{children:[F(Vr,{children:[f(Ag,{}),f("span",{children:"Queries"})]}),F(Vr,{children:[f(Pg,{}),f("span",{children:"Links"})]}),F(Vr,{children:[f($g,{}),f("span",{children:"Starred"})]}),F(Vr,{children:[f(zg,{}),f("span",{children:"Settings"})]}),i]}),F(Fr,{value:0,children:[t,n]}),F(Fr,{value:1,children:[s,o]}),f(Fr,{value:2,children:r}),F(Fr,{value:3,children:[c,l]})]})}function j0({pos:e,item:t,copyLink:n,handleDelete:r,handleStarLinkItem:i,handleSubmit:s,label:o}){var k;const[l,c]=b.useState(!1),{fromDate:h,toDate:u,type:g,url:S,queryInput:w,limit:m}=t,C=()=>{c(T=>!T)};return F(qg,{open:l,children:[f(H0,{pos:e,onOpen:l}),f("button",{className:"open-button",onClick:()=>{C()},children:l?f(lf,{fontSize:"small"}):f(of,{fontSize:"small"})}),F("div",{className:"inline-params",children:[f(Lt,{title:"API URL",children:F("span",{style:{display:"flex",alignItems:"center"},children:[f(Rd,{fontSize:"small",style:{marginRight:"3px"}})," ",S]})}),F("span",{style:{whiteSpace:"nowrap"},children:["limit: ",m]}),F("span",{style:{whiteSpace:"nowrap"},children:["step: ",(k=t==null?void 0:t.params)==null?void 0:k.step]}),F("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[" ",f(Lt,{title:`${h} - ${u}`,children:f(sf,{style:{marginRight:"3px",height:"14px",width:"14px"}})})," ",F(Bg,{children:[h," - ",u]})]})]}),F("div",{className:"block-params",children:[F("p",{children:[f("span",{className:"key",children:" Query:"})," ",f("span",{className:"value",children:w})," "]}),F("p",{children:[f("span",{className:"key",children:" API URL:"})," ",f("span",{className:"value",children:S})," "]}),F("p",{children:[f("span",{className:"key",children:" Data Source Type:"})," ",f("span",{className:"value",children:g})," "]}),F("p",{children:[f("span",{className:"key",children:"From: "})," ",f("span",{className:"value",children:h})," "]}),F("p",{children:[f("span",{className:"key",children:" To: "})," ",F("span",{className:"value",children:[" ",u]})," "]}),F("p",{children:[f("span",{className:"key",children:"Limit: "})," ",f("span",{className:"value",children:m})," "]}),F("p",{children:[f("span",{className:"key",children:" Step:"})," ",f("span",{className:"value",children:t.params.step})," "]})]}),f(B0,{item:t,onOpen:l,copyLink:n,handleDelete:r,handleStarLinkItem:i,handleSubmit:s,label:o})]})}function H0({pos:e,onOpen:t}){return f("div",{style:{display:t?"none":"flex",width:"30vw"},children:F(Cd,{children:["Link ",e," "]})})}function B0(e){const{item:t,onOpen:n,copyLink:r,handleDelete:i,handleStarLinkItem:s,handleSubmit:o,label:l}=e,c=Be(),[h,u]=b.useState(null),g=!!h,[S,w]=b.useState(!1);return F("div",{style:{display:"flex",flexDirection:n?"column-reverse":"row",justifyContent:"space-between",alignItems:"center"},children:[f(mt,{children:f(Lt,{title:"Copy Link to Clipboard",placement:"right-end",children:F("span",{style:{display:"flex"},children:[f(fr,{onClick:()=>r(t==null?void 0:t.data,"link",S),isActive:!0,style:{flex:1},className:"URL-COPY",attachedside:"r",children:f(Rd,{style:{height:"14px",width:"14px"},fontSize:"small"})}),f(fr,{attachedside:"l",onClick:T=>{u(()=>T.currentTarget),w(()=>S)},size:"small",className:"date-time-selector","aria-controls":g?"backward-menu":void 0,"aria-haspopup":"true","aria-expanded":g?"true":void 0,children:f(Gr,{fontSize:"small"})}),f(Ua,{id:"backward-menu",anchorEl:h,open:g,onClose:()=>{u(null)},qryntheme:c,size:"small",children:f(Fa,{style:{padding:"0 14px"},children:f(Nv,{children:f(kv,{style:{padding:"0",marginRight:0,cursor:l?"default":"not-allowed"},checked:S,onChange:T=>{w(()=>!!T.target.checked)},control:f(sv,{style:{paddingRight:"0px",marginRight:"3px"},sx:{"& .MuiSvgIcon-root":{fontSize:14}},disabled:!l}),label:f(cs,{style:{fontSize:"12px",color:c.contrast},children:"Relative time"})})})},"relativeTime")})]})})}),f(Lt,{title:"Delete Query",children:f(fr,{onClick:()=>i(t),children:f(ks,{style:{height:"14px",width:"14px"},fontSize:"small"})})}),f(Lt,{title:"Star / Unstar Link",children:f(fr,{onClick:()=>s(t),children:t.starred?f(Io,{style:{height:"14px",width:"14px"},fontSize:"small"}):f(kd,{style:{height:"14px",width:"14px"},fontSize:"small"})})}),f(Lt,{title:"Search Logs from Query",children:F(Ed,{onClick:()=>o(t==null?void 0:t.data),children:[f(af,{className:"open-icon",fontSize:"small"}),f("span",{className:"open-text",children:"Open In New Tab"})]})})]})}function Qa({queryHistory:e,copyQuery:t,handleDelete:n,handleStarItem:r,handleSubmit:i,filtered:s,emptyMessage:o,isStarred:l}){const[c,h]=b.useState([]);b.useEffect(()=>{h(e)},[]),b.useEffect(()=>{s.length>0&&h(s)},[s]),b.useEffect(()=>{h(e)},[e]);function u(g){let S="";if(typeof g=="string")try{S=JSON.parse(g).queryInput}catch{S=g}return S}return f(mo,{className:l?"starredCont":"",children:c.length>0?c==null?void 0:c.map((g,S)=>F(_d,{children:[f("span",{style:{color:"#666",paddingRight:"10px",width:"10px",display:"flex",alignItems:"center"},children:c.length-S}),f(Lt,{title:g.data,children:F(Cd,{children:[u(g.data)," "]})}),f("span",{children:Pn(g.timestamp,"yyyy/MM/dd HH:mm:ss")}),F("div",{style:{display:"flex",alignItems:"center"},children:[f(Lt,{title:"Copy Query to Clipboard",children:f(fr,{onClick:()=>t(g.data),children:f(Fg,{style:{height:"14px",width:"14px"},fontSize:"small"})})}),f(Lt,{title:"Delete Query",children:f(fr,{onClick:()=>n(g),children:f(ks,{style:{height:"14px",width:"14px"},fontSize:"small"})})}),f(Lt,{title:"Star / Unstar Query",children:f(fr,{onClick:()=>r(g),children:g.starred?f(Io,{style:{height:"14px",width:"14px"},fontSize:"small"}):f(kd,{style:{height:"14px",width:"14px"},fontSize:"small"})})}),f(Lt,{title:"Search Logs from Query",children:F(Ed,{onClick:()=>i(g),children:[f(Kn,{className:"open-icon"}),f("span",{className:"open-text",children:"Show Results"})]})})]})]},S)):f(cf,{message:o})})}function xf({linksHistory:e,copyLink:t,handleDelete:n,handleStarLinkItem:r,handleSubmit:i,filtered:s,emptyMessage:o,isStarred:l,label:c}){const[h,u]=b.useState([]);return b.useEffect(()=>{u(e)},[]),b.useEffect(()=>{s.length>0&&u(s)},[s]),b.useEffect(()=>{u(e)},[e]),f(mo,{className:l?"starredCont":"",children:h.length>0?h==null?void 0:h.map((g,S)=>F(_d,{children:[f("span",{style:{paddingRight:"10px",color:"#666",width:"10px",display:"flex",alignItems:"center"},children:(h==null?void 0:h.length)-S}),f(j0,{pos:(h==null?void 0:h.length)-S,item:g,copyLink:t,handleDelete:n,handleStarLinkItem:r,handleSubmit:i,label:c})]},S)):f(cf,{message:o})})}function q0({starredQueries:e,starredLinks:t,handleDeleteQuery:n,handleDeleteLink:r,handleStarItem:i,handleStarLinkItem:s,handleSubmitQuery:o,handleSubmitLink:l,filteredLinks:c,filteredQueries:h,setFilteredStarLink:u,setFilteredStarQuery:g,filterItems:S,emptyQueryMessage:w,emptyLinkMessage:m,copyQuery:C,label:k}){const[T,y]=b.useState([]),[N,M]=b.useState([]);return b.useEffect(()=>{y(e),M(t)},[]),b.useEffect(()=>{c.length>0&&M(c),h.length>0&&y(h)},[c,h]),b.useEffect(()=>{y(e),M(t)},[e,t]),F(Ni,{defaultValue:0,children:[F(Td,{children:[f(Vr,{children:"Queries"}),f(Vr,{children:"Links"})]}),F(Fr,{value:0,children:[f(Si,{searchQueriesText:"Queries",queryHistory:e,filterItems:S,setFilteredItems:g}),f(Qa,{queryHistory:T,copyQuery:C,handleDelete:n,handleStarItem:i,handleSubmit:o,filtered:h,emptyMessage:w,isStarred:!0})]}),F(Fr,{value:1,children:[f(Si,{searchQueriesText:"Links",queryHistory:t,filterItems:S,setFilteredItems:u}),f(xf,{linksHistory:N,copyQuery:C,handleDelete:r,handleStarLinkItem:s,handleSubmit:l,filtered:c,emptyMessage:m,isStarred:!0,label:k})]})]})}function Si({queryHistory:e,filterItems:t,setFilteredItems:n,searchQueriesText:r}){const[i,s]=b.useState("");function o(l){let c=l.target.value;s(c);const h=t(e,c);h.length>0?n(h):n([])}return f(Id,{children:F("div",{style:{display:"flex",alignItems:"center"},children:[f(jg,{}),f(Hg,{type:"text",value:Xe(i),onChange:o,placeholder:`Search ${r}`})," ",F("span",{style:{margin:"0px 4px"},children:["Total: ",e.length]})]})})}function W0({queryHistory:e,linksHistory:t}){return f(Id,{children:F("div",{style:{display:"flex",alignItems:"center"},children:[F("span",{style:{margin:"0px 4px"},children:["Query History Rows: ",e==null?void 0:e.length]})," | ",F("span",{style:{margin:"0px 4px"},children:["Links History Rows: ",t==null?void 0:t.length]})]})})}function U0({clearHistory:e,clearLinksHistory:t}){return f(mo,{children:F("div",{style:{display:"flex"},children:[F(lc,{children:[f("div",{children:"Clear Query History"}),f("small",{children:"Delete all of your query history, permanently."}),f(Mc,{dialogType:"Query",clearHistory:e})]}),F(lc,{children:[f("div",{children:"Clear Links History"}),f("small",{children:"Delete all of your links history, permanently."}),f(Mc,{dialogType:"Links",clearHistory:t})]})]})})}const Sf=()=>{const e="Link Copied To Clipboard",t=zt(),n=gd().historyStore(),r=md(),i=Re(re=>re.queryHistory),s=Re(re=>re.linksHistory),o=Re(re=>re.historyOpen),l=Be(),[c,h]=b.useState([]),[u,g]=b.useState([]),[S,w]=b.useState([]),[m,C]=b.useState([]),[k,T]=b.useState([]),[y,N]=b.useState(!1),M=Re(re=>re.start),L=Re(re=>re.stop),P=Re(({label:re})=>re);function p(re){const Ce=n.remove(re);t(ns(Ce)),t(jn({message:"Query deleted succesfully",type:tr.info}))}function _(re){const Ce=r.remove(re);t(ts(Ce))}function I(re){const Ce={id:"",limit:100,panel:"left",queryInput:"",queryType:"range",direction:"forward"};let Ee={};try{Ee=JSON.parse(re.data)}catch{Ee={...Ce}}const{id:be,limit:pe,panel:Te,queryInput:Je,queryType:tt,type:De,dataSourceId:Ye,url:Ze,direction:it}=Ee;let rt="",Ke=0;if(Je.includes("$__interval")){const Rt=(L.getTime()-M.getTime())/1e3/30,_e=+1 .toFixed(1),je=Rt/_e,Qe=Math.round(je*window.devicePixelRatio.toFixed(2));rt=Je.replace(/\[\$__interval\]/,`[${Qe}s]`),Ke=Qe}else rt=Je;t(An(De,rt,tt,pe,Te,be,it||"forward",Ye,Ze,Ke))}function D(re){window.open(re)}function $(re,Ce){return re==null?void 0:re.filter(Ee=>Ee.data.toLowerCase().includes(Ce.toLowerCase()))}function z(re){g(re)}function V(re){w(re)}function K(re){T(re)}function se(re){C(re)}b.useEffect(()=>{const re=(i==null?void 0:i.filter(Ee=>Ee.starred))||[],Ce=(s==null?void 0:s.filter(Ee=>Ee.starred))||[];N(Ce),h(re)},[i,s]);function ue(re){const Ce={...re,starred:!re.starred},Ee=n.update(Ce);t(ns(Ee)),Ce.starred?t(jn({message:"Query starred succesfully",type:tr.success})):t(jn({message:"Query unstarred succesfully",type:tr.success}))}function te(re){const Ce={...re,starred:!re.starred},Ee=r.update(Ce);t(ts(Ee)),Ce.starred?t(jn({message:"Link starred succesfully",type:tr.success})):t(jn({message:"Link unstarred succesfully",type:tr.success}))}function he(){t(jn({type:"success",message:e}))}function Y(re){navigator.clipboard.writeText(re).then(function(){he()},function(Ce){console.log("error on copy",Ce)})}function Fe(re){let Ce=document.createElement("textarea");return Ce.value=re,Ce.style={position:"fixed",left:"-999999px",top:"-999999px"},document.body.appendChild(Ce),Ce.focus(),Ce.select(),new Promise((Ee,be)=>{he(),document.execCommand("copy")?Ee():be(),Ce.remove()})}function $e(re,Ce="query",Ee=!1){const be=new URL(re),{hash:pe}=be,Te=new URLSearchParams(pe.replace(/#/,""));Te.set("label",P);const Je=new URL(window.location.href);Je.hash=`#${Te.toString()}`;const tt=Ce==="query"?JSON.parse(re).queryInput:Ee&&P?Je:re;setTimeout(()=>{navigator!=null&&navigator.clipboard&&window.isSecureContext?Y(tt):Fe(tt)},200)}function me(){t(Gd(!1))}function ke(){const re=n.clean();t(ns(re)),(re==null?void 0:re.length)<1&&t(jn({message:"Query History cleared succesfully",type:tr.info}))}function Oe(){const re=r.clean();t(ts(re)),(re==null?void 0:re.length)<1&&t(jn({message:"Links History cleared succesfully",type:tr.info}))}return f(wd,{theme:l,children:o&&f(Dg,{anchor:"bottom",style:{maxHeight:"250px"},open:o,variant:"persistent",theme:l,children:f(F0,{historyTabHeader:f(Si,{searchQueriesText:"Queries",queryHistory:i,clearHistory:ke,filterItems:$,setFilteredItems:z}),historyTab:f(Qa,{queryHistory:i,copyQuery:$e,handleDelete:p,handleStarItem:ue,handleSubmit:I,filtered:u,emptyMessage:"There is no query history. Please execute some queries and you will see a history here."}),linksTabHeader:f(Si,{searchQueriesText:"Links",queryHistory:s,filterItems:$,setFilteredItems:V}),linksTab:f(xf,{linksHistory:s,copyLink:$e,handleDelete:_,handleStarLinkItem:te,handleSubmit:D,filtered:S,label:P,emptyMessage:"There is no links history. Please execute some queries and share links and you will see a history here."}),starredTabHeader:f(Si,{searchQueriesText:"Queries",queryHistory:c,clearHistory:ke,filterItems:$,setFilteredItems:K}),starredTab:f(Qa,{queryHistory:c,copyQuery:$e,handleDelete:p,handleStarItem:ue,handleSubmit:I,filtered:k,emptyMessage:"Click the ‘Star’ icon to save queries and find them here to reuse again"}),starredHistoryTab:f(q0,{starredQueries:c,starredLinks:y,handleDeleteQuery:p,handleDeleteLink:_,handleStarItem:ue,handleStarLinkItem:te,handleSubmitQuery:I,handleSubmitLink:D,filterItems:$,setFilteredStarLink:se,setFilteredStarQuery:K,filteredQueries:k,filteredLinks:m,emptyQueryMessage:"Click the 'Star' icon to save links and find them here to reuse again",emptyLinkMessage:"Click the 'Star' icon to save queries and find them here to reuse again",copyQuery:$e,label:P}),settingTabHeader:f(W0,{queryHistory:i,linksHistory:s}),settingTab:f(U0,{clearHistory:ke,clearLinksHistory:Oe}),closeButton:f(Ny,{onClose:me})})})})},Q0=({type:e,actualQuery:t,total:n,dataView:r})=>b.useMemo(()=>{var g;const s=(e==="matrix"||e==="flux")&&(t==null?void 0:t.tableView),o=e==="stream"&&(t==null?void 0:t.tableView);let l="",c="",h="",u="";if(s){const S=((g=r==null?void 0:r.tableData)==null?void 0:g.total)*25,w=S<330?S:330;l=`${w+25}px`,h=`${w}px`,c="fit-content",u="fit-content"}if(e==="vector"||o){const S=n*25,w=S<330?S:330;l=`${w+25}px`,h=`${w}px`,c="fit-content",u="fit-content"}if(e==="stream"&&!(t!=null&&t.tableView)){const w=n*25<350?"fit-content":"inherit";l=w,h=w,c="fit-content",u="fit-content"}return(e==="matrix"||e==="flux")&&!(t!=null&&t.tableView)&&(l="fit-content",h="400px",c="fit-content",u="fit-content"),{regularCont:l,regularView:h,maxCont:c,maxView:u}},[n,e,t==null?void 0:t.tableView]),G0=({total:e,panelSize:t,dataView:n})=>{var s;let r=0;return n.type==="matrix"?r=(s=n==null?void 0:n.tableData)==null?void 0:s.total:r=e,b.useMemo(()=>{const o=r*25;return t==="max"?o:t==="min"?0:o<310?o:310},[t])},K0=({panel:e,dataView:t})=>b.useMemo(()=>{let r={};return e&&t&&(r=e==null?void 0:e.find(i=>i.id===t.id)),r},[e,t]);function Hc(e){const{name:t}=e;return f(mt,{children:t})}const J0=ve("div",{target:"emosc6a8"})("display:flex;align-items:center;justify-content:center;flex:1;height:100%;font-size:0.75em;letter-spacing:1px;padding:30px;color:",({theme:e})=>e.lightContrast,";background:",({theme:e})=>e.background,";text-align:center;"),Y0=ve("div",{target:"emosc6a4"})({name:"c6g1h8",styles:"overflow-y:auto;margin:2px;display:flex;flex-direction:column;flex:1;max-height:100vh;&::-webkit-scrollbar{background:transparent;}::-webkit-scrollbar-corner{background:transparent;}&::-webkit-scrollbar-thumb{background:transparent;}"}),X0=ve("div",{target:"emosc6a3"})("display:flex;align-items:center;color:",({theme:e})=>e.contrast,";font-size:12px;.header-actions{justify-self:flex-end;.header-icon{padding:1px 2px;margin:0px 2px;border-radius:3px;cursor:pointer;color:",({theme:e})=>e.contrast,";&:hover{background:",({theme:e})=>e.neutral,";}}}.view-header-info{display:flex;flex:1;align-items:center;span{margin:0px 3px;.exp{font-family:monospace;}}}"),Bc=ve("div",{target:"emosc6a2"})("margin:0px 2px;padding:2px;font-size:10px;border:1px solid ",({theme:e})=>e.accentNeutral,";border-radius:3px;"),Z0=ve("div",{target:"emosc6a1"})("display:flex;align-items:center;margin:0px 12px;flex:1;max-width:450px;overflow-x:auto;&::-webkit-scrollbar{width:5px;height:5px;}&::-webkit-scrollbar-corner{background:transparent;}&::-webkit-scrollbar-thumb{border-radius:5px;background:",({theme:e})=>e.alphaPlusNeutral,";}"),ex=ve("div",{target:"emosc6a0"})("background:",({theme:e})=>e.shadow,";color:",({theme:e})=>e.contrast,";display:flex;flex-direction:column;padding:20px;div{width:100%;overflow-wrap:break-word;font-family:monospace;}p{padding:10px;font-size:12px;display:flex;flex:1;align-items:center;flex-wrap:wrap;span.label{background:",({theme:e})=>e.accentNeutral,";color:",({theme:e})=>e.shadow,";margin:2px;padding:2px;border-radius:2px;}}h4{margin-bottom:20px;padding-bottom:4px;border-bottom:1px solid ",({theme:e})=>e.accentNeutral,";}pre{font-family:monospace;}small{font-size:10px;}");var Qo={},tx=Ct;Object.defineProperty(Qo,"__esModule",{value:!0});var $n=Qo.default=void 0,nx=tx(Tt()),rx=qe,ix=(0,nx.default)((0,rx.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");$n=Qo.default=ix;const sx=({labels:e})=>(e==null?void 0:e.length)>0?F("p",{children:["Labels:",e.map((t,n)=>f("span",{className:"label",children:t},n))]}):null,ax=({idRef:e,expr:t,queryType:n})=>F(mt,{children:[f("h4",{children:e}),f("div",{children:f("p",{children:t})}),F("p",{children:["Query Type: ",n]})]}),ox=({expr:e,idRef:t,labels:n,limit:r,queryType:i,total:s})=>{const o={idRef:t,expr:e,queryType:i},l={labels:n};return F(ex,{children:[f(ax,{...o}),f(sx,{...l}),F("p",{children:["Limit: ",r]}),F("p",{children:["Total: ",s]})]})};function lx({expr:e,idRef:t,labels:n,queryType:r,limit:i,total:s,onClose:o,open:l}){const c=Be();return f(vt,{theme:c,children:f(ho,{open:l,onClose:o,PaperProps:{classes:{root:po}},children:f(ox,{expr:e,idRef:t,labels:n,queryType:r,limit:i,total:s})})})}function Ai(e){var N;const{fixedSize:t}=e||{fixedSize:!1},n=wn.useMediaQuery({query:"(max-width: 1013px)"}),[r,i]=b.useState(!1),[s,o]=b.useState(!0),l=Be(),{actualQuery:c,dataView:h,type:u,total:g,setMinimize:S,setMaxHeight:w}=e,m=b.useMemo(()=>{const M=u==="matrix"&&(c==null?void 0:c.tableView),L=u==="stream"&&(c==null?void 0:c.tableView);if((u==="matrix"||u==="flux")&&!(c!=null&&c.tableView))return"Chart";if(u==="stream"&&!(c!=null&&c.tableView))return"Logs";if(u==="vector"||M||L)return"Table";if(u==="empty")return"No Results"},[u,c==null?void 0:c.tableView]),C=b.useCallback(()=>{s?(S(),o(!1)):(w(),o(!0))},[s,S,w]),k=b.useCallback(()=>{i(!0)},[]),T=b.useMemo(()=>{var M;return((M=h==null?void 0:h.labels)==null?void 0:M.join("  |  "))||""},[h.labels]),y=b.useMemo(()=>{var M;if((M=h==null?void 0:h.labels)!=null&&M.length)if((h==null?void 0:h.labels.length)>4){const L=[...h.labels].slice(0,4);return F(mt,{children:[L.map((P,p)=>f(Bc,{children:f(Hc,{name:P,...e.theme})},p))," ","..."]})}else return f(mt,{children:h.labels.map((L,P)=>f(Bc,{children:f(Hc,{name:L,...e.theme})},P))})},[h.labels,e.theme]);if(c){const{idRef:M,expr:L,limit:P,queryType:p}=c;return f(vt,{theme:l,children:F(X0,{children:[F("div",{className:"view-header-info",children:[f("span",{children:f("span",{className:"exp",children:m})}),f(Lt,{title:(c==null?void 0:c.expr)||"",children:F("span",{children:[" ",f("span",{className:"exp",children:c==null?void 0:c.idRef})]})}),!n&&F(mt,{children:[F("span",{children:["limit:"," ",f("span",{className:"exp",children:c==null?void 0:c.limit})]}),F("span",{children:["count: ",f("span",{className:"exp",children:g})]})]}),((N=h==null?void 0:h.labels)==null?void 0:N.length)>0&&!n&&f("span",{children:F(Z0,{title:T,children:["labels:",y]})})]}),f("div",{className:"header-actions",children:!t&&F(mt,{children:[f(Wg,{className:"header-icon",style:{fontSize:"12px"},onClick:k}),f(cx,{isOpen:s,onClick:C})]})}),r&&f(lx,{labels:h.labels||[],limit:P,expr:L,queryType:p,idRef:M,open:r,total:g,onClose:_=>i(!1)})]})})}return null}const cx=e=>{const{isOpen:t,onClick:n}=e;return t?f($n,{className:"header-icon",onClick:n,style:{fontSize:"14px"}}):f(jo,{className:"header-icon",onClick:n,style:{fontSize:"14px"}})};function ux(e){const t=Be(),{loading:n}=e;return n?null:f(vt,{theme:t,children:f(J0,{children:"Please adjust search parameters and click on ‘Show Results’ button"})})}const _s=ve("div",{target:"e5pse6w4"})("margin:4px;padding:5px;margin-top:0px;border:1px solid ",({theme:e})=>e.accentNeutral,";border-radius:3px;display:flex;flex-direction:column;flex:",({size:e})=>e==="min"?0:1,";height:",e=>e.size==="regular"?e.vheight.regularCont:e.size==="max"?e.vheight.maxCont:"20px",";.view-content{height:",e=>e.size==="regular"?e.vheight.regularView:e.size==="max"?e.vheight.maxView:"0px",";display:",e=>e.size==="min"?"none":(e.size==="regular","flex"),";flex-direction:",e=>(e.size==="regular","column"),";flex:1;}"),qn=ve(ja,{target:"e5pse6w3"})("width:100%;background:",({theme:e})=>e.shadow,";height:inherit;flex:1;"),Go=ve(Ld,{target:"e5pse6w1"})("min-width:320px;background:",({theme:e})=>e.shadow,";border-bottom:4px solid ",({theme:e})=>e.bgNeutral,";display:",({panelsize:e})=>e==="min"?"none":"flex",";align-items:center;align-content:space-between;"),Wn=ve(Od,{target:"e5pse6w0"})("color:",({theme:e})=>e.contrast,";background:",({theme:e})=>e.neutral,";border:1px solid ",e=>e.theme.accentNeutral,";cursor:pointer;font-size:13px;background-color:transparent;padding:6px 10px;border:none;border-radius:3px 3px 0px 0px;display:flex;justify-content:center;align-items:center;border-bottom:1px solid transparent;transition:0.2s all;&:hover{background-color:",({theme:e})=>e.lightNeutral,";}&:focus{color:",({theme:e})=>e.contrast,";background:",({theme:e})=>e.neutral,";border-radius:3px 3px 0px 0px;outline-offset:2px;}&.",Md.selected,"{border-bottom:1px solid ",({theme:e})=>e.primary,";}&.",Nd.disabled,"{opacity:0.5;cursor:not-allowed;}@media screen and (max-width: 360px){span{display:none;}padding:5px 20px;}");function dx(e){const{viewRef:t,panelSize:n,setStreamClose:r,setMinimize:i,setMaxHeight:s,actualQuery:o,total:l,loading:c}=e;return F(_s,{ref:t,size:n,vheight:"regular",children:[f(Ai,{onClose:r,setMinimize:i,setMaxHeight:s,actualQuery:o,total:l,type:"empty",fixedSize:!0,...e}),f(ux,{loading:c})]})}const fx=(e,t,n,r)=>{const i=sm(e.getValue(t),n);return r(i),i.passed},hx={cell:e=>e.getValue()},px=(e,t)=>({updateData:(n,r,i)=>{t(),e(s=>s.map((o,l)=>l!==n?o:{...s[n],[r]:i}))}}),gx=e=>ie("color:",e.contrast,";background:",e.deep,";border:1px solid ",e.accentNeutral,";border-radius:3px;padding:3px 8px;font-size:12px;",""),ds=({value:e,onChange:t,debounce:n=500,theme:r,...i})=>{const[s,o]=b.useState(e),l=c=>o(c.target.value);return b.useEffect(()=>{o(e)},[e]),b.useEffect(()=>{const c=setTimeout(()=>{t(s)},n);return()=>clearTimeout(c)},[s]),f("input",{...i,className:Pe(gx(r)),value:Xe(String(s)),onChange:l})};var Ko={},mx=Ct;Object.defineProperty(Ko,"__esModule",{value:!0});var wf=Ko.default=void 0,vx=mx(Tt()),bx=qe,yx=(0,vx.default)((0,bx.jsx)("path",{d:"M15 9.86 18.03 12 15 14.14V9.86m-9 0L9.03 12 6 14.14V9.86M13 6v12l8.5-6L13 6zM4 6v12l8.5-6L4 6z"}),"FastForwardOutlined");wf=Ko.default=yx;var Jo={},xx=Ct;Object.defineProperty(Jo,"__esModule",{value:!0});var Tf=Jo.default=void 0,Sx=xx(Tt()),wx=qe,Tx=(0,Sx.default)((0,wx.jsx)("path",{d:"M18 9.86v4.28L14.97 12 18 9.86m-9 0v4.28L5.97 12 9 9.86M20 6l-8.5 6 8.5 6V6zm-9 0-8.5 6 8.5 6V6z"}),"FastRewindOutlined");Tf=Jo.default=Tx;var Yo={},Cx=Ct;Object.defineProperty(Yo,"__esModule",{value:!0});var Cf=Yo.default=void 0,kx=Cx(Tt()),Ex=qe,_x=(0,kx.default)((0,Ex.jsx)("path",{d:"m6 18 8.5-6L6 6v12zm2-8.14L11.03 12 8 14.14V9.86zM16 6h2v12h-2z"}),"SkipNextOutlined");Cf=Yo.default=_x;var Xo={},Ix=Ct;Object.defineProperty(Xo,"__esModule",{value:!0});var kf=Xo.default=void 0,Rx=Ix(Tt()),Mx=qe,Nx=(0,Rx.default)((0,Mx.jsx)("path",{d:"M6 6h2v12H6zm3.5 6 8.5 6V6l-8.5 6zm6.5 2.14L12.97 12 16 9.86v4.28z"}),"SkipPreviousOutlined");kf=Xo.default=Nx;const qc=ie({name:"rza2c4",styles:"display:flex;align-items:center;gap:1px"}),Wc=ie({name:"rnnx2x",styles:"font-size:12px"}),Ox=e=>ie("border-radius:3px;outline:none;border:1px solid ",e.accentNeutral,";background:",e.deep,";color:",e.contrast,";padding:3px 8px;margin:2px;width:70px;",""),Lx=e=>ie("color:",e.contrast,";border:1px solid ",e.accentNeutral,";background:",e.deep,";padding:3px 8px 2px 8px;border-radius:3px;cursor:pointer;font-size:12px;",""),Yi=e=>ie("display:flex;align-items:center;border:1px solid ",e.accentNeutral,";color:",e.contrast,";background:",e.neutral,";cursor:pointer;","");function Dx({hasNextPage:e,hasPreviousPage:t,nextPage:n,pageCount:r,pageIndex:i,pageSize:s,previousPage:o,setPageIndex:l,setPageSize:c,totalRows:h}){const u=Be();return F(mt,{children:[F("div",{style:{display:"flex",gap:"4px",alignItems:"center",flex:1,width:"100%",color:u.contrast,margin:"5px"},children:[f("button",{className:Pe(Yi(u)),onClick:()=>l(0),disabled:!t,children:f(Tf,{style:{height:"12px",width:"12px"}})}),f("button",{className:Pe(Yi(u)),onClick:()=>o(),disabled:!t,children:f(kf,{style:{height:"12px",width:"12px"}})}),f("button",{className:Pe(Yi(u)),onClick:()=>n(),disabled:!e,children:f(Cf,{style:{height:"12px",width:"12px"}})}),f("button",{className:Pe(Yi(u)),onClick:()=>l(r-1),disabled:!e,children:f(wf,{style:{height:"12px",width:"12px"}})}),f("span",{className:Pe(qc,Wc),children:F("div",{children:["Page"," ",F("strong",{children:[i+1," of ",r]})]})}),F("span",{className:Pe(qc,Wc),children:["- Go to page:",f("input",{type:"number",defaultValue:i+1,onChange:g=>{const S=g.target.value?Number(g.target.value)-1:0;l(S)},className:Pe(Ox(u))})]}),f("select",{className:Pe(Lx(u)),value:Xe(String(s)),onChange:g=>{c(Number(g.target.value))},children:[10,20,30,40,50].map(g=>F("option",{value:Xe(String(g)),children:["Show ",g," Rows"]},g))}),F("div",{style:{fontSize:"12px",marginLeft:"6px"},children:[" ","Total: ",h," Rows"]})]}),f("div",{className:"flex items-center gap-2"})]})}const Ax=({columnFilterValue:e,getFacetedMinMaxValues:t,setFilterValue:n})=>{var c,h;const r=Be(),i=(c=t())==null?void 0:c[0],s=Number(i??""),o=(h=t())==null?void 0:h[1],l=Number(o);return F("div",{children:[F("div",{style:{display:"flex",gap:"4px",alignItems:"center",justifyContent:"center"},children:[f(ds,{theme:r,type:"number",min:s,max:l,value:(e==null?void 0:e[0])??"",onChange:u=>n(g=>[u,g==null?void 0:g[1]]),placeholder:`Min ${i?`(${s})`:""}`,className:"w-24 border shadow rounded"}),f(ds,{theme:r,type:"number",min:s,max:l,value:(e==null?void 0:e[1])??"",onChange:u=>n(g=>[g==null?void 0:g[0],u]),placeholder:`Max ${o?`(${l})`:""}`,className:"w-24 border shadow rounded"})]}),f("div",{className:"h-1"})]})},Px=({columnId:e,columnFilterValue:t,columnSize:n,setFilterValue:r,sortedUniqueValues:i})=>{const s=e+"list",o=Be();return F(b.Fragment,{children:[f("datalist",{id:s,children:i.slice(0,5e3).map(l=>f("option",{value:Xe(l)},l))}),f(ds,{theme:o,type:"text",value:Xe(t??""),onChange:l=>r(l),placeholder:`Search... (${n})`,className:"w-36 border shadow rounded",list:s}),f("div",{className:"h-1"})]})};function $x({column:e,table:t}){var o;const n=(o=t.getPreFilteredRowModel().flatRows[0])==null?void 0:o.getValue(e.id),r=e.getFilterValue(),i=e.getFacetedUniqueValues(),s=b.useMemo(()=>typeof n=="number"?[]:Array.from(i.keys()).sort(),[i]);return typeof n=="number"?f(Ax,{columnFilterValue:r,getFacetedMinMaxValues:e.getFacetedMinMaxValues,setFilterValue:e.setFilterValue}):f(Px,{columnId:e.id,columnFilterValue:Xe(r),columnSize:i.size,setFilterValue:e.setFilterValue,sortedUniqueValues:s})}var Zo={},zx=Ct;Object.defineProperty(Zo,"__esModule",{value:!0});var Ef=Zo.default=void 0,Vx=zx(Tt()),Fx=qe,jx=(0,Vx.default)((0,Fx.jsx)("path",{d:"M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"}),"SortOutlined");Ef=Zo.default=jx;var el={},Hx=Ct;Object.defineProperty(el,"__esModule",{value:!0});var _f=el.default=void 0,Bx=Hx(Tt()),qx=qe,Wx=(0,Bx.default)((0,qx.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z"}),"KeyboardArrowUpOutlined");_f=el.default=Wx;const Ux=ie({name:"1yit4u5",styles:"position:relative;&.resizer{position:absolute;left:0;top:0;height:100%;width:5px;cursor:col-resize;user-select:none;touch-action:none;&.isResizing{background:blue;opacity:1;}}"}),fa=(e,t)=>ie("height:14px!important;width:14px!important;color:",e,"!important;cursor:pointer;border:1px solid ",t,";border-radius:3px;padding:2px;","");function Qx(e,t){return t==="left"?[e.getLeftHeaderGroups(),e.getLeftFooterGroups()]:t==="right"?[e.getRightHeaderGroups(),e.getRightFooterGroups()]:t==="center"?[e.getCenterHeaderGroups(),e.getCenterFooterGroups()]:[e.getHeaderGroups(),e.getFooterGroups()]}function Gx(e,t){return t==="left"?e.getLeftVisibleCells():t==="right"?e.getRightVisibleCells():t==="center"?e.getCenterVisibleCells():e.getVisibleCells()}function Kx({table:e,tableGroup:t,columnResizeMode:n}){const r=Be(),[i]=Qx(e,t);return f(vt,{theme:r,children:F("table",{style:{width:"100%"},children:[f("thead",{children:i.map(s=>f("tr",{children:s.headers.map(o=>F("th",{className:Pe(Ux),key:o.id,colSpan:o.colSpan,style:{width:o.getSize()},children:[" ",F("div",{style:{display:"flex",gap:"6px",alignItems:"center",fontSize:"13px"},children:[o.isPlaceholder?null:f(mt,{children:dc(o.column.columnDef.header,o.getContext())}),f("div",{onMouseDown:o.getResizeHandler(),onTouchStart:o.getResizeHandler(),className:`resizer ${o.column.getIsResizing()?"isResizing":""}`}),F("div",{style:{fontSize:"12px",display:"flex",alignItems:"center",gap:"6px"},children:[o.column.getCanFilter()?f("div",{children:f($x,{column:o.column,table:e})}):null,f("button",{onClick:o.column.getToggleSortingHandler(),style:{border:"none",background:"none",display:"flex",alignItems:"center"},title:"Sort",className:o.column.getCanSort()?"cursor-pointer select-none":"",children:{asc:f(_f,{className:Pe(fa(r.contrast,r.accentNeutral))}),desc:f(Gr,{className:Pe(fa(r.contrast,r.accentNeutral))})}[o.column.getIsSorted()]??f(Ef,{className:Pe(fa(r.contrast,r.accentNeutral))})})]})]})]}))},s.id))}),f("tbody",{children:e.getRowModel().rows.map(s=>f("tr",{children:Gx(s,t).map(o=>f("td",{style:{width:o.column.getSize(),fontSize:"12px"},children:f(mt,{children:dc(o.column.columnDef.cell,o.getContext())})},o.id))},s.id))})]})})}function Jx(){const e=b.useRef(!0),t=e.current,n=b.useCallback(()=>{e.current=!1},[]);return b.useEffect(()=>{e.current=!0}),b.useMemo(()=>[!!t,n],[t,n])}const Yx=ve("div",{target:"eptftt0"})("padding:5px;table{border-spacing:0;border:1px solid ",({theme:e})=>e.accentNeutral,";border-radius:4px;border-bottom:none;border-top:none;color:",({theme:e})=>e.contrast,";tr{:last-child{td{border-bottom:none;}}}th,td{margin:0;padding:0.45rem;border-bottom:1px solid ",({theme:e})=>e.accentNeutral,";border-right:1px solid ",({theme:e})=>e.accentNeutral,";:last-child{border-right:0;}}td{input{font-size:12px;padding:0;margin:0;border:0;}}}.pagination{padding:0.5rem;}");function Xx(e){var P;const t=b.useReducer(()=>({}),{})[1],{columns:n,data:r}=e,i=Be(),[s,o]=b.useState(r),l=()=>o(r),[c,h]=b.useState({}),[u,g]=b.useState([]),[S,w]=b.useState({}),[m,C]=b.useState([]),[k,T]=b.useState(""),[y,N]=Jx(),[M]=b.useState("onChange"),L=am({data:s,columns:n,defaultColumn:hx,getCoreRowModel:om(),getFilteredRowModel:lm(),getPaginationRowModel:cm(),getSortedRowModel:um(),getGroupedRowModel:dm(),getFacetedRowModel:fm(),getFacetedUniqueValues:hm(),getFacetedMinMaxValues:pm(),onColumnFiltersChange:C,onGlobalFilterChange:T,globalFilterFn:fx,autoResetPageIndex:y,enableColumnResizing:!0,columnResizeMode:M,onColumnVisibilityChange:h,onGroupingChange:g,onRowSelectionChange:w,meta:px(o,N),state:{grouping:u,columnFilters:m,globalFilter:k,columnVisibility:c}});return b.useEffect(()=>{var p,_;((p=L.getState().columnFilters[0])==null?void 0:p.id)==="fullName"&&((_=L.getState().sorting[0])==null?void 0:_.id)!=="fullName"&&L.setSorting([{id:"fullName",desc:!1}])},[(P=L.getState().columnFilters[0])==null?void 0:P.id]),f(vt,{theme:i,children:F(Yx,{theme:i,children:[F("div",{style:{display:"flex",justifyContent:"space-between",margin:"4px",marginLeft:0},children:[f("div",{style:{display:"flex",fontSize:"14px",gap:"6px",margin:"4px",marginLeft:0},children:L.getAllLeafColumns().map(p=>f("div",{children:F("label",{style:{display:"flex",alignItems:"center",color:i.contrast},children:[f("input",{type:"checkbox",checked:p.getIsVisible(),onChange:p.getToggleVisibilityHandler(),className:"mr-1"}),p.id]})},p.id))}),F("div",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"14px",margin:"4px",color:i.contrast},children:["Search:",f(ds,{theme:i,style:{fontSize:"12px",padding:"3px 8px"},value:Xe(k??""),onChange:p=>T(String(p)),placeholder:"Search all columns..."})]})]}),f("div",{style:{display:"flex"},children:f(Kx,{columnResizeMode:M,table:L,tableGroup:"center"})}),f("div",{style:{display:"flex"},children:f(Dx,{getSelectedRowModel:L.getSelectedRowModel,hasNextPage:L.getCanNextPage(),hasPreviousPage:L.getCanPreviousPage(),nextPage:L.nextPage,pageCount:L.getPageCount(),pageIndex:L.getState().pagination.pageIndex,pageSize:L.getState().pagination.pageSize,previousPage:L.previousPage,refreshData:l,rerender:t,rowSelection:S,setPageIndex:L.setPageIndex,setPageSize:L.setPageSize,totalRows:L.getPrePaginationRowModel().rows.length})})]})})}const Zx=ve("div",{target:"e19v7mv10"})("display:block;overflow:auto;&::-webkit-scrollbar{width:5px;}&::-webkit-scrollbar-corner{background:transparent;}&::-webkit-scrollbar-thumb{border-radius:5px;background:",({theme:e})=>e.alphaPlusNeutral,";}.table{border-spacing:0;border-radius:4px;font-size:12px;color:",({theme:e})=>e.contrast,";&::-webkit-scrollbar{width:5px;}&::-webkit-scrollbar-corner{background:transparent;}&::-webkit-scrollbar-thumb{border-radius:5px;background:",({theme:e})=>e.alphaPlusNeutral,";}.tr{display:block;:last-child{.td{border-bottom:0;}}}.th{background:",({theme:e})=>e.lightNeutral,";border-bottom:none;padding:3px;:last-child{box-sizing:unset!important;}}.th,.td{display:block;flex:1;margin:0;justify-content:space-between;border-bottom:1px solid ",({theme:e})=>e.accentNeutral,";border-right:1px solid ",({theme:e})=>e.accentNeutral,";padding:3px;position:relative;white-space:nowrap;overflow:hidden;.show-add-labels{display:none;}&:hover{.show-add-labels{display:flex;align-items:center;}}:last-child{border-right:0;padding-right:0px;}.resizer{display:inline-block;background:",({theme:e})=>e.accentNeutral,";width:5px;height:100%;position:absolute;right:0;top:0;transform:translateX(50%);z-index:1;&.isResizing{background:red;}}}}.pagination{}"),tl=e=>{const{data:{columnsData:t,dataRows:n},actualQuery:r,height:i,size:s,width:o}=e,[l,c]=b.useState(t),[h,u]=b.useState(n);return b.useEffect(()=>{c(t)},[t]),b.useEffect(()=>{u(n)},[n]),f(Zx,{children:t&&n&&f(Xx,{actQuery:r,columns:l,width:o,data:h,height:i,size:s})})};function Un({id:e}){try{return JSON.parse(localStorage.getItem("tabsState")||`{[${e}]:0}`)}catch{return{[e]:0}}}var If={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */(function(e){(function(t,n){e.exports=t.document?n(t,!0):function(r){if(!r.document)throw new Error("jQuery requires a window with a document");return n(r)}})(typeof window<"u"?window:xd,function(t,n){var r=[],i=Object.getPrototypeOf,s=r.slice,o=r.flat?function(a){return r.flat.call(a)}:function(a){return r.concat.apply([],a)},l=r.push,c=r.indexOf,h={},u=h.toString,g=h.hasOwnProperty,S=g.toString,w=S.call(Object),m={},C=function(d){return typeof d=="function"&&typeof d.nodeType!="number"&&typeof d.item!="function"},k=function(d){return d!=null&&d===d.window},T=t.document,y={type:!0,src:!0,nonce:!0,noModule:!0};function N(a,d,v){v=v||T;var x,E,R=v.createElement("script");if(R.text=a,d)for(x in y)E=d[x]||d.getAttribute&&d.getAttribute(x),E&&R.setAttribute(x,E);v.head.appendChild(R).parentNode.removeChild(R)}function M(a){return a==null?a+"":typeof a=="object"||typeof a=="function"?h[u.call(a)]||"object":typeof a}var L="3.7.1",P=/HTML$/i,p=function(a,d){return new p.fn.init(a,d)};p.fn=p.prototype={jquery:L,constructor:p,length:0,toArray:function(){return s.call(this)},get:function(a){return a==null?s.call(this):a<0?this[a+this.length]:this[a]},pushStack:function(a){var d=p.merge(this.constructor(),a);return d.prevObject=this,d},each:function(a){return p.each(this,a)},map:function(a){return this.pushStack(p.map(this,function(d,v){return a.call(d,v,d)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(p.grep(this,function(a,d){return(d+1)%2}))},odd:function(){return this.pushStack(p.grep(this,function(a,d){return d%2}))},eq:function(a){var d=this.length,v=+a+(a<0?d:0);return this.pushStack(v>=0&&v<d?[this[v]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:r.sort,splice:r.splice},p.extend=p.fn.extend=function(){var a,d,v,x,E,R,O=arguments[0]||{},G=1,Q=arguments.length,ee=!1;for(typeof O=="boolean"&&(ee=O,O=arguments[G]||{},G++),typeof O!="object"&&!C(O)&&(O={}),G===Q&&(O=this,G--);G<Q;G++)if((a=arguments[G])!=null)for(d in a)x=a[d],!(d==="__proto__"||O===x)&&(ee&&x&&(p.isPlainObject(x)||(E=Array.isArray(x)))?(v=O[d],E&&!Array.isArray(v)?R=[]:!E&&!p.isPlainObject(v)?R={}:R=v,E=!1,O[d]=p.extend(ee,R,x)):x!==void 0&&(O[d]=x));return O},p.extend({expando:"jQuery"+(L+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isPlainObject:function(a){var d,v;return!a||u.call(a)!=="[object Object]"?!1:(d=i(a),d?(v=g.call(d,"constructor")&&d.constructor,typeof v=="function"&&S.call(v)===w):!0)},isEmptyObject:function(a){var d;for(d in a)return!1;return!0},globalEval:function(a,d,v){N(a,{nonce:d&&d.nonce},v)},each:function(a,d){var v,x=0;if(_(a))for(v=a.length;x<v&&d.call(a[x],x,a[x])!==!1;x++);else for(x in a)if(d.call(a[x],x,a[x])===!1)break;return a},text:function(a){var d,v="",x=0,E=a.nodeType;if(!E)for(;d=a[x++];)v+=p.text(d);return E===1||E===11?a.textContent:E===9?a.documentElement.textContent:E===3||E===4?a.nodeValue:v},makeArray:function(a,d){var v=d||[];return a!=null&&(_(Object(a))?p.merge(v,typeof a=="string"?[a]:a):l.call(v,a)),v},inArray:function(a,d,v){return d==null?-1:c.call(d,a,v)},isXMLDoc:function(a){var d=a&&a.namespaceURI,v=a&&(a.ownerDocument||a).documentElement;return!P.test(d||v&&v.nodeName||"HTML")},merge:function(a,d){for(var v=+d.length,x=0,E=a.length;x<v;x++)a[E++]=d[x];return a.length=E,a},grep:function(a,d,v){for(var x,E=[],R=0,O=a.length,G=!v;R<O;R++)x=!d(a[R],R),x!==G&&E.push(a[R]);return E},map:function(a,d,v){var x,E,R=0,O=[];if(_(a))for(x=a.length;R<x;R++)E=d(a[R],R,v),E!=null&&O.push(E);else for(R in a)E=d(a[R],R,v),E!=null&&O.push(E);return o(O)},guid:1,support:m}),typeof Symbol=="function"&&(p.fn[Symbol.iterator]=r[Symbol.iterator]),p.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,d){h["[object "+d+"]"]=d.toLowerCase()});function _(a){var d=!!a&&"length"in a&&a.length,v=M(a);return C(a)||k(a)?!1:v==="array"||d===0||typeof d=="number"&&d>0&&d-1 in a}function I(a,d){return a.nodeName&&a.nodeName.toLowerCase()===d.toLowerCase()}var D=r.pop,$=r.sort,z=r.splice,V="[\\x20\\t\\r\\n\\f]",K=new RegExp("^"+V+"+|((?:^|[^\\\\])(?:\\\\.)*)"+V+"+$","g");p.contains=function(a,d){var v=d&&d.parentNode;return a===v||!!(v&&v.nodeType===1&&(a.contains?a.contains(v):a.compareDocumentPosition&&a.compareDocumentPosition(v)&16))};var se=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function ue(a,d){return d?a==="\0"?"�":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a}p.escapeSelector=function(a){return(a+"").replace(se,ue)};var te=T,he=l;(function(){var a,d,v,x,E,R=he,O,G,Q,ee,fe,xe=p.expando,oe=0,Me=0,lt=ji(),xt=ji(),ft=ji(),Jt=ji(),Ut=function(H,X){return H===X&&(E=!0),0},Rn="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Mn="(?:\\\\[\\da-fA-F]{1,6}"+V+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",gt="\\["+V+"*("+Mn+")(?:"+V+"*([*^$|!~]?=)"+V+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Mn+"))|)"+V+"*\\]",or=":("+Mn+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+gt+")*)|.*)\\)|)",St=new RegExp(V+"+","g"),Pt=new RegExp("^"+V+"*,"+V+"*"),oi=new RegExp("^"+V+"*([>+~]|"+V+")"+V+"*"),Xs=new RegExp(V+"|>"),Nn=new RegExp(or),li=new RegExp("^"+Mn+"$"),On={ID:new RegExp("^#("+Mn+")"),CLASS:new RegExp("^\\.("+Mn+")"),TAG:new RegExp("^("+Mn+"|[*])"),ATTR:new RegExp("^"+gt),PSEUDO:new RegExp("^"+or),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+V+"*(even|odd|(([+-]|)(\\d*)n|)"+V+"*(?:([+-]|)"+V+"*(\\d+)|))"+V+"*\\)|)","i"),bool:new RegExp("^(?:"+Rn+")$","i"),needsContext:new RegExp("^"+V+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+V+"*((?:-\\d)?\\d*)"+V+"*\\)|)(?=[^-]|$)","i")},Jn=/^(?:input|select|textarea|button)$/i,Yn=/^h\d$/i,mn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Zs=/[+~]/,zn=new RegExp("\\\\[\\da-fA-F]{1,6}"+V+"?|\\\\([^\\r\\n\\f])","g"),Vn=function(H,X){var ae="0x"+H.slice(1)-65536;return X||(ae<0?String.fromCharCode(ae+65536):String.fromCharCode(ae>>10|55296,ae&1023|56320))},jp=function(){Xn()},Hp=Bi(function(H){return H.disabled===!0&&I(H,"fieldset")},{dir:"parentNode",next:"legend"});function Bp(){try{return O.activeElement}catch{}}try{R.apply(r=s.call(te.childNodes),te.childNodes),r[te.childNodes.length].nodeType}catch{R={apply:function(X,ae){he.apply(X,s.call(ae))},call:function(X){he.apply(X,s.call(arguments,1))}}}function _t(H,X,ae,ce){var ye,Ve,We,et,Ue,ht,ot,ct=X&&X.ownerDocument,pt=X?X.nodeType:9;if(ae=ae||[],typeof H!="string"||!H||pt!==1&&pt!==9&&pt!==11)return ae;if(!ce&&(Xn(X),X=X||O,Q)){if(pt!==11&&(Ue=mn.exec(H)))if(ye=Ue[1]){if(pt===9)if(We=X.getElementById(ye)){if(We.id===ye)return R.call(ae,We),ae}else return ae;else if(ct&&(We=ct.getElementById(ye))&&_t.contains(X,We)&&We.id===ye)return R.call(ae,We),ae}else{if(Ue[2])return R.apply(ae,X.getElementsByTagName(H)),ae;if((ye=Ue[3])&&X.getElementsByClassName)return R.apply(ae,X.getElementsByClassName(ye)),ae}if(!Jt[H+" "]&&(!ee||!ee.test(H))){if(ot=H,ct=X,pt===1&&(Xs.test(H)||oi.test(H))){for(ct=Zs.test(H)&&ea(X.parentNode)||X,(ct!=X||!m.scope)&&((et=X.getAttribute("id"))?et=p.escapeSelector(et):X.setAttribute("id",et=xe)),ht=ci(H),Ve=ht.length;Ve--;)ht[Ve]=(et?"#"+et:":scope")+" "+Hi(ht[Ve]);ot=ht.join(",")}try{return R.apply(ae,ct.querySelectorAll(ot)),ae}catch{Jt(H,!0)}finally{et===xe&&X.removeAttribute("id")}}}return ec(H.replace(K,"$1"),X,ae,ce)}function ji(){var H=[];function X(ae,ce){return H.push(ae+" ")>d.cacheLength&&delete X[H.shift()],X[ae+" "]=ce}return X}function En(H){return H[xe]=!0,H}function Rr(H){var X=O.createElement("fieldset");try{return!!H(X)}catch{return!1}finally{X.parentNode&&X.parentNode.removeChild(X),X=null}}function qp(H){return function(X){return I(X,"input")&&X.type===H}}function Wp(H){return function(X){return(I(X,"input")||I(X,"button"))&&X.type===H}}function Xl(H){return function(X){return"form"in X?X.parentNode&&X.disabled===!1?"label"in X?"label"in X.parentNode?X.parentNode.disabled===H:X.disabled===H:X.isDisabled===H||X.isDisabled!==!H&&Hp(X)===H:X.disabled===H:"label"in X?X.disabled===H:!1}}function lr(H){return En(function(X){return X=+X,En(function(ae,ce){for(var ye,Ve=H([],ae.length,X),We=Ve.length;We--;)ae[ye=Ve[We]]&&(ae[ye]=!(ce[ye]=ae[ye]))})})}function ea(H){return H&&typeof H.getElementsByTagName<"u"&&H}function Xn(H){var X,ae=H?H.ownerDocument||H:te;return ae==O||ae.nodeType!==9||!ae.documentElement||(O=ae,G=O.documentElement,Q=!p.isXMLDoc(O),fe=G.matches||G.webkitMatchesSelector||G.msMatchesSelector,G.msMatchesSelector&&te!=O&&(X=O.defaultView)&&X.top!==X&&X.addEventListener("unload",jp),m.getById=Rr(function(ce){return G.appendChild(ce).id=p.expando,!O.getElementsByName||!O.getElementsByName(p.expando).length}),m.disconnectedMatch=Rr(function(ce){return fe.call(ce,"*")}),m.scope=Rr(function(){return O.querySelectorAll(":scope")}),m.cssHas=Rr(function(){try{return O.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),m.getById?(d.filter.ID=function(ce){var ye=ce.replace(zn,Vn);return function(Ve){return Ve.getAttribute("id")===ye}},d.find.ID=function(ce,ye){if(typeof ye.getElementById<"u"&&Q){var Ve=ye.getElementById(ce);return Ve?[Ve]:[]}}):(d.filter.ID=function(ce){var ye=ce.replace(zn,Vn);return function(Ve){var We=typeof Ve.getAttributeNode<"u"&&Ve.getAttributeNode("id");return We&&We.value===ye}},d.find.ID=function(ce,ye){if(typeof ye.getElementById<"u"&&Q){var Ve,We,et,Ue=ye.getElementById(ce);if(Ue){if(Ve=Ue.getAttributeNode("id"),Ve&&Ve.value===ce)return[Ue];for(et=ye.getElementsByName(ce),We=0;Ue=et[We++];)if(Ve=Ue.getAttributeNode("id"),Ve&&Ve.value===ce)return[Ue]}return[]}}),d.find.TAG=function(ce,ye){return typeof ye.getElementsByTagName<"u"?ye.getElementsByTagName(ce):ye.querySelectorAll(ce)},d.find.CLASS=function(ce,ye){if(typeof ye.getElementsByClassName<"u"&&Q)return ye.getElementsByClassName(ce)},ee=[],Rr(function(ce){var ye;G.appendChild(ce).innerHTML="<a id='"+xe+"' href='' disabled='disabled'></a><select id='"+xe+"-\r\\' disabled='disabled'><option selected=''></option></select>",ce.querySelectorAll("[selected]").length||ee.push("\\["+V+"*(?:value|"+Rn+")"),ce.querySelectorAll("[id~="+xe+"-]").length||ee.push("~="),ce.querySelectorAll("a#"+xe+"+*").length||ee.push(".#.+[+~]"),ce.querySelectorAll(":checked").length||ee.push(":checked"),ye=O.createElement("input"),ye.setAttribute("type","hidden"),ce.appendChild(ye).setAttribute("name","D"),G.appendChild(ce).disabled=!0,ce.querySelectorAll(":disabled").length!==2&&ee.push(":enabled",":disabled"),ye=O.createElement("input"),ye.setAttribute("name",""),ce.appendChild(ye),ce.querySelectorAll("[name='']").length||ee.push("\\["+V+"*name"+V+"*="+V+`*(?:''|"")`)}),m.cssHas||ee.push(":has"),ee=ee.length&&new RegExp(ee.join("|")),Ut=function(ce,ye){if(ce===ye)return E=!0,0;var Ve=!ce.compareDocumentPosition-!ye.compareDocumentPosition;return Ve||(Ve=(ce.ownerDocument||ce)==(ye.ownerDocument||ye)?ce.compareDocumentPosition(ye):1,Ve&1||!m.sortDetached&&ye.compareDocumentPosition(ce)===Ve?ce===O||ce.ownerDocument==te&&_t.contains(te,ce)?-1:ye===O||ye.ownerDocument==te&&_t.contains(te,ye)?1:x?c.call(x,ce)-c.call(x,ye):0:Ve&4?-1:1)}),O}_t.matches=function(H,X){return _t(H,null,null,X)},_t.matchesSelector=function(H,X){if(Xn(H),Q&&!Jt[X+" "]&&(!ee||!ee.test(X)))try{var ae=fe.call(H,X);if(ae||m.disconnectedMatch||H.document&&H.document.nodeType!==11)return ae}catch{Jt(X,!0)}return _t(X,O,null,[H]).length>0},_t.contains=function(H,X){return(H.ownerDocument||H)!=O&&Xn(H),p.contains(H,X)},_t.attr=function(H,X){(H.ownerDocument||H)!=O&&Xn(H);var ae=d.attrHandle[X.toLowerCase()],ce=ae&&g.call(d.attrHandle,X.toLowerCase())?ae(H,X,!Q):void 0;return ce!==void 0?ce:H.getAttribute(X)},_t.error=function(H){throw new Error("Syntax error, unrecognized expression: "+H)},p.uniqueSort=function(H){var X,ae=[],ce=0,ye=0;if(E=!m.sortStable,x=!m.sortStable&&s.call(H,0),$.call(H,Ut),E){for(;X=H[ye++];)X===H[ye]&&(ce=ae.push(ye));for(;ce--;)z.call(H,ae[ce],1)}return x=null,H},p.fn.uniqueSort=function(){return this.pushStack(p.uniqueSort(s.apply(this)))},d=p.expr={cacheLength:50,createPseudo:En,match:On,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(H){return H[1]=H[1].replace(zn,Vn),H[3]=(H[3]||H[4]||H[5]||"").replace(zn,Vn),H[2]==="~="&&(H[3]=" "+H[3]+" "),H.slice(0,4)},CHILD:function(H){return H[1]=H[1].toLowerCase(),H[1].slice(0,3)==="nth"?(H[3]||_t.error(H[0]),H[4]=+(H[4]?H[5]+(H[6]||1):2*(H[3]==="even"||H[3]==="odd")),H[5]=+(H[7]+H[8]||H[3]==="odd")):H[3]&&_t.error(H[0]),H},PSEUDO:function(H){var X,ae=!H[6]&&H[2];return On.CHILD.test(H[0])?null:(H[3]?H[2]=H[4]||H[5]||"":ae&&Nn.test(ae)&&(X=ci(ae,!0))&&(X=ae.indexOf(")",ae.length-X)-ae.length)&&(H[0]=H[0].slice(0,X),H[2]=ae.slice(0,X)),H.slice(0,3))}},filter:{TAG:function(H){var X=H.replace(zn,Vn).toLowerCase();return H==="*"?function(){return!0}:function(ae){return I(ae,X)}},CLASS:function(H){var X=lt[H+" "];return X||(X=new RegExp("(^|"+V+")"+H+"("+V+"|$)"))&&lt(H,function(ae){return X.test(typeof ae.className=="string"&&ae.className||typeof ae.getAttribute<"u"&&ae.getAttribute("class")||"")})},ATTR:function(H,X,ae){return function(ce){var ye=_t.attr(ce,H);return ye==null?X==="!=":X?(ye+="",X==="="?ye===ae:X==="!="?ye!==ae:X==="^="?ae&&ye.indexOf(ae)===0:X==="*="?ae&&ye.indexOf(ae)>-1:X==="$="?ae&&ye.slice(-ae.length)===ae:X==="~="?(" "+ye.replace(St," ")+" ").indexOf(ae)>-1:X==="|="?ye===ae||ye.slice(0,ae.length+1)===ae+"-":!1):!0}},CHILD:function(H,X,ae,ce,ye){var Ve=H.slice(0,3)!=="nth",We=H.slice(-4)!=="last",et=X==="of-type";return ce===1&&ye===0?function(Ue){return!!Ue.parentNode}:function(Ue,ht,ot){var ct,pt,st,Ot,dn,Zt=Ve!==We?"nextSibling":"previousSibling",vn=Ue.parentNode,Ln=et&&Ue.nodeName.toLowerCase(),Mr=!ot&&!et,sn=!1;if(vn){if(Ve){for(;Zt;){for(st=Ue;st=st[Zt];)if(et?I(st,Ln):st.nodeType===1)return!1;dn=Zt=H==="only"&&!dn&&"nextSibling"}return!0}if(dn=[We?vn.firstChild:vn.lastChild],We&&Mr){for(pt=vn[xe]||(vn[xe]={}),ct=pt[H]||[],Ot=ct[0]===oe&&ct[1],sn=Ot&&ct[2],st=Ot&&vn.childNodes[Ot];st=++Ot&&st&&st[Zt]||(sn=Ot=0)||dn.pop();)if(st.nodeType===1&&++sn&&st===Ue){pt[H]=[oe,Ot,sn];break}}else if(Mr&&(pt=Ue[xe]||(Ue[xe]={}),ct=pt[H]||[],Ot=ct[0]===oe&&ct[1],sn=Ot),sn===!1)for(;(st=++Ot&&st&&st[Zt]||(sn=Ot=0)||dn.pop())&&!((et?I(st,Ln):st.nodeType===1)&&++sn&&(Mr&&(pt=st[xe]||(st[xe]={}),pt[H]=[oe,sn]),st===Ue)););return sn-=ye,sn===ce||sn%ce===0&&sn/ce>=0}}},PSEUDO:function(H,X){var ae,ce=d.pseudos[H]||d.setFilters[H.toLowerCase()]||_t.error("unsupported pseudo: "+H);return ce[xe]?ce(X):ce.length>1?(ae=[H,H,"",X],d.setFilters.hasOwnProperty(H.toLowerCase())?En(function(ye,Ve){for(var We,et=ce(ye,X),Ue=et.length;Ue--;)We=c.call(ye,et[Ue]),ye[We]=!(Ve[We]=et[Ue])}):function(ye){return ce(ye,0,ae)}):ce}},pseudos:{not:En(function(H){var X=[],ae=[],ce=ia(H.replace(K,"$1"));return ce[xe]?En(function(ye,Ve,We,et){for(var Ue,ht=ce(ye,null,et,[]),ot=ye.length;ot--;)(Ue=ht[ot])&&(ye[ot]=!(Ve[ot]=Ue))}):function(ye,Ve,We){return X[0]=ye,ce(X,null,We,ae),X[0]=null,!ae.pop()}}),has:En(function(H){return function(X){return _t(H,X).length>0}}),contains:En(function(H){return H=H.replace(zn,Vn),function(X){return(X.textContent||p.text(X)).indexOf(H)>-1}}),lang:En(function(H){return li.test(H||"")||_t.error("unsupported lang: "+H),H=H.replace(zn,Vn).toLowerCase(),function(X){var ae;do if(ae=Q?X.lang:X.getAttribute("xml:lang")||X.getAttribute("lang"))return ae=ae.toLowerCase(),ae===H||ae.indexOf(H+"-")===0;while((X=X.parentNode)&&X.nodeType===1);return!1}}),target:function(H){var X=t.location&&t.location.hash;return X&&X.slice(1)===H.id},root:function(H){return H===G},focus:function(H){return H===Bp()&&O.hasFocus()&&!!(H.type||H.href||~H.tabIndex)},enabled:Xl(!1),disabled:Xl(!0),checked:function(H){return I(H,"input")&&!!H.checked||I(H,"option")&&!!H.selected},selected:function(H){return H.parentNode&&H.parentNode.selectedIndex,H.selected===!0},empty:function(H){for(H=H.firstChild;H;H=H.nextSibling)if(H.nodeType<6)return!1;return!0},parent:function(H){return!d.pseudos.empty(H)},header:function(H){return Yn.test(H.nodeName)},input:function(H){return Jn.test(H.nodeName)},button:function(H){return I(H,"input")&&H.type==="button"||I(H,"button")},text:function(H){var X;return I(H,"input")&&H.type==="text"&&((X=H.getAttribute("type"))==null||X.toLowerCase()==="text")},first:lr(function(){return[0]}),last:lr(function(H,X){return[X-1]}),eq:lr(function(H,X,ae){return[ae<0?ae+X:ae]}),even:lr(function(H,X){for(var ae=0;ae<X;ae+=2)H.push(ae);return H}),odd:lr(function(H,X){for(var ae=1;ae<X;ae+=2)H.push(ae);return H}),lt:lr(function(H,X,ae){var ce;for(ae<0?ce=ae+X:ae>X?ce=X:ce=ae;--ce>=0;)H.push(ce);return H}),gt:lr(function(H,X,ae){for(var ce=ae<0?ae+X:ae;++ce<X;)H.push(ce);return H})}},d.pseudos.nth=d.pseudos.eq;for(a in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[a]=qp(a);for(a in{submit:!0,reset:!0})d.pseudos[a]=Wp(a);function Zl(){}Zl.prototype=d.filters=d.pseudos,d.setFilters=new Zl;function ci(H,X){var ae,ce,ye,Ve,We,et,Ue,ht=xt[H+" "];if(ht)return X?0:ht.slice(0);for(We=H,et=[],Ue=d.preFilter;We;){(!ae||(ce=Pt.exec(We)))&&(ce&&(We=We.slice(ce[0].length)||We),et.push(ye=[])),ae=!1,(ce=oi.exec(We))&&(ae=ce.shift(),ye.push({value:ae,type:ce[0].replace(K," ")}),We=We.slice(ae.length));for(Ve in d.filter)(ce=On[Ve].exec(We))&&(!Ue[Ve]||(ce=Ue[Ve](ce)))&&(ae=ce.shift(),ye.push({value:ae,type:Ve,matches:ce}),We=We.slice(ae.length));if(!ae)break}return X?We.length:We?_t.error(H):xt(H,et).slice(0)}function Hi(H){for(var X=0,ae=H.length,ce="";X<ae;X++)ce+=H[X].value;return ce}function Bi(H,X,ae){var ce=X.dir,ye=X.next,Ve=ye||ce,We=ae&&Ve==="parentNode",et=Me++;return X.first?function(Ue,ht,ot){for(;Ue=Ue[ce];)if(Ue.nodeType===1||We)return H(Ue,ht,ot);return!1}:function(Ue,ht,ot){var ct,pt,st=[oe,et];if(ot){for(;Ue=Ue[ce];)if((Ue.nodeType===1||We)&&H(Ue,ht,ot))return!0}else for(;Ue=Ue[ce];)if(Ue.nodeType===1||We)if(pt=Ue[xe]||(Ue[xe]={}),ye&&I(Ue,ye))Ue=Ue[ce]||Ue;else{if((ct=pt[Ve])&&ct[0]===oe&&ct[1]===et)return st[2]=ct[2];if(pt[Ve]=st,st[2]=H(Ue,ht,ot))return!0}return!1}}function ta(H){return H.length>1?function(X,ae,ce){for(var ye=H.length;ye--;)if(!H[ye](X,ae,ce))return!1;return!0}:H[0]}function Up(H,X,ae){for(var ce=0,ye=X.length;ce<ye;ce++)_t(H,X[ce],ae);return ae}function qi(H,X,ae,ce,ye){for(var Ve,We=[],et=0,Ue=H.length,ht=X!=null;et<Ue;et++)(Ve=H[et])&&(!ae||ae(Ve,ce,ye))&&(We.push(Ve),ht&&X.push(et));return We}function na(H,X,ae,ce,ye,Ve){return ce&&!ce[xe]&&(ce=na(ce)),ye&&!ye[xe]&&(ye=na(ye,Ve)),En(function(We,et,Ue,ht){var ot,ct,pt,st,Ot=[],dn=[],Zt=et.length,vn=We||Up(X||"*",Ue.nodeType?[Ue]:Ue,[]),Ln=H&&(We||!X)?qi(vn,Ot,H,Ue,ht):vn;if(ae?(st=ye||(We?H:Zt||ce)?[]:et,ae(Ln,st,Ue,ht)):st=Ln,ce)for(ot=qi(st,dn),ce(ot,[],Ue,ht),ct=ot.length;ct--;)(pt=ot[ct])&&(st[dn[ct]]=!(Ln[dn[ct]]=pt));if(We){if(ye||H){if(ye){for(ot=[],ct=st.length;ct--;)(pt=st[ct])&&ot.push(Ln[ct]=pt);ye(null,st=[],ot,ht)}for(ct=st.length;ct--;)(pt=st[ct])&&(ot=ye?c.call(We,pt):Ot[ct])>-1&&(We[ot]=!(et[ot]=pt))}}else st=qi(st===et?st.splice(Zt,st.length):st),ye?ye(null,et,st,ht):R.apply(et,st)})}function ra(H){for(var X,ae,ce,ye=H.length,Ve=d.relative[H[0].type],We=Ve||d.relative[" "],et=Ve?1:0,Ue=Bi(function(ct){return ct===X},We,!0),ht=Bi(function(ct){return c.call(X,ct)>-1},We,!0),ot=[function(ct,pt,st){var Ot=!Ve&&(st||pt!=v)||((X=pt).nodeType?Ue(ct,pt,st):ht(ct,pt,st));return X=null,Ot}];et<ye;et++)if(ae=d.relative[H[et].type])ot=[Bi(ta(ot),ae)];else{if(ae=d.filter[H[et].type].apply(null,H[et].matches),ae[xe]){for(ce=++et;ce<ye&&!d.relative[H[ce].type];ce++);return na(et>1&&ta(ot),et>1&&Hi(H.slice(0,et-1).concat({value:H[et-2].type===" "?"*":""})).replace(K,"$1"),ae,et<ce&&ra(H.slice(et,ce)),ce<ye&&ra(H=H.slice(ce)),ce<ye&&Hi(H))}ot.push(ae)}return ta(ot)}function Qp(H,X){var ae=X.length>0,ce=H.length>0,ye=function(Ve,We,et,Ue,ht){var ot,ct,pt,st=0,Ot="0",dn=Ve&&[],Zt=[],vn=v,Ln=Ve||ce&&d.find.TAG("*",ht),Mr=oe+=vn==null?1:Math.random()||.1,sn=Ln.length;for(ht&&(v=We==O||We||ht);Ot!==sn&&(ot=Ln[Ot])!=null;Ot++){if(ce&&ot){for(ct=0,!We&&ot.ownerDocument!=O&&(Xn(ot),et=!Q);pt=H[ct++];)if(pt(ot,We||O,et)){R.call(Ue,ot);break}ht&&(oe=Mr)}ae&&((ot=!pt&&ot)&&st--,Ve&&dn.push(ot))}if(st+=Ot,ae&&Ot!==st){for(ct=0;pt=X[ct++];)pt(dn,Zt,We,et);if(Ve){if(st>0)for(;Ot--;)dn[Ot]||Zt[Ot]||(Zt[Ot]=D.call(Ue));Zt=qi(Zt)}R.apply(Ue,Zt),ht&&!Ve&&Zt.length>0&&st+X.length>1&&p.uniqueSort(Ue)}return ht&&(oe=Mr,v=vn),dn};return ae?En(ye):ye}function ia(H,X){var ae,ce=[],ye=[],Ve=ft[H+" "];if(!Ve){for(X||(X=ci(H)),ae=X.length;ae--;)Ve=ra(X[ae]),Ve[xe]?ce.push(Ve):ye.push(Ve);Ve=ft(H,Qp(ye,ce)),Ve.selector=H}return Ve}function ec(H,X,ae,ce){var ye,Ve,We,et,Ue,ht=typeof H=="function"&&H,ot=!ce&&ci(H=ht.selector||H);if(ae=ae||[],ot.length===1){if(Ve=ot[0]=ot[0].slice(0),Ve.length>2&&(We=Ve[0]).type==="ID"&&X.nodeType===9&&Q&&d.relative[Ve[1].type]){if(X=(d.find.ID(We.matches[0].replace(zn,Vn),X)||[])[0],X)ht&&(X=X.parentNode);else return ae;H=H.slice(Ve.shift().value.length)}for(ye=On.needsContext.test(H)?0:Ve.length;ye--&&(We=Ve[ye],!d.relative[et=We.type]);)if((Ue=d.find[et])&&(ce=Ue(We.matches[0].replace(zn,Vn),Zs.test(Ve[0].type)&&ea(X.parentNode)||X))){if(Ve.splice(ye,1),H=ce.length&&Hi(Ve),!H)return R.apply(ae,ce),ae;break}}return(ht||ia(H,ot))(ce,X,!Q,ae,!X||Zs.test(H)&&ea(X.parentNode)||X),ae}m.sortStable=xe.split("").sort(Ut).join("")===xe,Xn(),m.sortDetached=Rr(function(H){return H.compareDocumentPosition(O.createElement("fieldset"))&1}),p.find=_t,p.expr[":"]=p.expr.pseudos,p.unique=p.uniqueSort,_t.compile=ia,_t.select=ec,_t.setDocument=Xn,_t.tokenize=ci,_t.escape=p.escapeSelector,_t.getText=p.text,_t.isXML=p.isXMLDoc,_t.selectors=p.expr,_t.support=p.support,_t.uniqueSort=p.uniqueSort})();var Y=function(a,d,v){for(var x=[],E=v!==void 0;(a=a[d])&&a.nodeType!==9;)if(a.nodeType===1){if(E&&p(a).is(v))break;x.push(a)}return x},Fe=function(a,d){for(var v=[];a;a=a.nextSibling)a.nodeType===1&&a!==d&&v.push(a);return v},$e=p.expr.match.needsContext,me=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function ke(a,d,v){return C(d)?p.grep(a,function(x,E){return!!d.call(x,E,x)!==v}):d.nodeType?p.grep(a,function(x){return x===d!==v}):typeof d!="string"?p.grep(a,function(x){return c.call(d,x)>-1!==v}):p.filter(d,a,v)}p.filter=function(a,d,v){var x=d[0];return v&&(a=":not("+a+")"),d.length===1&&x.nodeType===1?p.find.matchesSelector(x,a)?[x]:[]:p.find.matches(a,p.grep(d,function(E){return E.nodeType===1}))},p.fn.extend({find:function(a){var d,v,x=this.length,E=this;if(typeof a!="string")return this.pushStack(p(a).filter(function(){for(d=0;d<x;d++)if(p.contains(E[d],this))return!0}));for(v=this.pushStack([]),d=0;d<x;d++)p.find(a,E[d],v);return x>1?p.uniqueSort(v):v},filter:function(a){return this.pushStack(ke(this,a||[],!1))},not:function(a){return this.pushStack(ke(this,a||[],!0))},is:function(a){return!!ke(this,typeof a=="string"&&$e.test(a)?p(a):a||[],!1).length}});var Oe,re=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ce=p.fn.init=function(a,d,v){var x,E;if(!a)return this;if(v=v||Oe,typeof a=="string")if(a[0]==="<"&&a[a.length-1]===">"&&a.length>=3?x=[null,a,null]:x=re.exec(a),x&&(x[1]||!d))if(x[1]){if(d=d instanceof p?d[0]:d,p.merge(this,p.parseHTML(x[1],d&&d.nodeType?d.ownerDocument||d:T,!0)),me.test(x[1])&&p.isPlainObject(d))for(x in d)C(this[x])?this[x](d[x]):this.attr(x,d[x]);return this}else return E=T.getElementById(x[2]),E&&(this[0]=E,this.length=1),this;else return!d||d.jquery?(d||v).find(a):this.constructor(d).find(a);else{if(a.nodeType)return this[0]=a,this.length=1,this;if(C(a))return v.ready!==void 0?v.ready(a):a(p)}return p.makeArray(a,this)};Ce.prototype=p.fn,Oe=p(T);var Ee=/^(?:parents|prev(?:Until|All))/,be={children:!0,contents:!0,next:!0,prev:!0};p.fn.extend({has:function(a){var d=p(a,this),v=d.length;return this.filter(function(){for(var x=0;x<v;x++)if(p.contains(this,d[x]))return!0})},closest:function(a,d){var v,x=0,E=this.length,R=[],O=typeof a!="string"&&p(a);if(!$e.test(a)){for(;x<E;x++)for(v=this[x];v&&v!==d;v=v.parentNode)if(v.nodeType<11&&(O?O.index(v)>-1:v.nodeType===1&&p.find.matchesSelector(v,a))){R.push(v);break}}return this.pushStack(R.length>1?p.uniqueSort(R):R)},index:function(a){return a?typeof a=="string"?c.call(p(a),this[0]):c.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,d){return this.pushStack(p.uniqueSort(p.merge(this.get(),p(a,d))))},addBack:function(a){return this.add(a==null?this.prevObject:this.prevObject.filter(a))}});function pe(a,d){for(;(a=a[d])&&a.nodeType!==1;);return a}p.each({parent:function(a){var d=a.parentNode;return d&&d.nodeType!==11?d:null},parents:function(a){return Y(a,"parentNode")},parentsUntil:function(a,d,v){return Y(a,"parentNode",v)},next:function(a){return pe(a,"nextSibling")},prev:function(a){return pe(a,"previousSibling")},nextAll:function(a){return Y(a,"nextSibling")},prevAll:function(a){return Y(a,"previousSibling")},nextUntil:function(a,d,v){return Y(a,"nextSibling",v)},prevUntil:function(a,d,v){return Y(a,"previousSibling",v)},siblings:function(a){return Fe((a.parentNode||{}).firstChild,a)},children:function(a){return Fe(a.firstChild)},contents:function(a){return a.contentDocument!=null&&i(a.contentDocument)?a.contentDocument:(I(a,"template")&&(a=a.content||a),p.merge([],a.childNodes))}},function(a,d){p.fn[a]=function(v,x){var E=p.map(this,d,v);return a.slice(-5)!=="Until"&&(x=v),x&&typeof x=="string"&&(E=p.filter(x,E)),this.length>1&&(be[a]||p.uniqueSort(E),Ee.test(a)&&E.reverse()),this.pushStack(E)}});var Te=/[^\x20\t\r\n\f]+/g;function Je(a){var d={};return p.each(a.match(Te)||[],function(v,x){d[x]=!0}),d}p.Callbacks=function(a){a=typeof a=="string"?Je(a):p.extend({},a);var d,v,x,E,R=[],O=[],G=-1,Q=function(){for(E=E||a.once,x=d=!0;O.length;G=-1)for(v=O.shift();++G<R.length;)R[G].apply(v[0],v[1])===!1&&a.stopOnFalse&&(G=R.length,v=!1);a.memory||(v=!1),d=!1,E&&(v?R=[]:R="")},ee={add:function(){return R&&(v&&!d&&(G=R.length-1,O.push(v)),function fe(xe){p.each(xe,function(oe,Me){C(Me)?(!a.unique||!ee.has(Me))&&R.push(Me):Me&&Me.length&&M(Me)!=="string"&&fe(Me)})}(arguments),v&&!d&&Q()),this},remove:function(){return p.each(arguments,function(fe,xe){for(var oe;(oe=p.inArray(xe,R,oe))>-1;)R.splice(oe,1),oe<=G&&G--}),this},has:function(fe){return fe?p.inArray(fe,R)>-1:R.length>0},empty:function(){return R&&(R=[]),this},disable:function(){return E=O=[],R=v="",this},disabled:function(){return!R},lock:function(){return E=O=[],!v&&!d&&(R=v=""),this},locked:function(){return!!E},fireWith:function(fe,xe){return E||(xe=xe||[],xe=[fe,xe.slice?xe.slice():xe],O.push(xe),d||Q()),this},fire:function(){return ee.fireWith(this,arguments),this},fired:function(){return!!x}};return ee};function tt(a){return a}function De(a){throw a}function Ye(a,d,v,x){var E;try{a&&C(E=a.promise)?E.call(a).done(d).fail(v):a&&C(E=a.then)?E.call(a,d,v):d.apply(void 0,[a].slice(x))}catch(R){v.apply(void 0,[R])}}p.extend({Deferred:function(a){var d=[["notify","progress",p.Callbacks("memory"),p.Callbacks("memory"),2],["resolve","done",p.Callbacks("once memory"),p.Callbacks("once memory"),0,"resolved"],["reject","fail",p.Callbacks("once memory"),p.Callbacks("once memory"),1,"rejected"]],v="pending",x={state:function(){return v},always:function(){return E.done(arguments).fail(arguments),this},catch:function(R){return x.then(null,R)},pipe:function(){var R=arguments;return p.Deferred(function(O){p.each(d,function(G,Q){var ee=C(R[Q[4]])&&R[Q[4]];E[Q[1]](function(){var fe=ee&&ee.apply(this,arguments);fe&&C(fe.promise)?fe.promise().progress(O.notify).done(O.resolve).fail(O.reject):O[Q[0]+"With"](this,ee?[fe]:arguments)})}),R=null}).promise()},then:function(R,O,G){var Q=0;function ee(fe,xe,oe,Me){return function(){var lt=this,xt=arguments,ft=function(){var Ut,Rn;if(!(fe<Q)){if(Ut=oe.apply(lt,xt),Ut===xe.promise())throw new TypeError("Thenable self-resolution");Rn=Ut&&(typeof Ut=="object"||typeof Ut=="function")&&Ut.then,C(Rn)?Me?Rn.call(Ut,ee(Q,xe,tt,Me),ee(Q,xe,De,Me)):(Q++,Rn.call(Ut,ee(Q,xe,tt,Me),ee(Q,xe,De,Me),ee(Q,xe,tt,xe.notifyWith))):(oe!==tt&&(lt=void 0,xt=[Ut]),(Me||xe.resolveWith)(lt,xt))}},Jt=Me?ft:function(){try{ft()}catch(Ut){p.Deferred.exceptionHook&&p.Deferred.exceptionHook(Ut,Jt.error),fe+1>=Q&&(oe!==De&&(lt=void 0,xt=[Ut]),xe.rejectWith(lt,xt))}};fe?Jt():(p.Deferred.getErrorHook?Jt.error=p.Deferred.getErrorHook():p.Deferred.getStackHook&&(Jt.error=p.Deferred.getStackHook()),t.setTimeout(Jt))}}return p.Deferred(function(fe){d[0][3].add(ee(0,fe,C(G)?G:tt,fe.notifyWith)),d[1][3].add(ee(0,fe,C(R)?R:tt)),d[2][3].add(ee(0,fe,C(O)?O:De))}).promise()},promise:function(R){return R!=null?p.extend(R,x):x}},E={};return p.each(d,function(R,O){var G=O[2],Q=O[5];x[O[1]]=G.add,Q&&G.add(function(){v=Q},d[3-R][2].disable,d[3-R][3].disable,d[0][2].lock,d[0][3].lock),G.add(O[3].fire),E[O[0]]=function(){return E[O[0]+"With"](this===E?void 0:this,arguments),this},E[O[0]+"With"]=G.fireWith}),x.promise(E),a&&a.call(E,E),E},when:function(a){var d=arguments.length,v=d,x=Array(v),E=s.call(arguments),R=p.Deferred(),O=function(G){return function(Q){x[G]=this,E[G]=arguments.length>1?s.call(arguments):Q,--d||R.resolveWith(x,E)}};if(d<=1&&(Ye(a,R.done(O(v)).resolve,R.reject,!d),R.state()==="pending"||C(E[v]&&E[v].then)))return R.then();for(;v--;)Ye(E[v],O(v),R.reject);return R.promise()}});var Ze=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;p.Deferred.exceptionHook=function(a,d){t.console&&t.console.warn&&a&&Ze.test(a.name)&&t.console.warn("jQuery.Deferred exception: "+a.message,a.stack,d)},p.readyException=function(a){t.setTimeout(function(){throw a})};var it=p.Deferred();p.fn.ready=function(a){return it.then(a).catch(function(d){p.readyException(d)}),this},p.extend({isReady:!1,readyWait:1,ready:function(a){(a===!0?--p.readyWait:p.isReady)||(p.isReady=!0,!(a!==!0&&--p.readyWait>0)&&it.resolveWith(T,[p]))}}),p.ready.then=it.then;function rt(){T.removeEventListener("DOMContentLoaded",rt),t.removeEventListener("load",rt),p.ready()}T.readyState==="complete"||T.readyState!=="loading"&&!T.documentElement.doScroll?t.setTimeout(p.ready):(T.addEventListener("DOMContentLoaded",rt),t.addEventListener("load",rt));var Ke=function(a,d,v,x,E,R,O){var G=0,Q=a.length,ee=v==null;if(M(v)==="object"){E=!0;for(G in v)Ke(a,d,G,v[G],!0,R,O)}else if(x!==void 0&&(E=!0,C(x)||(O=!0),ee&&(O?(d.call(a,x),d=null):(ee=d,d=function(fe,xe,oe){return ee.call(p(fe),oe)})),d))for(;G<Q;G++)d(a[G],v,O?x:x.call(a[G],G,d(a[G],v)));return E?a:ee?d.call(a):Q?d(a[0],v):R},Et=/^-ms-/,Rt=/-([a-z])/g;function _e(a,d){return d.toUpperCase()}function je(a){return a.replace(Et,"ms-").replace(Rt,_e)}var Qe=function(a){return a.nodeType===1||a.nodeType===9||!+a.nodeType};function at(){this.expando=p.expando+at.uid++}at.uid=1,at.prototype={cache:function(a){var d=a[this.expando];return d||(d={},Qe(a)&&(a.nodeType?a[this.expando]=d:Object.defineProperty(a,this.expando,{value:d,configurable:!0}))),d},set:function(a,d,v){var x,E=this.cache(a);if(typeof d=="string")E[je(d)]=v;else for(x in d)E[je(x)]=d[x];return E},get:function(a,d){return d===void 0?this.cache(a):a[this.expando]&&a[this.expando][je(d)]},access:function(a,d,v){return d===void 0||d&&typeof d=="string"&&v===void 0?this.get(a,d):(this.set(a,d,v),v!==void 0?v:d)},remove:function(a,d){var v,x=a[this.expando];if(x!==void 0){if(d!==void 0)for(Array.isArray(d)?d=d.map(je):(d=je(d),d=d in x?[d]:d.match(Te)||[]),v=d.length;v--;)delete x[d[v]];(d===void 0||p.isEmptyObject(x))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var d=a[this.expando];return d!==void 0&&!p.isEmptyObject(d)}};var Ie=new at,ut=new at,Dt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,qt=/[A-Z]/g;function Gt(a){return a==="true"?!0:a==="false"?!1:a==="null"?null:a===+a+""?+a:Dt.test(a)?JSON.parse(a):a}function jt(a,d,v){var x;if(v===void 0&&a.nodeType===1)if(x="data-"+d.replace(qt,"-$&").toLowerCase(),v=a.getAttribute(x),typeof v=="string"){try{v=Gt(v)}catch{}ut.set(a,d,v)}else v=void 0;return v}p.extend({hasData:function(a){return ut.hasData(a)||Ie.hasData(a)},data:function(a,d,v){return ut.access(a,d,v)},removeData:function(a,d){ut.remove(a,d)},_data:function(a,d,v){return Ie.access(a,d,v)},_removeData:function(a,d){Ie.remove(a,d)}}),p.fn.extend({data:function(a,d){var v,x,E,R=this[0],O=R&&R.attributes;if(a===void 0){if(this.length&&(E=ut.get(R),R.nodeType===1&&!Ie.get(R,"hasDataAttrs"))){for(v=O.length;v--;)O[v]&&(x=O[v].name,x.indexOf("data-")===0&&(x=je(x.slice(5)),jt(R,x,E[x])));Ie.set(R,"hasDataAttrs",!0)}return E}return typeof a=="object"?this.each(function(){ut.set(this,a)}):Ke(this,function(G){var Q;if(R&&G===void 0)return Q=ut.get(R,a),Q!==void 0||(Q=jt(R,a),Q!==void 0)?Q:void 0;this.each(function(){ut.set(this,a,G)})},null,d,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){ut.remove(this,a)})}}),p.extend({queue:function(a,d,v){var x;if(a)return d=(d||"fx")+"queue",x=Ie.get(a,d),v&&(!x||Array.isArray(v)?x=Ie.access(a,d,p.makeArray(v)):x.push(v)),x||[]},dequeue:function(a,d){d=d||"fx";var v=p.queue(a,d),x=v.length,E=v.shift(),R=p._queueHooks(a,d),O=function(){p.dequeue(a,d)};E==="inprogress"&&(E=v.shift(),x--),E&&(d==="fx"&&v.unshift("inprogress"),delete R.stop,E.call(a,O,R)),!x&&R&&R.empty.fire()},_queueHooks:function(a,d){var v=d+"queueHooks";return Ie.get(a,v)||Ie.access(a,v,{empty:p.Callbacks("once memory").add(function(){Ie.remove(a,[d+"queue",v])})})}}),p.fn.extend({queue:function(a,d){var v=2;return typeof a!="string"&&(d=a,a="fx",v--),arguments.length<v?p.queue(this[0],a):d===void 0?this:this.each(function(){var x=p.queue(this,a,d);p._queueHooks(this,a),a==="fx"&&x[0]!=="inprogress"&&p.dequeue(this,a)})},dequeue:function(a){return this.each(function(){p.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,d){var v,x=1,E=p.Deferred(),R=this,O=this.length,G=function(){--x||E.resolveWith(R,[R])};for(typeof a!="string"&&(d=a,a=void 0),a=a||"fx";O--;)v=Ie.get(R[O],a+"queueHooks"),v&&v.empty&&(x++,v.empty.add(G));return G(),E.promise(d)}});var Mt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Nt=new RegExp("^(?:([+-])=|)("+Mt+")([a-z%]*)$","i"),At=["Top","Right","Bottom","Left"],kt=T.documentElement,Wt=function(a){return p.contains(a.ownerDocument,a)},Cn={composed:!0};kt.getRootNode&&(Wt=function(a){return p.contains(a.ownerDocument,a)||a.getRootNode(Cn)===a.ownerDocument});var In=function(a,d){return a=d||a,a.style.display==="none"||a.style.display===""&&Wt(a)&&p.css(a,"display")==="none"};function gn(a,d,v,x){var E,R,O=20,G=x?function(){return x.cur()}:function(){return p.css(a,d,"")},Q=G(),ee=v&&v[3]||(p.cssNumber[d]?"":"px"),fe=a.nodeType&&(p.cssNumber[d]||ee!=="px"&&+Q)&&Nt.exec(p.css(a,d));if(fe&&fe[3]!==ee){for(Q=Q/2,ee=ee||fe[3],fe=+Q||1;O--;)p.style(a,d,fe+ee),(1-R)*(1-(R=G()/Q||.5))<=0&&(O=0),fe=fe/R;fe=fe*2,p.style(a,d,fe+ee),v=v||[]}return v&&(fe=+fe||+Q||0,E=v[1]?fe+(v[1]+1)*v[2]:+v[2],x&&(x.unit=ee,x.start=fe,x.end=E)),E}var A={};function U(a){var d,v=a.ownerDocument,x=a.nodeName,E=A[x];return E||(d=v.body.appendChild(v.createElement(x)),E=p.css(d,"display"),d.parentNode.removeChild(d),E==="none"&&(E="block"),A[x]=E,E)}function j(a,d){for(var v,x,E=[],R=0,O=a.length;R<O;R++)x=a[R],x.style&&(v=x.style.display,d?(v==="none"&&(E[R]=Ie.get(x,"display")||null,E[R]||(x.style.display="")),x.style.display===""&&In(x)&&(E[R]=U(x))):v!=="none"&&(E[R]="none",Ie.set(x,"display",v)));for(R=0;R<O;R++)E[R]!=null&&(a[R].style.display=E[R]);return a}p.fn.extend({show:function(){return j(this,!0)},hide:function(){return j(this)},toggle:function(a){return typeof a=="boolean"?a?this.show():this.hide():this.each(function(){In(this)?p(this).show():p(this).hide()})}});var J=/^(?:checkbox|radio)$/i,B=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Z=/^$|^module$|\/(?:java|ecma)script/i;(function(){var a=T.createDocumentFragment(),d=a.appendChild(T.createElement("div")),v=T.createElement("input");v.setAttribute("type","radio"),v.setAttribute("checked","checked"),v.setAttribute("name","t"),d.appendChild(v),m.checkClone=d.cloneNode(!0).cloneNode(!0).lastChild.checked,d.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!d.cloneNode(!0).lastChild.defaultValue,d.innerHTML="<option></option>",m.option=!!d.lastChild})();var W={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};W.tbody=W.tfoot=W.colgroup=W.caption=W.thead,W.th=W.td,m.option||(W.optgroup=W.option=[1,"<select multiple='multiple'>","</select>"]);function q(a,d){var v;return typeof a.getElementsByTagName<"u"?v=a.getElementsByTagName(d||"*"):typeof a.querySelectorAll<"u"?v=a.querySelectorAll(d||"*"):v=[],d===void 0||d&&I(a,d)?p.merge([a],v):v}function ne(a,d){for(var v=0,x=a.length;v<x;v++)Ie.set(a[v],"globalEval",!d||Ie.get(d[v],"globalEval"))}var de=/<|&#?\w+;/;function le(a,d,v,x,E){for(var R,O,G,Q,ee,fe,xe=d.createDocumentFragment(),oe=[],Me=0,lt=a.length;Me<lt;Me++)if(R=a[Me],R||R===0)if(M(R)==="object")p.merge(oe,R.nodeType?[R]:R);else if(!de.test(R))oe.push(d.createTextNode(R));else{for(O=O||xe.appendChild(d.createElement("div")),G=(B.exec(R)||["",""])[1].toLowerCase(),Q=W[G]||W._default,O.innerHTML=Q[1]+p.htmlPrefilter(R)+Q[2],fe=Q[0];fe--;)O=O.lastChild;p.merge(oe,O.childNodes),O=xe.firstChild,O.textContent=""}for(xe.textContent="",Me=0;R=oe[Me++];){if(x&&p.inArray(R,x)>-1){E&&E.push(R);continue}if(ee=Wt(R),O=q(xe.appendChild(R),"script"),ee&&ne(O),v)for(fe=0;R=O[fe++];)Z.test(R.type||"")&&v.push(R)}return xe}var ge=/^([^.]*)(?:\.(.+)|)/;function ze(){return!0}function Se(){return!1}function Le(a,d,v,x,E,R){var O,G;if(typeof d=="object"){typeof v!="string"&&(x=x||v,v=void 0);for(G in d)Le(a,G,v,x,d[G],R);return a}if(x==null&&E==null?(E=v,x=v=void 0):E==null&&(typeof v=="string"?(E=x,x=void 0):(E=x,x=v,v=void 0)),E===!1)E=Se;else if(!E)return a;return R===1&&(O=E,E=function(Q){return p().off(Q),O.apply(this,arguments)},E.guid=O.guid||(O.guid=p.guid++)),a.each(function(){p.event.add(this,d,E,x,v)})}p.event={global:{},add:function(a,d,v,x,E){var R,O,G,Q,ee,fe,xe,oe,Me,lt,xt,ft=Ie.get(a);if(Qe(a))for(v.handler&&(R=v,v=R.handler,E=R.selector),E&&p.find.matchesSelector(kt,E),v.guid||(v.guid=p.guid++),(Q=ft.events)||(Q=ft.events=Object.create(null)),(O=ft.handle)||(O=ft.handle=function(Jt){return typeof p<"u"&&p.event.triggered!==Jt.type?p.event.dispatch.apply(a,arguments):void 0}),d=(d||"").match(Te)||[""],ee=d.length;ee--;)G=ge.exec(d[ee])||[],Me=xt=G[1],lt=(G[2]||"").split(".").sort(),Me&&(xe=p.event.special[Me]||{},Me=(E?xe.delegateType:xe.bindType)||Me,xe=p.event.special[Me]||{},fe=p.extend({type:Me,origType:xt,data:x,handler:v,guid:v.guid,selector:E,needsContext:E&&p.expr.match.needsContext.test(E),namespace:lt.join(".")},R),(oe=Q[Me])||(oe=Q[Me]=[],oe.delegateCount=0,(!xe.setup||xe.setup.call(a,x,lt,O)===!1)&&a.addEventListener&&a.addEventListener(Me,O)),xe.add&&(xe.add.call(a,fe),fe.handler.guid||(fe.handler.guid=v.guid)),E?oe.splice(oe.delegateCount++,0,fe):oe.push(fe),p.event.global[Me]=!0)},remove:function(a,d,v,x,E){var R,O,G,Q,ee,fe,xe,oe,Me,lt,xt,ft=Ie.hasData(a)&&Ie.get(a);if(!(!ft||!(Q=ft.events))){for(d=(d||"").match(Te)||[""],ee=d.length;ee--;){if(G=ge.exec(d[ee])||[],Me=xt=G[1],lt=(G[2]||"").split(".").sort(),!Me){for(Me in Q)p.event.remove(a,Me+d[ee],v,x,!0);continue}for(xe=p.event.special[Me]||{},Me=(x?xe.delegateType:xe.bindType)||Me,oe=Q[Me]||[],G=G[2]&&new RegExp("(^|\\.)"+lt.join("\\.(?:.*\\.|)")+"(\\.|$)"),O=R=oe.length;R--;)fe=oe[R],(E||xt===fe.origType)&&(!v||v.guid===fe.guid)&&(!G||G.test(fe.namespace))&&(!x||x===fe.selector||x==="**"&&fe.selector)&&(oe.splice(R,1),fe.selector&&oe.delegateCount--,xe.remove&&xe.remove.call(a,fe));O&&!oe.length&&((!xe.teardown||xe.teardown.call(a,lt,ft.handle)===!1)&&p.removeEvent(a,Me,ft.handle),delete Q[Me])}p.isEmptyObject(Q)&&Ie.remove(a,"handle events")}},dispatch:function(a){var d,v,x,E,R,O,G=new Array(arguments.length),Q=p.event.fix(a),ee=(Ie.get(this,"events")||Object.create(null))[Q.type]||[],fe=p.event.special[Q.type]||{};for(G[0]=Q,d=1;d<arguments.length;d++)G[d]=arguments[d];if(Q.delegateTarget=this,!(fe.preDispatch&&fe.preDispatch.call(this,Q)===!1)){for(O=p.event.handlers.call(this,Q,ee),d=0;(E=O[d++])&&!Q.isPropagationStopped();)for(Q.currentTarget=E.elem,v=0;(R=E.handlers[v++])&&!Q.isImmediatePropagationStopped();)(!Q.rnamespace||R.namespace===!1||Q.rnamespace.test(R.namespace))&&(Q.handleObj=R,Q.data=R.data,x=((p.event.special[R.origType]||{}).handle||R.handler).apply(E.elem,G),x!==void 0&&(Q.result=x)===!1&&(Q.preventDefault(),Q.stopPropagation()));return fe.postDispatch&&fe.postDispatch.call(this,Q),Q.result}},handlers:function(a,d){var v,x,E,R,O,G=[],Q=d.delegateCount,ee=a.target;if(Q&&ee.nodeType&&!(a.type==="click"&&a.button>=1)){for(;ee!==this;ee=ee.parentNode||this)if(ee.nodeType===1&&!(a.type==="click"&&ee.disabled===!0)){for(R=[],O={},v=0;v<Q;v++)x=d[v],E=x.selector+" ",O[E]===void 0&&(O[E]=x.needsContext?p(E,this).index(ee)>-1:p.find(E,this,null,[ee]).length),O[E]&&R.push(x);R.length&&G.push({elem:ee,handlers:R})}}return ee=this,Q<d.length&&G.push({elem:ee,handlers:d.slice(Q)}),G},addProp:function(a,d){Object.defineProperty(p.Event.prototype,a,{enumerable:!0,configurable:!0,get:C(d)?function(){if(this.originalEvent)return d(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(v){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:v})}})},fix:function(a){return a[p.expando]?a:new p.Event(a)},special:{load:{noBubble:!0},click:{setup:function(a){var d=this||a;return J.test(d.type)&&d.click&&I(d,"input")&&nt(d,"click",!0),!1},trigger:function(a){var d=this||a;return J.test(d.type)&&d.click&&I(d,"input")&&nt(d,"click"),!0},_default:function(a){var d=a.target;return J.test(d.type)&&d.click&&I(d,"input")&&Ie.get(d,"click")||I(d,"a")}},beforeunload:{postDispatch:function(a){a.result!==void 0&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}};function nt(a,d,v){if(!v){Ie.get(a,d)===void 0&&p.event.add(a,d,ze);return}Ie.set(a,d,!1),p.event.add(a,d,{namespace:!1,handler:function(x){var E,R=Ie.get(this,d);if(x.isTrigger&1&&this[d]){if(R)(p.event.special[d]||{}).delegateType&&x.stopPropagation();else if(R=s.call(arguments),Ie.set(this,d,R),this[d](),E=Ie.get(this,d),Ie.set(this,d,!1),R!==E)return x.stopImmediatePropagation(),x.preventDefault(),E}else R&&(Ie.set(this,d,p.event.trigger(R[0],R.slice(1),this)),x.stopPropagation(),x.isImmediatePropagationStopped=ze)}})}p.removeEvent=function(a,d,v){a.removeEventListener&&a.removeEventListener(d,v)},p.Event=function(a,d){if(!(this instanceof p.Event))return new p.Event(a,d);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.defaultPrevented===void 0&&a.returnValue===!1?ze:Se,this.target=a.target&&a.target.nodeType===3?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a,d&&p.extend(this,d),this.timeStamp=a&&a.timeStamp||Date.now(),this[p.expando]=!0},p.Event.prototype={constructor:p.Event,isDefaultPrevented:Se,isPropagationStopped:Se,isImmediatePropagationStopped:Se,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ze,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ze,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ze,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},p.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},p.event.addProp),p.each({focus:"focusin",blur:"focusout"},function(a,d){function v(x){if(T.documentMode){var E=Ie.get(this,"handle"),R=p.event.fix(x);R.type=x.type==="focusin"?"focus":"blur",R.isSimulated=!0,E(x),R.target===R.currentTarget&&E(R)}else p.event.simulate(d,x.target,p.event.fix(x))}p.event.special[a]={setup:function(){var x;if(nt(this,a,!0),T.documentMode)x=Ie.get(this,d),x||this.addEventListener(d,v),Ie.set(this,d,(x||0)+1);else return!1},trigger:function(){return nt(this,a),!0},teardown:function(){var x;if(T.documentMode)x=Ie.get(this,d)-1,x?Ie.set(this,d,x):(this.removeEventListener(d,v),Ie.remove(this,d));else return!1},_default:function(x){return Ie.get(x.target,a)},delegateType:d},p.event.special[d]={setup:function(){var x=this.ownerDocument||this.document||this,E=T.documentMode?this:x,R=Ie.get(E,d);R||(T.documentMode?this.addEventListener(d,v):x.addEventListener(a,v,!0)),Ie.set(E,d,(R||0)+1)},teardown:function(){var x=this.ownerDocument||this.document||this,E=T.documentMode?this:x,R=Ie.get(E,d)-1;R?Ie.set(E,d,R):(T.documentMode?this.removeEventListener(d,v):x.removeEventListener(a,v,!0),Ie.remove(E,d))}}}),p.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,d){p.event.special[a]={delegateType:d,bindType:d,handle:function(v){var x,E=this,R=v.relatedTarget,O=v.handleObj;return(!R||R!==E&&!p.contains(E,R))&&(v.type=O.origType,x=O.handler.apply(this,arguments),v.type=d),x}}}),p.fn.extend({on:function(a,d,v,x){return Le(this,a,d,v,x)},one:function(a,d,v,x){return Le(this,a,d,v,x,1)},off:function(a,d,v){var x,E;if(a&&a.preventDefault&&a.handleObj)return x=a.handleObj,p(a.delegateTarget).off(x.namespace?x.origType+"."+x.namespace:x.origType,x.selector,x.handler),this;if(typeof a=="object"){for(E in a)this.off(E,d,a[E]);return this}return(d===!1||typeof d=="function")&&(v=d,d=void 0),v===!1&&(v=Se),this.each(function(){p.event.remove(this,a,v,d)})}});var Ge=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,we=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ne(a,d){return I(a,"table")&&I(d.nodeType!==11?d:d.firstChild,"tr")&&p(a).children("tbody")[0]||a}function He(a){return a.type=(a.getAttribute("type")!==null)+"/"+a.type,a}function bt(a){return(a.type||"").slice(0,5)==="true/"?a.type=a.type.slice(5):a.removeAttribute("type"),a}function Kt(a,d){var v,x,E,R,O,G,Q;if(d.nodeType===1){if(Ie.hasData(a)&&(R=Ie.get(a),Q=R.events,Q)){Ie.remove(d,"handle events");for(E in Q)for(v=0,x=Q[E].length;v<x;v++)p.event.add(d,E,Q[E][v])}ut.hasData(a)&&(O=ut.access(a),G=p.extend({},O),ut.set(d,G))}}function Xt(a,d){var v=d.nodeName.toLowerCase();v==="input"&&J.test(a.type)?d.checked=a.checked:(v==="input"||v==="textarea")&&(d.defaultValue=a.defaultValue)}function Qt(a,d,v,x){d=o(d);var E,R,O,G,Q,ee,fe=0,xe=a.length,oe=xe-1,Me=d[0],lt=C(Me);if(lt||xe>1&&typeof Me=="string"&&!m.checkClone&&Ae.test(Me))return a.each(function(xt){var ft=a.eq(xt);lt&&(d[0]=Me.call(this,xt,ft.html())),Qt(ft,d,v,x)});if(xe&&(E=le(d,a[0].ownerDocument,!1,a,x),R=E.firstChild,E.childNodes.length===1&&(E=R),R||x)){for(O=p.map(q(E,"script"),He),G=O.length;fe<xe;fe++)Q=E,fe!==oe&&(Q=p.clone(Q,!0,!0),G&&p.merge(O,q(Q,"script"))),v.call(a[fe],Q,fe);if(G)for(ee=O[O.length-1].ownerDocument,p.map(O,bt),fe=0;fe<G;fe++)Q=O[fe],Z.test(Q.type||"")&&!Ie.access(Q,"globalEval")&&p.contains(ee,Q)&&(Q.src&&(Q.type||"").toLowerCase()!=="module"?p._evalUrl&&!Q.noModule&&p._evalUrl(Q.src,{nonce:Q.nonce||Q.getAttribute("nonce")},ee):N(Q.textContent.replace(we,""),Q,ee))}return a}function rn(a,d,v){for(var x,E=d?p.filter(d,a):a,R=0;(x=E[R])!=null;R++)!v&&x.nodeType===1&&p.cleanData(q(x)),x.parentNode&&(v&&Wt(x)&&ne(q(x,"script")),x.parentNode.removeChild(x));return a}p.extend({htmlPrefilter:function(a){return a},clone:function(a,d,v){var x,E,R,O,G=a.cloneNode(!0),Q=Wt(a);if(!m.noCloneChecked&&(a.nodeType===1||a.nodeType===11)&&!p.isXMLDoc(a))for(O=q(G),R=q(a),x=0,E=R.length;x<E;x++)Xt(R[x],O[x]);if(d)if(v)for(R=R||q(a),O=O||q(G),x=0,E=R.length;x<E;x++)Kt(R[x],O[x]);else Kt(a,G);return O=q(G,"script"),O.length>0&&ne(O,!Q&&q(a,"script")),G},cleanData:function(a){for(var d,v,x,E=p.event.special,R=0;(v=a[R])!==void 0;R++)if(Qe(v)){if(d=v[Ie.expando]){if(d.events)for(x in d.events)E[x]?p.event.remove(v,x):p.removeEvent(v,x,d.handle);v[Ie.expando]=void 0}v[ut.expando]&&(v[ut.expando]=void 0)}}}),p.fn.extend({detach:function(a){return rn(this,a,!0)},remove:function(a){return rn(this,a)},text:function(a){return Ke(this,function(d){return d===void 0?p.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=d)})},null,a,arguments.length)},append:function(){return Qt(this,arguments,function(a){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var d=Ne(this,a);d.appendChild(a)}})},prepend:function(){return Qt(this,arguments,function(a){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var d=Ne(this,a);d.insertBefore(a,d.firstChild)}})},before:function(){return Qt(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return Qt(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,d=0;(a=this[d])!=null;d++)a.nodeType===1&&(p.cleanData(q(a,!1)),a.textContent="");return this},clone:function(a,d){return a=a??!1,d=d??a,this.map(function(){return p.clone(this,a,d)})},html:function(a){return Ke(this,function(d){var v=this[0]||{},x=0,E=this.length;if(d===void 0&&v.nodeType===1)return v.innerHTML;if(typeof d=="string"&&!Ge.test(d)&&!W[(B.exec(d)||["",""])[1].toLowerCase()]){d=p.htmlPrefilter(d);try{for(;x<E;x++)v=this[x]||{},v.nodeType===1&&(p.cleanData(q(v,!1)),v.innerHTML=d);v=0}catch{}}v&&this.empty().append(d)},null,a,arguments.length)},replaceWith:function(){var a=[];return Qt(this,arguments,function(d){var v=this.parentNode;p.inArray(this,a)<0&&(p.cleanData(q(this)),v&&v.replaceChild(d,this))},a)}}),p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,d){p.fn[a]=function(v){for(var x,E=[],R=p(v),O=R.length-1,G=0;G<=O;G++)x=G===O?this:this.clone(!0),p(R[G])[d](x),l.apply(E,x.get());return this.pushStack(E)}});var ir=new RegExp("^("+Mt+")(?!px)[a-z%]+$","i"),js=/^--/,zi=function(a){var d=a.ownerDocument.defaultView;return(!d||!d.opener)&&(d=t),d.getComputedStyle(a)},Ol=function(a,d,v){var x,E,R={};for(E in d)R[E]=a.style[E],a.style[E]=d[E];x=v.call(a);for(E in d)a.style[E]=R[E];return x},pp=new RegExp(At.join("|"),"i");(function(){function a(){if(ee){Q.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",ee.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",kt.appendChild(Q).appendChild(ee);var fe=t.getComputedStyle(ee);v=fe.top!=="1%",G=d(fe.marginLeft)===12,ee.style.right="60%",R=d(fe.right)===36,x=d(fe.width)===36,ee.style.position="absolute",E=d(ee.offsetWidth/3)===12,kt.removeChild(Q),ee=null}}function d(fe){return Math.round(parseFloat(fe))}var v,x,E,R,O,G,Q=T.createElement("div"),ee=T.createElement("div");ee.style&&(ee.style.backgroundClip="content-box",ee.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle=ee.style.backgroundClip==="content-box",p.extend(m,{boxSizingReliable:function(){return a(),x},pixelBoxStyles:function(){return a(),R},pixelPosition:function(){return a(),v},reliableMarginLeft:function(){return a(),G},scrollboxSize:function(){return a(),E},reliableTrDimensions:function(){var fe,xe,oe,Me;return O==null&&(fe=T.createElement("table"),xe=T.createElement("tr"),oe=T.createElement("div"),fe.style.cssText="position:absolute;left:-11111px;border-collapse:separate",xe.style.cssText="box-sizing:content-box;border:1px solid",xe.style.height="1px",oe.style.height="9px",oe.style.display="block",kt.appendChild(fe).appendChild(xe).appendChild(oe),Me=t.getComputedStyle(xe),O=parseInt(Me.height,10)+parseInt(Me.borderTopWidth,10)+parseInt(Me.borderBottomWidth,10)===xe.offsetHeight,kt.removeChild(fe)),O}}))})();function ri(a,d,v){var x,E,R,O,G=js.test(d),Q=a.style;return v=v||zi(a),v&&(O=v.getPropertyValue(d)||v[d],G&&O&&(O=O.replace(K,"$1")||void 0),O===""&&!Wt(a)&&(O=p.style(a,d)),!m.pixelBoxStyles()&&ir.test(O)&&pp.test(d)&&(x=Q.width,E=Q.minWidth,R=Q.maxWidth,Q.minWidth=Q.maxWidth=Q.width=O,O=v.width,Q.width=x,Q.minWidth=E,Q.maxWidth=R)),O!==void 0?O+"":O}function Ll(a,d){return{get:function(){if(a()){delete this.get;return}return(this.get=d).apply(this,arguments)}}}var Dl=["Webkit","Moz","ms"],Al=T.createElement("div").style,Pl={};function gp(a){for(var d=a[0].toUpperCase()+a.slice(1),v=Dl.length;v--;)if(a=Dl[v]+d,a in Al)return a}function Hs(a){var d=p.cssProps[a]||Pl[a];return d||(a in Al?a:Pl[a]=gp(a)||a)}var mp=/^(none|table(?!-c[ea]).+)/,vp={position:"absolute",visibility:"hidden",display:"block"},$l={letterSpacing:"0",fontWeight:"400"};function zl(a,d,v){var x=Nt.exec(d);return x?Math.max(0,x[2]-(v||0))+(x[3]||"px"):d}function Bs(a,d,v,x,E,R){var O=d==="width"?1:0,G=0,Q=0,ee=0;if(v===(x?"border":"content"))return 0;for(;O<4;O+=2)v==="margin"&&(ee+=p.css(a,v+At[O],!0,E)),x?(v==="content"&&(Q-=p.css(a,"padding"+At[O],!0,E)),v!=="margin"&&(Q-=p.css(a,"border"+At[O]+"Width",!0,E))):(Q+=p.css(a,"padding"+At[O],!0,E),v!=="padding"?Q+=p.css(a,"border"+At[O]+"Width",!0,E):G+=p.css(a,"border"+At[O]+"Width",!0,E));return!x&&R>=0&&(Q+=Math.max(0,Math.ceil(a["offset"+d[0].toUpperCase()+d.slice(1)]-R-Q-G-.5))||0),Q+ee}function Vl(a,d,v){var x=zi(a),E=!m.boxSizingReliable()||v,R=E&&p.css(a,"boxSizing",!1,x)==="border-box",O=R,G=ri(a,d,x),Q="offset"+d[0].toUpperCase()+d.slice(1);if(ir.test(G)){if(!v)return G;G="auto"}return(!m.boxSizingReliable()&&R||!m.reliableTrDimensions()&&I(a,"tr")||G==="auto"||!parseFloat(G)&&p.css(a,"display",!1,x)==="inline")&&a.getClientRects().length&&(R=p.css(a,"boxSizing",!1,x)==="border-box",O=Q in a,O&&(G=a[Q])),G=parseFloat(G)||0,G+Bs(a,d,v||(R?"border":"content"),O,x,G)+"px"}p.extend({cssHooks:{opacity:{get:function(a,d){if(d){var v=ri(a,"opacity");return v===""?"1":v}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(a,d,v,x){if(!(!a||a.nodeType===3||a.nodeType===8||!a.style)){var E,R,O,G=je(d),Q=js.test(d),ee=a.style;if(Q||(d=Hs(G)),O=p.cssHooks[d]||p.cssHooks[G],v!==void 0){if(R=typeof v,R==="string"&&(E=Nt.exec(v))&&E[1]&&(v=gn(a,d,E),R="number"),v==null||v!==v)return;R==="number"&&!Q&&(v+=E&&E[3]||(p.cssNumber[G]?"":"px")),!m.clearCloneStyle&&v===""&&d.indexOf("background")===0&&(ee[d]="inherit"),(!O||!("set"in O)||(v=O.set(a,v,x))!==void 0)&&(Q?ee.setProperty(d,v):ee[d]=v)}else return O&&"get"in O&&(E=O.get(a,!1,x))!==void 0?E:ee[d]}},css:function(a,d,v,x){var E,R,O,G=je(d),Q=js.test(d);return Q||(d=Hs(G)),O=p.cssHooks[d]||p.cssHooks[G],O&&"get"in O&&(E=O.get(a,!0,v)),E===void 0&&(E=ri(a,d,x)),E==="normal"&&d in $l&&(E=$l[d]),v===""||v?(R=parseFloat(E),v===!0||isFinite(R)?R||0:E):E}}),p.each(["height","width"],function(a,d){p.cssHooks[d]={get:function(v,x,E){if(x)return mp.test(p.css(v,"display"))&&(!v.getClientRects().length||!v.getBoundingClientRect().width)?Ol(v,vp,function(){return Vl(v,d,E)}):Vl(v,d,E)},set:function(v,x,E){var R,O=zi(v),G=!m.scrollboxSize()&&O.position==="absolute",Q=G||E,ee=Q&&p.css(v,"boxSizing",!1,O)==="border-box",fe=E?Bs(v,d,E,ee,O):0;return ee&&G&&(fe-=Math.ceil(v["offset"+d[0].toUpperCase()+d.slice(1)]-parseFloat(O[d])-Bs(v,d,"border",!1,O)-.5)),fe&&(R=Nt.exec(x))&&(R[3]||"px")!=="px"&&(v.style[d]=x,x=p.css(v,d)),zl(v,x,fe)}}}),p.cssHooks.marginLeft=Ll(m.reliableMarginLeft,function(a,d){if(d)return(parseFloat(ri(a,"marginLeft"))||a.getBoundingClientRect().left-Ol(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"}),p.each({margin:"",padding:"",border:"Width"},function(a,d){p.cssHooks[a+d]={expand:function(v){for(var x=0,E={},R=typeof v=="string"?v.split(" "):[v];x<4;x++)E[a+At[x]+d]=R[x]||R[x-2]||R[0];return E}},a!=="margin"&&(p.cssHooks[a+d].set=zl)}),p.fn.extend({css:function(a,d){return Ke(this,function(v,x,E){var R,O,G={},Q=0;if(Array.isArray(x)){for(R=zi(v),O=x.length;Q<O;Q++)G[x[Q]]=p.css(v,x[Q],!1,R);return G}return E!==void 0?p.style(v,x,E):p.css(v,x)},a,d,arguments.length>1)}});function un(a,d,v,x,E){return new un.prototype.init(a,d,v,x,E)}p.Tween=un,un.prototype={constructor:un,init:function(a,d,v,x,E,R){this.elem=a,this.prop=v,this.easing=E||p.easing._default,this.options=d,this.start=this.now=this.cur(),this.end=x,this.unit=R||(p.cssNumber[v]?"":"px")},cur:function(){var a=un.propHooks[this.prop];return a&&a.get?a.get(this):un.propHooks._default.get(this)},run:function(a){var d,v=un.propHooks[this.prop];return this.options.duration?this.pos=d=p.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=d=a,this.now=(this.end-this.start)*d+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),v&&v.set?v.set(this):un.propHooks._default.set(this),this}},un.prototype.init.prototype=un.prototype,un.propHooks={_default:{get:function(a){var d;return a.elem.nodeType!==1||a.elem[a.prop]!=null&&a.elem.style[a.prop]==null?a.elem[a.prop]:(d=p.css(a.elem,a.prop,""),!d||d==="auto"?0:d)},set:function(a){p.fx.step[a.prop]?p.fx.step[a.prop](a):a.elem.nodeType===1&&(p.cssHooks[a.prop]||a.elem.style[Hs(a.prop)]!=null)?p.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},un.propHooks.scrollTop=un.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},p.easing={linear:function(a){return a},swing:function(a){return .5-Math.cos(a*Math.PI)/2},_default:"swing"},p.fx=un.prototype.init,p.fx.step={};var Ir,Vi,bp=/^(?:toggle|show|hide)$/,yp=/queueHooks$/;function qs(){Vi&&(T.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(qs):t.setTimeout(qs,p.fx.interval),p.fx.tick())}function Fl(){return t.setTimeout(function(){Ir=void 0}),Ir=Date.now()}function Fi(a,d){var v,x=0,E={height:a};for(d=d?1:0;x<4;x+=2-d)v=At[x],E["margin"+v]=E["padding"+v]=a;return d&&(E.opacity=E.width=a),E}function jl(a,d,v){for(var x,E=(kn.tweeners[d]||[]).concat(kn.tweeners["*"]),R=0,O=E.length;R<O;R++)if(x=E[R].call(v,d,a))return x}function xp(a,d,v){var x,E,R,O,G,Q,ee,fe,xe="width"in d||"height"in d,oe=this,Me={},lt=a.style,xt=a.nodeType&&In(a),ft=Ie.get(a,"fxshow");v.queue||(O=p._queueHooks(a,"fx"),O.unqueued==null&&(O.unqueued=0,G=O.empty.fire,O.empty.fire=function(){O.unqueued||G()}),O.unqueued++,oe.always(function(){oe.always(function(){O.unqueued--,p.queue(a,"fx").length||O.empty.fire()})}));for(x in d)if(E=d[x],bp.test(E)){if(delete d[x],R=R||E==="toggle",E===(xt?"hide":"show"))if(E==="show"&&ft&&ft[x]!==void 0)xt=!0;else continue;Me[x]=ft&&ft[x]||p.style(a,x)}if(Q=!p.isEmptyObject(d),!(!Q&&p.isEmptyObject(Me))){xe&&a.nodeType===1&&(v.overflow=[lt.overflow,lt.overflowX,lt.overflowY],ee=ft&&ft.display,ee==null&&(ee=Ie.get(a,"display")),fe=p.css(a,"display"),fe==="none"&&(ee?fe=ee:(j([a],!0),ee=a.style.display||ee,fe=p.css(a,"display"),j([a]))),(fe==="inline"||fe==="inline-block"&&ee!=null)&&p.css(a,"float")==="none"&&(Q||(oe.done(function(){lt.display=ee}),ee==null&&(fe=lt.display,ee=fe==="none"?"":fe)),lt.display="inline-block")),v.overflow&&(lt.overflow="hidden",oe.always(function(){lt.overflow=v.overflow[0],lt.overflowX=v.overflow[1],lt.overflowY=v.overflow[2]})),Q=!1;for(x in Me)Q||(ft?"hidden"in ft&&(xt=ft.hidden):ft=Ie.access(a,"fxshow",{display:ee}),R&&(ft.hidden=!xt),xt&&j([a],!0),oe.done(function(){xt||j([a]),Ie.remove(a,"fxshow");for(x in Me)p.style(a,x,Me[x])})),Q=jl(xt?ft[x]:0,x,oe),x in ft||(ft[x]=Q.start,xt&&(Q.end=Q.start,Q.start=0))}}function Sp(a,d){var v,x,E,R,O;for(v in a)if(x=je(v),E=d[x],R=a[v],Array.isArray(R)&&(E=R[1],R=a[v]=R[0]),v!==x&&(a[x]=R,delete a[v]),O=p.cssHooks[x],O&&"expand"in O){R=O.expand(R),delete a[x];for(v in R)v in a||(a[v]=R[v],d[v]=E)}else d[x]=E}function kn(a,d,v){var x,E,R=0,O=kn.prefilters.length,G=p.Deferred().always(function(){delete Q.elem}),Q=function(){if(E)return!1;for(var xe=Ir||Fl(),oe=Math.max(0,ee.startTime+ee.duration-xe),Me=oe/ee.duration||0,lt=1-Me,xt=0,ft=ee.tweens.length;xt<ft;xt++)ee.tweens[xt].run(lt);return G.notifyWith(a,[ee,lt,oe]),lt<1&&ft?oe:(ft||G.notifyWith(a,[ee,1,0]),G.resolveWith(a,[ee]),!1)},ee=G.promise({elem:a,props:p.extend({},d),opts:p.extend(!0,{specialEasing:{},easing:p.easing._default},v),originalProperties:d,originalOptions:v,startTime:Ir||Fl(),duration:v.duration,tweens:[],createTween:function(xe,oe){var Me=p.Tween(a,ee.opts,xe,oe,ee.opts.specialEasing[xe]||ee.opts.easing);return ee.tweens.push(Me),Me},stop:function(xe){var oe=0,Me=xe?ee.tweens.length:0;if(E)return this;for(E=!0;oe<Me;oe++)ee.tweens[oe].run(1);return xe?(G.notifyWith(a,[ee,1,0]),G.resolveWith(a,[ee,xe])):G.rejectWith(a,[ee,xe]),this}}),fe=ee.props;for(Sp(fe,ee.opts.specialEasing);R<O;R++)if(x=kn.prefilters[R].call(ee,a,fe,ee.opts),x)return C(x.stop)&&(p._queueHooks(ee.elem,ee.opts.queue).stop=x.stop.bind(x)),x;return p.map(fe,jl,ee),C(ee.opts.start)&&ee.opts.start.call(a,ee),ee.progress(ee.opts.progress).done(ee.opts.done,ee.opts.complete).fail(ee.opts.fail).always(ee.opts.always),p.fx.timer(p.extend(Q,{elem:a,anim:ee,queue:ee.opts.queue})),ee}p.Animation=p.extend(kn,{tweeners:{"*":[function(a,d){var v=this.createTween(a,d);return gn(v.elem,a,Nt.exec(d),v),v}]},tweener:function(a,d){C(a)?(d=a,a=["*"]):a=a.match(Te);for(var v,x=0,E=a.length;x<E;x++)v=a[x],kn.tweeners[v]=kn.tweeners[v]||[],kn.tweeners[v].unshift(d)},prefilters:[xp],prefilter:function(a,d){d?kn.prefilters.unshift(a):kn.prefilters.push(a)}}),p.speed=function(a,d,v){var x=a&&typeof a=="object"?p.extend({},a):{complete:v||!v&&d||C(a)&&a,duration:a,easing:v&&d||d&&!C(d)&&d};return p.fx.off?x.duration=0:typeof x.duration!="number"&&(x.duration in p.fx.speeds?x.duration=p.fx.speeds[x.duration]:x.duration=p.fx.speeds._default),(x.queue==null||x.queue===!0)&&(x.queue="fx"),x.old=x.complete,x.complete=function(){C(x.old)&&x.old.call(this),x.queue&&p.dequeue(this,x.queue)},x},p.fn.extend({fadeTo:function(a,d,v,x){return this.filter(In).css("opacity",0).show().end().animate({opacity:d},a,v,x)},animate:function(a,d,v,x){var E=p.isEmptyObject(a),R=p.speed(d,v,x),O=function(){var G=kn(this,p.extend({},a),R);(E||Ie.get(this,"finish"))&&G.stop(!0)};return O.finish=O,E||R.queue===!1?this.each(O):this.queue(R.queue,O)},stop:function(a,d,v){var x=function(E){var R=E.stop;delete E.stop,R(v)};return typeof a!="string"&&(v=d,d=a,a=void 0),d&&this.queue(a||"fx",[]),this.each(function(){var E=!0,R=a!=null&&a+"queueHooks",O=p.timers,G=Ie.get(this);if(R)G[R]&&G[R].stop&&x(G[R]);else for(R in G)G[R]&&G[R].stop&&yp.test(R)&&x(G[R]);for(R=O.length;R--;)O[R].elem===this&&(a==null||O[R].queue===a)&&(O[R].anim.stop(v),E=!1,O.splice(R,1));(E||!v)&&p.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var d,v=Ie.get(this),x=v[a+"queue"],E=v[a+"queueHooks"],R=p.timers,O=x?x.length:0;for(v.finish=!0,p.queue(this,a,[]),E&&E.stop&&E.stop.call(this,!0),d=R.length;d--;)R[d].elem===this&&R[d].queue===a&&(R[d].anim.stop(!0),R.splice(d,1));for(d=0;d<O;d++)x[d]&&x[d].finish&&x[d].finish.call(this);delete v.finish})}}),p.each(["toggle","show","hide"],function(a,d){var v=p.fn[d];p.fn[d]=function(x,E,R){return x==null||typeof x=="boolean"?v.apply(this,arguments):this.animate(Fi(d,!0),x,E,R)}}),p.each({slideDown:Fi("show"),slideUp:Fi("hide"),slideToggle:Fi("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,d){p.fn[a]=function(v,x,E){return this.animate(d,v,x,E)}}),p.timers=[],p.fx.tick=function(){var a,d=0,v=p.timers;for(Ir=Date.now();d<v.length;d++)a=v[d],!a()&&v[d]===a&&v.splice(d--,1);v.length||p.fx.stop(),Ir=void 0},p.fx.timer=function(a){p.timers.push(a),p.fx.start()},p.fx.interval=13,p.fx.start=function(){Vi||(Vi=!0,qs())},p.fx.stop=function(){Vi=null},p.fx.speeds={slow:600,fast:200,_default:400},p.fn.delay=function(a,d){return a=p.fx&&p.fx.speeds[a]||a,d=d||"fx",this.queue(d,function(v,x){var E=t.setTimeout(v,a);x.stop=function(){t.clearTimeout(E)}})},function(){var a=T.createElement("input"),d=T.createElement("select"),v=d.appendChild(T.createElement("option"));a.type="checkbox",m.checkOn=a.value!=="",m.optSelected=v.selected,a=T.createElement("input"),a.value="t",a.type="radio",m.radioValue=a.value==="t"}();var Hl,ii=p.expr.attrHandle;p.fn.extend({attr:function(a,d){return Ke(this,p.attr,a,d,arguments.length>1)},removeAttr:function(a){return this.each(function(){p.removeAttr(this,a)})}}),p.extend({attr:function(a,d,v){var x,E,R=a.nodeType;if(!(R===3||R===8||R===2)){if(typeof a.getAttribute>"u")return p.prop(a,d,v);if((R!==1||!p.isXMLDoc(a))&&(E=p.attrHooks[d.toLowerCase()]||(p.expr.match.bool.test(d)?Hl:void 0)),v!==void 0){if(v===null){p.removeAttr(a,d);return}return E&&"set"in E&&(x=E.set(a,v,d))!==void 0?x:(a.setAttribute(d,v+""),v)}return E&&"get"in E&&(x=E.get(a,d))!==null?x:(x=p.find.attr(a,d),x??void 0)}},attrHooks:{type:{set:function(a,d){if(!m.radioValue&&d==="radio"&&I(a,"input")){var v=a.value;return a.setAttribute("type",d),v&&(a.value=v),d}}}},removeAttr:function(a,d){var v,x=0,E=d&&d.match(Te);if(E&&a.nodeType===1)for(;v=E[x++];)a.removeAttribute(v)}}),Hl={set:function(a,d,v){return d===!1?p.removeAttr(a,v):a.setAttribute(v,v),v}},p.each(p.expr.match.bool.source.match(/\w+/g),function(a,d){var v=ii[d]||p.find.attr;ii[d]=function(x,E,R){var O,G,Q=E.toLowerCase();return R||(G=ii[Q],ii[Q]=O,O=v(x,E,R)!=null?Q:null,ii[Q]=G),O}});var wp=/^(?:input|select|textarea|button)$/i,Tp=/^(?:a|area)$/i;p.fn.extend({prop:function(a,d){return Ke(this,p.prop,a,d,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[p.propFix[a]||a]})}}),p.extend({prop:function(a,d,v){var x,E,R=a.nodeType;if(!(R===3||R===8||R===2))return(R!==1||!p.isXMLDoc(a))&&(d=p.propFix[d]||d,E=p.propHooks[d]),v!==void 0?E&&"set"in E&&(x=E.set(a,v,d))!==void 0?x:a[d]=v:E&&"get"in E&&(x=E.get(a,d))!==null?x:a[d]},propHooks:{tabIndex:{get:function(a){var d=p.find.attr(a,"tabindex");return d?parseInt(d,10):wp.test(a.nodeName)||Tp.test(a.nodeName)&&a.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(p.propHooks.selected={get:function(a){var d=a.parentNode;return d&&d.parentNode&&d.parentNode.selectedIndex,null},set:function(a){var d=a.parentNode;d&&(d.selectedIndex,d.parentNode&&d.parentNode.selectedIndex)}}),p.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){p.propFix[this.toLowerCase()]=this});function sr(a){var d=a.match(Te)||[];return d.join(" ")}function ar(a){return a.getAttribute&&a.getAttribute("class")||""}function Ws(a){return Array.isArray(a)?a:typeof a=="string"?a.match(Te)||[]:[]}p.fn.extend({addClass:function(a){var d,v,x,E,R,O;return C(a)?this.each(function(G){p(this).addClass(a.call(this,G,ar(this)))}):(d=Ws(a),d.length?this.each(function(){if(x=ar(this),v=this.nodeType===1&&" "+sr(x)+" ",v){for(R=0;R<d.length;R++)E=d[R],v.indexOf(" "+E+" ")<0&&(v+=E+" ");O=sr(v),x!==O&&this.setAttribute("class",O)}}):this)},removeClass:function(a){var d,v,x,E,R,O;return C(a)?this.each(function(G){p(this).removeClass(a.call(this,G,ar(this)))}):arguments.length?(d=Ws(a),d.length?this.each(function(){if(x=ar(this),v=this.nodeType===1&&" "+sr(x)+" ",v){for(R=0;R<d.length;R++)for(E=d[R];v.indexOf(" "+E+" ")>-1;)v=v.replace(" "+E+" "," ");O=sr(v),x!==O&&this.setAttribute("class",O)}}):this):this.attr("class","")},toggleClass:function(a,d){var v,x,E,R,O=typeof a,G=O==="string"||Array.isArray(a);return C(a)?this.each(function(Q){p(this).toggleClass(a.call(this,Q,ar(this),d),d)}):typeof d=="boolean"&&G?d?this.addClass(a):this.removeClass(a):(v=Ws(a),this.each(function(){if(G)for(R=p(this),E=0;E<v.length;E++)x=v[E],R.hasClass(x)?R.removeClass(x):R.addClass(x);else(a===void 0||O==="boolean")&&(x=ar(this),x&&Ie.set(this,"__className__",x),this.setAttribute&&this.setAttribute("class",x||a===!1?"":Ie.get(this,"__className__")||""))}))},hasClass:function(a){var d,v,x=0;for(d=" "+a+" ";v=this[x++];)if(v.nodeType===1&&(" "+sr(ar(v))+" ").indexOf(d)>-1)return!0;return!1}});var Cp=/\r/g;p.fn.extend({val:function(a){var d,v,x,E=this[0];return arguments.length?(x=C(a),this.each(function(R){var O;this.nodeType===1&&(x?O=a.call(this,R,p(this).val()):O=a,O==null?O="":typeof O=="number"?O+="":Array.isArray(O)&&(O=p.map(O,function(G){return G==null?"":G+""})),d=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()],(!d||!("set"in d)||d.set(this,O,"value")===void 0)&&(this.value=O))})):E?(d=p.valHooks[E.type]||p.valHooks[E.nodeName.toLowerCase()],d&&"get"in d&&(v=d.get(E,"value"))!==void 0?v:(v=E.value,typeof v=="string"?v.replace(Cp,""):v??"")):void 0}}),p.extend({valHooks:{option:{get:function(a){var d=p.find.attr(a,"value");return d??sr(p.text(a))}},select:{get:function(a){var d,v,x,E=a.options,R=a.selectedIndex,O=a.type==="select-one",G=O?null:[],Q=O?R+1:E.length;for(R<0?x=Q:x=O?R:0;x<Q;x++)if(v=E[x],(v.selected||x===R)&&!v.disabled&&(!v.parentNode.disabled||!I(v.parentNode,"optgroup"))){if(d=p(v).val(),O)return d;G.push(d)}return G},set:function(a,d){for(var v,x,E=a.options,R=p.makeArray(d),O=E.length;O--;)x=E[O],(x.selected=p.inArray(p.valHooks.option.get(x),R)>-1)&&(v=!0);return v||(a.selectedIndex=-1),R}}}}),p.each(["radio","checkbox"],function(){p.valHooks[this]={set:function(a,d){if(Array.isArray(d))return a.checked=p.inArray(p(a).val(),d)>-1}},m.checkOn||(p.valHooks[this].get=function(a){return a.getAttribute("value")===null?"on":a.value})});var si=t.location,Bl={guid:Date.now()},Us=/\?/;p.parseXML=function(a){var d,v;if(!a||typeof a!="string")return null;try{d=new t.DOMParser().parseFromString(a,"text/xml")}catch{}return v=d&&d.getElementsByTagName("parsererror")[0],(!d||v)&&p.error("Invalid XML: "+(v?p.map(v.childNodes,function(x){return x.textContent}).join(`
`):a)),d};var ql=/^(?:focusinfocus|focusoutblur)$/,Wl=function(a){a.stopPropagation()};p.extend(p.event,{trigger:function(a,d,v,x){var E,R,O,G,Q,ee,fe,xe,oe=[v||T],Me=g.call(a,"type")?a.type:a,lt=g.call(a,"namespace")?a.namespace.split("."):[];if(R=xe=O=v=v||T,!(v.nodeType===3||v.nodeType===8)&&!ql.test(Me+p.event.triggered)&&(Me.indexOf(".")>-1&&(lt=Me.split("."),Me=lt.shift(),lt.sort()),Q=Me.indexOf(":")<0&&"on"+Me,a=a[p.expando]?a:new p.Event(Me,typeof a=="object"&&a),a.isTrigger=x?2:3,a.namespace=lt.join("."),a.rnamespace=a.namespace?new RegExp("(^|\\.)"+lt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=void 0,a.target||(a.target=v),d=d==null?[a]:p.makeArray(d,[a]),fe=p.event.special[Me]||{},!(!x&&fe.trigger&&fe.trigger.apply(v,d)===!1))){if(!x&&!fe.noBubble&&!k(v)){for(G=fe.delegateType||Me,ql.test(G+Me)||(R=R.parentNode);R;R=R.parentNode)oe.push(R),O=R;O===(v.ownerDocument||T)&&oe.push(O.defaultView||O.parentWindow||t)}for(E=0;(R=oe[E++])&&!a.isPropagationStopped();)xe=R,a.type=E>1?G:fe.bindType||Me,ee=(Ie.get(R,"events")||Object.create(null))[a.type]&&Ie.get(R,"handle"),ee&&ee.apply(R,d),ee=Q&&R[Q],ee&&ee.apply&&Qe(R)&&(a.result=ee.apply(R,d),a.result===!1&&a.preventDefault());return a.type=Me,!x&&!a.isDefaultPrevented()&&(!fe._default||fe._default.apply(oe.pop(),d)===!1)&&Qe(v)&&Q&&C(v[Me])&&!k(v)&&(O=v[Q],O&&(v[Q]=null),p.event.triggered=Me,a.isPropagationStopped()&&xe.addEventListener(Me,Wl),v[Me](),a.isPropagationStopped()&&xe.removeEventListener(Me,Wl),p.event.triggered=void 0,O&&(v[Q]=O)),a.result}},simulate:function(a,d,v){var x=p.extend(new p.Event,v,{type:a,isSimulated:!0});p.event.trigger(x,null,d)}}),p.fn.extend({trigger:function(a,d){return this.each(function(){p.event.trigger(a,d,this)})},triggerHandler:function(a,d){var v=this[0];if(v)return p.event.trigger(a,d,v,!0)}});var kp=/\[\]$/,Ul=/\r?\n/g,Ep=/^(?:submit|button|image|reset|file)$/i,_p=/^(?:input|select|textarea|keygen)/i;function Qs(a,d,v,x){var E;if(Array.isArray(d))p.each(d,function(R,O){v||kp.test(a)?x(a,O):Qs(a+"["+(typeof O=="object"&&O!=null?R:"")+"]",O,v,x)});else if(!v&&M(d)==="object")for(E in d)Qs(a+"["+E+"]",d[E],v,x);else x(a,d)}p.param=function(a,d){var v,x=[],E=function(R,O){var G=C(O)?O():O;x[x.length]=encodeURIComponent(R)+"="+encodeURIComponent(G??"")};if(a==null)return"";if(Array.isArray(a)||a.jquery&&!p.isPlainObject(a))p.each(a,function(){E(this.name,this.value)});else for(v in a)Qs(v,a[v],d,E);return x.join("&")},p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=p.prop(this,"elements");return a?p.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!p(this).is(":disabled")&&_p.test(this.nodeName)&&!Ep.test(a)&&(this.checked||!J.test(a))}).map(function(a,d){var v=p(this).val();return v==null?null:Array.isArray(v)?p.map(v,function(x){return{name:d.name,value:x.replace(Ul,`\r
`)}}):{name:d.name,value:v.replace(Ul,`\r
`)}}).get()}});var Ip=/%20/g,Rp=/#.*$/,Mp=/([?&])_=[^&]*/,Np=/^(.*?):[ \t]*([^\r\n]*)$/mg,Op=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Lp=/^(?:GET|HEAD)$/,Dp=/^\/\//,Ql={},Gs={},Gl="*/".concat("*"),Ks=T.createElement("a");Ks.href=si.href;function Kl(a){return function(d,v){typeof d!="string"&&(v=d,d="*");var x,E=0,R=d.toLowerCase().match(Te)||[];if(C(v))for(;x=R[E++];)x[0]==="+"?(x=x.slice(1)||"*",(a[x]=a[x]||[]).unshift(v)):(a[x]=a[x]||[]).push(v)}}function Jl(a,d,v,x){var E={},R=a===Gs;function O(G){var Q;return E[G]=!0,p.each(a[G]||[],function(ee,fe){var xe=fe(d,v,x);if(typeof xe=="string"&&!R&&!E[xe])return d.dataTypes.unshift(xe),O(xe),!1;if(R)return!(Q=xe)}),Q}return O(d.dataTypes[0])||!E["*"]&&O("*")}function Js(a,d){var v,x,E=p.ajaxSettings.flatOptions||{};for(v in d)d[v]!==void 0&&((E[v]?a:x||(x={}))[v]=d[v]);return x&&p.extend(!0,a,x),a}function Ap(a,d,v){for(var x,E,R,O,G=a.contents,Q=a.dataTypes;Q[0]==="*";)Q.shift(),x===void 0&&(x=a.mimeType||d.getResponseHeader("Content-Type"));if(x){for(E in G)if(G[E]&&G[E].test(x)){Q.unshift(E);break}}if(Q[0]in v)R=Q[0];else{for(E in v){if(!Q[0]||a.converters[E+" "+Q[0]]){R=E;break}O||(O=E)}R=R||O}if(R)return R!==Q[0]&&Q.unshift(R),v[R]}function Pp(a,d,v,x){var E,R,O,G,Q,ee={},fe=a.dataTypes.slice();if(fe[1])for(O in a.converters)ee[O.toLowerCase()]=a.converters[O];for(R=fe.shift();R;)if(a.responseFields[R]&&(v[a.responseFields[R]]=d),!Q&&x&&a.dataFilter&&(d=a.dataFilter(d,a.dataType)),Q=R,R=fe.shift(),R){if(R==="*")R=Q;else if(Q!=="*"&&Q!==R){if(O=ee[Q+" "+R]||ee["* "+R],!O){for(E in ee)if(G=E.split(" "),G[1]===R&&(O=ee[Q+" "+G[0]]||ee["* "+G[0]],O)){O===!0?O=ee[E]:ee[E]!==!0&&(R=G[0],fe.unshift(G[1]));break}}if(O!==!0)if(O&&a.throws)d=O(d);else try{d=O(d)}catch(xe){return{state:"parsererror",error:O?xe:"No conversion from "+Q+" to "+R}}}}return{state:"success",data:d}}p.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:si.href,type:"GET",isLocal:Op.test(si.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Gl,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":p.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,d){return d?Js(Js(a,p.ajaxSettings),d):Js(p.ajaxSettings,a)},ajaxPrefilter:Kl(Ql),ajaxTransport:Kl(Gs),ajax:function(a,d){typeof a=="object"&&(d=a,a=void 0),d=d||{};var v,x,E,R,O,G,Q,ee,fe,xe,oe=p.ajaxSetup({},d),Me=oe.context||oe,lt=oe.context&&(Me.nodeType||Me.jquery)?p(Me):p.event,xt=p.Deferred(),ft=p.Callbacks("once memory"),Jt=oe.statusCode||{},Ut={},Rn={},Mn="canceled",gt={readyState:0,getResponseHeader:function(St){var Pt;if(Q){if(!R)for(R={};Pt=Np.exec(E);)R[Pt[1].toLowerCase()+" "]=(R[Pt[1].toLowerCase()+" "]||[]).concat(Pt[2]);Pt=R[St.toLowerCase()+" "]}return Pt==null?null:Pt.join(", ")},getAllResponseHeaders:function(){return Q?E:null},setRequestHeader:function(St,Pt){return Q==null&&(St=Rn[St.toLowerCase()]=Rn[St.toLowerCase()]||St,Ut[St]=Pt),this},overrideMimeType:function(St){return Q==null&&(oe.mimeType=St),this},statusCode:function(St){var Pt;if(St)if(Q)gt.always(St[gt.status]);else for(Pt in St)Jt[Pt]=[Jt[Pt],St[Pt]];return this},abort:function(St){var Pt=St||Mn;return v&&v.abort(Pt),or(0,Pt),this}};if(xt.promise(gt),oe.url=((a||oe.url||si.href)+"").replace(Dp,si.protocol+"//"),oe.type=d.method||d.type||oe.method||oe.type,oe.dataTypes=(oe.dataType||"*").toLowerCase().match(Te)||[""],oe.crossDomain==null){G=T.createElement("a");try{G.href=oe.url,G.href=G.href,oe.crossDomain=Ks.protocol+"//"+Ks.host!=G.protocol+"//"+G.host}catch{oe.crossDomain=!0}}if(oe.data&&oe.processData&&typeof oe.data!="string"&&(oe.data=p.param(oe.data,oe.traditional)),Jl(Ql,oe,d,gt),Q)return gt;ee=p.event&&oe.global,ee&&p.active++===0&&p.event.trigger("ajaxStart"),oe.type=oe.type.toUpperCase(),oe.hasContent=!Lp.test(oe.type),x=oe.url.replace(Rp,""),oe.hasContent?oe.data&&oe.processData&&(oe.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(oe.data=oe.data.replace(Ip,"+")):(xe=oe.url.slice(x.length),oe.data&&(oe.processData||typeof oe.data=="string")&&(x+=(Us.test(x)?"&":"?")+oe.data,delete oe.data),oe.cache===!1&&(x=x.replace(Mp,"$1"),xe=(Us.test(x)?"&":"?")+"_="+Bl.guid+++xe),oe.url=x+xe),oe.ifModified&&(p.lastModified[x]&&gt.setRequestHeader("If-Modified-Since",p.lastModified[x]),p.etag[x]&&gt.setRequestHeader("If-None-Match",p.etag[x])),(oe.data&&oe.hasContent&&oe.contentType!==!1||d.contentType)&&gt.setRequestHeader("Content-Type",oe.contentType),gt.setRequestHeader("Accept",oe.dataTypes[0]&&oe.accepts[oe.dataTypes[0]]?oe.accepts[oe.dataTypes[0]]+(oe.dataTypes[0]!=="*"?", "+Gl+"; q=0.01":""):oe.accepts["*"]);for(fe in oe.headers)gt.setRequestHeader(fe,oe.headers[fe]);if(oe.beforeSend&&(oe.beforeSend.call(Me,gt,oe)===!1||Q))return gt.abort();if(Mn="abort",ft.add(oe.complete),gt.done(oe.success),gt.fail(oe.error),v=Jl(Gs,oe,d,gt),!v)or(-1,"No Transport");else{if(gt.readyState=1,ee&&lt.trigger("ajaxSend",[gt,oe]),Q)return gt;oe.async&&oe.timeout>0&&(O=t.setTimeout(function(){gt.abort("timeout")},oe.timeout));try{Q=!1,v.send(Ut,or)}catch(St){if(Q)throw St;or(-1,St)}}function or(St,Pt,oi,Xs){var Nn,li,On,Jn,Yn,mn=Pt;Q||(Q=!0,O&&t.clearTimeout(O),v=void 0,E=Xs||"",gt.readyState=St>0?4:0,Nn=St>=200&&St<300||St===304,oi&&(Jn=Ap(oe,gt,oi)),!Nn&&p.inArray("script",oe.dataTypes)>-1&&p.inArray("json",oe.dataTypes)<0&&(oe.converters["text script"]=function(){}),Jn=Pp(oe,Jn,gt,Nn),Nn?(oe.ifModified&&(Yn=gt.getResponseHeader("Last-Modified"),Yn&&(p.lastModified[x]=Yn),Yn=gt.getResponseHeader("etag"),Yn&&(p.etag[x]=Yn)),St===204||oe.type==="HEAD"?mn="nocontent":St===304?mn="notmodified":(mn=Jn.state,li=Jn.data,On=Jn.error,Nn=!On)):(On=mn,(St||!mn)&&(mn="error",St<0&&(St=0))),gt.status=St,gt.statusText=(Pt||mn)+"",Nn?xt.resolveWith(Me,[li,mn,gt]):xt.rejectWith(Me,[gt,mn,On]),gt.statusCode(Jt),Jt=void 0,ee&&lt.trigger(Nn?"ajaxSuccess":"ajaxError",[gt,oe,Nn?li:On]),ft.fireWith(Me,[gt,mn]),ee&&(lt.trigger("ajaxComplete",[gt,oe]),--p.active||p.event.trigger("ajaxStop")))}return gt},getJSON:function(a,d,v){return p.get(a,d,v,"json")},getScript:function(a,d){return p.get(a,void 0,d,"script")}}),p.each(["get","post"],function(a,d){p[d]=function(v,x,E,R){return C(x)&&(R=R||E,E=x,x=void 0),p.ajax(p.extend({url:v,type:d,dataType:R,data:x,success:E},p.isPlainObject(v)&&v))}}),p.ajaxPrefilter(function(a){var d;for(d in a.headers)d.toLowerCase()==="content-type"&&(a.contentType=a.headers[d]||"")}),p._evalUrl=function(a,d,v){return p.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(x){p.globalEval(x,d,v)}})},p.fn.extend({wrapAll:function(a){var d;return this[0]&&(C(a)&&(a=a.call(this[0])),d=p(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&d.insertBefore(this[0]),d.map(function(){for(var v=this;v.firstElementChild;)v=v.firstElementChild;return v}).append(this)),this},wrapInner:function(a){return C(a)?this.each(function(d){p(this).wrapInner(a.call(this,d))}):this.each(function(){var d=p(this),v=d.contents();v.length?v.wrapAll(a):d.append(a)})},wrap:function(a){var d=C(a);return this.each(function(v){p(this).wrapAll(d?a.call(this,v):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){p(this).replaceWith(this.childNodes)}),this}}),p.expr.pseudos.hidden=function(a){return!p.expr.pseudos.visible(a)},p.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)},p.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var $p={0:200,1223:204},ai=p.ajaxSettings.xhr();m.cors=!!ai&&"withCredentials"in ai,m.ajax=ai=!!ai,p.ajaxTransport(function(a){var d,v;if(m.cors||ai&&!a.crossDomain)return{send:function(x,E){var R,O=a.xhr();if(O.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(R in a.xhrFields)O[R]=a.xhrFields[R];a.mimeType&&O.overrideMimeType&&O.overrideMimeType(a.mimeType),!a.crossDomain&&!x["X-Requested-With"]&&(x["X-Requested-With"]="XMLHttpRequest");for(R in x)O.setRequestHeader(R,x[R]);d=function(G){return function(){d&&(d=v=O.onload=O.onerror=O.onabort=O.ontimeout=O.onreadystatechange=null,G==="abort"?O.abort():G==="error"?typeof O.status!="number"?E(0,"error"):E(O.status,O.statusText):E($p[O.status]||O.status,O.statusText,(O.responseType||"text")!=="text"||typeof O.responseText!="string"?{binary:O.response}:{text:O.responseText},O.getAllResponseHeaders()))}},O.onload=d(),v=O.onerror=O.ontimeout=d("error"),O.onabort!==void 0?O.onabort=v:O.onreadystatechange=function(){O.readyState===4&&t.setTimeout(function(){d&&v()})},d=d("abort");try{O.send(a.hasContent&&a.data||null)}catch(G){if(d)throw G}},abort:function(){d&&d()}}}),p.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)}),p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return p.globalEval(a),a}}}),p.ajaxPrefilter("script",function(a){a.cache===void 0&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),p.ajaxTransport("script",function(a){if(a.crossDomain||a.scriptAttrs){var d,v;return{send:function(x,E){d=p("<script>").attr(a.scriptAttrs||{}).prop({charset:a.scriptCharset,src:a.url}).on("load error",v=function(R){d.remove(),v=null,R&&E(R.type==="error"?404:200,R.type)}),T.head.appendChild(d[0])},abort:function(){v&&v()}}}});var Yl=[],Ys=/(=)\?(?=&|$)|\?\?/;p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Yl.pop()||p.expando+"_"+Bl.guid++;return this[a]=!0,a}}),p.ajaxPrefilter("json jsonp",function(a,d,v){var x,E,R,O=a.jsonp!==!1&&(Ys.test(a.url)?"url":typeof a.data=="string"&&(a.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Ys.test(a.data)&&"data");if(O||a.dataTypes[0]==="jsonp")return x=a.jsonpCallback=C(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,O?a[O]=a[O].replace(Ys,"$1"+x):a.jsonp!==!1&&(a.url+=(Us.test(a.url)?"&":"?")+a.jsonp+"="+x),a.converters["script json"]=function(){return R||p.error(x+" was not called"),R[0]},a.dataTypes[0]="json",E=t[x],t[x]=function(){R=arguments},v.always(function(){E===void 0?p(t).removeProp(x):t[x]=E,a[x]&&(a.jsonpCallback=d.jsonpCallback,Yl.push(x)),R&&C(E)&&E(R[0]),R=E=void 0}),"script"}),m.createHTMLDocument=function(){var a=T.implementation.createHTMLDocument("").body;return a.innerHTML="<form></form><form></form>",a.childNodes.length===2}(),p.parseHTML=function(a,d,v){if(typeof a!="string")return[];typeof d=="boolean"&&(v=d,d=!1);var x,E,R;return d||(m.createHTMLDocument?(d=T.implementation.createHTMLDocument(""),x=d.createElement("base"),x.href=T.location.href,d.head.appendChild(x)):d=T),E=me.exec(a),R=!v&&[],E?[d.createElement(E[1])]:(E=le([a],d,R),R&&R.length&&p(R).remove(),p.merge([],E.childNodes))},p.fn.load=function(a,d,v){var x,E,R,O=this,G=a.indexOf(" ");return G>-1&&(x=sr(a.slice(G)),a=a.slice(0,G)),C(d)?(v=d,d=void 0):d&&typeof d=="object"&&(E="POST"),O.length>0&&p.ajax({url:a,type:E||"GET",dataType:"html",data:d}).done(function(Q){R=arguments,O.html(x?p("<div>").append(p.parseHTML(Q)).find(x):Q)}).always(v&&function(Q,ee){O.each(function(){v.apply(this,R||[Q.responseText,ee,Q])})}),this},p.expr.pseudos.animated=function(a){return p.grep(p.timers,function(d){return a===d.elem}).length},p.offset={setOffset:function(a,d,v){var x,E,R,O,G,Q,ee,fe=p.css(a,"position"),xe=p(a),oe={};fe==="static"&&(a.style.position="relative"),G=xe.offset(),R=p.css(a,"top"),Q=p.css(a,"left"),ee=(fe==="absolute"||fe==="fixed")&&(R+Q).indexOf("auto")>-1,ee?(x=xe.position(),O=x.top,E=x.left):(O=parseFloat(R)||0,E=parseFloat(Q)||0),C(d)&&(d=d.call(a,v,p.extend({},G))),d.top!=null&&(oe.top=d.top-G.top+O),d.left!=null&&(oe.left=d.left-G.left+E),"using"in d?d.using.call(a,oe):xe.css(oe)}},p.fn.extend({offset:function(a){if(arguments.length)return a===void 0?this:this.each(function(E){p.offset.setOffset(this,a,E)});var d,v,x=this[0];if(x)return x.getClientRects().length?(d=x.getBoundingClientRect(),v=x.ownerDocument.defaultView,{top:d.top+v.pageYOffset,left:d.left+v.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var a,d,v,x=this[0],E={top:0,left:0};if(p.css(x,"position")==="fixed")d=x.getBoundingClientRect();else{for(d=this.offset(),v=x.ownerDocument,a=x.offsetParent||v.documentElement;a&&(a===v.body||a===v.documentElement)&&p.css(a,"position")==="static";)a=a.parentNode;a&&a!==x&&a.nodeType===1&&(E=p(a).offset(),E.top+=p.css(a,"borderTopWidth",!0),E.left+=p.css(a,"borderLeftWidth",!0))}return{top:d.top-E.top-p.css(x,"marginTop",!0),left:d.left-E.left-p.css(x,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&p.css(a,"position")==="static";)a=a.offsetParent;return a||kt})}}),p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,d){var v=d==="pageYOffset";p.fn[a]=function(x){return Ke(this,function(E,R,O){var G;if(k(E)?G=E:E.nodeType===9&&(G=E.defaultView),O===void 0)return G?G[d]:E[R];G?G.scrollTo(v?G.pageXOffset:O,v?O:G.pageYOffset):E[R]=O},a,x,arguments.length)}}),p.each(["top","left"],function(a,d){p.cssHooks[d]=Ll(m.pixelPosition,function(v,x){if(x)return x=ri(v,d),ir.test(x)?p(v).position()[d]+"px":x})}),p.each({Height:"height",Width:"width"},function(a,d){p.each({padding:"inner"+a,content:d,"":"outer"+a},function(v,x){p.fn[x]=function(E,R){var O=arguments.length&&(v||typeof E!="boolean"),G=v||(E===!0||R===!0?"margin":"border");return Ke(this,function(Q,ee,fe){var xe;return k(Q)?x.indexOf("outer")===0?Q["inner"+a]:Q.document.documentElement["client"+a]:Q.nodeType===9?(xe=Q.documentElement,Math.max(Q.body["scroll"+a],xe["scroll"+a],Q.body["offset"+a],xe["offset"+a],xe["client"+a])):fe===void 0?p.css(Q,ee,G):p.style(Q,ee,fe,G)},d,O?E:void 0,O)}})}),p.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,d){p.fn[d]=function(v){return this.on(d,v)}}),p.fn.extend({bind:function(a,d,v){return this.on(a,null,d,v)},unbind:function(a,d){return this.off(a,null,d)},delegate:function(a,d,v,x){return this.on(d,a,v,x)},undelegate:function(a,d,v){return arguments.length===1?this.off(a,"**"):this.off(d,a||"**",v)},hover:function(a,d){return this.on("mouseenter",a).on("mouseleave",d||a)}}),p.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,d){p.fn[d]=function(v,x){return arguments.length>0?this.on(d,null,v,x):this.trigger(d)}});var zp=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;p.proxy=function(a,d){var v,x,E;if(typeof d=="string"&&(v=a[d],d=a,a=v),!!C(a))return x=s.call(arguments,2),E=function(){return a.apply(d||this,x.concat(s.call(arguments)))},E.guid=a.guid=a.guid||p.guid++,E},p.holdReady=function(a){a?p.readyWait++:p.ready(!0)},p.isArray=Array.isArray,p.parseJSON=JSON.parse,p.nodeName=I,p.isFunction=C,p.isWindow=k,p.camelCase=je,p.type=M,p.now=Date.now,p.isNumeric=function(a){var d=p.type(a);return(d==="number"||d==="string")&&!isNaN(a-parseFloat(a))},p.trim=function(a){return a==null?"":(a+"").replace(zp,"$1")};var Vp=t.jQuery,Fp=t.$;return p.noConflict=function(a){return t.$===p&&(t.$=Fp),a&&t.jQuery===p&&(t.jQuery=Vp),p},typeof n>"u"&&(t.jQuery=t.$=p),p})})(If);var eS=If.exports;const Rf=Mi(eS),Mf=window;Mf.$=Rf;Mf.jQuery=Rf;(function(e){e.color={},e.color.make=function(n,r,i,s){var o={};return o.r=n||0,o.g=r||0,o.b=i||0,o.a=s??1,o.add=function(l,c){for(var h=0;h<l.length;++h)o[l.charAt(h)]+=c;return o.normalize()},o.scale=function(l,c){for(var h=0;h<l.length;++h)o[l.charAt(h)]*=c;return o.normalize()},o.toString=function(){return o.a>=1?"rgb("+[o.r,o.g,o.b].join(",")+")":"rgba("+[o.r,o.g,o.b,o.a].join(",")+")"},o.normalize=function(){function l(c,h,u){return h<c?c:h>u?u:h}return o.r=l(0,parseInt(o.r),255),o.g=l(0,parseInt(o.g),255),o.b=l(0,parseInt(o.b),255),o.a=l(0,o.a,1),o},o.clone=function(){return e.color.make(o.r,o.b,o.g,o.a)},o.normalize()},e.color.extract=function(n,r){var i;do{if(i=n.css(r).toLowerCase(),i!=""&&i!="transparent")break;n=n.parent()}while(n.length&&!e.nodeName(n.get(0),"body"));return i=="rgba(0, 0, 0, 0)"&&(i="transparent"),e.color.parse(i)},e.color.parse=function(n){var r,i=e.color.make;if(r=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(n))return i(parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10));if(r=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return i(parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10),parseFloat(r[4]));if(r=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(n))return i(parseFloat(r[1])*2.55,parseFloat(r[2])*2.55,parseFloat(r[3])*2.55);if(r=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return i(parseFloat(r[1])*2.55,parseFloat(r[2])*2.55,parseFloat(r[3])*2.55,parseFloat(r[4]));if(r=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(n))return i(parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16));if(r=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(n))return i(parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16),parseInt(r[3]+r[3],16));var s=e.trim(n).toLowerCase();return s=="transparent"?i(255,255,255,0):(r=t[s]||[0,0,0],i(r[0],r[1],r[2]))};var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);(function(e){var t=Object.prototype.hasOwnProperty;e.fn.detach||(e.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})});function n(s,o){var l=o.children("."+s)[0];if(l==null&&(l=document.createElement("canvas"),l.className=s,e(l).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(o),!l.getContext))if(window.G_vmlCanvasManager)l=window.G_vmlCanvasManager.initElement(l);else throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");this.element=l;var c=this.context=l.getContext("2d"),h=window.devicePixelRatio||1,u=c.webkitBackingStorePixelRatio||c.mozBackingStorePixelRatio||c.msBackingStorePixelRatio||c.oBackingStorePixelRatio||c.backingStorePixelRatio||1;this.pixelRatio=h/u,this.resize(o.width(),o.height()),this.textContainer=null,this.text={},this._textCache={}}n.prototype.resize=function(s,o){if(s<=0||o<=0)throw new Error("Invalid dimensions for plot, width = "+s+", height = "+o);var l=this.element,c=this.context,h=this.pixelRatio;this.width!=s&&(l.width=s*h,l.style.width=s+"px",this.width=s),this.height!=o&&(l.height=o*h,l.style.height=o+"px",this.height=o),c.restore(),c.save(),c.scale(h,h)},n.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},n.prototype.render=function(){var s=this._textCache;for(var o in s)if(t.call(s,o)){var l=this.getTextLayer(o),c=s[o];l.hide();for(var h in c)if(t.call(c,h)){var u=c[h];for(var g in u)if(t.call(u,g)){for(var S=u[g].positions,w=0,m;m=S[w];w++)m.active?m.rendered||(l.append(m.element),m.rendered=!0):(S.splice(w--,1),m.rendered&&m.element.detach());S.length==0&&delete u[g]}}l.show()}},n.prototype.getTextLayer=function(s){var o=this.text[s];return o==null&&(this.textContainer==null&&(this.textContainer=e("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),o=this.text[s]=e("<div></div>").addClass(s).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),o},n.prototype.getTextInfo=function(s,o,l,c,h){var u,g,S,w;if(o=""+o,typeof l=="object"?u=l.style+" "+l.variant+" "+l.weight+" "+l.size+"px/"+l.lineHeight+"px "+l.family:u=l,g=this._textCache[s],g==null&&(g=this._textCache[s]={}),S=g[u],S==null&&(S=g[u]={}),w=S[o],w==null){var m=e("<div></div>").html(o).css({position:"absolute","max-width":h,top:-9999}).appendTo(this.getTextLayer(s));typeof l=="object"?m.css({font:u,color:l.color}):typeof l=="string"&&m.addClass(l),w=S[o]={width:m.outerWidth(!0),height:m.outerHeight(!0),element:m,positions:[]},m.detach()}return w},n.prototype.addText=function(s,o,l,c,h,u,g,S,w){var m=this.getTextInfo(s,c,h,u,g),C=m.positions;S=="center"?o-=m.width/2:S=="right"&&(o-=m.width),w=="middle"?l-=m.height/2:w=="bottom"&&(l-=m.height);for(var k=0,T;T=C[k];k++)if(T.x==o&&T.y==l){T.active=!0;return}T={active:!0,rendered:!1,element:C.length?m.element.clone():m.element,x:o,y:l},C.push(T),T.element.css({top:Math.round(l),left:Math.round(o),"text-align":S})},n.prototype.removeText=function(s,o,l,c,h,u){if(c==null){var g=this._textCache[s];if(g!=null){for(var S in g)if(t.call(g,S)){var w=g[S];for(var m in w)if(t.call(w,m))for(var C=w[m].positions,k=0,T;T=C[k];k++)T.active=!1}}}else for(var C=this.getTextInfo(s,c,h,u).positions,k=0,T;T=C[k];k++)T.x==o&&T.y==l&&(T.active=!1)};function r(s,o,l,c){var h=[],u={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:16.666666666666668},hooks:{}},g=null,S=null,w=null,m=null,C=null,k=[],T=[],y={left:0,right:0,top:0,bottom:0},N=0,M=0,L={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},P=this;P.setData=D,P.setupGrid=Ee,P.draw=tt,P.getPlaceholder=function(){return s},P.getCanvas=function(){return g.element},P.getPlotOffset=function(){return y},P.width=function(){return N},P.height=function(){return M},P.offset=function(){var A=w.offset();return A.left+=y.left,A.top+=y.top,A},P.getData=function(){return h},P.getAxes=function(){var A={};return e.each(k.concat(T),function(U,j){j&&(A[j.direction+(j.n!=1?j.n:"")+"axis"]=j)}),A},P.getXAxes=function(){return k},P.getYAxes=function(){return T},P.c2p=K,P.p2c=se,P.getOptions=function(){return u},P.highlight=At,P.unhighlight=kt,P.triggerRedrawOverlay=Mt,P.pointOffset=function(A){return{left:parseInt(k[z(A,"x")-1].p2c(+A.x)+y.left,10),top:parseInt(T[z(A,"y")-1].p2c(+A.y)+y.top,10)}},P.shutdown=$e,P.destroy=function(){$e(),s.removeData("plot").empty(),h=[],u=null,g=null,S=null,w=null,m=null,C=null,k=[],T=[],L=null,at=[],P=null},P.resize=function(){var A=s.width(),U=s.height();g.resize(A,U),S.resize(A,U)},P.hooks=L,_(),I(l),Y(),D(o),Ee(),tt(),Fe();function p(A,U){U=[P].concat(U);for(var j=0;j<A.length;++j)A[j].apply(this,U)}function _(){for(var A={Canvas:n},U=0;U<c.length;++U){var j=c[U];j.init(P,A),j.options&&e.extend(!0,u,j.options)}}function I(A){e.extend(!0,u,A),A&&A.colors&&(u.colors=A.colors),u.xaxis.color==null&&(u.xaxis.color=e.color.parse(u.grid.color).scale("a",.22).toString()),u.yaxis.color==null&&(u.yaxis.color=e.color.parse(u.grid.color).scale("a",.22).toString()),u.xaxis.tickColor==null&&(u.xaxis.tickColor=u.grid.tickColor||u.xaxis.color),u.yaxis.tickColor==null&&(u.yaxis.tickColor=u.grid.tickColor||u.yaxis.color),u.grid.borderColor==null&&(u.grid.borderColor=u.grid.color),u.grid.tickColor==null&&(u.grid.tickColor=e.color.parse(u.grid.color).scale("a",.22).toString());var U,j,J,B=s.css("font-size"),Z=B?+B.replace("px",""):13,W={style:s.css("font-style"),size:Math.round(.8*Z),variant:s.css("font-variant"),weight:s.css("font-weight"),family:s.css("font-family")};for(J=u.xaxes.length||1,U=0;U<J;++U)j=u.xaxes[U],j&&!j.tickColor&&(j.tickColor=j.color),j=e.extend(!0,{},u.xaxis,j),u.xaxes[U]=j,j.font&&(j.font=e.extend({},W,j.font),j.font.color||(j.font.color=j.color),j.font.lineHeight||(j.font.lineHeight=Math.round(j.font.size*1.15)));for(J=u.yaxes.length||1,U=0;U<J;++U)j=u.yaxes[U],j&&!j.tickColor&&(j.tickColor=j.color),j=e.extend(!0,{},u.yaxis,j),u.yaxes[U]=j,j.font&&(j.font=e.extend({},W,j.font),j.font.color||(j.font.color=j.color),j.font.lineHeight||(j.font.lineHeight=Math.round(j.font.size*1.15)));for(u.xaxis.noTicks&&u.xaxis.ticks==null&&(u.xaxis.ticks=u.xaxis.noTicks),u.yaxis.noTicks&&u.yaxis.ticks==null&&(u.yaxis.ticks=u.yaxis.noTicks),u.x2axis&&(u.xaxes[1]=e.extend(!0,{},u.xaxis,u.x2axis),u.xaxes[1].position="top",u.x2axis.min==null&&(u.xaxes[1].min=null),u.x2axis.max==null&&(u.xaxes[1].max=null)),u.y2axis&&(u.yaxes[1]=e.extend(!0,{},u.yaxis,u.y2axis),u.yaxes[1].position="right",u.y2axis.min==null&&(u.yaxes[1].min=null),u.y2axis.max==null&&(u.yaxes[1].max=null)),u.grid.coloredAreas&&(u.grid.markings=u.grid.coloredAreas),u.grid.coloredAreasColor&&(u.grid.markingsColor=u.grid.coloredAreasColor),u.lines&&e.extend(!0,u.series.lines,u.lines),u.points&&e.extend(!0,u.series.points,u.points),u.bars&&e.extend(!0,u.series.bars,u.bars),u.shadowSize!=null&&(u.series.shadowSize=u.shadowSize),u.highlightColor!=null&&(u.series.highlightColor=u.highlightColor),U=0;U<u.xaxes.length;++U)ue(k,U+1).options=u.xaxes[U];for(U=0;U<u.yaxes.length;++U)ue(T,U+1).options=u.yaxes[U];for(var q in L)u.hooks[q]&&u.hooks[q].length&&(L[q]=L[q].concat(u.hooks[q]));p(L.processOptions,[u])}function D(A){h=$(A),te(),he()}function $(A){for(var U=[],j=0;j<A.length;++j){var J=e.extend(!0,{},u.series);A[j].data!=null?(J.data=A[j].data,delete A[j].data,e.extend(!0,J,A[j]),A[j].data=J.data):J.data=A[j],U.push(J)}return U}function z(A,U){var j=A[U+"axis"];return typeof j=="object"&&(j=j.n),typeof j!="number"&&(j=1),j}function V(){return e.grep(k.concat(T),function(A){return A})}function K(A){var U={},j,J;for(j=0;j<k.length;++j)J=k[j],J&&J.used&&(U["x"+J.n]=J.c2p(A.left));for(j=0;j<T.length;++j)J=T[j],J&&J.used&&(U["y"+J.n]=J.c2p(A.top));return U.x1!==void 0&&(U.x=U.x1),U.y1!==void 0&&(U.y=U.y1),U}function se(A){var U={},j,J,B;for(j=0;j<k.length;++j)if(J=k[j],J&&J.used&&(B="x"+J.n,A[B]==null&&J.n==1&&(B="x"),A[B]!=null)){U.left=J.p2c(A[B]);break}for(j=0;j<T.length;++j)if(J=T[j],J&&J.used&&(B="y"+J.n,A[B]==null&&J.n==1&&(B="y"),A[B]!=null)){U.top=J.p2c(A[B]);break}return U}function ue(A,U){return A[U-1]||(A[U-1]={n:U,direction:A==k?"x":"y",options:e.extend(!0,{},A==k?u.xaxis:u.yaxis)}),A[U-1]}function te(){var A=h.length,U=-1,j;for(j=0;j<h.length;++j){var J=h[j].color;J!=null&&(A--,typeof J=="number"&&J>U&&(U=J))}A<=U&&(A=U+1);var B,Z=[],W=u.colors,q=W.length,ne=0;for(j=0;j<A;j++)B=e.color.parse(W[j%q]||"#666"),j%q==0&&j&&(ne>=0?ne<.5?ne=-ne-.2:ne=0:ne=-ne),Z[j]=B.scale("rgb",1+ne);var de=0,le;for(j=0;j<h.length;++j){if(le=h[j],le.color==null?(le.color=Z[de].toString(),++de):typeof le.color=="number"&&(le.color=Z[le.color].toString()),le.lines.show==null){var ge,ze=!0;for(ge in le)if(le[ge]&&le[ge].show){ze=!1;break}ze&&(le.lines.show=!0)}le.lines.zero==null&&(le.lines.zero=!!le.lines.fill),le.xaxis=ue(k,z(le,"x")),le.yaxis=ue(T,z(le,"y"))}}function he(){var A=Number.POSITIVE_INFINITY,U=Number.NEGATIVE_INFINITY,j=Number.MAX_VALUE,J,B,Z,W,q,ne,de,le,ge,ze,Se,Le;function nt(Qt,rn,ir){rn<Qt.datamin&&rn!=-j&&(Qt.datamin=rn),ir>Qt.datamax&&ir!=j&&(Qt.datamax=ir)}for(e.each(V(),function(Qt,rn){rn.datamin=A,rn.datamax=U,rn.used=!1}),J=0;J<h.length;++J)q=h[J],q.datapoints={points:[]},p(L.processRawData,[q,q.data,q.datapoints]);for(J=0;J<h.length;++J){if(q=h[J],Se=q.data,Le=q.datapoints.format,!Le){if(Le=[],Le.push({x:!0,number:!0,required:!0}),Le.push({y:!0,number:!0,required:!0}),q.bars.show||q.lines.show&&q.lines.fill){var Ge=!!(q.bars.show&&q.bars.zero||q.lines.show&&q.lines.zero);Le.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:Ge}),q.bars.horizontal&&(delete Le[Le.length-1].y,Le[Le.length-1].x=!0)}q.datapoints.format=Le}if(q.datapoints.pointsize==null){q.datapoints.pointsize=Le.length,de=q.datapoints.pointsize,ne=q.datapoints.points;var Ae=q.lines.show&&q.lines.steps;for(q.xaxis.used=q.yaxis.used=!0,B=Z=0;B<Se.length;++B,Z+=de){ze=Se[B];var we=ze==null;if(!we)for(W=0;W<de;++W)le=ze[W],ge=Le[W],ge&&(ge.number&&le!=null&&(le=+le,isNaN(le)?le=null:le==1/0?le=j:le==-1/0&&(le=-j)),le==null&&(ge.required&&(we=!0),ge.defaultValue!=null&&(le=ge.defaultValue))),ne[Z+W]=le;if(we)for(W=0;W<de;++W)le=ne[Z+W],le!=null&&(ge=Le[W],ge.autoscale!==!1&&(ge.x&&nt(q.xaxis,le,le),ge.y&&nt(q.yaxis,le,le))),ne[Z+W]=null;else if(Ae&&Z>0&&ne[Z-de]!=null&&ne[Z-de]!=ne[Z]&&ne[Z-de+1]!=ne[Z+1]){for(W=0;W<de;++W)ne[Z+de+W]=ne[Z+W];ne[Z+1]=ne[Z-de+1],Z+=de}}}}for(J=0;J<h.length;++J)q=h[J],p(L.processDatapoints,[q,q.datapoints]);for(J=0;J<h.length;++J){q=h[J],ne=q.datapoints.points,de=q.datapoints.pointsize,Le=q.datapoints.format;var Ne=A,He=A,bt=U,Kt=U;for(B=0;B<ne.length;B+=de)if(ne[B]!=null)for(W=0;W<de;++W)le=ne[B+W],ge=Le[W],!(!ge||ge.autoscale===!1||le==j||le==-j)&&(ge.x&&(le<Ne&&(Ne=le),le>bt&&(bt=le)),ge.y&&(le<He&&(He=le),le>Kt&&(Kt=le)));if(q.bars.show){var Xt;switch(q.bars.align){case"left":Xt=0;break;case"right":Xt=-q.bars.barWidth;break;default:Xt=-q.bars.barWidth/2}q.bars.horizontal?(He+=Xt,Kt+=Xt+q.bars.barWidth):(Ne+=Xt,bt+=Xt+q.bars.barWidth)}nt(q.xaxis,Ne,bt),nt(q.yaxis,He,Kt)}e.each(V(),function(Qt,rn){rn.datamin==A&&(rn.datamin=null),rn.datamax==U&&(rn.datamax=null)})}function Y(){s.css("padding",0).children().filter(function(){return!e(this).hasClass("flot-overlay")&&!e(this).hasClass("flot-base")}).remove(),s.css("position")=="static"&&s.css("position","relative"),g=new n("flot-base",s),S=new n("flot-overlay",s),m=g.context,C=S.context,w=e(S.element).unbind();var A=s.data("plot");A&&(A.shutdown(),S.clear()),s.data("plot",P)}function Fe(){u.grid.hoverable&&(w.mousemove(Dt),w.bind("mouseleave",qt)),u.grid.clickable&&w.click(Gt),p(L.bindEvents,[w])}function $e(){Ie&&clearTimeout(Ie),w.unbind("mousemove",Dt),w.unbind("mouseleave",qt),w.unbind("click",Gt),p(L.shutdown,[w])}function me(A){function U(W){return W}var j,J,B=A.options.transform||U,Z=A.options.inverseTransform;A.direction=="x"?(j=A.scale=N/Math.abs(B(A.max)-B(A.min)),J=Math.min(B(A.max),B(A.min))):(j=A.scale=M/Math.abs(B(A.max)-B(A.min)),j=-j,J=Math.max(B(A.max),B(A.min))),B==U?A.p2c=function(W){return(W-J)*j}:A.p2c=function(W){return(B(W)-J)*j},Z?A.c2p=function(W){return Z(J+W/j)}:A.c2p=function(W){return J+W/j}}function ke(A){for(var U=A.options,j=A.ticks||[],J=U.labelWidth||0,B=U.labelHeight||0,Z=J||(A.direction=="x"?Math.floor(g.width/(j.length||1)):null),W=A.direction+"Axis "+A.direction+A.n+"Axis",q="flot-"+A.direction+"-axis flot-"+A.direction+A.n+"-axis "+W,ne=U.font||"flot-tick-label tickLabel",de=0;de<j.length;++de){var le=j[de];if(le.label){var ge=g.getTextInfo(q,le.label,ne,null,Z);J=Math.max(J,ge.width),B=Math.max(B,ge.height)}}A.labelWidth=U.labelWidth||J,A.labelHeight=U.labelHeight||B}function Oe(A){var U=A.labelWidth,j=A.labelHeight,J=A.options.position,B=A.direction==="x",Z=A.options.tickLength,W=u.grid.axisMargin,q=u.grid.labelMargin,ne=!0,de=!0,le=!0,ge=!1;e.each(B?k:T,function(ze,Se){Se&&(Se.show||Se.reserveSpace)&&(Se===A?ge=!0:Se.options.position===J&&(ge?de=!1:ne=!1),ge||(le=!1))}),de&&(W=0),Z==null&&(Z=le?"full":5),isNaN(+Z)||(q+=+Z),B?(j+=q,J=="bottom"?(y.bottom+=j+W,A.box={top:g.height-y.bottom,height:j}):(A.box={top:y.top+W,height:j},y.top+=j+W)):(U+=q,J=="left"?(A.box={left:y.left+W,width:U},y.left+=U+W):(y.right+=U+W,A.box={left:g.width-y.right,width:U})),A.position=J,A.tickLength=Z,A.box.padding=q,A.innermost=ne}function re(A){A.direction=="x"?(A.box.left=y.left-A.labelWidth/2,A.box.width=g.width-y.left-y.right+A.labelWidth):(A.box.top=y.top-A.labelHeight/2,A.box.height=g.height-y.bottom-y.top+A.labelHeight)}function Ce(){var A=u.grid.minBorderMargin,U;if(A==null)for(A=0,U=0;U<h.length;++U)A=Math.max(A,2*(h[U].points.radius+h[U].points.lineWidth/2));var j={left:A,right:A,top:A,bottom:A};e.each(V(),function(J,B){B.reserveSpace&&B.ticks&&B.ticks.length&&(B.direction==="x"?(j.left=Math.max(j.left,B.labelWidth/2),j.right=Math.max(j.right,B.labelWidth/2)):(j.bottom=Math.max(j.bottom,B.labelHeight/2),j.top=Math.max(j.top,B.labelHeight/2)))}),y.left=Math.ceil(Math.max(j.left,y.left)),y.right=Math.ceil(Math.max(j.right,y.right)),y.top=Math.ceil(Math.max(j.top,y.top)),y.bottom=Math.ceil(Math.max(j.bottom,y.bottom))}function Ee(){var A,U=V(),j=u.grid.show;for(var J in y){var B=u.grid.margin||0;y[J]=typeof B=="number"?B:B[J]||0}p(L.processOffset,[y]);for(var J in y)typeof u.grid.borderWidth=="object"?y[J]+=j?u.grid.borderWidth[J]:0:y[J]+=j?u.grid.borderWidth:0;if(e.each(U,function(W,q){var ne=q.options;q.show=ne.show==null?q.used:ne.show,q.reserveSpace=ne.reserveSpace==null?q.show:ne.reserveSpace,be(q)}),j){var Z=e.grep(U,function(W){return W.show||W.reserveSpace});for(e.each(Z,function(W,q){pe(q),Te(q),Je(q,q.ticks),ke(q)}),A=Z.length-1;A>=0;--A)Oe(Z[A]);Ce(),e.each(Z,function(W,q){re(q)})}N=g.width-y.left-y.right,M=g.height-y.bottom-y.top,e.each(U,function(W,q){me(q)}),j&&it(),Qe()}function be(A){var U=A.options,j=+(U.min!=null?U.min:A.datamin),J=+(U.max!=null?U.max:A.datamax),B=J-j;if(B==0){var Z=J==0?1:.01;U.min==null&&(j-=Z),(U.max==null||U.min!=null)&&(J+=Z)}else{var W=U.autoscaleMargin;W!=null&&(U.min==null&&(j-=B*W,j<0&&A.datamin!=null&&A.datamin>=0&&(j=0)),U.max==null&&(J+=B*W,J>0&&A.datamax!=null&&A.datamax<=0&&(J=0)))}A.min=j,A.max=J}function pe(A){var U=A.options,j;typeof U.ticks=="number"&&U.ticks>0?j=U.ticks:j=.3*Math.sqrt(A.direction=="x"?g.width:g.height);var J=(A.max-A.min)/j,B=-Math.floor(Math.log(J)/Math.LN10),Z=U.tickDecimals;Z!=null&&B>Z&&(B=Z);var W=Math.pow(10,-B),q=J/W,ne;if(q<1.5?ne=1:q<3?(ne=2,q>2.25&&(Z==null||B+1<=Z)&&(ne=2.5,++B)):q<7.5?ne=5:ne=10,ne*=W,U.minTickSize!=null&&ne<U.minTickSize&&(ne=U.minTickSize),A.delta=J,A.tickDecimals=Math.max(0,Z??B),A.tickSize=U.tickSize||ne,U.mode=="time"&&!A.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(A.tickGenerator||(A.tickGenerator=function(Se){var Le=[],nt=i(Se.min,Se.tickSize),Ge=0,Ae=Number.NaN,we;do we=Ae,Ae=nt+Ge*Se.tickSize,Le.push(Ae),++Ge;while(Ae<Se.max&&Ae!=we);return Le},A.tickFormatter=function(Se,Le){var nt=Le.tickDecimals?Math.pow(10,Le.tickDecimals):1,Ge=""+Math.round(Se*nt)/nt;if(Le.tickDecimals!=null){var Ae=Ge.indexOf("."),we=Ae==-1?0:Ge.length-Ae-1;if(we<Le.tickDecimals)return(we?Ge:Ge+".")+(""+nt).substr(1,Le.tickDecimals-we)}return Ge}),e.isFunction(U.tickFormatter)&&(A.tickFormatter=function(Se,Le){return""+U.tickFormatter(Se,Le)}),U.alignTicksWithAxis!=null){var de=(A.direction=="x"?k:T)[U.alignTicksWithAxis-1];if(de&&de.used&&de!=A){var le=A.tickGenerator(A);if(le.length>0&&(U.min==null&&(A.min=Math.min(A.min,le[0])),U.max==null&&le.length>1&&(A.max=Math.max(A.max,le[le.length-1]))),A.tickGenerator=function(Se){var Le=[],nt,Ge;for(Ge=0;Ge<de.ticks.length;++Ge)nt=(de.ticks[Ge].v-de.min)/(de.max-de.min),nt=Se.min+nt*(Se.max-Se.min),Le.push(nt);return Le},!A.mode&&U.tickDecimals==null){var ge=Math.max(0,-Math.floor(Math.log(A.delta)/Math.LN10)+1),ze=A.tickGenerator(A);ze.length>1&&/\..*0$/.test((ze[1]-ze[0]).toFixed(ge))||(A.tickDecimals=ge)}}}}function Te(A){var U=A.options.ticks,j=[];U==null||typeof U=="number"&&U>0?j=A.tickGenerator(A):U&&(e.isFunction(U)?j=U(A):j=U);var J,B;for(A.ticks=[],J=0;J<j.length;++J){var Z=null,W=j[J];typeof W=="object"?(B=+W[0],W.length>1&&(Z=W[1])):B=+W,Z==null&&(Z=A.tickFormatter(B,A)),isNaN(B)||A.ticks.push({v:B,label:Z})}}function Je(A,U){A.options.autoscaleMargin&&U.length>0&&(A.options.min==null&&(A.min=Math.min(A.min,U[0].v)),A.options.max==null&&U.length>1&&(A.max=Math.max(A.max,U[U.length-1].v)))}function tt(){g.clear(),p(L.drawBackground,[m]);var A=u.grid;A.show&&A.backgroundColor&&Ye(),A.show&&!A.aboveData&&Ze();for(var U=0;U<h.length;++U)p(L.drawSeries,[m,h[U]]),rt(h[U]);p(L.draw,[m]),A.show&&A.aboveData&&Ze(),g.render(),Mt()}function De(A,U){for(var j,J,B,Z,W=V(),q=0;q<W.length;++q)if(j=W[q],j.direction==U&&(Z=U+j.n+"axis",!A[Z]&&j.n==1&&(Z=U+"axis"),A[Z])){J=A[Z].from,B=A[Z].to;break}if(A[Z]||(j=U=="x"?k[0]:T[0],J=A[U+"1"],B=A[U+"2"]),J!=null&&B!=null&&J>B){var ne=J;J=B,B=ne}return{from:J,to:B,axis:j}}function Ye(){m.save(),m.translate(y.left,y.top),m.fillStyle=gn(u.grid.backgroundColor,M,0,"rgba(255, 255, 255, 0)"),m.fillRect(0,0,N,M),m.restore()}function Ze(){var A,U,j,J;m.save(),m.translate(y.left,y.top);var B=u.grid.markings;if(B)for(e.isFunction(B)&&(U=P.getAxes(),U.xmin=U.xaxis.min,U.xmax=U.xaxis.max,U.ymin=U.yaxis.min,U.ymax=U.yaxis.max,B=B(U)),A=0;A<B.length;++A){var Z=B[A],W=De(Z,"x"),q=De(Z,"y");if(W.from==null&&(W.from=W.axis.min),W.to==null&&(W.to=W.axis.max),q.from==null&&(q.from=q.axis.min),q.to==null&&(q.to=q.axis.max),!(W.to<W.axis.min||W.from>W.axis.max||q.to<q.axis.min||q.from>q.axis.max)){W.from=Math.max(W.from,W.axis.min),W.to=Math.min(W.to,W.axis.max),q.from=Math.max(q.from,q.axis.min),q.to=Math.min(q.to,q.axis.max);var ne=W.from===W.to,de=q.from===q.to;if(!(ne&&de))if(W.from=Math.floor(W.axis.p2c(W.from)),W.to=Math.floor(W.axis.p2c(W.to)),q.from=Math.floor(q.axis.p2c(q.from)),q.to=Math.floor(q.axis.p2c(q.to)),ne||de){var le=Z.lineWidth||u.grid.markingsLineWidth,ge=le%2?.5:0;m.beginPath(),m.strokeStyle=Z.color||u.grid.markingsColor,m.lineWidth=le,ne?(m.moveTo(W.to+ge,q.from),m.lineTo(W.to+ge,q.to)):(m.moveTo(W.from,q.to+ge),m.lineTo(W.to,q.to+ge)),m.stroke()}else m.fillStyle=Z.color||u.grid.markingsColor,m.fillRect(W.from,q.to,W.to-W.from,q.from-q.to)}}U=V(),j=u.grid.borderWidth;for(var ze=0;ze<U.length;++ze){var Se=U[ze],Le=Se.box,nt=Se.tickLength,Ge,Ae,we,Ne;if(!(!Se.show||Se.ticks.length==0)){for(m.lineWidth=1,Se.direction=="x"?(Ge=0,nt=="full"?Ae=Se.position=="top"?0:M:Ae=Le.top-y.top+(Se.position=="top"?Le.height:0)):(Ae=0,nt=="full"?Ge=Se.position=="left"?0:N:Ge=Le.left-y.left+(Se.position=="left"?Le.width:0)),Se.innermost||(m.strokeStyle=Se.options.color,m.beginPath(),we=Ne=0,Se.direction=="x"?we=N+1:Ne=M+1,m.lineWidth==1&&(Se.direction=="x"?Ae=Math.floor(Ae)+.5:Ge=Math.floor(Ge)+.5),m.moveTo(Ge,Ae),m.lineTo(Ge+we,Ae+Ne),m.stroke()),m.strokeStyle=Se.options.tickColor,m.beginPath(),A=0;A<Se.ticks.length;++A){var He=Se.ticks[A].v;we=Ne=0,!(isNaN(He)||He<Se.min||He>Se.max||nt=="full"&&(typeof j=="object"&&j[Se.position]>0||j>0)&&(He==Se.min||He==Se.max))&&(Se.direction=="x"?(Ge=Se.p2c(He),Ne=nt=="full"?-M:nt,Se.position=="top"&&(Ne=-Ne)):(Ae=Se.p2c(He),we=nt=="full"?-N:nt,Se.position=="left"&&(we=-we)),m.lineWidth==1&&(Se.direction=="x"?Ge=Math.floor(Ge)+.5:Ae=Math.floor(Ae)+.5),m.moveTo(Ge,Ae),m.lineTo(Ge+we,Ae+Ne))}m.stroke()}}j&&(J=u.grid.borderColor,typeof j=="object"||typeof J=="object"?(typeof j!="object"&&(j={top:j,right:j,bottom:j,left:j}),typeof J!="object"&&(J={top:J,right:J,bottom:J,left:J}),j.top>0&&(m.strokeStyle=J.top,m.lineWidth=j.top,m.beginPath(),m.moveTo(0-j.left,0-j.top/2),m.lineTo(N,0-j.top/2),m.stroke()),j.right>0&&(m.strokeStyle=J.right,m.lineWidth=j.right,m.beginPath(),m.moveTo(N+j.right/2,0-j.top),m.lineTo(N+j.right/2,M),m.stroke()),j.bottom>0&&(m.strokeStyle=J.bottom,m.lineWidth=j.bottom,m.beginPath(),m.moveTo(N+j.right,M+j.bottom/2),m.lineTo(0,M+j.bottom/2),m.stroke()),j.left>0&&(m.strokeStyle=J.left,m.lineWidth=j.left,m.beginPath(),m.moveTo(0-j.left/2,M+j.bottom),m.lineTo(0-j.left/2,0),m.stroke())):(m.lineWidth=j,m.strokeStyle=u.grid.borderColor,m.strokeRect(-j/2,-j/2,N+j,M+j))),m.restore()}function it(){e.each(V(),function(A,U){var j=U.box,J=U.direction+"Axis "+U.direction+U.n+"Axis",B="flot-"+U.direction+"-axis flot-"+U.direction+U.n+"-axis "+J,Z=U.options.font||"flot-tick-label tickLabel",W,q,ne,de,le;if(g.removeText(B),!(!U.show||U.ticks.length==0))for(var ge=0;ge<U.ticks.length;++ge)W=U.ticks[ge],!(!W.label||W.v<U.min||W.v>U.max)&&(U.direction=="x"?(de="center",q=y.left+U.p2c(W.v),U.position=="bottom"?ne=j.top+j.padding:(ne=j.top+j.height-j.padding,le="bottom")):(le="middle",ne=y.top+U.p2c(W.v),U.position=="left"?(q=j.left+j.width-j.padding,de="right"):q=j.left+j.padding),g.addText(B,q,ne,W.label,Z,null,null,de,le))})}function rt(A){A.lines.show&&Ke(A),A.bars.show&&_e(A),A.points.show&&Et(A)}function Ke(A){function U(q,ne,de,le,ge){var ze=q.points,Se=q.pointsize,Le=null,nt=null;m.beginPath();for(var Ge=Se;Ge<ze.length;Ge+=Se){var Ae=ze[Ge-Se],we=ze[Ge-Se+1],Ne=ze[Ge],He=ze[Ge+1];if(!(Ae==null||Ne==null)){if(we<=He&&we<ge.min){if(He<ge.min)continue;Ae=(ge.min-we)/(He-we)*(Ne-Ae)+Ae,we=ge.min}else if(He<=we&&He<ge.min){if(we<ge.min)continue;Ne=(ge.min-we)/(He-we)*(Ne-Ae)+Ae,He=ge.min}if(we>=He&&we>ge.max){if(He>ge.max)continue;Ae=(ge.max-we)/(He-we)*(Ne-Ae)+Ae,we=ge.max}else if(He>=we&&He>ge.max){if(we>ge.max)continue;Ne=(ge.max-we)/(He-we)*(Ne-Ae)+Ae,He=ge.max}if(Ae<=Ne&&Ae<le.min){if(Ne<le.min)continue;we=(le.min-Ae)/(Ne-Ae)*(He-we)+we,Ae=le.min}else if(Ne<=Ae&&Ne<le.min){if(Ae<le.min)continue;He=(le.min-Ae)/(Ne-Ae)*(He-we)+we,Ne=le.min}if(Ae>=Ne&&Ae>le.max){if(Ne>le.max)continue;we=(le.max-Ae)/(Ne-Ae)*(He-we)+we,Ae=le.max}else if(Ne>=Ae&&Ne>le.max){if(Ae>le.max)continue;He=(le.max-Ae)/(Ne-Ae)*(He-we)+we,Ne=le.max}(Ae!=Le||we!=nt)&&m.moveTo(le.p2c(Ae)+ne,ge.p2c(we)+de),Le=Ne,nt=He,m.lineTo(le.p2c(Ne)+ne,ge.p2c(He)+de)}}m.stroke()}function j(q,ne,de){for(var le=q.points,ge=q.pointsize,ze=Math.min(Math.max(0,de.min),de.max),Se=0,Le=!1,nt=1,Ge=0,Ae=0;!(ge>0&&Se>le.length+ge);){Se+=ge;var we=le[Se-ge],Ne=le[Se-ge+nt],He=le[Se],bt=le[Se+nt];if(Le){if(ge>0&&we!=null&&He==null){Ae=Se,ge=-ge,nt=2;continue}if(ge<0&&Se==Ge+ge){m.fill(),Le=!1,ge=-ge,nt=1,Se=Ge=Ae+ge;continue}}if(!(we==null||He==null)){if(we<=He&&we<ne.min){if(He<ne.min)continue;Ne=(ne.min-we)/(He-we)*(bt-Ne)+Ne,we=ne.min}else if(He<=we&&He<ne.min){if(we<ne.min)continue;bt=(ne.min-we)/(He-we)*(bt-Ne)+Ne,He=ne.min}if(we>=He&&we>ne.max){if(He>ne.max)continue;Ne=(ne.max-we)/(He-we)*(bt-Ne)+Ne,we=ne.max}else if(He>=we&&He>ne.max){if(we>ne.max)continue;bt=(ne.max-we)/(He-we)*(bt-Ne)+Ne,He=ne.max}if(Le||(m.beginPath(),m.moveTo(ne.p2c(we),de.p2c(ze)),Le=!0),Ne>=de.max&&bt>=de.max){m.lineTo(ne.p2c(we),de.p2c(de.max)),m.lineTo(ne.p2c(He),de.p2c(de.max));continue}else if(Ne<=de.min&&bt<=de.min){m.lineTo(ne.p2c(we),de.p2c(de.min)),m.lineTo(ne.p2c(He),de.p2c(de.min));continue}var Kt=we,Xt=He;Ne<=bt&&Ne<de.min&&bt>=de.min?(we=(de.min-Ne)/(bt-Ne)*(He-we)+we,Ne=de.min):bt<=Ne&&bt<de.min&&Ne>=de.min&&(He=(de.min-Ne)/(bt-Ne)*(He-we)+we,bt=de.min),Ne>=bt&&Ne>de.max&&bt<=de.max?(we=(de.max-Ne)/(bt-Ne)*(He-we)+we,Ne=de.max):bt>=Ne&&bt>de.max&&Ne<=de.max&&(He=(de.max-Ne)/(bt-Ne)*(He-we)+we,bt=de.max),we!=Kt&&m.lineTo(ne.p2c(Kt),de.p2c(Ne)),m.lineTo(ne.p2c(we),de.p2c(Ne)),m.lineTo(ne.p2c(He),de.p2c(bt)),He!=Xt&&(m.lineTo(ne.p2c(He),de.p2c(bt)),m.lineTo(ne.p2c(Xt),de.p2c(bt)))}}}m.save(),m.translate(y.left,y.top),m.lineJoin="round";var J=A.lines.lineWidth,B=A.shadowSize;if(J>0&&B>0){m.lineWidth=B,m.strokeStyle="rgba(0,0,0,0.1)";var Z=Math.PI/18;U(A.datapoints,Math.sin(Z)*(J/2+B/2),Math.cos(Z)*(J/2+B/2),A.xaxis,A.yaxis),m.lineWidth=B/2,U(A.datapoints,Math.sin(Z)*(J/2+B/4),Math.cos(Z)*(J/2+B/4),A.xaxis,A.yaxis)}m.lineWidth=J,m.strokeStyle=A.color;var W=je(A.lines,A.color,0,M);W&&(m.fillStyle=W,j(A.datapoints,A.xaxis,A.yaxis)),J>0&&U(A.datapoints,0,0,A.xaxis,A.yaxis),m.restore()}function Et(A){function U(q,ne,de,le,ge,ze,Se,Le){for(var nt=q.points,Ge=q.pointsize,Ae=0;Ae<nt.length;Ae+=Ge){var we=nt[Ae],Ne=nt[Ae+1];we==null||we<ze.min||we>ze.max||Ne<Se.min||Ne>Se.max||(m.beginPath(),we=ze.p2c(we),Ne=Se.p2c(Ne)+le,Le=="circle"?m.arc(we,Ne,ne,0,ge?Math.PI:Math.PI*2,!1):Le(m,we,Ne,ne,ge),m.closePath(),de&&(m.fillStyle=de,m.fill()),m.stroke())}}m.save(),m.translate(y.left,y.top);var j=A.points.lineWidth,J=A.shadowSize,B=A.points.radius,Z=A.points.symbol;if(j==0&&(j=1e-4),j>0&&J>0){var W=J/2;m.lineWidth=W,m.strokeStyle="rgba(0,0,0,0.1)",U(A.datapoints,B,null,W+W/2,!0,A.xaxis,A.yaxis,Z),m.strokeStyle="rgba(0,0,0,0.2)",U(A.datapoints,B,null,W/2,!0,A.xaxis,A.yaxis,Z)}m.lineWidth=j,m.strokeStyle=A.color,U(A.datapoints,B,je(A.points,A.color),0,!1,A.xaxis,A.yaxis,Z),m.restore()}function Rt(A,U,j,J,B,Z,W,q,ne,de,le){var ge,ze,Se,Le,nt,Ge,Ae,we,Ne;de?(we=Ge=Ae=!0,nt=!1,ge=j,ze=A,Le=U+J,Se=U+B,ze<ge&&(Ne=ze,ze=ge,ge=Ne,nt=!0,Ge=!1)):(nt=Ge=Ae=!0,we=!1,ge=A+J,ze=A+B,Se=j,Le=U,Le<Se&&(Ne=Le,Le=Se,Se=Ne,we=!0,Ae=!1)),!(ze<W.min||ge>W.max||Le<q.min||Se>q.max)&&(ge<W.min&&(ge=W.min,nt=!1),ze>W.max&&(ze=W.max,Ge=!1),Se<q.min&&(Se=q.min,we=!1),Le>q.max&&(Le=q.max,Ae=!1),ge=W.p2c(ge),Se=q.p2c(Se),ze=W.p2c(ze),Le=q.p2c(Le),Z&&(ne.fillStyle=Z(Se,Le),ne.fillRect(ge,Le,ze-ge,Se-Le)),le>0&&(nt||Ge||Ae||we)&&(ne.beginPath(),ne.moveTo(ge,Se),nt?ne.lineTo(ge,Le):ne.moveTo(ge,Le),Ae?ne.lineTo(ze,Le):ne.moveTo(ze,Le),Ge?ne.lineTo(ze,Se):ne.moveTo(ze,Se),we?ne.lineTo(ge,Se):ne.moveTo(ge,Se),ne.stroke()))}function _e(A){function U(B,Z,W,q,ne,de){for(var le=B.points,ge=B.pointsize,ze=0;ze<le.length;ze+=ge)le[ze]!=null&&Rt(le[ze],le[ze+1],le[ze+2],Z,W,q,ne,de,m,A.bars.horizontal,A.bars.lineWidth)}m.save(),m.translate(y.left,y.top),m.lineWidth=A.bars.lineWidth,m.strokeStyle=A.color;var j;switch(A.bars.align){case"left":j=0;break;case"right":j=-A.bars.barWidth;break;default:j=-A.bars.barWidth/2}var J=A.bars.fill?function(B,Z){return je(A.bars,A.color,B,Z)}:null;U(A.datapoints,j,j+A.bars.barWidth,J,A.xaxis,A.yaxis),m.restore()}function je(A,U,j,J){var B=A.fill;if(!B)return null;if(A.fillColor)return gn(A.fillColor,j,J,U);var Z=e.color.parse(U);return Z.a=typeof B=="number"?B:.4,Z.normalize(),Z.toString()}function Qe(){if(u.legend.container!=null?e(u.legend.container).html(""):s.find(".legend").remove(),!!u.legend.show){for(var A=[],U=[],j=!1,J=u.legend.labelFormatter,B,Z,W=0;W<h.length;++W)B=h[W],B.label&&(Z=J?J(B.label,B):B.label,Z&&U.push({label:Z,color:B.color}));if(u.legend.sorted)if(e.isFunction(u.legend.sorted))U.sort(u.legend.sorted);else if(u.legend.sorted=="reverse")U.reverse();else{var q=u.legend.sorted!="descending";U.sort(function(Ge,Ae){return Ge.label==Ae.label?0:Ge.label<Ae.label!=q?1:-1})}for(var W=0;W<U.length;++W){var ne=U[W];W%u.legend.noColumns==0&&(j&&A.push("</tr>"),A.push("<tr>"),j=!0),A.push('<td class="legendColorBox"><div style="border:1px solid '+u.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+ne.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+ne.label+"</td>")}if(j&&A.push("</tr>"),A.length!=0){var de='<table style="font-size:smaller;color:'+u.grid.color+'">'+A.join("")+"</table>";if(u.legend.container!=null)e(u.legend.container).html(de);else{var le="",ge=u.legend.position,ze=u.legend.margin;ze[0]==null&&(ze=[ze,ze]),ge.charAt(0)=="n"?le+="top:"+(ze[1]+y.top)+"px;":ge.charAt(0)=="s"&&(le+="bottom:"+(ze[1]+y.bottom)+"px;"),ge.charAt(1)=="e"?le+="right:"+(ze[0]+y.right)+"px;":ge.charAt(1)=="w"&&(le+="left:"+(ze[0]+y.left)+"px;");var Se=e('<div class="legend">'+de.replace('style="','style="position:absolute;'+le+";")+"</div>").appendTo(s);if(u.legend.backgroundOpacity!=0){var Le=u.legend.backgroundColor;Le==null&&(Le=u.grid.backgroundColor,Le&&typeof Le=="string"?Le=e.color.parse(Le):Le=e.color.extract(Se,"background-color"),Le.a=1,Le=Le.toString());var nt=Se.children();e('<div style="position:absolute;width:'+nt.width()+"px;height:"+nt.height()+"px;"+le+"background-color:"+Le+';"> </div>').prependTo(Se).css("opacity",u.legend.backgroundOpacity)}}}}}var at=[],Ie=null;function ut(A,U,j){var J=u.grid.mouseActiveRadius,B=J*J+1,Z=null,W,q,ne;for(W=h.length-1;W>=0;--W)if(j(h[W])){var de=h[W],le=de.xaxis,ge=de.yaxis,ze=de.datapoints.points,Se=le.c2p(A),Le=ge.c2p(U),nt=J/le.scale,Ge=J/ge.scale;if(ne=de.datapoints.pointsize,le.options.inverseTransform&&(nt=Number.MAX_VALUE),ge.options.inverseTransform&&(Ge=Number.MAX_VALUE),de.lines.show||de.points.show)for(q=0;q<ze.length;q+=ne){var Ae=ze[q],we=ze[q+1];if(Ae!=null&&!(Ae-Se>nt||Ae-Se<-nt||we-Le>Ge||we-Le<-Ge)){var Ne=Math.abs(le.p2c(Ae)-A),He=Math.abs(ge.p2c(we)-U),bt=Ne*Ne+He*He;bt<B&&(B=bt,Z=[W,q/ne])}}if(de.bars.show&&!Z){var Kt,Xt;switch(de.bars.align){case"left":Kt=0;break;case"right":Kt=-de.bars.barWidth;break;default:Kt=-de.bars.barWidth/2}for(Xt=Kt+de.bars.barWidth,q=0;q<ze.length;q+=ne){var Ae=ze[q],we=ze[q+1],Qt=ze[q+2];Ae!=null&&(h[W].bars.horizontal?Se<=Math.max(Qt,Ae)&&Se>=Math.min(Qt,Ae)&&Le>=we+Kt&&Le<=we+Xt:Se>=Ae+Kt&&Se<=Ae+Xt&&Le>=Math.min(Qt,we)&&Le<=Math.max(Qt,we))&&(Z=[W,q/ne])}}}return Z?(W=Z[0],q=Z[1],ne=h[W].datapoints.pointsize,{datapoint:h[W].datapoints.points.slice(q*ne,(q+1)*ne),dataIndex:q,series:h[W],seriesIndex:W}):null}function Dt(A){u.grid.hoverable&&jt("plothover",A,function(U){return U.hoverable!=!1})}function qt(A){u.grid.hoverable&&jt("plothover",A,function(U){return!1})}function Gt(A){jt("plotclick",A,function(U){return U.clickable!=!1})}function jt(A,U,j){var J=w.offset(),B=U.pageX-J.left-y.left,Z=U.pageY-J.top-y.top,W=K({left:B,top:Z});W.pageX=U.pageX,W.pageY=U.pageY;var q=ut(B,Z,j);if(q&&(q.pageX=parseInt(q.series.xaxis.p2c(q.datapoint[0])+J.left+y.left,10),q.pageY=parseInt(q.series.yaxis.p2c(q.datapoint[1])+J.top+y.top,10)),u.grid.autoHighlight){for(var ne=0;ne<at.length;++ne){var de=at[ne];de.auto==A&&!(q&&de.series==q.series&&de.point[0]==q.datapoint[0]&&de.point[1]==q.datapoint[1])&&kt(de.series,de.point)}q&&At(q.series,q.datapoint,A)}s.trigger(A,[W,q])}function Mt(){var A=u.interaction.redrawOverlayInterval;if(A==-1){Nt();return}Ie||(Ie=setTimeout(Nt,A))}function Nt(){Ie=null,C.save(),S.clear(),C.translate(y.left,y.top);var A,U;for(A=0;A<at.length;++A)U=at[A],U.series.bars.show?In(U.series,U.point):Cn(U.series,U.point);C.restore(),p(L.drawOverlay,[C])}function At(A,U,j){if(typeof A=="number"&&(A=h[A]),typeof U=="number"){var J=A.datapoints.pointsize;U=A.datapoints.points.slice(J*U,J*(U+1))}var B=Wt(A,U);B==-1?(at.push({series:A,point:U,auto:j}),Mt()):j||(at[B].auto=!1)}function kt(A,U){if(A==null&&U==null){at=[],Mt();return}if(typeof A=="number"&&(A=h[A]),typeof U=="number"){var j=A.datapoints.pointsize;U=A.datapoints.points.slice(j*U,j*(U+1))}var J=Wt(A,U);J!=-1&&(at.splice(J,1),Mt())}function Wt(A,U){for(var j=0;j<at.length;++j){var J=at[j];if(J.series==A&&J.point[0]==U[0]&&J.point[1]==U[1])return j}return-1}function Cn(A,U){var j=U[0],J=U[1],B=A.xaxis,Z=A.yaxis,W=typeof A.highlightColor=="string"?A.highlightColor:e.color.parse(A.color).scale("a",.5).toString();if(!(j<B.min||j>B.max||J<Z.min||J>Z.max)){var q=A.points.radius+A.points.lineWidth/2;C.lineWidth=q,C.strokeStyle=W;var ne=1.5*q;j=B.p2c(j),J=Z.p2c(J),C.beginPath(),A.points.symbol=="circle"?C.arc(j,J,ne,0,2*Math.PI,!1):A.points.symbol(C,j,J,ne,!1),C.closePath(),C.stroke()}}function In(A,U){var j=typeof A.highlightColor=="string"?A.highlightColor:e.color.parse(A.color).scale("a",.5).toString(),J=j,B;switch(A.bars.align){case"left":B=0;break;case"right":B=-A.bars.barWidth;break;default:B=-A.bars.barWidth/2}C.lineWidth=A.bars.lineWidth,C.strokeStyle=j,Rt(U[0],U[1],U[2]||0,B,B+A.bars.barWidth,function(){return J},A.xaxis,A.yaxis,C,A.bars.horizontal,A.bars.lineWidth)}function gn(A,U,j,J){if(typeof A=="string")return A;for(var B=m.createLinearGradient(0,j,0,U),Z=0,W=A.colors.length;Z<W;++Z){var q=A.colors[Z];if(typeof q!="string"){var ne=e.color.parse(J);q.brightness!=null&&(ne=ne.scale("rgb",q.brightness)),q.opacity!=null&&(ne.a*=q.opacity),q=ne.toString()}B.addColorStop(Z/(W-1),q)}return B}}e.plot=function(s,o,l){var c=new r(e(s),o,l,e.plot.plugins);return c},e.plot.version="0.8.3",e.plot.plugins=[],e.fn.plot=function(s,o){return this.each(function(){e.plot(this,s,o)})};function i(s,o){return o*Math.floor(s/o)}})(jQuery);(function(e){var t={xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}};function n(g,S){return S*Math.floor(g/S)}function r(g,S,w,m){if(typeof g.strftime=="function")return g.strftime(S);var C=function(p,_){return p=""+p,_=""+(_??"0"),p.length==1?_+p:p},k=[],T=!1,y=g.getHours(),N=y<12;w==null&&(w=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),m==null&&(m=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);var M;y>12?M=y-12:y==0?M=12:M=y;for(var L=0;L<S.length;++L){var P=S.charAt(L);if(T){switch(P){case"a":P=""+m[g.getDay()];break;case"b":P=""+w[g.getMonth()];break;case"d":P=C(g.getDate());break;case"e":P=C(g.getDate()," ");break;case"h":case"H":P=C(y);break;case"I":P=C(M);break;case"l":P=C(M," ");break;case"m":P=C(g.getMonth()+1);break;case"M":P=C(g.getMinutes());break;case"q":P=""+(Math.floor(g.getMonth()/3)+1);break;case"S":P=C(g.getSeconds());break;case"y":P=C(g.getFullYear()%100);break;case"Y":P=""+g.getFullYear();break;case"p":P=N?"am":"pm";break;case"P":P=N?"AM":"PM";break;case"w":P=""+g.getDay();break}k.push(P),T=!1}else P=="%"?T=!0:k.push(P)}return k.join("")}function i(g){function S(k,T,y,N){k[T]=function(){return y[N].apply(y,arguments)}}var w={date:g};g.strftime!=null&&S(w,"strftime",g,"strftime"),S(w,"getTime",g,"getTime"),S(w,"setTime",g,"setTime");for(var m=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],C=0;C<m.length;C++)S(w,"get"+m[C],g,"getUTC"+m[C]),S(w,"set"+m[C],g,"setUTC"+m[C]);return w}function s(g,S){if(S.timezone=="browser")return new Date(g);if(!S.timezone||S.timezone=="utc")return i(new Date(g));if(typeof timezoneJS<"u"&&typeof timezoneJS.Date<"u"){var w=new timezoneJS.Date;return w.setTimezone(S.timezone),w.setTime(g),w}else return i(new Date(g))}var o={second:1e3,minute:60*1e3,hour:60*60*1e3,day:24*60*60*1e3,month:30*24*60*60*1e3,quarter:3*30*24*60*60*1e3,year:365.2425*24*60*60*1e3},l=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],c=l.concat([[3,"month"],[6,"month"],[1,"year"]]),h=l.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);function u(g){g.hooks.processOptions.push(function(S,w){e.each(S.getAxes(),function(m,C){var k=C.options;k.mode=="time"&&(C.tickGenerator=function(T){var y=[],N=s(T.min,k),M=0,L=k.tickSize&&k.tickSize[1]==="quarter"||k.minTickSize&&k.minTickSize[1]==="quarter"?h:c;k.minTickSize!=null&&(typeof k.tickSize=="number"?M=k.tickSize:M=k.minTickSize[0]*o[k.minTickSize[1]]);for(var P=0;P<L.length-1&&!(T.delta<(L[P][0]*o[L[P][1]]+L[P+1][0]*o[L[P+1][1]])/2&&L[P][0]*o[L[P][1]]>=M);++P);var p=L[P][0],_=L[P][1];if(_=="year"){if(k.minTickSize!=null&&k.minTickSize[1]=="year")p=Math.floor(k.minTickSize[0]);else{var I=Math.pow(10,Math.floor(Math.log(T.delta/o.year)/Math.LN10)),D=T.delta/o.year/I;D<1.5?p=1:D<3?p=2:D<7.5?p=5:p=10,p*=I}p<1&&(p=1)}T.tickSize=k.tickSize||[p,_];var $=T.tickSize[0];_=T.tickSize[1];var z=$*o[_];_=="second"?N.setSeconds(n(N.getSeconds(),$)):_=="minute"?N.setMinutes(n(N.getMinutes(),$)):_=="hour"?N.setHours(n(N.getHours(),$)):_=="month"?N.setMonth(n(N.getMonth(),$)):_=="quarter"?N.setMonth(3*n(N.getMonth()/3,$)):_=="year"&&N.setFullYear(n(N.getFullYear(),$)),N.setMilliseconds(0),z>=o.minute&&N.setSeconds(0),z>=o.hour&&N.setMinutes(0),z>=o.day&&N.setHours(0),z>=o.day*4&&N.setDate(1),z>=o.month*2&&N.setMonth(n(N.getMonth(),3)),z>=o.quarter*2&&N.setMonth(n(N.getMonth(),6)),z>=o.year&&N.setMonth(0);var V=0,K=Number.NaN,se;do if(se=K,K=N.getTime(),y.push(K),_=="month"||_=="quarter")if($<1){N.setDate(1);var ue=N.getTime();N.setMonth(N.getMonth()+(_=="quarter"?3:1));var te=N.getTime();N.setTime(K+V*o.hour+(te-ue)*$),V=N.getHours(),N.setHours(0)}else N.setMonth(N.getMonth()+$*(_=="quarter"?3:1));else _=="year"?N.setFullYear(N.getFullYear()+$):N.setTime(K+z);while(K<T.max&&K!=se);return y},C.tickFormatter=function(T,y){var N=s(T,y.options);if(k.timeformat!=null)return r(N,k.timeformat,k.monthNames,k.dayNames);var M=y.options.tickSize&&y.options.tickSize[1]=="quarter"||y.options.minTickSize&&y.options.minTickSize[1]=="quarter",L=y.tickSize[0]*o[y.tickSize[1]],P=y.max-y.min,p=k.twelveHourClock?" %p":"",_=k.twelveHourClock?"%I":"%H",I;L<o.minute?I=_+":%M:%S"+p:L<o.day?P<2*o.day?I=_+":%M"+p:I="%b %d "+_+":%M"+p:L<o.month?I="%b %d":M&&L<o.quarter||!M&&L<o.year?P<o.year?I="%b":I="%b %Y":M&&L<o.year?P<o.year?I="Q%q":I="Q%q %Y":I="%Y";var D=r(N,I,k.monthNames,k.dayNames);return D})})})}e.plot.plugins.push({init:u,options:t,name:"time",version:"1.0"}),e.plot.formatDate=r,e.plot.dateGenerator=s})(jQuery);(function(e){function t(n){var r={first:{x:-1,y:-1},second:{x:-1,y:-1},show:!1,active:!1},i={},s=null;function o(y){r.active&&(w(y),n.getPlaceholder().trigger("plotselecting",[h()]))}function l(y){y.which==1&&(document.body.focus(),document.onselectstart!==void 0&&i.onselectstart==null&&(i.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),document.ondrag!==void 0&&i.ondrag==null&&(i.ondrag=document.ondrag,document.ondrag=function(){return!1}),S(r.first,y),r.active=!0,s=function(N){c(N)},e(document).one("mouseup",s))}function c(y){return s=null,document.onselectstart!==void 0&&(document.onselectstart=i.onselectstart),document.ondrag!==void 0&&(document.ondrag=i.ondrag),r.active=!1,w(y),T()?u():(n.getPlaceholder().trigger("plotunselected",[]),n.getPlaceholder().trigger("plotselecting",[null])),!1}function h(){if(!T()||!r.show)return null;var y={},N=r.first,M=r.second;return e.each(n.getAxes(),function(L,P){if(P.used){var p=P.c2p(N[P.direction]),_=P.c2p(M[P.direction]);y[L]={from:Math.min(p,_),to:Math.max(p,_)}}}),y}function u(){var y=h();n.getPlaceholder().trigger("plotselected",[y]),y.xaxis&&y.yaxis&&n.getPlaceholder().trigger("selected",[{x1:y.xaxis.from,y1:y.yaxis.from,x2:y.xaxis.to,y2:y.yaxis.to}])}function g(y,N,M){return N<y?y:N>M?M:N}function S(y,N){var M=n.getOptions(),L=n.getPlaceholder().offset(),P=n.getPlotOffset();y.x=g(0,N.pageX-L.left-P.left,n.width()),y.y=g(0,N.pageY-L.top-P.top,n.height()),M.selection.mode=="y"&&(y.x=y==r.first?0:n.width()),M.selection.mode=="x"&&(y.y=y==r.first?0:n.height())}function w(y){y.pageX!=null&&(S(r.second,y),T()?(r.show=!0,n.triggerRedrawOverlay()):m(!0))}function m(y){r.show&&(r.show=!1,n.triggerRedrawOverlay(),y||n.getPlaceholder().trigger("plotunselected",[]))}function C(y,N){var M,L,P,p,_=n.getAxes();for(var I in _)if(M=_[I],M.direction==N&&(p=N+M.n+"axis",!y[p]&&M.n==1&&(p=N+"axis"),y[p])){L=y[p].from,P=y[p].to;break}if(y[p]||(M=N=="x"?n.getXAxes()[0]:n.getYAxes()[0],L=y[N+"1"],P=y[N+"2"]),L!=null&&P!=null&&L>P){var D=L;L=P,P=D}return{from:L,to:P,axis:M}}function k(y,N){var M,L=n.getOptions();L.selection.mode=="y"?(r.first.x=0,r.second.x=n.width()):(M=C(y,"x"),r.first.x=M.axis.p2c(M.from),r.second.x=M.axis.p2c(M.to)),L.selection.mode=="x"?(r.first.y=0,r.second.y=n.height()):(M=C(y,"y"),r.first.y=M.axis.p2c(M.from),r.second.y=M.axis.p2c(M.to)),r.show=!0,n.triggerRedrawOverlay(),!N&&T()&&u()}function T(){var y=n.getOptions().selection.minSize;return Math.abs(r.second.x-r.first.x)>=y&&Math.abs(r.second.y-r.first.y)>=y}n.clearSelection=m,n.setSelection=k,n.getSelection=h,n.hooks.bindEvents.push(function(y,N){var M=y.getOptions();M.selection.mode!=null&&(N.mousemove(o),N.mousedown(l))}),n.hooks.drawOverlay.push(function(y,N){if(r.show&&T()){var M=y.getPlotOffset(),L=y.getOptions();N.save(),N.translate(M.left,M.top);var P=e.color.parse(L.selection.color);N.strokeStyle=P.scale("a",.8).toString(),N.lineWidth=1,N.lineJoin=L.selection.shape,N.fillStyle=P.scale("a",.4).toString();var p=Math.min(r.first.x,r.second.x)+.5,_=Math.min(r.first.y,r.second.y)+.5,I=Math.abs(r.second.x-r.first.x)-1,D=Math.abs(r.second.y-r.first.y)-1;N.fillRect(p,_,I,D),N.strokeRect(p,_,I,D),N.restore()}}),n.hooks.shutdown.push(function(y,N){N.unbind("mousemove",o),N.unbind("mousedown",l),s&&e(document).unbind("mouseup",s)})}e.plot.plugins.push({init:t,options:{selection:{mode:null,color:"#e8cfac",shape:"round",minSize:5}},name:"selection",version:"1.1"})})(jQuery);(function(e){var t={crosshair:{mode:null,color:"rgba(170, 0, 0, 0.80)",lineWidth:1}};function n(r){var i={x:-1,y:-1,locked:!1};r.setCrosshair=function(c){if(!c)i.x=-1;else{var h=r.p2c(c);i.x=Math.max(0,Math.min(h.left,r.width())),i.y=Math.max(0,Math.min(h.top,r.height()))}r.triggerRedrawOverlay()},r.clearCrosshair=r.setCrosshair,r.lockCrosshair=function(c){c&&r.setCrosshair(c),i.locked=!0},r.unlockCrosshair=function(){i.locked=!1};function s(l){i.locked||i.x!=-1&&(i.x=-1,r.triggerRedrawOverlay())}function o(l){if(!i.locked){if(r.getSelection&&r.getSelection()){i.x=-1;return}var c=r.offset();i.x=Math.max(0,Math.min(l.pageX-c.left,r.width())),i.y=Math.max(0,Math.min(l.pageY-c.top,r.height())),r.triggerRedrawOverlay()}}r.hooks.bindEvents.push(function(l,c){l.getOptions().crosshair.mode&&(c.mouseout(s),c.mousemove(o))}),r.hooks.drawOverlay.push(function(l,c){var h=l.getOptions().crosshair;if(h.mode){var u=l.getPlotOffset();if(c.save(),c.translate(u.left,u.top),i.x!=-1){var g=l.getOptions().crosshair.lineWidth%2?.5:0;if(c.strokeStyle=h.color,c.lineWidth=h.lineWidth,c.lineJoin="round",c.beginPath(),h.mode.indexOf("x")!=-1){var S=Math.floor(i.x)+g;c.moveTo(S,0),c.lineTo(S,l.height())}if(h.mode.indexOf("y")!=-1){var w=Math.floor(i.y)+g;c.moveTo(0,w),c.lineTo(l.width(),w)}c.stroke()}c.restore()}}),r.hooks.shutdown.push(function(l,c){c.unbind("mouseout",s),c.unbind("mousemove",o)})}e.plot.plugins.push({init:n,options:t,name:"crosshair",version:"1.0"})})(jQuery);(function(e,t,n){"$:nomunge";var r=[],i=e.resize=e.extend(e.resize,{}),s,o=!1,l="setTimeout",c="resize",h=c+"-special-event",u="pendingDelay",g="activeDelay",S="throttleWindow";i[u]=200,i[g]=20,i[S]=!0,e.event.special[c]={setup:function(){if(!i[S]&&this[l])return!1;var m=e(this);r.push(this),m.data(h,{w:m.width(),h:m.height()}),r.length===1&&(s=n,w())},teardown:function(){if(!i[S]&&this[l])return!1;for(var m=e(this),C=r.length-1;C>=0;C--)if(r[C]==this){r.splice(C,1);break}m.removeData(h),r.length||(o?cancelAnimationFrame(s):clearTimeout(s),s=null)},add:function(m){if(!i[S]&&this[l])return!1;var C;function k(T,y,N){var M=e(this),L=M.data(h)||{};L.w=y!==n?y:M.width(),L.h=N!==n?N:M.height(),C.apply(this,arguments)}if(e.isFunction(m))return C=m,k;C=m.handler,m.handler=k}};function w(m){o===!0&&(o=m||1);for(var C=r.length-1;C>=0;C--){var k=e(r[C]);if(k[0]==t||k.is(":visible")){var T=k.width(),y=k.height(),N=k.data(h);N&&(T!==N.w||y!==N.h)&&(k.trigger(c,[N.w=T,N.h=y]),o=m||!0)}else N=k.data(h),N.w=0,N.h=0}s!==null&&(o&&(m==null||m-o<1e3)?s=t.requestAnimationFrame(w):(s=setTimeout(w,i[u]),o=!1))}t.requestAnimationFrame||(t.requestAnimationFrame=function(){return t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(m,C){return t.setTimeout(function(){m(new Date().getTime())},i[g])}}()),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(){return t.webkitCancelRequestAnimationFrame||t.mozCancelRequestAnimationFrame||t.oCancelRequestAnimationFrame||t.msCancelRequestAnimationFrame||clearTimeout}())})(jQuery,window);(function(e){var t={};function n(r){function i(){var l=r.getPlaceholder();l.width()==0||l.height()==0||(r.resize(),r.setupGrid(),r.draw())}function s(l,c){l.getPlaceholder().resize(i)}function o(l,c){l.getPlaceholder().unbind("resize",i)}r.hooks.bindEvents.push(s),r.hooks.shutdown.push(o)}e.plot.plugins.push({init:n,options:t,name:"resize",version:"1.0"})})(jQuery);(function(e){var t={series:{stack:null}};function n(r){function i(o,l){for(var c=null,h=0;h<l.length&&o!=l[h];++h)l[h].stack==o.stack&&(c=l[h]);return c}function s(o,l,c){if(!(l.stack==null||l.stack===!1)){var h=i(l,o.getData());if(h){for(var u=c.pointsize,g=c.points,S=h.datapoints.pointsize,w=h.datapoints.points,m=[],C,k,T,y,N,M,L=l.lines.show,P=l.bars.horizontal,p=u>2&&(P?c.format[2].x:c.format[2].y),_=L&&l.lines.steps,I=!0,D=P?1:0,$=P?0:1,z=0,V=0,K,se;!(z>=g.length);){if(K=m.length,g[z]==null){for(se=0;se<u;++se)m.push(g[z+se]);z+=u}else if(V>=w.length){if(!L)for(se=0;se<u;++se)m.push(g[z+se]);z+=u}else if(w[V]==null){for(se=0;se<u;++se)m.push(null);I=!0,V+=S}else{if(C=g[z+D],k=g[z+$],y=w[V+D],N=w[V+$],M=0,C==y){for(se=0;se<u;++se)m.push(g[z+se]);m[K+$]+=N,M=N,z+=u,V+=S}else if(C>y){if(L&&z>0&&g[z-u]!=null){for(T=k+(g[z-u+$]-k)*(y-C)/(g[z-u+D]-C),m.push(y),m.push(T+N),se=2;se<u;++se)m.push(g[z+se]);M=N}V+=S}else{if(I&&L){z+=u;continue}for(se=0;se<u;++se)m.push(g[z+se]);L&&V>0&&w[V-S]!=null&&(M=N+(w[V-S+$]-N)*(C-y)/(w[V-S+D]-y)),m[K+$]+=M,z+=u}I=!1,K!=m.length&&p&&(m[K+2]+=M)}if(_&&K!=m.length&&K>0&&m[K]!=null&&m[K]!=m[K-u]&&m[K+1]!=m[K-u+1]){for(se=0;se<u;++se)m[K+u+se]=m[K+se];m[K+1]=m[K-u+1]}}c.points=m}}}r.hooks.processDatapoints.push(s)}e.plot.plugins.push({init:n,options:t,name:"stack",version:"1.2"})})(jQuery);const tS="qryn_view",Nf=`${tS}_chart_type`,Uc=(e=!1)=>({xaxis:{show:!0,mode:"time",timezone:"local",timeformat:"%Y-%m-%d %H:%M:%S",reserveSpace:!1,shadowSize:0},yaxis:{tickFormatter:mS},grid:{show:!0,aboveData:!1,color:"#999",clickable:!0,hoverable:!0,autoHighlight:!1,highlightColor:"blue",mouseActiveRadius:30,borderWidth:0,minBorderMargin:0,labelMarginX:0,labelMarginY:0,shadowSize:0,margin:{left:5,right:5}},legend:{noColumns:0,position:"nw",show:!1},interaction:{redrawOverlayInterval:1},series:{stack:e,lines:{show:!0,lineWidth:1.5,shadowSize:0,zero:!1},bars:{align:"center",show:!1,barWidth:5e3,shadowSize:0,zero:!1},points:{show:!0,radius:1,shadowSize:0,zero:!1}},markings:{clickable:!1},crosshair:{color:"#88888855",mode:"xy",linewidth:1},selection:{mode:"x"}}),Of=(e=0,t=!1)=>({stack:t,lines:{show:!1,lineWidth:1.5,shadowSize:0,fill:t},bars:{show:!0,barWidth:e!==0?e:5e3,shadowSize:0},points:{show:!0,radius:.25,shadowSize:0}}),fs=(e=!1)=>({stack:e,lines:{show:!0,lineWidth:1,shadowSize:0,stack:e,fill:e},bars:{show:!1,barWidth:0,shadowSize:0},points:{show:!1,radius:1,shadowSize:0}}),Lf=(e=!1)=>({stack:e,lines:{show:!1,lineWidth:1.5,shadowSize:0},bars:{show:!1,barWidth:0,shadowSize:0},points:{show:!0,radius:2,shadowSize:0}});function nS(e){e.forEach(t=>{t.plot.highlight(t.i,t.plotIndex)})}function rS(e){return!!(e%1)}const iS=e=>(e==null?void 0:e.length)===2?e[1]:e[1]-e[2];function Df(e){return(e==null?void 0:e.length)>0?(e==null?void 0:e.filter(t=>parseFloat(t.value)===parseFloat(iS(t.item.datapoint))))||[]:[]}function sS(e){return(e==null?void 0:e.map(t=>en.sanitize(` <div style="display:flex;justify-content:space-between">
                           <div style="display:flex;margin-right:10px;">
                               <span style="background:${t.color};
                               height:6px;width:24px;pading:3px;
                               border-radius:1px;margin:4px;"></span> 
                               <p style="display:flex;flex-wrap:wrap; justify-content:space-between;
                               line-height:1.25">${t.label}</p> 
                            </div>
                        <div>
                    </div>
                </div>
    `)).join(""))||[]}function aS(e){const t=Df(e);return sS(t)}function oS(e){var n,r;const t=Df(e);if((t==null?void 0:t.length)>0){const i=t==null?void 0:t.sort((s,o)=>s.label.length>o.label.length?0:1);return i&&i.length>0?(r=(n=i[0])==null?void 0:n.label)==null?void 0:r.length:0}return 0}function $r(e){const t=e.map(o=>{var l;return(l=o==null?void 0:o.data)==null?void 0:l.map(([c,h])=>c)}).flat().sort(),n=t[0],r=t[t.length-1],i=r-n,s=i/1e3/107e3;return{first:n,last:r,timeSpan:s,length:t.length,timeDiff:i,seriesLength:e.length}}const pi=(e,t)=>{const{length:n,timeDiff:r,seriesLength:i}=e,s=()=>i===1?1/2:i-1;return Math.round(r/t/n*s()*1e3)};function gi(e){const{timeSpan:t,first:n,last:r}=$r(e);return{timeformat:t>1?"%m/%d %H:%M":t>30?"%y/%m/%d %H:%M":"%H:%M:%S",min:n,max:r}}function lS(e){return(e==null?void 0:e.map(([t,n])=>[t*1e3,n]))||[]}function dr(e,t,n=!1){switch(e){case"bar":return Of(t,n);case"line":return fs(n);case"points":return Lf(n);default:return fs(n)}}function cS(e,t=0,n=!1){switch(e){case"bar":return{series:Of(t,n)};case"line":return{series:fs(n)};case"points":return{series:Lf(n)};default:return{series:fs(n)}}}function uS(){return localStorage.getItem(Nf)}function dS(e){localStorage.setItem(Nf,e)}function Qc(e,t=!1,n){var i,s;let r={...e};return e&&((i=Object.keys(e))==null?void 0:i.length)===0&&(r={level:"unknown"},n===1&&t&&(r={level:"logs"})),t&&r?(s=Object.entries(r))==null?void 0:s.map(([o,l])=>l):!t&&r?"{ "+Object.entries(r).map(([o,l])=>`${o}="${l}"`).join(", ")+" }":""}function fS(e){return{...e,lines:{...e.lines,show:!1},bars:{...e.bars,show:!1},points:{...e.points,show:!1},isVisible:!1}}function hS(e,t,n=!1){const{lines:r,bars:i,points:s}=dr(t,0,n);return{...e,stack:n,bars:i,lines:r,points:s,isVisible:!0}}function pS(e){return e==null?void 0:e.map(t=>t.id)}function Af(){let e=[];try{const t=localStorage.getItem("labelsSelected");return typeof t=="string"&&(e=JSON.parse(t)),e}catch(t){return console.log(t),e}}function gS({label:{id:e}}){let t=Af();return(t==null?void 0:t.length)>0?t.some(n=>n.id===e):!1}function Gc(e,t){const n=Af();if(n.length>0){const r=pS(n);return e==null?void 0:e.map(s=>r!=null&&r.includes(s.id)?hS(s,t):fS(s))}else return e}function Kc(e,t){let n=0;return t==="M"&&(n=1e6),t==="K"&&(n=1e3),e%n===0?0:1}function mS(e,t){return e>999999?(e/1e6).toFixed(Kc(e,"M"))+" M":e>999?(e/1e3).toFixed(Kc(e,"K"))+" K":e.toFixed(t.tickDecimals)}function vS(){try{const e=localStorage.getItem("labelsSelected");if(typeof e=="string")return JSON.parse(e)}catch(e){return console.log(e),[]}}const xi=window.jQuery;function bS(e){let t=null;xi("#tooltip").remove(),t=null,xi(this).on("plothover",function(n,r,i){if(e.unhighlight(),i){let s=e.getData();const[o,l]=i.datapoint,c=JSON.parse(localStorage.getItem("labelsSelected")||"null"),h=m=>(m==null?void 0:m.length)===2?m[1]:m[1]-m[2],u=rS(parseFloat(i.datapoint[1]))?parseFloat(h(i.datapoint)).toFixed(3):h(i.datapoint),g=c.length>0,S=[];for(let m=0;m<s.length;m++){const C=g?gS(s[m]):!0,k=s[m].data.map(y=>y).map(y=>y[0]),T=s[m].data.map(y=>y);if(k.includes(o)&&C){const y=k.indexOf(o),[N,M]=T.find(([L,P])=>L===o);S.push({color:s[m].color,label:s[m].label,value:M,plot:e,plotIndex:y,item:i,i:m})}}nS(S);const w=aS(S);if(t!==i.datapoint){t=i.datapoint;let m=en.sanitize(`<div style="display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #666;padding:6px;flex:1">
                <p>${nn(i.datapoint[0]).format("YYYY-MM-DDTHH:mm:ss.SSSZ")}</p>
      
                <p style="margin-left:10px">
              Value: ${u}</p>
                </div>
               <div style="padding:3px">
                ${w}
                </div>`);xi("#tooltip").remove();const C=m;if((S==null?void 0:S.length)>0){const k=oS(S);yS(i.pageX,i.pageY,C,k)}}}else xi("#tooltip").remove(),t=null})}function yS(e,t,n,r){let s=window.innerWidth/2,o;const l=window.event.clientX;o=l,l>s&&(o-=r<125?r*6+15:505),xi(en.sanitize(`<div id="tooltip">${n}</div>`)).css({position:"absolute",display:"none",top:t,left:o,padding:"6px","font-size":"12px","flex-direction":"column","max-width":"500px","border-radius":"6px 6px 6px 6px","background-color":"#333",color:"#aaa"}).appendTo("body").fadeIn(125)}const xS={critical:"purple",error:"red",warning:"orange",info:"green",debug:"blue",trace:"lightblue",unknown:"gray"},SS=e=>xS[e[0]]||"gray",Jc=(e,t,n)=>b.useMemo(()=>{let r=[{data:[],label:[],isVisible:!0,shadowSize:0,id:""}];return(t==null?void 0:t.length)>0?(r=[...t].map(i=>{let s={data:lS(i==null?void 0:i.values),label:Qc(i==null?void 0:i.metric,n,t.length),isVisible:!0,shadowSize:0,id:i.id};if(n){let o=SS(Qc(i==null?void 0:i.metric,n,t.length)||"");s.color=o}return s}),e?r==null?void 0:r.splice(0,20):r):r},[e,t]),wS=({tWidth:e},t=!1)=>b.useMemo(()=>{if(e){const n={...Uc(t)};return n.xaxis.ticks=Math.round(e/125),n}else return Uc},[e]);function TS(){return b.useMemo(()=>vS(),[])}const CS=ve("div",{target:"e1l2k4n66"})("display:flex;flex-wrap:wrap;max-height:60px;overflow-y:auto;margin:5px;&::-webkit-scrollbar{width:5px;height:5px;}&::-webkit-scrollbar-corner{background:transparent;}&::-webkit-scrollbar-thumb{border-radius:5px;background:",({theme:e})=>e.alphaPlusNeutral,";}"),kS=ve("div",{target:"e1l2k4n65"})("font-size:12px;color:",({theme:e})=>e.contrast,";font-family:sans-serif;display:flex;align-items:center;line-height:1.5;padding-right:10px;cursor:pointer;opacity:",e=>e.isVisible?"1":".5",";border-radius:3px;&:hover{background:",({theme:e})=>e.lightNeutral,";}"),ES=ve("div",{target:"e1l2k4n64"})("height:4px;width:16px;margin-right:8px;background:",e=>e.color,';content:" ";'),ha=ve("button",{target:"e1l2k4n63"})("background:",e=>e.isActive?e.theme.neutral:e.theme.lightNeutral,";color:",({theme:e})=>e.contrast,";padding:3px 12px;border:1px solid ",({theme:e})=>e.accentNeutral,";border-radius:",e=>e.rightBtn?"0px 3px 3px 0px":e.leftBtn?"3px 0px 0px 3px":"none",";cursor:pointer;font-size:12px;line-height:20px;white-space:nowrap;flex:1;"),_S=ve("div",{target:"e1l2k4n62"})("display:flex;align-items:center;flex-direction:",e=>e.isMobile?"column":"row",";margin:10px 25px;justify-content:space-between;.limit-cont{display:flex;align-items:center;justify-content:space-between;flex:1;margin-bottom:",e=>e.isMobile?"10px":"0px",";width:",e=>e.isMobile?"100%":"auto",";div{flex:",e=>e.isMobile?"1":"0",";text-align:",e=>e.isMobile?"center":"left",";}}.chart-buttons-cont{display:flex;align-items:center;justify-content:center;flex:",e=>e.isMobile?"1":"0",";width:",e=>e.isMobile?"100%":"auto",";}"),Yc=ve("div",{target:"e1l2k4n61"})("font-size:12px;line-height:20px;padding:3px 12px;white-space:nowrap;color:",({theme:e})=>e.contrast,";background:",({theme:e})=>e.neutral,";border:1px solid ",({theme:e})=>e.accentNeutral,";border-radius:3px;cursor:pointer;transition:0.2s all;&:hover{background:",({theme:e})=>e.lightNeutral,";}"),IS=ve("div",{target:"e1l2k4n60"})("height:inherit;display:flex;flex-direction:column;flex:1;background:",({theme:e})=>e.ultraDeep,";.chart-cont{flex:1;}");function RS({onLabelClick:e,labels:t}){const n=TS(),r=b.useMemo(()=>(n==null?void 0:n.length)>0,[n]);function i({id:o}){return n==null?void 0:n.some(l=>l.id===o)}const s=o=>{o.isVisible=!o.isVisible,e(t,o)};return f(CS,{children:(t==null?void 0:t.length)&&(t==null?void 0:t.map((o,l)=>F(kS,{isVisible:r?i(o):!0,onClick:()=>s(o),children:[f(ES,{color:o.color}),o.label]},l)))})}function MS({isSpliced:e,handleNoLimitData:t,handleLimitData:n,matrixData:r}){return e?F(Yc,{onClick:t,children:[r.length>20?"Showing: 20 Series, Show All ":"Showing: ",r.length," Series"]}):F(Yc,{onClick:n,children:["Showing: ",r.length," Series, Show Only 20 Series"]})}function NS({matrixData:e,chartType:t,handleNoLimitData:n,handleLimitData:r,isSpliced:i,onSetChartType:s}){const o=Be(),l=wn.useMediaQuery({query:"(max-width: 565px)"});function c(){s("bar")}function h(){s("line")}function u(){s("points")}return f(vt,{theme:o,children:F(_S,{isMobile:l,children:[f("div",{className:"limit-cont",children:f(MS,{isSpliced:i,handleNoLimitData:n,handleLimitData:r,matrixData:e})}),F("div",{className:"chart-buttons-cont",children:[f(ha,{isActive:t==="bar",onClick:c,leftBtn:!0,children:"bar chart"}),f(ha,{onClick:h,isActive:t==="line",children:"line chart"}),f(ha,{onClick:u,isActive:t==="points",rightBtn:!0,children:"points chart"})]})]})})}function OS(e){const{theme:t,matrixData:n,chartType:r,handleLimitData:i,handleNoLimitData:s,isSpliced:o,onSetChartType:l,chartRef:c,onLabelClick:h,labels:u,isLogsVolume:g}=e;return f(vt,{theme:t,children:F(IS,{children:[g?f("div",{style:{display:"flex",justifyContent:"center",fontSize:"12px",color:t.contrast},children:"Logs Volume"}):f(NS,{matrixData:n,chartType:r,handleNoLimitData:s,handleLimitData:i,isSpliced:o,onSetChartType:l}),f("div",{className:"chart-cont",children:f("div",{ref:c,id:"chart-container",style:{flex:"1",minHeight:"97px",height:"100%",display:"block",position:"relative",paddingTop:"10px"}})}),f(RS,{onLabelClick:h,labels:u})]})})}function nl(e){const{matrixData:t,actualQuery:n,type:r}=e,{tWidth:i}=e,{expr:s,dataSourceType:o,queryType:l,limit:c,panel:h,id:u,isLogsVolume:g}=n,S=b.useRef(null),w=Be(),m=window.jQuery;m.fn.UseTooltip=bS;const C=Jc(!0,t,g&&r==="stream"),k=zt(),[T,y]=b.useState(!0),[N,M]=b.useState(C),[L]=b.useState(Jc(!1,t,g&&r==="stream")),[P,p]=b.useState([]),[_,I]=b.useState(S.current),D=wS({tWidth:i},g&&r==="stream"||!1),[$,z]=b.useState(D),V=b.useMemo(()=>{let ke=uS();return g&&r==="stream"?"bar":ke!==""?ke:"line"},[g]),[K,se]=b.useState(V);function ue(ke,Oe,re){let Ce=0;g&&Oe==="stream"&&(Ce=pi($r(ke),i));const Ee=cS(Oe,Ce),{timeformat:be,min:pe,max:Te}=gi(ke);return m.plot(re,ke,m.extend(!0,{},$,{...Ee,xaxis:{timeformat:be,min:pe,max:Te}}))}function te(ke){const Oe=m(S.current),re=T?N:L,Ce=Gc(re,ke);try{let Ee=ue(Ce,ke,Oe);const be=Ee.getData();p(be),m(S.current).UseTooltip(Ee),se(ke),dS(ke)}catch(Ee){console.log(re,Ee)}}function he(ke,Oe){const re=m(S.current),Ce=T?N:L;ke.preventDefault();let Ee=[];const be=JSON.parse(localStorage.getItem("labelsSelected")||"null")||[];if((be==null?void 0:be.length)>0){let pe=0;g&&r==="stream"&&(pe=pi($r(Ce),i));const{lines:Te,bars:Je,points:tt}=dr(K,pe,g&&r==="stream"),De=be==null?void 0:be.map(Ze=>Ze.id);Ee=Ce==null?void 0:Ce.map(Ze=>De.includes(Ze.id)?{...Ze,stack:g&&r==="stream",bars:Je,lines:Te,points:tt,isVisible:!0,shadowSize:0}:{...Ze,lines:{...Ze.lines,show:!1},bars:{...Ze.bars,show:!1},points:{...Ze.points,show:!1},isVisible:!1,shadowSize:0})}else Ee=Ce;try{let pe=m.plot(re,Ee,m.extend(!0,{},$,{xaxis:{min:Oe.xaxis.from-1e5,max:Oe.xaxis.to+1e5,timeformat:gi(Ee).timeformat}}));m(S.current).UseTooltip(pe),setTimeout(()=>{const Te=Oe.xaxis.from,Je=Oe.xaxis.to,tt=new Date(nn(parseInt(Te)).format("YYYY-MM-DDTHH:mm:ss.SSSZ")),De=new Date(nn(parseInt(Je)).format("YYYY-MM-DDTHH:mm:ss.SSSZ")),Ye=Pn(tt,"yyyy/MM/dd HH:mm:ss"),Ze=Pn(De,"yyyy/MM/dd HH:mm:ss"),it=`${Ye}-${Ze}`;k(So(De)),k(xo(tt)),k(wo(it)),k(An(o,s,l,c,h,u))},400)}catch(pe){console.log("error on chart redraw",pe)}}function Y(ke,Oe){let re=[];const Ce=JSON.parse(localStorage.getItem("labelsSelected")||"null")||[];if(Ce.some(({id:Ee})=>Ee===Oe.id)){const Ee=Ce.filter(be=>be.id!==Oe.id);localStorage.setItem("labelsSelected",JSON.stringify(Ee)),re=Ee}else re=Ce.concat(Oe),localStorage.setItem("labelsSelected",JSON.stringify(re));if(re.length>0){const Ee=re==null?void 0:re.map(Ke=>Ke.id),{lines:be,bars:pe,points:Te}=dr(K,0);let Je=ke==null?void 0:ke.map(Ke=>Ee.includes(Ke.id)?{...Ke,stack:g&&r==="stream",bars:pe,lines:be,points:Te}:{...Ke,lines:{...Ke.lines,show:!1},bars:{...Ke.bars,show:!1},points:{...Ke.points,show:!1}});const{timeformat:tt,min:De,max:Ye}=gi(Je);let Ze=0;g&&r==="stream"&&(Ze=pi($r(Je),i));let it=m.plot(_,Je,m.extend(!0,{},$,{series:dr(K,Ze),xaxis:{timeformat:tt,min:De,max:Ye}}));const rt=it.getData();p(rt),m(S.current).UseTooltip(it)}else{const Ee=T?N:L;let be=0;g&&r==="stream"&&(be=pi($r(Ee),i));const{lines:pe,bars:Te,points:Je}=dr(K,be),tt=Ee==null?void 0:Ee.map(Ke=>({...Ke,bars:Te,lines:pe,points:Je,isVisible:!0,shadowSize:0})),{timeformat:De,min:Ye,max:Ze}=gi(tt);let it=m.plot(_,tt,m.extend(!0,{},$,{series:dr(K,be||0,g&&r==="stream"),xaxis:{timeformat:De,min:Ye,max:Ze}}));const rt=it.getData();p(rt),m(S.current).UseTooltip(it)}}b.useEffect(()=>{I(S.current),p(N==null?void 0:N.map(({label:ke})=>ke)),m(S.current).bind("plotselected",he),M(C),localStorage.setItem("labelsSelected",JSON.stringify([]))},[]),b.useEffect(()=>{z($),I(S.current),Fe()},[t,T]);function Fe(){const ke=T?N:L,Oe=m(S.current);let re=Gc(ke,null);try{let Ce=0;g&&r==="stream"&&(Ce=pi($r(re),i));const{timeformat:Ee,min:be,max:pe}=gi(re);let{bars:Te,lines:Je,points:tt,stack:De}=dr(K,Ce,g&&r==="stream"),Ye=m.plot(Oe,re,m.extend(!0,{},$,{series:{stack:De,bars:Te,lines:Je,points:tt},xaxis:{timeformat:Ee,min:be,max:pe}}));const Ze=Ye.getData();p(Ze),m(S.current).UseTooltip(Ye)}catch(Ce){console.log(Ce)}}const $e=ke=>{y(!1)},me=ke=>{y(!0)};if(t){const ke={height:e.vHeight,theme:w,matrixData:t,chartType:K,handleLimitData:me,handleNoLimitData:$e,isSpliced:T,onSetChartType:te,chartRef:S,onLabelClick:Y,labels:P,isLogsVolume:g&&r==="stream"},Oe=new Set;return t.forEach(re=>{var Ce;(Ce=re==null?void 0:re.values)==null||Ce.forEach(Ee=>Oe.add(Ee==null?void 0:Ee[0]))}),Oe.size===1&&K!=="bar"&&te("bar"),f(OS,{...ke})}return null}const Xc={critical:["emerg","fatal","alert","crit","critical"],error:["err","eror","error"],warning:["warn","warning"],info:["info","information","notice"],debug:["dbug","debug"],trace:["trace"]},Zc={critical:"purple",error:"red",warning:"orange",info:"green",debug:"blue",trace:"lightblue",unknown:"gray"},LS=ti((e,t)=>({items:e,toggleItemActive:t}));function DS(e){return nn(parseInt(e)).format("YYYY-MM-DD HH:mm:ss.SSS UTC")}function AS(e){const t=(e==null?void 0:e.severity)||(e==null?void 0:e.level);if(t){const n=Object.keys(Xc).find(r=>Xc[r].includes(t.toLowerCase()));return Zc[n]}else return Zc.unknown}function PS(e,t){return b.useMemo(()=>{var n;if(((n=t==null?void 0:t.linkedFields)==null?void 0:n.length)>0&&e){const r=t.linkedFields.map(s=>{const{id:o,regex:l,name:c,internalLink:h}=s,u=new RegExp(l,"i"),g=e.match(u);return g&&(g==null?void 0:g.length)>0?{name:c,internalLink:h,id:o,tagGroups:g.groups}:{}});let i={tags:{},fields:[]};for(let s of r)i.tags={...i.tags,...s.tagGroups},i.fields.push(s);return i}else return{}},[t,e])}function $S(e){return b.useMemo(()=>{const t=e==null?void 0:e.linkedFields,n=e==null?void 0:e.id,r=e==null?void 0:e.name,i=e==null?void 0:e.url;if(e)return{linkedFields:t,id:n,name:r,url:i}},[e])}const zS=ie({name:"11ugrxg",styles:"display:flex;flex-wrap:wrap;margin-top:3px"}),VS=ve("div",{target:"e13uat153"})("color:",({theme:e})=>e.contrast,";font-size:12px;cursor:pointer;padding-left:0.5rem;margin-left:0.25rem;display:flex;flex-direction:column;margin-bottom:2px;margin-top:2px;font-family:monospace;&:hover{background:",({theme:e})=>e.activeBg,";}p{display:inline-block;overflow-wrap:anywhere;margin-left:3px;}border-left:4px solid ",({rowColor:e})=>e,";.log-ts-row{display:flex;}"),FS=ve("span",{target:"e13uat152"})("font-size:12px;color:",({theme:e})=>e.hardContrast,";line-height:1.5;"),jS=ve("span",{target:"e13uat151"})("position:relative;color:",({theme:e})=>e.contrast,";margin-right:0.25rem;white-space:nowrap;font-size:12px;line-height:1.5;"),HS=ve("div",{target:"e13uat150"})({name:"73mkv6",styles:"overflow:hidden;overflow-y:auto;height:calc(100% - 20px)"});function BS({text:e,dateFormated:t,isMobile:n,isSplit:r,isShowTs:i}){const s=()=>i&&!n&&!r,o=()=>(n||r)&&i;return F("div",{className:"log-ts-row",children:[s()&&f(jS,{children:t}),F(FS,{children:[o()&&f("p",{children:t}),f("p",{children:e})]})]})}const qS=ve("div",{target:"er7kxpa1"})("color:",({theme:e})=>e.maxContrast,";flex:0;background-color:hsl(220, 67%, 55%);display:flex;margin-left:5px;padding:0 4px;border-radius:2px;font-size:12px;align-items:center;white-space:nowrap;"),WS=ve("div",{target:"er7kxpa0"})("color:",({theme:e})=>e.hardContrast,";flex:1;display:flex;&:hover{background:",({theme:e})=>e.shadow,";}"),eu={width:"18px",height:"18px"};var rl={},US=Ct;Object.defineProperty(rl,"__esModule",{value:!0});var Is=rl.default=void 0,QS=US(Tt()),GS=qe,KS=(0,QS.default)((0,GS.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}),"OpenInNew");Is=rl.default=KS;const JS=["json","regexp","logfmt","pattern","~","="],YS=/{[^}]*}/,$t={newQuery:(e,t,n)=>{const[r,i]=e;return`${n[0]||""}{${r}${t}"${i}"}${n[2]||""}`},equalLabels:(e,t,n)=>t==="!="?$t.newQuery(e,t,n):"{}",formatQuery:(e,t)=>`${t[0]||""}{${e||""}}${t[2]||""}`,splitLabels:e=>{var t,n;return((n=(t=e==null?void 0:e.match(/[^{}]+(?=})/g))==null?void 0:t.map(r=>r.split(",")))==null?void 0:n.flat())||[]},addLabel:(e,t,n)=>e==="!="?t:n,rmValueFromLabel:(e,t)=>{var c,h;const[n,r]=e==null?void 0:e.split("=~");let i=r==null?void 0:r.split(/[""]/)[1],s=i==null?void 0:i.split("|"),o=s==null?void 0:s.filter(u=>u.trim()!==(t==null?void 0:t.trim()));if((o==null?void 0:o.length)>1){const u=(c=o==null?void 0:o.join("|"))==null?void 0:c.trim();return(n==null?void 0:n.trim())+'=~"'+u+'"'}const l=(h=o==null?void 0:o.join(""))==null?void 0:h.trim();return(n==null?void 0:n.trim())+'="'+l+'"'},rmNonEqValueFromLabel:(e,t)=>{var c,h;const[n,r]=e==null?void 0:e.split("!~");let i=r==null?void 0:r.split(/[""]/)[1],s=i==null?void 0:i.split("|"),o=s==null?void 0:s.filter(u=>u.trim()!==(t==null?void 0:t.trim()));if((o==null?void 0:o.length)>1){const u=(c=o==null?void 0:o.join("|"))==null?void 0:c.trim();return(n==null?void 0:n.trim())+'!~"'+u+'"'}const l=(h=o==null?void 0:o.join(""))==null?void 0:h.trim();return(n==null?void 0:n.trim())+'!="'+l+'"'},addValueToLabel:(e,t,n)=>{let r=n?"=":"=~";const[i,s]=e==null?void 0:e.split(r),o=s==null?void 0:s.split(/[""]/)[1];return`${i}=~"${o==null?void 0:o.trim()}|${t==null?void 0:t.trim()}"`},addNonEqValueToLabel:(e,t,n)=>{let r=n?"!=":"!~";const[i,s]=e==null?void 0:e.split(r),o=s==null?void 0:s.split(/[""]/)[1];return`${i}!~"${o==null?void 0:o.trim()}|${t==null?void 0:t.trim()}"`},isEqualsQuery:(e,t)=>{const[n,r]=t;return e===`{${n}="${r}"}`},editQuery:(e,t,n,r)=>$t.isEqualsQuery(e,t)&&t!==null?$t.equalLabels(t,n,r):XS.fromLabels(e,t,n,r)},XS={fromLabels:(e,t,n,r)=>{const i=ZS(t,e,n);return $t.formatQuery(i,r)}};function ZS(e,t,n){var c,h,u,g,S,w,m,C,k,T,y,N,M,L,P,p,_,I,D,$,z,V,K,se,ue,te,he;const[r,i]=e,s=`${r}="${i}"`,o=`${r}!="${i}"`;let l=$t.splitLabels(t);if(!l)return"";for(let Y of l){const Fe=Y.match(/([^{}=,~!]+)/gm),$e=$t.splitLabels(t);if(!Fe)return"";if(i!==null&&!Y.includes(r==null?void 0:r.trim())&&!($e!=null&&$e.some(me=>me.includes(r)))){let me=n==="!="?o:Y;const ke=$t.addLabel(n,me,s);return $t.splitLabels(t).concat(ke).join(",")}if(i!==null&&(Y!=null&&Y.includes("="))&&((h=(c=Y==null?void 0:Y.split("="))==null?void 0:c[0])==null?void 0:h.trim())===(r==null?void 0:r.trim())&&!(Y!=null&&Y.includes(i))){let me=$t.addValueToLabel(Y,i,!0),ke=new RegExp(`${Y}`);return(g=(u=$t==null?void 0:$t.splitLabels(t))==null?void 0:u.join(","))==null?void 0:g.replace(ke,me)}if(i!==null&&(Y!=null&&Y.includes("=~"))&&((w=(S=Y==null?void 0:Y.split("=~"))==null?void 0:S[0])==null?void 0:w.trim())===(r==null?void 0:r.trim())&&(Y!=null&&Y.includes(i))){const me=$t.rmValueFromLabel(Y,i);let ke=new RegExp(`${Y}`);return(C=(m=$t==null?void 0:$t.splitLabels(t))==null?void 0:m.join(","))==null?void 0:C.replace(ke,me)}if(i!==null&&(Y!=null&&Y.includes("=~"))&&((T=(k=Y==null?void 0:Y.split("=~"))==null?void 0:k[0])==null?void 0:T.trim())===(r==null?void 0:r.trim())&&!(Y!=null&&Y.includes(i==null?void 0:i.trim())))return $t.addValueToLabel(Y,i,!1);if(Y!=null&&Y.includes("=")&&((N=(y=Y==null?void 0:Y.split("="))==null?void 0:y[0])==null?void 0:N.trim())===(r==null?void 0:r.trim())&&(((L=(M=Y==null?void 0:Y.split('"'))==null?void 0:M[1])==null?void 0:L.trim())===(i==null?void 0:i.trim())||i===null)&&($e!=null&&$e.some(me=>me===Y))){const me=$e==null?void 0:$e.filter(ke=>ke!==Y);return me==null?void 0:me.join(",")}if(Y!=null&&Y.includes("!=")&&((p=(P=Y==null?void 0:Y.split("!="))==null?void 0:P[0])==null?void 0:p.trim())===(r==null?void 0:r.trim())&&(((I=(_=Y==null?void 0:Y.split('"'))==null?void 0:_[1])==null?void 0:I.trim())===(i==null?void 0:i.trim())||i===null)&&($e!=null&&$e.some(me=>me===Y))){const me=$e==null?void 0:$e.filter(ke=>ke!==Y);return me==null?void 0:me.join(",")}if(Y!=null&&Y.includes("!=")&&((D=Y==null?void 0:Y.split("!=")[0])==null?void 0:D.trim())===(r==null?void 0:r.trim())){let me=$t.addNonEqValueToLabel(Y,i,!0),ke=new RegExp(`${Y}`);return(z=($=$t.splitLabels(t))==null?void 0:$.join(","))==null?void 0:z.replace(ke,me)}if(i!==null&&(Y!=null&&Y.includes("!~"))&&((K=(V=Y==null?void 0:Y.split("!~"))==null?void 0:V[0])==null?void 0:K.trim())===(r==null?void 0:r.trim())&&(Y!=null&&Y.includes(i))){const me=$t.rmNonEqValueFromLabel(Y,i);let ke=new RegExp(`${Y}`);return $t.splitLabels(t).join(",").replace(ke,me)}if(Y!=null&&Y.includes("!=")&&((ue=(se=Y==null?void 0:Y.split("!="))==null?void 0:se[0])==null?void 0:ue.trim())===(r==null?void 0:r.trim())&&(((he=(te=Y==null?void 0:Y.split('"'))==null?void 0:te[1])==null?void 0:he.trim())===(i==null?void 0:i.trim())||i===null)&&($e!=null&&$e.some(me=>me===Y))){const me=$e==null?void 0:$e.filter(ke=>ke!==Y);return me==null?void 0:me.join(",")}}return""}function Pf(e,t,n,r,i){var u,g;const{newQuery:s,editQuery:o}=$t;let l=[t,n],c=e==null?void 0:e.split(/[{}]/);const h=(e==null?void 0:e.match(YS))&&c[1].length>7;return((u=c[1])==null?void 0:u.length)<1&&i==="metrics"?`${n}{}`:((g=c[1])==null?void 0:g.length)>1&&i==="metrics"?`${n}{${c[1]}}`:!h&&t!=="__name__"?s(l,r,c):o(e,l,r,c)}function ew(e,t,n=!1,r=[]){const i=t,s=i.split("{")[0];let o="";if(n){o=i.split("}")[1];const c=/[|json]/,h=i.split(c);if(JS.some(u=>h[1].includes(u))){const u=` | ${r}`;o=o.toString().concat(u.toString())}}else o=i.split("}")[1];const l=[];for(const c of e)if(c.selected&&c.values&&c.values.length>0){const h=c.values.filter(g=>g.selected&&!g.inverted).map(g=>g.name),u=c.values.filter(g=>g.selected&&g.inverted).map(g=>g.name);h.length>1?l.push(`${c.name}=~"${h.join("|")}"`):h.length===1&&l.push(`${c.name}="${h[0]}"`),u.forEach(g=>{l.push(`${c.name}!="${g}"`)})}return[s,"{",l.join(","),"}",o].join("")}function tw(e,t,n,r,i=!1,s="logs",o=!1,l=[]){const[c,h]=r,u=It.dispatch,S=(()=>i?"!=":"=")(),{left:w,right:m}=It.getState(),C=Pf(e,c,h,S,s);if(t==="left"){const k=[...w];k.forEach(T=>{T.id===n&&(T.expr=C)}),u(cn(k))}if(t==="right"){const k=[...m];k.forEach(T=>{T.id===n&&(T.expr=C)}),u(Yt(k))}}function tu(e,t,n,r){return e.includes(`${n}${t}"${r}"`)}async function nu(e,t,n,r=!1,i){e.preventDefault(),e.stopPropagation();const{expr:s,panel:o,id:l,dataSourceType:c}=i,h=tu(s,"!=",t,n),u=tu(s,"=",t,n);h&&r||u&&!r||tw(s,o,l,[t,n],r,c)}function nw(e){var t,n;return((n=(t=e==null?void 0:e.fields)==null?void 0:t.map(r=>{if(r!=null&&r.tagGroups){const i=Object.entries(r==null?void 0:r.tagGroups);return i==null?void 0:i.map(([o,l])=>({name:o,value:l}))}return[]}))==null?void 0:n.flat())||[]}const rw=({dataSourceData:e,linkedFieldTags:t,buttonKey:n,value:r,openTraces:i})=>{const s=Re(o=>o.dataSources);if(e!=null&&e.linkedFields){const{linkedFields:o}=e,l=nw(t),c=l==null?void 0:l.map(h=>h.name);if((o==null?void 0:o.length)>0){const{dataSourceId:h,linkType:u,internalLink:g}=o[0],S=s==null?void 0:s.find(m=>m.id===h),w=S==null?void 0:S.url;if(c.includes(n)&&r&&g===!0)return F(qS,{onClick:m=>{i(m,n,r,h,w,u)},children:[f(Is,{style:{width:"14px",height:"14px"}}),f("span",{children:u})]})}}return null};var il={},iw=Ct;Object.defineProperty(il,"__esModule",{value:!0});var $f=il.default=void 0,sw=iw(Tt()),ru=qe,aw=(0,sw.default)([(0,ru.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"},"0"),(0,ru.jsx)("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"},"1")],"ZoomIn");$f=il.default=aw;var sl={},ow=Ct;Object.defineProperty(sl,"__esModule",{value:!0});var zf=sl.default=void 0,lw=ow(Tt()),cw=qe,uw=(0,lw.default)((0,cw.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"}),"ZoomOut");zf=sl.default=uw;function dw({label:e,value:t,actQuery:n}){return F(mt,{children:[f("span",{"aria-label":"Filter for value",title:"Filter for value",onClick:r=>nu(r,e,t,!1,n),className:"icon",children:f($f,{color:"primary",style:eu})}),f("span",{"aria-label":"Filter out value",title:"Filter out value",onClick:r=>nu(r,e,t,!0,n),className:"icon",children:f(zf,{color:"primary",style:eu})})]})}function fw(e){const{tags:t,actQuery:n,dataSourceData:r,linkedFieldTags:i}=e,s=wn.useMediaQuery({query:"(max-width: 1013px)"}),o=Be(),l=Re(g=>g.isEmbed),c=zt(),h=Re(g=>g.right),u=(g,S,w,m,C,k)=>{var N;g.stopPropagation(),((N=e==null?void 0:e.actQuery)==null?void 0:N.panel)==="left"&&!s&&c(Qr(!0));let T=JSON.parse(JSON.stringify(h));const y=JSON.parse(JSON.stringify(e.actQuery));try{const M={...T[0],id:T[0].id,idRef:k+"="+w,panel:"right",queryType:"range",dataSourceType:k.toLowerCase()||"traces",dataSourceId:m||"32D16h5uYBqUUzhD",dataSourceURL:C,expr:w,limit:100,step:100,tableView:!1,chartView:!1,isShowTs:!1,browserOpen:!1,labels:[],values:[],direction:"forward",loading:!1,open:!0};c(An(k.toLowerCase()||"traces",w,"range",y.limit||100,"right",M.id,"forward",m||"32D16h5uYBqUUzhD",C)),c(Yt([M]))}catch(M){console.log(M)}};return f(vt,{theme:o,children:Object.entries(t).map(([g,S],w)=>f(WS,{children:F("div",{className:"value-tags",children:[!l&&f(dw,{label:g,value:S,actQuery:n}),f("span",{children:g}),F("span",{style:{flex:1},children:[S,f(rw,{...e,dataSourceData:r,linkedFieldTags:i,buttonKey:g,value:S,openTraces:u})]})]},w)},w))})}function hw(e){const{showLabels:t,tags:n,actQuery:r}=e;return t?f("div",{className:"value-tags-container",children:f(fw,{...e,tags:n,actQuery:r})}):null}function pw(e){const{toggleItemActive:t,index:n,log:r,actQuery:i,isMobile:s,isSplit:o,dataSourceData:l}=e,{tags:c,timestamp:h,text:u,showLabels:g}=r,S=PS(u,l),w=b.useMemo(()=>AS(c),[c]),m=b.useMemo(()=>DS(h),[h]),C={actQuery:i,tags:{...c,...S.tags},linkedFieldTags:S,showLabels:g,dataSourceData:l};return F(VS,{...{rowColor:w,onClick:()=>{t(n)}},children:[f(BS,{...{dateFormated:m,text:u,isMobile:s,isSplit:o,dataSourceData:l},isShowTs:i.isShowTs}),f(hw,{...C})]})}function gw(e){var u;const{items:t,toggleItemActive:n,actQuery:r,dataSourceId:i}=e,{splitted:s}=r,o=LS(t,n),l=wn.useMediaQuery({query:"(max-width: 1013px)"}),c=Re(({dataSources:g})=>g==null?void 0:g.find(S=>S.id===i)),h=$S(c);return(u=o==null?void 0:o.items)==null?void 0:u.map((g,S)=>f(pw,{index:S,dataSourceId:i,dataSourceData:h,actQuery:r,log:g,isSplit:s,isMobile:l,toggleItemActive:n},S))}const mw=e=>{const{actualQuery:t}=e,{dataSourceId:n}=t,[r,i]=b.useState(e.messages),s=o=>{i(l=>{const c=l[o],h=l.concat();return h[o]={...c,showLabels:!c.showLabels},h})};return b.useEffect(()=>{i(e.messages)},[e.messages]),f(HS,{children:f(gw,{...e,dataSourceId:n,actQuery:t,items:r,toggleItemActive:s})})},vw=e=>{var D;const{viewRef:t,panelSize:n,viewHeight:r,setStreamClose:i,setMaxHeight:s,setMinimize:o,actualQuery:l,total:c,type:h,theight:u,viewWidth:g,tableData:S,streamData:w,logsVolumeData:m}=e,{isLogsVolume:C,loading:k}=l,{limit:T}=l,[y,N]=b.useState(Un(l)[l.id]||0),[M,L]=b.useState(e.streamData),P=b.useMemo(()=>{var $;return JSON.parse(JSON.stringify(($=e==null?void 0:e.dataView)==null?void 0:$.raw))||[]},[(D=e==null?void 0:e.dataView)==null?void 0:D.raw]),p=Re($=>$.theme),_=b.useMemo(()=>p==="light"?"rjv-default":"tomorrow",[p]),I=($,z)=>{const V={...Un(l),[l.id]:z};localStorage.setItem("tabsState",JSON.stringify(V)),typeof z=="number"&&N(()=>z)};return b.useEffect(()=>{k||L(e.streamData)},[e.streamData]),F(_s,{ref:t,size:n,vheight:r,children:[f(Ai,{onClose:i,setMinimize:o,setMaxHeight:s,actualQuery:l,total:c,type:h,...e}),C&&(m==null?void 0:m.length)>0&&g>0&&f("div",{children:!k&&f(nl,{...e,tWidth:g,chartLimit:T,matrixData:m,actualQuery:l})}),F(Ni,{defaultValue:Un(l)[l.id]||0,value:y,onChange:I,children:[F(Go,{panelsize:e.panelSize,children:[f(Wn,{children:"Logs"}),S&&f(Wn,{children:"Table"}),f(Wn,{children:"Raw"})]}),f(qn,{value:0,children:f("div",{className:"view-content",children:!k&&f(mw,{...e,onClose:i,messages:M,actualQuery:l})})}),f(qn,{value:1,children:f("div",{className:"view-content",children:!k&&f(tl,{...e,height:u,data:S,actualQuery:l})})}),f(qn,{value:2,children:f("div",{className:"view-content",children:f("div",{style:{padding:"20px"},children:!k&&f(uo,{theme:_,src:P})})})})]})]})},bw=e=>{var _,I;const{viewRef:t,panelSize:n,viewHeight:r,setStreamClose:i,setMaxHeight:s,setMinimize:o,actualQuery:l,total:c,type:h,theight:u,tableData:g,viewWidth:S,limit:w,streamData:m}=e,{loading:C}=l,k=Re(D=>D.theme),[T,y]=b.useState([]),N=b.useMemo(()=>k==="light"?"rjv-default":"tomorrow",[k]),[M,L]=b.useState(Un(l)[l.id]||0),P=b.useMemo(()=>{var D;return JSON.parse(JSON.stringify((D=e==null?void 0:e.dataView)==null?void 0:D.raw))||[]},[(_=e==null?void 0:e.dataView)==null?void 0:_.raw]),p=(D,$)=>{const z={...Un(l),[l.id]:$};localStorage.setItem("tabsState",JSON.stringify(z)),typeof $=="number"&&L(()=>$)};return b.useEffect(()=>{var D;!C&&((D=m==null?void 0:m[0])!=null&&D.metric)&&y(m)},[m]),F(_s,{ref:t,size:n,vheight:r,children:[f(Ai,{onClose:i,setMinimize:o,setMaxHeight:s,actualQuery:l,total:c,type:h,...e}),F(Ni,{style:{display:"flex",flex:1,flexDirection:"column"},defaultValue:Un(l)[l.id]||0,value:M,onChange:p,children:[F(Go,{panelsize:e.panelSize,children:[f(Wn,{children:"Chart"}),f(Wn,{children:"Table"}),f(Wn,{children:"Raw"})]}),f(qn,{value:0,children:f("div",{className:"view-content",style:{height:"100%"},children:!C&&((I=T==null?void 0:T[0])==null?void 0:I.metric)&&f(nl,{...e,tWidth:S,chartLimit:w,matrixData:T,actualQuery:l})})}),f(qn,{value:1,children:f("div",{className:"view-content",children:!C&&f(tl,{...e,height:u,data:g,actualQuery:l})})}),f(qn,{value:2,children:f("div",{className:"view-content",children:f("div",{style:{padding:"20px"},children:!C&&f(uo,{theme:N,src:P})})})})]})]})},yw=e=>{var P;const{viewRef:t,panelSize:n,viewHeight:r,setStreamClose:i,setMinimize:s,setMaxHeight:o,actualQuery:l,total:c,type:h,theight:u,streamData:g,viewWidth:S,limit:w}=e,{loading:m}=l,C=Re(p=>p.theme),k=b.useMemo(()=>C==="light"?"rjv-default":"tomorrow",[C]),T=b.useRef(null),y=b.useMemo(()=>{var p;return JSON.parse(JSON.stringify((p=e==null?void 0:e.dataView)==null?void 0:p.raw))||[]},[(P=e==null?void 0:e.dataView)==null?void 0:P.raw]),[N,M]=b.useState(Un(l)[l.id]||0),L=(p,_)=>{const I={...Un(l),[l.id]:_};localStorage.setItem("tabsState",JSON.stringify(I)),typeof _=="number"&&M(()=>_)};return F(_s,{ref:t,size:n,vheight:r,children:[f(Ai,{onClose:i,setMinimize:s,setMaxHeight:o,actualQuery:l,total:c,type:h,...e}),F(Ni,{defaultValue:Un(l)[l.id]||0,value:N,onChange:L,children:[F(Go,{panelsize:e.panelSize,children:[f(Wn,{children:"Table"}),f(Wn,{children:"Raw"}),(g==null?void 0:g.chartData)&&f(Wn,{children:"Chart"})]}),f(qn,{value:0,children:f("div",{className:"view-content",ref:T,id:en.sanitize(`${l==null?void 0:l.id}-view`),children:!m&&f(tl,{...e,height:u,data:g.tableData,actualQuery:l})})}),f(qn,{value:1,children:f("div",{className:"view-content",children:f("div",{style:{padding:"20px"},children:!m&&f(uo,{theme:k,src:y})})})}),(g==null?void 0:g.chartData)&&f(qn,{value:2,children:f("div",{className:"view-content",children:!m&&f(nl,{...e,tWidth:S,chartLimit:w,matrixData:g.chartData,actualQuery:l})})})]})]})};var al={exports:{}},xw=function(e,t,n){var r=this;return e=e instanceof Array?e:[e],r.bindMultiple(e,t,n),r},Sw=function(e,t,n){for(var r=this,i=0;i<e.length;++i)r.bindSingle(e[i],t,n)},ww=function(e,t){var n=this;return n.bind(e,function(){},t)},Tw=function(e,t){var n=this;return n.directMap[e+":"+t]&&n.directMap[e+":"+t]({},e),this},Cw=function(){var e=this;return e.callbacks={},e.directMap={},this},kw=function(e,t){if((" "+t.className+" ").indexOf(" combokeys ")>-1)return!1;var n=t.tagName.toLowerCase();return n==="input"||n==="select"||n==="textarea"||t.isContentEditable},pa,iu;function ol(){return iu||(iu=1,pa=function(e){return e==="shift"||e==="ctrl"||e==="alt"||e==="meta"}),pa}var Ew=function(e,t,n){var r=this,i,s,o={},l=0,c=!1,h,u;for(i=r.getMatches(e,t,n),s=0;s<i.length;++s)i[s].seq&&(l=Math.max(l,i[s].level));for(s=0;s<i.length;++s){if(i[s].seq){if(i[s].level!==l)continue;c=!0,o[i[s].seq]=1,r.fireCallback(i[s].callback,n,i[s].combo,i[s].seq);continue}c||r.fireCallback(i[s].callback,n,i[s].combo)}u=n.type==="keypress"&&r.ignoreNextKeypress,h=ol(),n.type===r.nextExpectedAction&&!h(e)&&!u&&r.resetSequences(o),r.ignoreNextKeypress=c&&n.type==="keydown"},Rs={exports:{}};Rs.exports=Vf;Rs.exports.on=Vf;Rs.exports.off=_w;function Vf(e,t,n,r){return!e.addEventListener&&(t="on"+t),(e.addEventListener||e.attachEvent).call(e,t,n,r),n}function _w(e,t,n,r){return!e.removeEventListener&&(t="on"+t),(e.removeEventListener||e.detachEvent).call(e,t,n,r),n}var Ff=Rs.exports,ga={exports:{}},su;function jf(){return su||(su=1,function(e){e.exports={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",173:"minus",187:"plus",189:"minus",224:"meta"};for(var t=1;t<20;++t)e.exports[111+t]="f"+t;for(t=0;t<=9;++t)e.exports[t+96]=t}(ga)),ga.exports}var ma,au;function Iw(){return au||(au=1,ma={106:"*",107:"plus",109:"minus",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}),ma}var va,ou;function Hf(){return ou||(ou=1,va=function(e){var t,n;if(t=jf(),n=Iw(),e.type==="keypress"){var r=String.fromCharCode(e.which);return e.shiftKey||(r=r.toLowerCase()),r}return t[e.which]!==void 0?t[e.which]:n[e.which]!==void 0?n[e.which]:String.fromCharCode(e.which).toLowerCase()}),va}var ba,lu;function Rw(){return lu||(lu=1,ba=function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}),ba}var ya,cu;function Mw(){return cu||(cu=1,ya=function(e){var t=this,n,r;typeof e.which!="number"&&(e.which=e.keyCode),n=Hf();var i=n(e);if(i!==void 0){if(e.type==="keyup"&&t.ignoreNextKeyup===i){t.ignoreNextKeyup=!1;return}r=Rw(),t.handleKey(i,r(e),e)}}),ya}var Nw=function(){var e=this,t=Ff,n=e.element;e.eventHandler=Mw().bind(e),t(n,"keypress",e.eventHandler),t(n,"keydown",e.eventHandler),t(n,"keyup",e.eventHandler)},Ow=function(e,t,n,r,i){var s=this;s.directMap[e+":"+n]=t,e=e.replace(/\s+/g," ");var o=e.split(" "),l;if(o.length>1){s.bindSequence(e,o,t,n);return}l=s.getKeyInfo(e,n),s.callbacks[l.key]=s.callbacks[l.key]||[],s.getMatches(l.key,l.modifiers,{type:l.action},r,e,i),s.callbacks[l.key][r?"unshift":"push"]({callback:t,modifiers:l.modifiers,action:l.action,seq:r,level:i,combo:e})},xa,uu;function Lw(){return uu||(uu=1,xa=function(e){return e==="+"?["+"]:e.split("+")}),xa}var Sa,du;function Dw(){return du||(du=1,Sa={option:"alt",command:"meta",return:"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"}),Sa}var wa,fu;function Aw(){return fu||(fu=1,wa={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"}),wa}var Pw=function(e,t){var n=this,r,i,s,o,l=[],c,h,u;for(r=Lw(),i=r(e),c=Dw(),h=Aw(),u=ol(),o=0;o<i.length;++o)s=i[o],c[s]&&(s=c[s]),t&&t!=="keypress"&&h[s]&&(s=h[s],l.push("shift")),u(s)&&l.push(s);return t=n.pickBestAction(s,l,t),{key:s,modifiers:l,action:t}},$w=function(e,t,n){var r=this;return n||(n=r.getReverseMap()[e]?"keydown":"keypress"),n==="keypress"&&t.length&&(n="keydown"),n},zw=function(){var e=this,t=e.constructor,n;if(!t.REVERSE_MAP){t.REVERSE_MAP={},n=jf();for(var r in n)r>95&&r<112||n.hasOwnProperty(r)&&(t.REVERSE_MAP[n[r]]=r)}return t.REVERSE_MAP},Ta,hu;function Vw(){return hu||(hu=1,Ta=function(e,t){return e.sort().join(",")===t.sort().join(",")}),Ta}var Fw=function(e,t,n,r,i,s){var o=this,l,c,h=[],u=n.type,g,S;if(u==="keypress"&&!(n.code&&n.code.slice(0,5)==="Arrow")){var w=o.callbacks["any-character"]||[];w.forEach(function(k){h.push(k)})}if(!o.callbacks[e])return h;for(g=ol(),u==="keyup"&&g(e)&&(t=[e]),l=0;l<o.callbacks[e].length;++l)if(c=o.callbacks[e][l],!(!r&&c.seq&&o.sequenceLevels[c.seq]!==c.level)&&u===c.action&&(S=Vw(),u==="keypress"&&!n.metaKey&&!n.ctrlKey||S(t,c.modifiers))){var m=!r&&c.combo===i,C=r&&c.seq===r&&c.level===s;(m||C)&&o.callbacks[e].splice(l,1),h.push(c)}return h},jw=function(e){var t=this;e=e||{};var n=!1,r;for(r in t.sequenceLevels){if(e[r]){n=!0;continue}t.sequenceLevels[r]=0}n||(t.nextExpectedAction=!1)},Ca,pu;function Hw(){return pu||(pu=1,Ca=function(e){if(e.preventDefault){e.preventDefault();return}e.returnValue=!1}),Ca}var ka,gu;function Bw(){return gu||(gu=1,ka=function(e){if(e.stopPropagation){e.stopPropagation();return}e.cancelBubble=!0}),ka}var qw=function(e,t,n,r){var i=this,s,o;i.stopCallback(t,t.target||t.srcElement,n,r)||e(t,n)===!1&&(s=Hw(),s(t),o=Bw(),o(t))},Ww=function(e,t,n,r){var i=this;i.sequenceLevels[e]=0;function s(u){return function(){i.nextExpectedAction=u,++i.sequenceLevels[e],i.resetSequenceTimer()}}function o(u){var g;i.fireCallback(n,u,e),r!=="keyup"&&(g=Hf(),i.ignoreNextKeyup=g(u)),setTimeout(function(){i.resetSequences()},10)}for(var l=0;l<t.length;++l){var c=l+1===t.length,h=c?o:s(r||i.getKeyInfo(t[l+1]).action);i.bindSingle(t[l],h,r,e,l)}},Uw=function(){var e=this;clearTimeout(e.resetTimer),e.resetTimer=setTimeout(function(){e.resetSequences()},1e3)},Ea=Ff.off,Qw=function(){var e=this,t=e.element;Ea(t,"keypress",e.eventHandler),Ea(t,"keydown",e.eventHandler),Ea(t,"keyup",e.eventHandler)},Gw=function(){var e=this;e.instances.forEach(function(t){t.reset()})};al.exports;(function(e){e.exports=function(t,n){var r=this,i=r.constructor;return r.options=Object.assign({storeInstancesGlobally:!0},n||{}),r.callbacks={},r.directMap={},r.sequenceLevels={},r.resetTimer=null,r.ignoreNextKeyup=!1,r.ignoreNextKeypress=!1,r.nextExpectedAction=!1,r.element=t,r.addEvents(),r.options.storeInstancesGlobally&&i.instances.push(r),r},e.exports.prototype.bind=xw,e.exports.prototype.bindMultiple=Sw,e.exports.prototype.unbind=ww,e.exports.prototype.trigger=Tw,e.exports.prototype.reset=Cw,e.exports.prototype.stopCallback=kw,e.exports.prototype.handleKey=Ew,e.exports.prototype.addEvents=Nw,e.exports.prototype.bindSingle=Ow,e.exports.prototype.getKeyInfo=Pw,e.exports.prototype.pickBestAction=$w,e.exports.prototype.getReverseMap=zw,e.exports.prototype.getMatches=Fw,e.exports.prototype.resetSequences=jw,e.exports.prototype.fireCallback=qw,e.exports.prototype.bindSequence=Ww,e.exports.prototype.resetSequenceTimer=Uw,e.exports.prototype.detach=Qw,e.exports.instances=[],e.exports.reset=Gw,e.exports.REVERSE_MAP=null})(al);var Kw=al.exports;const Jw=Mi(Kw),Yw={scrollPageDown:{binding:"s",label:"Scroll down"},scrollPageUp:{binding:"w",label:"Scroll up"},scrollToNextVisibleSpan:{binding:"f",label:"Scroll to the next visible span"},scrollToPrevVisibleSpan:{binding:"b",label:"Scroll to the previous visible span"},panLeft:{binding:["a","left"],label:"Pan left"},panLeftFast:{binding:["shift+a","shift+left"],label:"Pan left — Large"},panRight:{binding:["d","right"],label:"Pan right"},panRightFast:{binding:["shift+d","shift+right"],label:"Pan right — Large"},zoomIn:{binding:"up",label:"Zoom in"},zoomInFast:{binding:"shift+up",label:"Zoom in — Large"},zoomOut:{binding:"down",label:"Zoom out"},zoomOutFast:{binding:"shift+down",label:"Zoom out — Large"},collapseAll:{binding:"]",label:"Collapse All"},expandAll:{binding:"[",label:"Expand All"},collapseOne:{binding:"p",label:"Collapse One Level"},expandOne:{binding:"o",label:"Expand One Level"},searchSpans:{binding:"ctrl+b",label:"Search Spans"},clearSearch:{binding:"escape",label:"Clear Search"}};let _a;function Xw(){if(_a)return _a;const e=new Jw(document.body);return _a=e,e}function Zw(e){const t=Xw();Object.keys(e).forEach(n=>{const r=e[n];r&&t.bind(Yw[n].binding,r)})}var Bf={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var l=n.apply(null,s);l&&r.push(l)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var c in s)t.call(s,c)&&s[c]&&r.push(c)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(Bf);var e1=Bf.exports;const wt=Mi(e1),qf=ie({name:"bjn8wh",styles:"position:relative"}),t1=e=>ie("color:",e.contrast,";",""),ll=ie({name:"6l27w5",styles:"margin-bottom:0.25rem"}),n1=ie({name:"1scg9ky",styles:"margin-top:0.25rem;margin-bottom:0.25rem"}),r1=ie({name:"bb3mxj",styles:"margin:0;font-size:12px;font-weight:bold;font-family:monospace"}),Wf=ie({name:"171wbv4",styles:"padding-left:0.5rem;padding-right:0.5rem"}),i1=ie({name:"l5x7cd",styles:"padding-bottom:0.5rem"}),s1=ie({name:"zjik7",styles:"display:flex"}),a1=ie({name:"2qga7i",styles:"text-align:right"}),o1=ie({name:"1r5gb7q",styles:"display:inline-block"}),Ei=ie("",""),l1=ie({name:"rkw162",styles:"text-overflow:ellipsis"}),c1=ie({name:"1d3w5wq",styles:"width:100%"}),u1=ie({name:"1ehr1it",styles:"color:#aaa"});function d1(e,t){const n=Math.floor(Math.log10(Math.abs(e)))+1,r=t+n;return r<=0?Math.trunc(e):Number(e.toPrecision(r))}const Yr=1e3,Ms=1e3*Yr,Uf=60*Ms,Qf=60*Uf,f1=24*Qf,Gf=Math.log10(Yr),mu=[{unit:"d",microseconds:f1,ofPrevious:24},{unit:"h",microseconds:Qf,ofPrevious:60},{unit:"m",microseconds:Uf,ofPrevious:60},{unit:"s",microseconds:Ms,ofPrevious:1e3},{unit:"ms",microseconds:Yr,ofPrevious:1e3},{unit:"μs",microseconds:1,ofPrevious:1e3}],Kf=(e,t,n)=>d1(e/n,t)*n;function h1(e){const t=Kf(e,Gf,Yr);return`${Fd.duration(t/Yr).asMilliseconds()}ms`}function p1(e){const t=Kf(e,Gf,Ms);return`${Fd.duration(t/Yr).asSeconds()}s`}function vr(e){const[t,n]=Ft.dropWhile(mu,({microseconds:l},c)=>c<mu.length-1&&l>e);if(t.ofPrevious===1e3)return`${Ft.round(e/t.microseconds,2)}${t.unit}`;const i=`${Math.floor(e/t.microseconds)}${t.unit}`,s=Math.round(e/n.microseconds%t.ofPrevious),o=`${s}${n.unit}`;return s===0?i:`${i} ${o}`}function g1(e){const{min:t,max:n,viewStart:r,viewEnd:i}=e,s=n-t,o=t+r*s,c=n-(1-i)*s-o;return(h,u)=>({start:(h-o)/c,end:(u-o)/c})}function Ns(e,t,n){return!Array.isArray(n.tags)||!n.tags.length?!1:n.tags.some(r=>r.key===e&&r.value===t)}const m1=Ns.bind(null,"span.kind","client"),v1=Ns.bind(null,"span.kind","server"),b1=Ns.bind(null,"error",!0),y1=Ns.bind(null,"error","true"),Jf=e=>b1(e)||y1(e);function x1(e,t){const{depth:n}=e[t];let r=t+1;for(;r<e.length&&e[r].depth>n;r++)if(Jf(e[r]))return!0;return!1}function S1(e){if(e.length<=1||!m1(e[0]))return!1;const n=e[0].depth+1;let r=1;for(;r<e.length&&e[r].depth===n;){if(v1(e[r]))return e[r];r++}return null}const w1=e=>e.tags.some(({key:t,value:n})=>t==="span.kind"&&n==="client"),T1=ve("div",{target:"e1yzoe5t1"})({name:"je8g23",styles:"pointer-events:none"}),C1=ve("div",{target:"e1yzoe5t0"})("position:absolute;height:100%;width:1px;background:",({theme:e})=>e.accentNeutral,";&:last-child{width:0;}"),k1=ie({name:"58ivyi",styles:"left:0.25rem;position:absolute"}),E1=ie({name:"x507yg",styles:"left:initial;right:0.25rem"});function cl(e){const{endTime:t,numTicks:n,showLabels:r,startTime:i}=e;let s;if(r){s=[];const l=(t||0)-(i||0);for(let c=0;c<n;c++){const h=(i||0)+c/(n-1)*l;s.push(vr(h))}}const o=[];for(let l=0;l<n;l++){const c=l/(n-1);o.push(f(C1,{theme:e.theme,"data-testid":"TicksID",style:{left:`${c*100}%`},children:s&&f("span",{className:wt(k1,{[E1]:c>=1}),children:s[l]})},c))}return f(T1,{children:o})}cl.defaultProps={endTime:null,showLabels:null,startTime:null};const _1=e=>ie("color:",e==null?void 0:e.contrast,";display:flex;flex:0 1 auto;flex-direction:row;","");function _n(e){const{children:t,className:n="",...r}=e;return f("div",{className:wt(_1(e.theme),n),...r,children:t})}_n.defaultProps={className:""};function Yf(e){const{children:t,className:n="",width:r,style:i,theme:s,...o}=e,l=`${r*100}%`,c={...i,flexBasis:l,maxWidth:l};return f("div",{className:wt(qf,n,t1(s)),style:c,"data-testid":"TimelineRowCell",...o,children:t})}Yf.defaultProps={className:"",style:{}};_n.Cell=Yf;var ul={},I1=Ct;Object.defineProperty(ul,"__esModule",{value:!0});var Xf=ul.default=void 0,R1=I1(Tt()),vu=qe,M1=(0,R1.default)([(0,vu.jsx)("path",{d:"M18 6.41 16.59 5 12 9.58 7.41 5 6 6.41l6 6z"},"0"),(0,vu.jsx)("path",{d:"m18 13-1.41-1.41L12 16.17l-4.59-4.58L6 13l6 6z"},"1")],"KeyboardDoubleArrowDown");Xf=ul.default=M1;var dl={},N1=Ct;Object.defineProperty(dl,"__esModule",{value:!0});var Zf=dl.default=void 0,O1=N1(Tt()),bu=qe,L1=(0,O1.default)([(0,bu.jsx)("path",{d:"M6.41 6 5 7.41 9.58 12 5 16.59 6.41 18l6-6z"},"0"),(0,bu.jsx)("path",{d:"m13 6-1.41 1.41L16.17 12l-4.58 4.59L13 18l6-6z"},"1")],"KeyboardDoubleArrowRight");Zf=dl.default=L1;const D1=ie({name:"1wdmsdx",styles:"align-items:center;display:flex;flex:none;gap:2px;justify-content:center;margin-right:0.5rem"});function A1(e){const{onExpandAll:t,onExpandOne:n,onCollapseAll:r,onCollapseOne:i}=e;return F("div",{className:D1,"data-testid":"TimelineCollapser",children:[f(Lt,{title:"Expand +1",children:f($n,{fontSize:"small",style:{cursor:"pointer",color:e.theme.contrast},onClick:n})}),f(Lt,{title:"Collapse +1",children:f(Kn,{fontSize:"small",style:{cursor:"pointer",color:e.theme.contrast},onClick:i})}),f(Lt,{title:"Expand All",children:f(Xf,{fontSize:"small",style:{cursor:"pointer",color:e.theme.contrast},onClick:t})}),f(Lt,{title:"Collapse All",children:f(Zf,{fontSize:"small",style:{cursor:"pointer",color:e.theme.contrast},onClick:r})})]})}var Hn=(e=>(e.DragEnd="DragEnd",e.DragMove="DragMove",e.DragStart="DragStart",e.MouseEnter="MouseEnter",e.MouseLeave="MouseLeave",e.MouseMove="MouseMove",e))(Hn||{});const yu=0;class wi{constructor({getBounds:t,tag:n,resetBoundsOnResize:r=!0,...i}){this.resetBounds=()=>{this._bounds=void 0},this._handleMinorMouseEvent=s=>{const{button:o,clientX:l,type:c}=s;if(this._isDragging||o!==yu)return;let h=null,u;if(c==="mouseenter")h=Hn.MouseEnter,u=this._onMouseEnter;else if(c==="mouseleave")h=Hn.MouseLeave,u=this._onMouseLeave;else if(c==="mousemove")h=Hn.MouseMove,u=this._onMouseMove;else throw new Error(`invalid event type: ${c}`);if(!u)return;const{value:g,x:S}=this._getPosition(l);u({event:s,type:h,value:g,x:S,manager:this,tag:this.tag})},this._handleDragEvent=s=>{const{button:o,clientX:l,type:c}=s;let h=null,u;if(c==="mousedown"){if(this._isDragging||o!==yu)return;window.addEventListener("mousemove",this._handleDragEvent),window.addEventListener("mouseup",this._handleDragEvent);const w=Ft.get(document,"body.style");w&&(w.userSelect="none"),this._isDragging=!0,h=Hn.DragStart,u=this._onDragStart}else if(c==="mousemove"){if(!this._isDragging)return;h=Hn.DragMove,u=this._onDragMove}else if(c==="mouseup"){if(!this._isDragging)return;this._stopDragging(),h=Hn.DragEnd,u=this._onDragEnd}else throw new Error(`invalid event type: ${c}`);if(!u)return;const{value:g,x:S}=this._getPosition(l);u({event:s,type:h,value:g,x:S,manager:this,tag:this.tag})},this.handleMouseDown=this._handleDragEvent,this.handleMouseEnter=this._handleMinorMouseEvent,this.handleMouseMove=this._handleMinorMouseEvent,this.handleMouseLeave=this._handleMinorMouseEvent,this.getBounds=t,this.tag=n,this._isDragging=!1,this._bounds=void 0,this._resetBoundsOnResize=!!r,this._resetBoundsOnResize&&window.addEventListener("resize",this.resetBounds),this._onMouseEnter=i.onMouseEnter,this._onMouseLeave=i.onMouseLeave,this._onMouseMove=i.onMouseMove,this._onDragStart=i.onDragStart,this._onDragMove=i.onDragMove,this._onDragEnd=i.onDragEnd}_getBounds(){return this._bounds||(this._bounds=this.getBounds(this.tag)),this._bounds}_getPosition(t){const{clientXLeft:n,maxValue:r,minValue:i,width:s}=this._getBounds();let o=t-n,l=o/s;return i!=null&&l<i?(l=i,o=i*s):r!=null&&l>r&&(l=r,o=r*s),{value:l,x:o}}_stopDragging(){window.removeEventListener("mousemove",this._handleDragEvent),window.removeEventListener("mouseup",this._handleDragEvent);const t=Ft.get(document,"body.style");t&&(t.userSelect=null),this._isDragging=!1}isDragging(){return this._isDragging}dispose(){this._isDragging&&this._stopDragging(),this._resetBoundsOnResize&&window.removeEventListener("resize",this.resetBounds),this._bounds=void 0,this._onMouseEnter=void 0,this._onMouseLeave=void 0,this._onMouseMove=void 0,this._onDragStart=void 0,this._onDragMove=void 0,this._onDragEnd=void 0}}const P1=ve("div",{target:"e1jlivkg0"})({name:"zigtzn",styles:"left:0;position:absolute;right:0;top:0"}),$1=ie({name:"1vwsdhr",styles:'border-left:2px solid transparent;cursor:col-resize;height:5000px;margin-left:-1px;position:absolute;top:0;width:1px;z-index:10;&:hover{border-left:2px solid rgba(0, 0, 0, 0.3);}&::before{position:absolute;top:0;bottom:0;left:-8px;right:0;content:" ";}'}),z1=ie({name:"1cmvdwg",styles:"background:rgba(136, 0, 136, 0.05);width:unset;&::before{left:-2000px;right:-2000px;}"}),V1=ie({name:"1njfg9m",styles:"border-left:2px solid #808;border-right:1px solid #999"}),F1=ie({name:"131nr17",styles:"border-left:1px solid #999;border-right:2px solid #808"}),j1=ie({name:"1byn60z",styles:'position:absolute;top:0;bottom:0;&::before,&::after{border-right:1px solid #ccc;content:" ";height:9px;position:absolute;right:9px;top:25px;}&::after{right:5px;}'}),H1=ie({name:"yvovfk",styles:"&::before,&::after{border-right:1px solid rgba(136, 0, 136, 0.5);}"});class B1 extends ln.PureComponent{constructor(t){super(t),this._setRootElm=n=>{this._rootElm=n},this._getDraggingBounds=()=>{if(!this._rootElm)throw new Error("invalid state");const{left:n,width:r}=this._rootElm.getBoundingClientRect(),{min:i,max:s}=this.props;return{clientXLeft:n,width:r,maxValue:s,minValue:i}},this._handleDragUpdate=({value:n})=>{this.setState({dragPosition:n})},this._handleDragEnd=({manager:n,value:r})=>{n.resetBounds(),this.setState({dragPosition:null}),this.props.onChange(r)},this._dragManager=new wi({getBounds:this._getDraggingBounds,onDragEnd:this._handleDragEnd,onDragMove:this._handleDragUpdate,onDragStart:this._handleDragUpdate}),this._rootElm=void 0,this.state={dragPosition:null}}componentWillUnmount(){this._dragManager.dispose()}render(){let t,n;const{position:r,columnResizeHandleHeight:i}=this.props,{dragPosition:s}=this.state;t=`${r*100}%`;const o={left:t};let l=!1,c=!1;if(this._dragManager.isDragging()&&this._rootElm&&s!=null){l=s<r,c=s>r,t=`${s*100}%`;const u=`${Math.min(r,s)*100}%`,g=`calc(${(1-Math.max(r,s))*100}% - 1px)`;n={left:u,right:g}}else n=o;n.height=i;const h=l||c;return F(P1,{ref:this._setRootElm,"data-testid":"TimelineColumnResizer",children:[f("div",{className:wt(j1,h&&H1),style:o,"data-testid":"TimelineColumnResizer--gripIcon"}),f("div",{"aria-hidden":!0,className:wt($1,h&&z1,c&&F1,l&&V1),onMouseDown:this._dragManager.handleMouseDown,style:n,"data-testid":"TimelineColumnResizer--dragger"})]})}}const q1=ve("div",{target:"e11gyo5p1"})({name:"1vtnfa",styles:"bottom:0;cursor:vertical-text;left:0;position:absolute;right:0;top:0;font-size:12px"}),W1=ve("div",{target:"e11gyo5p0"})({name:"w0nmqh",styles:"position:absolute;top:0;bottom:0;left:0;width:1px;background-color:red"}),U1=ie({name:"71fr29",styles:"position:absolute;top:0;bottom:0"}),Q1=ie({name:"1ae8ag1",styles:"border-left:1px solid"}),G1=ie({name:"1viz3rc",styles:"border-right:1px solid"}),K1=ie({name:"119b89",styles:"background-color:rgba(68, 68, 255, 0.2);border-color:#44f"}),J1=ie({name:"11eaajw",styles:"background-color:rgba(255, 68, 68, 0.2);border-color:#f44"});function Y1(e){return Reflect.has(e,"isOutOfView")}function Ia(e,t,n){return e+n*(t-e)}function Ga(e,t,n){return(n-e)/(t-e)}function X1(e,t){let[n,r]=e<t?[e,t]:[t,e];return n>=1||r<=0?{isOutOfView:!0}:(n<0&&(n=0),r>1&&(r=1),{isDraggingLeft:e>t,left:`${n*100}%`,width:`${(r-n)*100}%`})}function Ra(e,t,n,r,i){const s=Ga(e,t,n),o=Ga(e,t,r),l=X1(s,o);if(Y1(l))return null;const{isDraggingLeft:c,left:h,width:u}=l,g=Pe({[G1]:!c,[J1]:!i,[K1]:i});return f("div",{className:Pe(U1,Q1,g),style:{left:h,width:u},"data-testid":"Dragged"})}class Z1 extends ln.PureComponent{constructor(t){super(t),this._setRoot=n=>{this._root=n},this._getDraggingBounds=()=>{if(!this._root)throw new Error("invalid state");const{left:n,width:r}=this._root.getBoundingClientRect();return{clientXLeft:n,width:r}},this._handleReframeMouseMove=({value:n})=>{const[r,i]=this.props.viewRangeTime.current,s=Ia(r,i,n);this.props.updateNextViewRangeTime({cursor:s})},this._handleReframeMouseLeave=()=>{this.props.updateNextViewRangeTime({cursor:void 0})},this._handleReframeDragUpdate=({value:n})=>{const{current:r,reframe:i}=this.props.viewRangeTime,[s,o]=r,l=Ia(s,o,n),h={reframe:{anchor:i?i.anchor:l,shift:l}};this.props.updateNextViewRangeTime(h)},this._handleReframeDragEnd=({manager:n,value:r})=>{const{current:i,reframe:s}=this.props.viewRangeTime,[o,l]=i,c=Ia(o,l,r),h=s?s.anchor:c,[u,g]=c<h?[c,h]:[h,c];n.resetBounds(),this.props.updateViewRangeTime(u,g,"timeline-header")},this._draggerReframe=new wi({getBounds:this._getDraggingBounds,onDragEnd:this._handleReframeDragEnd,onDragMove:this._handleReframeDragUpdate,onDragStart:this._handleReframeDragUpdate,onMouseLeave:this._handleReframeMouseLeave,onMouseMove:this._handleReframeMouseMove}),this._root=void 0}componentDidUpdate(t,n,r){const{boundsInvalidator:i}=this.props;i!==t.boundsInvalidator&&this._draggerReframe.resetBounds()}componentWillUnmount(){this._draggerReframe.dispose()}render(){const{viewRangeTime:t}=this.props,{current:n,cursor:r,reframe:i,shiftEnd:s,shiftStart:o}=t,[l,c]=n,h=i!=null||s!=null||o!=null;let u;return!h&&r!=null&&r>=l&&r<=c&&(u=`${Ga(l,c,r)*100}%`),F(q1,{"aria-hidden":!0,ref:this._setRoot,onMouseDown:this._draggerReframe.handleMouseDown,onMouseLeave:this._draggerReframe.handleMouseLeave,onMouseMove:this._draggerReframe.handleMouseMove,"data-testid":"TimelineViewingLayer",children:[u!=null&&f(W1,{style:{left:u},"data-testid":"TimelineViewingLayer--cursorGuide"}),i!=null&&Ra(l,c,i.anchor,i.shift,!1),s!=null&&Ra(l,c,c,s,!0),o!=null&&Ra(l,c,l,o,!0)]})}}const eT=e=>ie("background:",e.background,";border-bottom:1px solid ",e.accentNeutral,";color:",e.contrast," height:38px;line-height:38px;width:100%;z-index:4;position:relative;font-size:12px;",""),tT=ie({name:"1h3rtzg",styles:"align-items:center"}),nT=ie({name:"x7as9m",styles:"flex:1;overflow:hidden;margin:0;text-overflow:ellipsis;white-space:nowrap"});function rT(e){const{duration:t,nameColumnWidth:n,numTicks:r,onCollapseAll:i,onCollapseOne:s,onColummWidthChange:o,onExpandAll:l,onExpandOne:c,updateViewRangeTime:h,updateNextViewRangeTime:u,viewRangeTime:g,columnResizeHandleHeight:S}=e,[w,m]=g.current;return F(_n,{theme:e.theme,className:eT(e.theme),"data-testid":"TimelineHeaderRow",children:[F(_n.Cell,{theme:e.theme,className:wt(s1,Wf,tT),width:n,id:"collapser",children:[f("h4",{className:nT,children:"Service & Operation"}),f(A1,{theme:e.theme,onCollapseAll:i,onExpandAll:l,onCollapseOne:s,onExpandOne:c})]}),F(_n.Cell,{theme:e.theme,id:"ticker",width:1-n,children:[f(Z1,{boundsInvalidator:n,updateNextViewRangeTime:u,updateViewRangeTime:h,viewRangeTime:g}),f(cl,{theme:e.theme,numTicks:r,startTime:w*t,endTime:m*t,showLabels:!0})]}),f(B1,{columnResizeHandleHeight:S,position:n,onChange:o,min:.2,max:.85})]})}const iT="peer.service",fl=["#7db26c","#eab839","#6cd0e0","#ef853e","#e14c41","#1f78c1","#bb44a9","#715ea1","#4f8542","#cca300","#447ebb","#c05a16","#880f02","#0a427b","#6b1e61","#594578","#b6daa9","#f4d699","#6edaed","#f9ba90","#f29191","#83b6d8","#e5a9e2","#afa3e0","#629e51","#e6ad0f","#64b1c9","#e0752e","#bd1900","#0a52a3","#952d82","#614d93","#99c388","#f2cb6e","#66c6db","#f9924e","#ea6661","#5095ce","#d685ce","#7f6cb7","#3f6732","#977402","#30585f","#99430a","#5a140c","#052b51","#501648","#3e2a5a","#e0f9d7","#fceaca","#d1faff","#f9e2d2","#fce2de","#b8def4","#f9d7f9","#ddd9f7"];function sT(e){if(e.length!==7)return[0,0,0];const t=e.slice(1,3),n=e.slice(3,5),r=e.slice(5);return[parseInt(t,16),parseInt(n,16),parseInt(r,16)]}class aT{constructor(t,n){const r=lT(t,n);this.colorsHex=r,this.colorsRgb=r.map(sT),this.cache=new Map}_getColorIndex(t){let n=this.cache.get(t);if(n==null){const r=this.hashCode(t.toLowerCase()),i=Math.abs(r%this.colorsHex.length);n=i===4?i+1:i,this.cache.set(t,n)}return n}hashCode(t){let n=0,r,i;for(r=0;r<t.length;r++)i=t.charCodeAt(r),n=(n<<5)-n+i;return n}getColorByKey(t){const n=this._getColorIndex(t);return this.colorsHex[n]}getRgbColorByKey(t){const n=this._getColorIndex(t);return this.colorsRgb[n]}clear(){this.cache.clear()}}const eh=ti((e,t)=>new aT(e,t));function Xi(e,t){return eh(fl,t).getColorByKey(e)}function oT(e,t){return eh(fl,t).getRgbColorByKey(e)}function lT(e,t){if(!t)return fl;const n=e.indexOf("#e14c41");n>-1&&e.splice(n,1);let r=[];for(const i of e)r.push(i);return r}class cT{constructor(t){this.ys=[],this.heights=[],this.bufferLen=t,this.dataLen=-1,this.lastI=-1}profileData(t){t!==this.dataLen&&(this.dataLen=t,this.ys.length=t,this.heights.length=t,this.lastI>=t&&(this.lastI=t-1))}calcHeights(t,n,r){r!=null&&(this.lastI=r);let i=t+this.bufferLen;if(i<=this.lastI)return;i>=this.heights.length&&(i=this.heights.length-1);let s=this.lastI;for(this.lastI===-1&&(s=0,this.ys[0]=0);s<=i;){const o=this.heights[s]=n(s);this.ys[s+1]=this.ys[s]+o,s++}this.lastI=i}calcYs(t,n){for(;(this.ys[this.lastI]==null||t>this.ys[this.lastI])&&this.lastI<this.dataLen-1;)this.calcHeights(this.lastI,n)}confirmHeight(t,n){let r=t;if(r>this.lastI){this.calcHeights(r,n);return}const i=n(r);if(i===this.heights[r])return;const s=i-this.heights[r];for(this.heights[r]=i;++r<=this.lastI;)this.ys[r]+=s;this.ys[this.lastI+1]!=null&&(this.ys[this.lastI+1]+=s)}findFloorIndex(t,n){this.calcYs(t,n);let r=0,i=this.lastI;if(this.ys.length<2||t<this.ys[1])return 0;if(t>this.ys[i])return i;let s;for(;r<i;)if(s=r+.5*(i-r)|0,t>this.ys[s]){if(t<=this.ys[s+1])return s;r=s}else if(t<this.ys[s]){if(t>=this.ys[s-1])return s-1;i=s}else return s;throw new Error(`unable to find floor index for y=${t}`)}getRowPosition(t,n){return this.confirmHeight(t,n),{height:this.heights[t],y:this.ys[t]}}getEstimatedHeight(){const t=this.ys[this.lastI]+this.heights[this.lastI];return this.lastI>=this.dataLen-1?t|0:t/(this.lastI+1)*this.heights.length|0}}const th=100;class nh extends ln.Component{constructor(t){super(t),this.getViewHeight=()=>this._viewHeight,this.getBottomVisibleIndex=()=>{const n=this._scrollTop+this._viewHeight;return this._yPositions.findFloorIndex(n,this._getHeight)},this.getTopVisibleIndex=()=>this._yPositions.findFloorIndex(this._scrollTop,this._getHeight),this.getRowPosition=n=>this._yPositions.getRowPosition(n,this._getHeight),this.scrollToIndex=n=>{var c,h;const{scrollElement:r}=this.props,i=(r==null?void 0:r.getBoundingClientRect().top)||0,o=((r==null?void 0:r.scrollTop)||0)+(((c=this._itemHolderElm)==null?void 0:c.getBoundingClientRect().top)||0)-i,l=this.getRowPosition(n).y;(h=this.props.scrollElement)==null||h.scrollTo({top:l+o-80})},this._onScroll=()=>{this._isScrolledOrResized||(this._isScrolledOrResized=!0,window.requestAnimationFrame(this._positionList))},this._positionList=()=>{if(this._isScrolledOrResized=!1,!this._wrapperElm)return;this._calcViewIndexes();const n=this.props.viewBufferMin>this._startIndex?0:this._startIndex-this.props.viewBufferMin,r=this.props.viewBufferMin<this.props.dataLength-this._endIndex?this._endIndex+this.props.viewBufferMin:this.props.dataLength-1;(n<this._startIndexDrawn||r>this._endIndexDrawn)&&this.forceUpdate()},this._initWrapper=n=>{this.props.windowScroller&&(this._wrapperElm=n,n&&(this._viewHeight=n.clientHeight))},this._initItemHolder=n=>{this._itemHolderElm=n,this._scanItemHeights()},this._scanItemHeights=()=>{const n=this.props.getIndexFromKey;if(!this._itemHolderElm)return;let r=null,i=null,s=!1;const o=this._itemHolderElm.childNodes,l=o.length;for(let c=0;c<l;c++){const h=o[c],u=h.getAttribute("data-item-key");if(!u){console.warn("itemKey not found");continue}const S=(h.firstElementChild||h).clientHeight,w=this._knownHeights.get(u);S!==w&&(this._knownHeights.set(u,S),s?i=u:(s=!0,r=i=u))}if(r!=null&&i!=null){const c=n(r),h=i===r?c:n(i);this._yPositions.calcHeights(h,this._getHeight,c),this.forceUpdate()}},this._getHeight=n=>{const r=this.props.getKeyFromIndex(n),i=this._knownHeights.get(r);return i!=null&&i===i?i:this.props.itemHeightGetter(n,r)},this._yPositions=new cT(200),this._knownHeights=new Map,this._startIndexDrawn=2**20,this._endIndexDrawn=-(2**20),this._startIndex=0,this._endIndex=0,this._viewHeight=-1,this._scrollTop=-1,this._isScrolledOrResized=!1,this._htmlTopOffset=-1,this._windowScrollListenerAdded=!1,this._htmlElm=document.documentElement,this._wrapperElm=void 0,this._itemHolderElm=void 0}componentDidMount(){var t;if(this.props.windowScroller){if(this._wrapperElm){const{top:n}=this._wrapperElm.getBoundingClientRect();this._htmlTopOffset=n+this._htmlElm.scrollTop}window.addEventListener("scroll",this._onScroll),this._windowScrollListenerAdded=!0}else this._wrapperElm=this.props.scrollElement,(t=this._wrapperElm)==null||t.addEventListener("scroll",this._onScroll)}componentDidUpdate(){this._itemHolderElm&&this._scanItemHeights()}componentWillUnmount(){var t;this._windowScrollListenerAdded?window.removeEventListener("scroll",this._onScroll):(t=this._wrapperElm)==null||t.removeEventListener("scroll",this._onScroll)}_isViewChanged(){if(!this._wrapperElm)return!1;const t=this.props.windowScroller,n=t?this._htmlElm.clientHeight:this._wrapperElm.clientHeight,r=t?this._htmlElm.scrollTop:this._wrapperElm.scrollTop;return n!==this._viewHeight||r!==this._scrollTop}_calcViewIndexes(){if(this.props.windowScroller)this._viewHeight=window.innerHeight-this._htmlTopOffset,this._scrollTop=window.scrollY;else{if(!this._wrapperElm){this._viewHeight=-1,this._startIndex=0,this._endIndex=0;return}this._viewHeight=this._wrapperElm.clientHeight,this._scrollTop=this._wrapperElm.scrollTop}const n=this._scrollTop,r=this._scrollTop+this._viewHeight;this._startIndex=this._yPositions.findFloorIndex(n,this._getHeight),this._endIndex=this._yPositions.findFloorIndex(r,this._getHeight)}render(){const{dataLength:t,getKeyFromIndex:n,initialDraw:r=th,itemRenderer:i,viewBuffer:s,viewBufferMin:o}=this.props,l=this._getHeight,c=[];let h,u;if(this._yPositions.profileData(t),!this._wrapperElm)h=0,u=(r<t?r:t)-1;else{this._isViewChanged()&&this._calcViewIndexes();const w=o>this._startIndex?0:this._startIndex-o,m=o<t-this._endIndex?this._endIndex+o:t-1;w<this._startIndexDrawn||m>this._endIndexDrawn?(h=s>this._startIndex?0:this._startIndex-s,u=this._endIndex+s,u>=t&&(u=t-1)):(h=this._startIndexDrawn,u=this._endIndexDrawn>t-1?t-1:this._endIndexDrawn)}this._yPositions.calcHeights(u,l,h||-1),this._startIndexDrawn=h,this._endIndexDrawn=u,c.length=u-h+1;for(let w=h;w<=u;w++){const{y:m,height:C}=this._yPositions.getRowPosition(w,l),k={height:C,top:m,position:"absolute"},T=n(w),y={"data-item-key":T};c.push(i(T,k,w,y))}const g={style:{position:"inherit"},ref:this._initWrapper};this.props.windowScroller||(g.onScroll=this._onScroll,g.style.height="100%",g.style.overflowY="auto");const S={position:"relative",height:this._yPositions.getEstimatedHeight()};return f("div",{...g,children:f("div",{style:S,children:f("div",{style:{position:"absolute",top:0,margin:0,padding:0},className:this.props.itemsWrapperClassName,ref:this._initItemHolder,children:c})})})}}nh.defaultProps={initialDraw:th,itemsWrapperClassName:"",windowScroller:!1};var hl={},uT=Ct;Object.defineProperty(hl,"__esModule",{value:!0});var rh=hl.default=void 0,dT=uT(Tt()),fT=qe,hT=(0,dT.default)((0,fT.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"}),"Error");rh=hl.default=hT;var pl={},pT=Ct;Object.defineProperty(pl,"__esModule",{value:!0});var Ka=pl.default=void 0,gT=pT(Tt()),mT=qe,vT=(0,gT.default)((0,mT.jsx)("path",{d:"M16.01 11H4v2h12.01v3L20 12l-3.99-4z"}),"ArrowRightAlt");Ka=pl.default=vT;const bT="None",yT="Duration",xT="Tag",ST=ie({name:"1s3epx",styles:"bottom:0;left:0;position:absolute;right:0;top:0;overflow:hidden;z-index:0"}),wT=ie({name:"1k90chh",styles:"border-radius:3px;min-width:2px;position:absolute;height:36%;top:32%"}),TT=ie({name:"dwm5fv",styles:'color:#aaa;font-size:12px;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;line-height:1em;white-space:nowrap;padding:0 0.5em;position:absolute'});function Zi(e){return`${(e*100).toFixed(1)}%`}function CT({viewEnd:e,viewStart:t,color:n,shortLabel:r,longLabel:i,onClick:s,rpc:o,className:l,labelClassName:c}){const[h,u]=b.useState(r),g=()=>u(r),S=()=>u(i),w=Be();return f(vt,{theme:w,children:F("div",{className:wt(ST,l),onClick:s,onMouseLeave:g,onMouseOver:S,"aria-hidden":!0,children:[f("div",{"aria-label":h,className:wT,style:{background:n,left:Zi(t),width:Zi(e-t)},children:f("div",{className:wt(TT,c),"data-testid":"SpanBar--label",children:h})}),f("div",{}),o&&f("div",{style:{background:o.color,left:Zi(o.viewStart),width:Zi(o.viewEnd-o.viewStart)}})]})})}const kT=ln.memo(CT);function xu(e){return Ft.get(Ft.find(e.references,({span:t,refType:n})=>t&&t.spanID&&(n==="CHILD_OF"||n==="FOLLOWS_FROM")),"span")}function ET(e){const t=[];if(!e)return t;let n=xu(e);for(;n;)t.push(n.spanID),n=xu(n);return t}const _T=e=>ie("color:",e.background,";position:relative;",""),IT=ie({name:"1p3qk0r",styles:"&:hover{cursor:pointer;}"}),RT=e=>ie('padding-right:calc(0.5rem + 12px);height:100%;border-left:1px solid transparent;display:inline-flex;&::before{content:"";padding-left:1px;background-color:',e.accentNeutral,";}",""),MT=e=>ie("border-color:",e.shadow,";&::before{background-color:transparent;}",""),NT=ve("span",{target:"em1k31n0"})({name:"1ej441y",styles:"position:absolute;right:0.25rem"});class Os extends ln.PureComponent{constructor(t){super(t),this.handleMouseLeave=(n,r)=>{(!(n.relatedTarget instanceof HTMLSpanElement)||Ft.get(n,"relatedTarget.dataset.ancestorId")!==r)&&this.props.removeHoverIndentGuideId(r)},this.handleMouseEnter=(n,r)=>{(!(n.relatedTarget instanceof HTMLSpanElement)||Ft.get(n,"relatedTarget.dataset.ancestorId")!==r)&&this.props.addHoverIndentGuideId(r)},this.ancestorIds=ET(t.span),this.ancestorIds.push("root"),this.ancestorIds.reverse()}render(){const{childrenVisible:t,onClick:n,showChildrenIcon:r,span:i}=this.props,{hasChildren:s,spanID:o}=i,l=s?{onClick:n,role:"switch","aria-checked":t}:null,c=r&&s&&(t?f($n,{style:{color:this.props.theme.contrast}}):f(Kn,{style:{color:this.props.theme.contrast}}));return F("span",{className:wt(_T(this.props.theme),{[IT]:s}),...l,children:[this.ancestorIds.map(h=>f("span",{className:wt(RT(this.props.theme),{[MT(this.props.theme)]:this.props.hoverIndentGuideIds.has(h)}),"data-ancestor-id":h,"data-testid":"SpanTreeOffset--indentGuide",onMouseEnter:u=>this.handleMouseEnter(u,h),onMouseLeave:u=>this.handleMouseLeave(u,h)},h)),c&&f(NT,{onMouseEnter:h=>this.handleMouseEnter(h,o),onMouseLeave:h=>this.handleMouseLeave(h,o),"data-testid":"icon-wrapper",children:c})]})}}Os.displayName="UnthemedSpanTreeOffset";Os.defaultProps={childrenVisible:!1,showChildrenIcon:!0};const Ls="spanBar",Ds="spanBarLabel",br="nameWrapper",ih="nameWrapperMatchingFilter",yr="jaegerView",OT="nameColumn",Su=oo({name:"1ggtp7d",styles:"from{background-color:#68b9ff;}to{background-color:default;}"}),LT=ie({name:"oapv1g",styles:"line-height:27px;overflow:hidden;display:flex"}),DT=ie({name:"m5858l",styles:"background-color:#fffce4"}),AT=ie({name:"1icyexn",styles:"position:relative;white-space:nowrap;z-index:1;&:hover{z-index:1;}"}),wu=ve("small",{target:"eclumqi1"})({name:"wws2e6",styles:"color:#808080;font-size:80%"}),PT=ie({name:"bjn8wh",styles:"position:relative"}),$T=e=>ie("background:",e.background,";outline:1px solid ",e.background,";",""),zT=e=>ie("background:#fff3d7;outline:1px solid ",e.background,";",""),VT=e=>ie("&:hover .",Ls,"{opacity:1;}&:hover .",Ds,"{color:",e.contrast,";}&:hover .",br,"{background:",e.background,`;background:linear-gradient(
            90deg,
            `,e.shadow,`,
            `,e.background,` 75%,
            #eee
        );}&:hover .`,yr,"{background-color:#f5f5f5;outline:1px solid ",e.background,";}",""),FT=ie({name:"7840j2",styles:`& .nameColumn::before{content:" ";height:100%;position:absolute;width:6px;background-image:linear-gradient(
            to right,
            rgba(25, 25, 25, 0.25),
            rgba(32, 32, 32, 0)
        );left:100%;z-index:-1;}`}),jT=ie({name:"1lubjoz",styles:`& .jaegerView::before{content:" ";height:100%;position:absolute;width:6px;background-image:linear-gradient(
            to left,
            rgba(25, 25, 25, 0.25),
            rgba(25, 25, 25, 0.25)
        );right:0%;z-index:1;}`}),HT=e=>ie("color:",e.contrast,";& .",Ls,"{opacity:1;}& .",Ds,"{color:",e.contrast,";}& .",br,",&:hover .",br,"{background:",e.background,";box-shadow:0 1px 0 ",e.deep,";}& .",ih,"{background:",e.shadow,";}&:hover .",yr,"{background:",e.shadow,";}",""),BT=e=>ie("background-color:",e.shadow,";&:hover .",br,"{background:",e.shadow,";}&:hover .",yr,"{background-color:#f7f1c6;outline:1px solid ",e.background,";}",""),qT=e=>ie("background-color:",e.shadow,";animation:",Su," 1s cubic-bezier(0.12, 0, 0.39, 0);& .",br,",.",yr,",.",ih,"{background-color:",e.shadow,";animation:",Su," 1s cubic-bezier(0.12, 0, 0.39, 0);}& .",Ls,"{opacity:1;}& .",Ds,"{color:",e.contrast,";}&:hover .",br,",:hover .",yr,"{background:#d5ebff;box-shadow:0 1px 0 ",e.background,";}",""),WT=e=>ie("&:hover .",yr,"{background:#ffeccf;}",""),UT=e=>ie("color:",e.contrast,';cursor:pointer;flex:1 1 auto;outline:none;overflow-y:hidden;overflow-x:auto;margin-right:8px;padding-left:4px;padding-right:0.25em;position:relative;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}&::before{content:" ";position:absolute;top:4px;bottom:4px;left:0;border-left:4px solid;border-left-color:inherit;}&:focus{text-decoration:none;}&:hover>small{color:',e.contrast,";}text-align:left;background:transparent;border:none;",""),QT=ie({name:"1cvi6zq",styles:"&::before{bottom:0;}"}),GT=ie({name:"16zb2y",styles:"padding:0 0.25rem 0 0.5rem"}),KT=ie({name:"1xwgrp",styles:"font-weight:bold;font-style:italic"}),JT=ie({name:"1k3bps6",styles:"border-radius:6.5px;color:#fff;font-size:0.85em;margin-right:0.25rem;padding:1px"}),Tu=ve("i",{target:"eclumqi0"})({name:"1nkkyu1",styles:"border-radius:6.5px;display:inline-block;font-size:0.85em;height:1em;margin-right:0.25rem;padding:1px;width:1em;vertical-align:middle"}),YT=ie({name:"m99r4y",styles:"left:100%"}),XT=ie({name:"azivvm",styles:"right:100%"});class gl extends ln.PureComponent{constructor(){super(...arguments),this._detailToggle=()=>{this.props.onDetailToggled(this.props.span.spanID)},this._childrenToggle=()=>{this.props.onChildrenToggled(this.props.span.spanID)},this.getSpanBarLabel=(t,n,r)=>{var s,o,l,c;const i=(n==null?void 0:n.type)??"";if(i===bT)return"";if(i===""||i===yT)return`(${r})`;if(i===xT){const h=((s=n==null?void 0:n.tag)==null?void 0:s.trim())??"";if(h!==""&&t.tags){const u=(o=t.tags)==null?void 0:o.find(S=>S.key===h),g=(c=(l=t.process)==null?void 0:l.tags)==null?void 0:c.find(S=>S.key===h);if(u)return`(${u.value})`;if(g)return`(${g.value})`}}return""}}render(){const{className:t,color:n,spanBarOptions:r,columnDivision:i,isChildrenExpanded:s,isDetailExpanded:o,isMatchingFilter:l,isFocused:c,numTicks:h,rpc:u,noInstrumentedServer:g,showErrorIcon:S,getViewedBounds:w,traceStartTime:m,span:C,hoverIndentGuideIds:k,addHoverIndentGuideId:T,removeHoverIndentGuideId:y,clippingLeft:N,clippingRight:M,createSpanLink:L}=this.props,{duration:P,hasChildren:p,operationName:_,process:{serviceName:I}}=C,D=vr(P),$=w(C.startTime,C.startTime+C.duration),z=$.start,V=$.end,K=`${I}::${_}`;let se,ue;z>1-V?(se=`${K} | ${D}`,ue=XT):(se=`${D} | ${K}`,ue=YT);const te=he=>he?Object.values(he).reduce((Y,Fe)=>Y+Fe.length,0):0;return F(_n,{theme:this.props.theme,className:wt(VT,{[HT(this.props.theme)]:o,[BT(this.props.theme)]:l,[WT(this.props.theme)]:l&&o,[qT(this.props.theme)]:c,[FT]:N,[jT]:M},t),children:[f(_n.Cell,{theme:this.props.theme,className:wt(AT,OT),width:i,children:F("div",{className:wt(LT,br,{[DT]:l,nameWrapperMatchingFilter:l}),children:[f(Os,{theme:this.props.theme,onClick:p?this._childrenToggle:void 0,childrenVisible:s,span:C,hoverIndentGuideIds:k,addHoverIndentGuideId:T,removeHoverIndentGuideId:y}),F("button",{type:"button",className:wt(UT(this.props.theme),{[QT]:o}),"aria-checked":o,title:K,onClick:this._detailToggle,role:"switch",style:{borderColor:n},tabIndex:0,children:[F("span",{className:wt(GT,{[KT]:p&&!s}),children:[S&&f(rh,{style:{backgroundColor:C.errorIconColor?C.errorIconColor:"#db2828"},className:JT}),I," ",u&&F("span",{children:[f(Ka,{})," ",f(Tu,{style:{background:u.color}}),u.serviceName]}),g&&F("span",{children:[f(Ka,{})," ",f(Tu,{style:{background:g.color}}),g.serviceName]})]}),f(wu,{children:u?u.operationName:_}),F(wu,{children:[" ",this.getSpanBarLabel(C,r,D)]})]}),L&&(()=>{var Fe,$e,me;const he=L(C),Y=te(he);if(he&&Y===1){const ke=((Fe=he.logLinks)==null?void 0:Fe[0])??(($e=he.metricLinks)==null?void 0:$e[0])??((me=he.traceLinks)==null?void 0:me[0])??void 0;return ke?f("a",{href:ke.href,target:"_blank",style:{marginRight:"5px"},rel:"noopener noreferrer",onClick:ke.onClick?Oe=>{!(Oe.ctrlKey||Oe.metaKey||Oe.shiftKey)&&ke.onClick&&(Oe.preventDefault(),ke.onClick(Oe))}:void 0,children:ke.content}):null}else return he&&Y>1,null})()]})}),F(_n.Cell,{theme:this.props.theme,className:wt(PT,yr,{[$T(this.props.theme)]:o,[zT(this.props.theme)]:l&&o}),"data-testid":"span-view",style:{cursor:"pointer"},width:1-i,onClick:this._detailToggle,children:[f(cl,{theme:this.props.theme,numTicks:h}),f(kT,{rpc:u,viewStart:z,viewEnd:V,getViewedBounds:w,color:n,shortLabel:D,longLabel:se,traceStartTime:m,span:C,labelClassName:`${Ds} ${ue}`,className:Ls})]})]})}}gl.displayName="UnthemedSpanBarRow";gl.defaultProps={className:"",rpc:null};const ZT=ie({name:"1wwkrqs",styles:"background:#ddd"}),eC=ie({name:"84lccc",styles:"display:inline-block;width:1px;height:0.9em;margin:0 8px;vertical-align:middle"}),tC=ie({name:"1mbw2d9",styles:"display:block;height:1px;width:100%;margin:24px 0;clear:both;position:relative;top:-0.06em"});function nC({className:e,style:t,type:n}){return f("div",{style:t,className:Pe(ZT,n==="horizontal"?tC:eC,e)})}const rC=ie({name:"z06qs",styles:"list-style:none;margin:0;padding:0"}),iC=ie({name:"1x6ka8p",styles:"margin-right:-8px;display:flex;flex-wrap:wrap;justify-content:flex-end"}),sC=ie({name:"1r5gb7q",styles:"display:inline-block"}),aC=e=>ie("border-right:1px solid ",e,";padding:0 8px;",""),oC=ve("span",{target:"e1ja4gzb1"})("color:",({theme:e})=>e.contrast,";margin-right:0.25rem;font-size:12px;"),lC=ve("strong",{target:"e1ja4gzb0"})("color:",({theme:e})=>e.contrast,";margin-right:0.55rem;font-size:12px;");function sh(e){const{className:t,divider:n=!1,items:r}=e;return f("ul",{className:wt(rC,t,n?iC:""),children:r.map(({key:i,label:s,value:o})=>F("li",{className:wt(sC,n?aC(e.theme.accentNeutral):""),children:[f(oC,{theme:e.theme,children:s}),f(lC,{theme:e.theme,children:o})]},`${i}`))})}const cC="label";function ah(e){const[t,n]=b.useState(!1),r=()=>{n(!0)};return f(Lt,{title:t?"Copied":e.tooltipTitle,children:f(Yd,{type:"button",onClick:r})})}ah.defaultProps={icon:"copy",className:void 0};const oh="copyIcon",uC=ve("div",{target:"efvy564"})("background:",({theme:e})=>e.background,";border:1px solid ",({theme:e})=>e.accentNeutral,";margin-bottom:0.5rem;max-height:450px;overflow:auto;"),dC=ve("tbody",{target:"efvy563"})({name:"1yq3syn",styles:"vertical-align:baseline"}),fC=ve("tr",{target:"efvy562"})("color:",({theme:e})=>e.contrast,";&>td{padding:0rem 0.5rem;height:30px;line-height:30px;box-sizing:border-box;font-size:12px;color:",({theme:e})=>e.contrast,";}&:nth-of-type(2n)>td{background:",({theme:e})=>e.shadow,";}&:not(:hover) .",oh,"{visibility:hidden;}"),hC=ve("td",{target:"efvy561"})("color:",({theme:e})=>e.contrast,"!important;white-space:pre;width:125px;"),pC=ve("td",{target:"efvy560"})({name:"2qga7i",styles:"text-align:right"}),gC=/^(\[|\{)/;function mC(e){if(typeof e=="string"&&gC.test(e))try{return JSON.parse(e)}catch{}return e}const lh=e=>F("a",{href:e.href,title:e.title,target:"_blank",rel:"noopener noreferrer",children:[e.children," ",f(Is,{})]});lh.defaultProps={title:""};function vC(e){const{data:t,linksGetter:n,theme:r}=e;return f(uC,{theme:r,"data-testid":"KeyValueTable",children:f("table",{className:c1,children:f(dC,{children:t.map((i,s)=>{const o={__html:yg(mC(i.value))},l=f("div",{className:o1,dangerouslySetInnerHTML:o}),c=n?n(t,s):null;let h;return c&&c.length?h=f("div",{children:f(lh,{href:c[0].url,title:c[0].text,children:l})}):h=l,F(fC,{theme:r,children:[f(hC,{theme:r,"data-testid":"KeyValueTable--keyColumn",children:i.key}),f("td",{children:h}),f(pC,{children:f(ah,{className:oh,copyText:JSON.stringify(i,null,2),tooltipTitle:"Copy JSON"})})]},`${i.key}-${s}`)})})})})}const bC=ie({name:"1n1b5lu",styles:"cursor:pointer;overflow:hidden;display:flex;align-items:center;padding:0.25em 0.1em;font-size:12px;text-overflow:ellipsis;white-space:nowrap;&:hover{}"}),yC=ie({name:"qc2u2j",styles:"background:none;cursor:initial"}),xC=ie({name:"p5qggn",styles:"&:hover{}"}),SC=ie("",""),wC=ve("ul",{target:"ehdza0o3"})({name:"qock2",styles:"display:inline;list-style:none;padding:0"}),TC=ve("li",{target:"ehdza0o2"})({name:"1uj10ny",styles:"display:inline;margin-left:0.7em;padding-right:0.5rem;border-right:1px solid #ddd;&:last-child{padding-right:0;border-right:none;}"}),CC=ve("span",{target:"ehdza0o1"})({name:"1e64wdl",styles:"color:#777"}),kC=ve("span",{target:"ehdza0o0"})({name:"12cl9nh",styles:"color:#bbb;padding:0 0.2em"});function ch(e){const{data:t}=e;return!Array.isArray(t)||!t.length?null:f(wC,{children:t.map((n,r)=>F(TC,{children:[f(CC,{children:n.key}),f(kC,{children:"="}),String(n.value)]},`${n.key}-${r}`))})}ch.defaultProps={data:null};function _i(e){const{className:t,data:n,highContrast:r,interactive:i,isOpen:s,label:o,linksGetter:l,onToggle:c}=e,h=!Array.isArray(n)||!n.length;let u=null,g=null;return i&&(u=s?f($n,{fontSize:"small",style:{height:"13px",width:"13px"}}):f(Kn,{fontSize:"small",style:{height:"13px",width:"13px"}}),g={"aria-checked":s,onClick:h?null:c,role:"switch"}),F("div",{className:wt(t,l1),children:[F("div",{className:wt(bC,{[yC]:h,[xC]:r&&!h}),...g,"data-testid":"AccordianKeyValues--header",children:[u,F("strong",{"data-test":cC,children:[o,s||":"]}),!s&&f(ch,{data:n})]}),s&&f(vC,{theme:e.theme,data:n,linksGetter:l})]})}_i.defaultProps={className:null,highContrast:!1,interactive:!0,onToggle:null};const EC=ve("div",{target:"ez022cq2"})({name:"3ouqx7",styles:"position:relative;margin-bottom:0.25rem"}),_C=ve("small",{target:"ez022cq1"})({name:"1ew8yt4",styles:"font-size:80%"}),IC=ve("div",{target:"ez022cq0"})(""),RC=ie({name:"1ruuvzr",styles:"display:flex;align-items:center;color:inherit;font-size:12px;padding:0.25rem 0.5rem;&:hover{}"});function Ja(e){const{interactive:t,isOpen:n,linksGetter:r,logs:i,openedItems:s,onItemToggle:o,onToggle:l,timestamp:c}=e;let h=null,u="span",g=null;t&&(h=n?f($n,{style:{height:"13px",width:"12px"},className:Ei}):f(Es,{style:{height:"13px",width:"12px"},className:Ei}),u="a",g={"aria-checked":n,onClick:l,role:"switch"});const S=ln.useMemo(()=>i.map(w=>{var C;const m=(C=Object.keys(w))==null?void 0:C.filter(k=>k!=="timeUnixNano");return{timestamp:parseInt(w.timeUnixNano)/1e3,fields:m.map(k=>({key:k,value:w[k]}))}}),[i]);return F(EC,{children:[F(u,{className:RC,...g,children:[h," ",F("strong",{children:["Events (",S.length,")"]})]}),n&&F(IC,{children:[Ft.sortBy(S,"timestamp").map((w,m)=>f(_i,{className:m<S.length-1?ll:null,data:w.fields||[],highContrast:!0,interactive:t,isOpen:s?s.has(w):!1,label:`${vr(w.timestamp-c)}`,linksGetter:r,onToggle:t&&o?()=>o(w):null},`${w.timestamp}-${m}`)),f(_C,{children:"Log timestamps are relative to the start time of the full trace."})]})]})}Ja.defaultProps={interactive:!0,linksGetter:void 0,onItemToggle:void 0,onToggle:void 0,openedItems:void 0};function MC(e){const{data:t,openedItems:n,onItemToggle:r,interactive:i}=e;return f("div",{children:t.map((s,o)=>{var l;return F("div",{children:[f("div",{},`${s.spanID}`),!!((l=s.tags)!=null&&l.length)&&f("div",{children:f(_i,{className:o<t.length-1?ll:null,data:s.tags||[],highContrast:!0,interactive:i,isOpen:n?n.has(s):!1,label:"attributes",linksGetter:null,onToggle:i&&r?()=>r(s):null})})]},o)})})}const NC=({data:e,interactive:t=!0,isOpen:n,onToggle:r,onItemToggle:i,openedItems:s})=>{const o=!Array.isArray(e)||!e.length;let l=null,c="span",h=null;return t&&(l=n?f($n,{className:Ei}):f(Es,{className:Ei}),c="a",h={"aria-checked":n,onClick:o?null:r,role:"switch"}),F("div",{children:[F(c,{...h,children:[l,f("strong",{children:f("span",{children:"References"})})," ","(",e.length,")"]}),n&&f(MC,{data:e,openedItems:s,onItemToggle:i,interactive:t})]})},OC=ln.memo(NC),LC=ve("div",{target:"eadj5d22"})({name:"3tuv09",styles:"max-height:450px;overflow:auto"}),DC=ve("ul",{target:"eadj5d21"})({name:"19n6eah",styles:"width:100%;list-style:none;padding:0;margin:0"}),AC=ve("li",{target:"eadj5d20"})({name:"378bp4",styles:"padding:0.25rem 0.5rem;vertical-align:top;&:nth-of-type(2n){background:#f5f5f5;}"});function PC(e){const{data:t}=e;return f(LC,{"data-testid":"TextList",children:f(DC,{children:t.map((n,r)=>f(AC,{children:n},`${r}`))})})}const $C=ie({name:"1szkuk8",styles:"cursor:pointer;overflow:hidden;padding:0.25em 0.1em;text-overflow:ellipsis;font-size:12px;white-space:nowrap;&:hover{background:#e8e8e8;}"});function zC({data:e}){return f(PC,{data:e})}function Ya(e){const{className:t,data:n,headerClassName:r,interactive:i,isOpen:s,label:o,onToggle:l,TextComponent:c=zC}=e,h=!Array.isArray(n)||!n.length,u=wt(Ei,{[SC]:h});let g=null,S=null;return i&&(g=s?f($n,{className:u,fontSize:"small"}):f(Kn,{className:u,fontSize:"small"}),S={"aria-checked":s,onClick:h?null:l,role:"switch"}),F("div",{className:t||"",children:[F("div",{className:wt($C,r),...S,"data-testid":"AccordianText--header",children:[g,f("strong",{children:o})," (",n.length,")"]}),s&&f(c,{data:n})]})}Ya.defaultProps={className:null,highContrast:!1,interactive:!0,onToggle:null};const VC=ve("div",{target:"ehivu7p5"})({name:"6actrf",styles:"display:flex;align-items:flex-start;justify-content:space-between;gap:0 1rem;margin-bottom:0.25rem"}),FC=ve("div",{target:"ehivu7p4"})({name:"d3v9zr",styles:"overflow:hidden"}),jC=ve("small",{target:"ehivu7p3"})({name:"1pqeq2z",styles:"display:block;letter-spacing:0.25px;margin:0.5em 0 -0.75em;text-align:right;font-size:80%"}),HC=ve("span",{target:"ehivu7p2"})({name:"1id9zsx",styles:"&::before{color:#bbb;content:attr(data-label);}"}),BC=ie({name:"1tfdntu",styles:"background:#fafafa;border:1px solid #e4e4e4;margin-bottom:0.25rem"}),qC=ie({name:"lkfof",styles:"background:#fff7e6;padding:0.25rem 0.5rem;&:hover{background:#ffe7ba;}"}),WC=ve("span",{target:"ehivu7p1"})({name:"abo73h",styles:"color:#d36c08"}),UC=ve("textarea",{target:"ehivu7p0"})({name:"67ljor",styles:"word-break:break-all;white-space:pre"});function QC(e){var se;const{detailState:t,linksGetter:n,logItemToggle:r,logsToggle:i,processToggle:s,span:o,tagsToggle:l,traceStartTime:c,warningsToggle:h,stackTracesToggle:u,referencesToggle:g,referenceItemToggle:S}=e,{isTagsOpen:w,isProcessOpen:m,logs:C,isWarningsOpen:k,references:T,isStackTracesOpen:y}=t,{operationName:N,process:M,duration:L,relativeStartTime:P,startTime:p,spanID:_,logs:I,tags:D,warnings:$,references:z,stackTraces:V}=o,K=[{key:"svc",label:"Service:",value:M.serviceName},{key:"duration",label:"Duration:",value:vr(L)},{key:"start",label:"Start Time:",value:vr(P)+GC(p)},...o.childSpanCount>0?[{key:"child_count",label:"Child Count:",value:o.childSpanCount}]:[]];return F("div",{"data-testid":"span-detail-component",children:[F(VC,{children:[f("h2",{className:wt(r1),children:N}),f(FC,{children:f(sh,{theme:e.theme,className:a1,divider:!0,items:K})})]}),f(nC,{className:n1,type:"horizontal"}),F("div",{children:[F("div",{children:[f(_i,{theme:e.theme,data:D,label:"Attributes",linksGetter:n,isOpen:w,onToggle:()=>l(_)}),M.tags&&f(_i,{theme:e.theme,className:ll,data:M.tags,label:"Resource",linksGetter:n,isOpen:m,onToggle:()=>s(_)})]}),((se=o==null?void 0:o.events)==null?void 0:se.length)>0&&f(Ja,{linksGetter:n,logs:o.events,isOpen:C.isOpen,openedItems:C.openedItems,onToggle:()=>i(_),onItemToggle:ue=>r(_,ue),timestamp:c}),I&&I.length>0&&f(Ja,{linksGetter:n,logs:I,isOpen:C.isOpen,openedItems:C.openedItems,onToggle:()=>i(_),onItemToggle:ue=>r(_,ue),timestamp:c}),$&&$.length>0&&f(Ya,{className:BC,headerClassName:qC,label:f(WC,{children:"Warnings"}),data:$,isOpen:k,onToggle:()=>h(_)}),V&&V.length&&f(Ya,{label:"Stack trace",data:V,isOpen:y,TextComponent:ue=>{var he,Y;let te;return((he=ue.data)==null?void 0:he.length)>1?te=ue.data.map((Fe,$e)=>`StackTrace ${$e+1}:
${Fe}`).join(`
`):te=(Y=ue.data)==null?void 0:Y[0],f(UC,{style:{cursor:"unset"},readOnly:!0,cols:10,rows:10,value:te})},onToggle:()=>u(_)}),z&&z.length>0&&(z.length>1||z[0].refType!=="CHILD_OF")&&f(OC,{data:z,isOpen:T.isOpen,openedItems:T.openedItems,onToggle:()=>g(_),onItemToggle:ue=>S(_,ue)}),F(jC,{children:[f(HC,{"data-label":"SpanID:"})," ",_]})]})]})}const GC=e=>{var t;return` (${(t=nn(e/1e3))==null?void 0:t.format("HH:mm:ss.SSS")})`},KC=ve("span",{target:"e1w4zxyt1"})({name:"1xaxe76",styles:'cursor:pointer;height:100%;overflow:hidden;position:absolute;width:100%;&::before{border-left:4px solid;pointer-events:none;width:1000px;}&::after{border-right:1000px solid;border-color:inherit;cursor:pointer;opacity:0.2;}&::before,&::after{border-color:inherit;content:" ";position:absolute;height:100%;}&:hover::after{opacity:0.35;}'}),JC=ve("div",{target:"e1w4zxyt0"})("border:1px solid ",({theme:e})=>e.accentNeutral,";border-top:3px solid;padding:0.75rem;");class YC extends ln.PureComponent{constructor(){super(...arguments),this._detailToggle=()=>{this.props.onDetailToggled(this.props.span.spanID)},this._linksGetter=(t,n)=>{const{linksGetter:r,span:i}=this.props;return r(i,t,n)}}render(){const{color:t,columnDivision:n,detailState:r,logItemToggle:i,logsToggle:s,eventsToggle:o,processToggle:l,referenceItemToggle:c,referencesToggle:h,warningsToggle:u,stackTracesToggle:g,span:S,tagsToggle:w,traceStartTime:m,hoverIndentGuideIds:C,addHoverIndentGuideId:k,removeHoverIndentGuideId:T,createSpanLink:y,focusedSpanId:N,topOfViewRefType:M}=this.props;return F(_n,{theme:this.props.theme,children:[F(_n.Cell,{theme:this.props.theme,width:n,style:{overflow:"hidden"},children:[f(Os,{theme:this.props.theme,span:S,showChildrenIcon:!1,hoverIndentGuideIds:C,addHoverIndentGuideId:k,removeHoverIndentGuideId:T}),f("span",{children:f(KC,{onClick:this._detailToggle,style:{borderColor:t},"data-testid":"detail-row-expanded-accent"})})]}),f(_n.Cell,{theme:this.props.theme,width:1-n,children:f(JC,{theme:this.props.theme,style:{borderTopColor:t},children:f(QC,{theme:this.props.theme,detailState:r,linksGetter:this._linksGetter,logItemToggle:i,logsToggle:s,eventsToggle:o,processToggle:l,referenceItemToggle:c,referencesToggle:h,warningsToggle:u,stackTracesToggle:g,span:S,tagsToggle:w,traceStartTime:m,createSpanLink:y,focusedSpanId:N,topOfViewRefType:M})})})]})}}var ml={},XC=Ct;Object.defineProperty(ml,"__esModule",{value:!0});var uh=ml.default=void 0,ZC=XC(Tt()),ek=qe,tk=(0,ZC.default)((0,ek.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");uh=ml.default=tk;const nk=ie({name:"j9e210",styles:"display:flex;flex-direction:column;justify-content:center;align-items:center;width:40px;height:40px;position:fixed;bottom:30px;right:30px;z-index:1"}),rk=ie({name:"1d3w5wq",styles:"width:100%"}),Cu=ve("div",{target:"eepu6h50"})("color:",({theme:e})=>e.contrast,";width:100%;"),Ma={bar:28,detail:161,detailWithLogs:197},ik=5;function sk(e,t,n){if(!e)return[];let r=null;const i=[];for(let s=0;s<e.length;s++){const o=e[s],{spanID:l,depth:c}=o;let h=!1;r!=null&&(c>=r?h=!0:r=null),!h&&(t.has(l)&&(r=c+1),i.push({span:o,isDetail:!1,spanIndex:s}),n.has(l)&&i.push({span:o,isDetail:!0,spanIndex:s}))}return i}function ak(e){const[t,n]=e;return{left:t>0,right:n<1}}function ok(e,t,n){return e?sk(e.spans,t,n):[]}const lk=ti(ok),ck=ti(g1,Ft.isEqual),uk=ti(ak,Ft.isEqual);class dk extends ln.Component{constructor(t){super(t),this.topTraceViewRef=b.createRef(),this.getViewRange=()=>this.props.currentViewRangeTime,this.getSearchedSpanIDs=()=>this.props.findMatchesIDs,this.getCollapsedChildren=()=>this.props.childrenHiddenIDs,this.mapRowIndexToSpanIndex=s=>this.getRowStates()[s].spanIndex,this.mapSpanIndexToRowIndex=s=>{const o=this.getRowStates().length;for(let l=0;l<o;l++){const{spanIndex:c}=this.getRowStates()[l];if(c===s)return l}throw new Error(`unable to find row for span index: ${s}`)},this.setListView=s=>{const o=this.listView!==s;this.listView=s,s&&o&&this.props.registerAccessors(this.getAccessors())},this.getKeyFromIndex=s=>{const{isDetail:o,span:l}=this.getRowStates()[s];return`${l.traceID}--${l.spanID}--${o?"detail":"bar"}`},this.getIndexFromKey=s=>{const o=s.split("--"),l=o[0],c=o[1],h=o[2]==="detail",u=this.getRowStates().length;for(let g=0;g<u;g++){const{span:S,isDetail:w}=this.getRowStates()[g];if(S.spanID===c&&S.traceID===l&&w===h)return g}return-1},this.getRowHeight=s=>{const{span:o,isDetail:l}=this.getRowStates()[s];return l?Array.isArray(o.logs)&&o.logs.length?Ma.detailWithLogs:Ma.detail:Ma.bar},this.renderRow=(s,o,l,c)=>{const{isDetail:h,span:u,spanIndex:g}=this.getRowStates()[l];return h?this.renderSpanDetailRow(u,s,o,c):this.renderSpanBarRow(u,g,s,o,c)},this.scrollToSpan=s=>{var l;if(s==null)return;const o=this.getRowStates().findIndex(c=>c.span.spanID===s);o>=0&&((l=this.listView)==null||l.scrollToIndex(o))},this.scrollToTop=()=>{var o;const{topOfViewRef:s}=this.props;(o=s==null?void 0:s.current)==null||o.scrollIntoView({behavior:"smooth"})};const{setTrace:n,trace:r,uiFind:i}=t;n(r,i)}componentDidMount(){this.scrollToSpan(this.props.focusedSpanId)}shouldComponentUpdate(t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(t[n[r]]!==this.props[n[r]])if(n[r]==="shouldScrollToFirstUiFindMatch"){if(t[n[r]])return!0}else return!0;return!1}componentDidUpdate(t){const{registerAccessors:n,trace:r}=t,{shouldScrollToFirstUiFindMatch:i,clearShouldScrollToFirstUiFindMatch:s,scrollToFirstVisibleSpan:o,registerAccessors:l,setTrace:c,trace:h,uiFind:u,focusedSpanId:g,focusedSpanIdForSearch:S}=this.props;r!==h&&c(h,u),this.listView&&n!==l&&l(this.getAccessors()),i&&(o(),s()),g!==t.focusedSpanId&&this.scrollToSpan(g),S!==t.focusedSpanIdForSearch&&this.scrollToSpan(S)}getRowStates(){const{childrenHiddenIDs:t,detailStates:n,trace:r}=this.props;return lk(r,t,n)}getClipping(){const{currentViewRangeTime:t}=this.props;return uk(t)}getViewedBounds(){const{currentViewRangeTime:t,trace:n}=this.props,[r,i]=t;return ck({min:n.startTime,max:n.endTime,viewStart:r,viewEnd:i})}getAccessors(){const t=this.listView;if(!t)throw new Error("ListView unavailable");return{getViewRange:this.getViewRange,getSearchedSpanIDs:this.getSearchedSpanIDs,getCollapsedChildren:this.getCollapsedChildren,getViewHeight:t.getViewHeight,getBottomRowIndexVisible:t.getBottomVisibleIndex,getTopRowIndexVisible:t.getTopVisibleIndex,getRowPosition:t.getRowPosition,mapRowIndexToSpanIndex:this.mapRowIndexToSpanIndex,mapSpanIndexToRowIndex:this.mapSpanIndexToRowIndex}}renderSpanBarRow(t,n,r,i,s){const{spanID:o}=t,{serviceName:l}=t.process,{childrenHiddenIDs:c,childrenToggle:h,detailStates:u,detailToggle:g,findMatchesIDs:S,spanNameColumnWidth:w,trace:m,spanBarOptions:C,hoverIndentGuideIds:k,addHoverIndentGuideId:T,removeHoverIndentGuideId:y,createSpanLink:N,focusedSpanId:M,focusedSpanIdForSearch:L,theme:P}=this.props;if(!m)return null;const p=Xi(l,P),_=c.has(o),I=u.has(o),D=S?S.has(o):!1,$=o===M||o===L,z=Jf(t)||_&&x1(m.spans,n);let V=null;if(_){const ue=S1(m.spans.slice(n));if(ue){const te=this.getViewedBounds()(ue.startTime,ue.startTime+ue.duration);V={color:Xi(ue.process.serviceName,P),operationName:ue.operationName,serviceName:ue.process.serviceName,viewEnd:te.end,viewStart:te.start}}}const K=t.tags.find(ue=>ue.key===iT);let se=null;return!t.hasChildren&&K&&w1(t)&&(se={serviceName:K.value,color:Xi(K.value,P)}),f(Cu,{theme:this.props.theme,style:i,...s,children:f(gl,{theme:this.props.theme,clippingLeft:this.getClipping().left,clippingRight:this.getClipping().right,color:p,spanBarOptions:C,columnDivision:w,isChildrenExpanded:!_,isDetailExpanded:I,isMatchingFilter:D,isFocused:$,numTicks:ik,onDetailToggled:g,onChildrenToggled:h,rpc:V,noInstrumentedServer:se,showErrorIcon:z,getViewedBounds:this.getViewedBounds(),traceStartTime:m.startTime,span:t,hoverIndentGuideIds:k,addHoverIndentGuideId:T,removeHoverIndentGuideId:y,createSpanLink:N})},r)}renderSpanDetailRow(t,n,r,i){const{spanID:s}=t,{serviceName:o}=t.process,{detailLogItemToggle:l,detailLogsToggle:c,detailEventsToggle:h,detailProcessToggle:u,detailReferencesToggle:g,detailReferenceItemToggle:S,detailWarningsToggle:w,detailStackTracesToggle:m,detailStates:C,detailTagsToggle:k,detailToggle:T,spanNameColumnWidth:y,trace:N,hoverIndentGuideIds:M,addHoverIndentGuideId:L,removeHoverIndentGuideId:P,linksGetter:p,createSpanLink:_,focusedSpanId:I,topOfViewRefType:D}=this.props,$=C.get(s);if(!N||!$)return null;const z=Xi(o,this.props.theme);return f(Cu,{theme:this.props.theme,style:{...r,zIndex:1},...i,children:f(YC,{theme:this.props.theme,color:z,columnDivision:y,onDetailToggled:T,detailState:$,linksGetter:p,logItemToggle:l,logsToggle:c,eventsToggle:h,processToggle:u,referenceItemToggle:S,referencesToggle:g,warningsToggle:w,stackTracesToggle:m,span:t,tagsToggle:k,traceStartTime:N.startTime,hoverIndentGuideIds:M,addHoverIndentGuideId:L,removeHoverIndentGuideId:P,createSpanLink:_,focusedSpanId:I,topOfViewRefType:D})},n)}render(){const{scrollElement:t}=this.props;return F(mt,{children:[f(nh,{ref:this.setListView,dataLength:this.getRowStates().length,itemHeightGetter:this.getRowHeight,itemRenderer:this.renderRow,viewBuffer:50,viewBufferMin:50,itemsWrapperClassName:rk,getKeyFromIndex:this.getKeyFromIndex,getIndexFromKey:this.getIndexFromKey,windowScroller:!1,scrollElement:t}),f(uh,{className:nk,onClick:this.scrollToTop})]})}}const fk=ve("div",{target:"e1uxf6l90"})("border-bottom:1px solid ",({theme:e})=>e.accentNeutral,";& .json-markup{line-height:17px;font-size:13px;font-family:monospace;white-space:pre-wrap;}& .json-markup-key{font-weight:bold;}& .json-markup-bool{color:",({theme:e})=>e.contrast,";}& .json-markup-string{color:",({theme:e})=>e.contrast,";font-size:12px;font-family:monospace;}& .json-markup-null{color:",({theme:e})=>e.contrast,";}& .json-markup-number{color:",({theme:e})=>e.contrast,";}"),hk=5;class pk extends ln.PureComponent{constructor(t){super(t),this.collapseAll=()=>{this.props.collapseAll(this.props.trace.spans)},this.collapseOne=()=>{this.props.collapseOne(this.props.trace.spans)},this.expandAll=()=>{this.props.expandAll()},this.expandOne=()=>{this.props.expandOne(this.props.trace.spans)},this.state={height:0}}componentDidMount(){Zw({collapseAll:this.collapseAll,expandAll:this.expandAll,collapseOne:this.collapseOne,expandOne:this.expandOne})}render(){const{setSpanNameColumnWidth:t,updateNextViewRangeTime:n,updateViewRangeTime:r,viewRange:i,traceTimeline:s,topOfViewRef:o,focusedSpanIdForSearch:l,...c}=this.props,{trace:h}=c;return F(fk,{theme:this.props.theme,ref:u=>u&&this.setState({height:u.getBoundingClientRect().height}),children:[f(rT,{theme:this.props.theme,duration:h.duration,nameColumnWidth:s.spanNameColumnWidth,numTicks:hk,onCollapseAll:this.collapseAll,onCollapseOne:this.collapseOne,onColummWidthChange:t,onExpandAll:this.expandAll,onExpandOne:this.expandOne,viewRangeTime:i.time,updateNextViewRangeTime:n,updateViewRangeTime:r,columnResizeHandleHeight:this.state.height}),f(dk,{...c,...s,setSpanNameColumnWidth:t,currentViewRangeTime:i.time.current,topOfViewRef:o,focusedSpanIdForSearch:l})]})}}function dh(e){const{isLarge:t,className:n,...r}=e;return f(Is,{...r})}dh.defaultProps={isLarge:!1};const gk=e=>F("a",{href:e.href,title:e.title,target:"_blank",rel:"noopener noreferrer",className:e.className,children:[e.children," ",f(dh,{})]});function mk(e){const{links:t}=e;return f(gk,{href:t[0].url,title:t[0].text,className:e.className})}const vk=100,bk="<trace-without-root-span>",yk=ie({name:"1x0ro3f",styles:"display:inline-block;white-space:pre"}),fh=/\W*\w+\W*/g;function hh(e){const{className:t,text:n,wordRegexp:r=fh}=e;if(!n)return typeof n=="string"?n:null;const i=[];r.exec("");let s=r.exec(n)||[n];for(;s;)i.push(f("span",{className:t||yk,children:s[0]},`${n}-${i.length}`)),s=r.exec(n);return i}hh.defaultProps={wordRegexp:fh};function xk(e){const{className:t,traceName:n}=e,r=String(n||bk);return f("span",{className:t,children:f(hh,{text:r})})}const Sk=gm(Object.defineProperty({archiveEnabled:!1,dependencies:{dagMaxNumServices:vk,menuEnabled:!0},linkPatterns:[],menu:[],search:{maxLookback:{label:"2 Days",value:"2d"},maxLimit:1500},tracking:{gaID:null,trackErrors:!0}},"__mergeFields",{value:["dependencies","search","tracking"]}));function wk(){return Sk}function Tk(e){return Ft.get(wk(),e)}const ph=/#\{([^{}]*)\}/g;function Ck(e){const t=new Set;return e.replace(ph,(n,r)=>(t.add(r),n)),Array.from(t)}function kk(e,t,n){return e.replace(ph,(r,i)=>{const s=n[i];return s==null?"":t(s)})}function ku(e,t){if(typeof e!="string")throw new Error("Invalid template");return{parameters:Ck(e),template:kk.bind(null,e,t)}}function Na(e){if(typeof e=="string")return t=>t===e;if(Array.isArray(e))return t=>e.indexOf(t)>-1;if(e==null)return()=>!0;throw new Error(`Invalid value: ${e}`)}const Ek=e=>e;function _k(e){try{const t=ku(e.url,encodeURIComponent),n=ku(e.text,Ek);return{object:e,type:Na(e.type),key:Na(e.key),value:Na(e.value),url:t,text:n,parameters:Ft.uniq(t.parameters.concat(n.parameters))}}catch(t){return console.error(`Ignoring invalid link pattern: ${t}`,e),null}}function Eu(e,t){return e.template(t)}function Ik(e,t){const n=[],r=Object.keys(t).filter(i=>typeof t[i]=="string"||t[i]==="number");return e.filter(i=>i.type("traces")).forEach(i=>{const s={};i.parameters.every(l=>{const c=l;return r.includes(c)?(s[l]=t[c],!0):!1})&&n.push({url:Eu(i.url,s),text:Eu(i.text,s)})}),n}const Rk=(Tk("linkPatterns")||[]).map(_k).filter(Boolean),Mk=mm(10)(e=>{const t=[];return e?Ik(Rk,e):t});function Nk(e){let t;const n=new Set(e.map(({spanID:r})=>r));for(let r=0;r<e.length;r++){if(e[r].references&&e[r].references.some(({traceID:l,spanID:c})=>l===e[r].traceID&&n.has(c)))continue;if(!t){t=e[r];continue}const s=e[r].references&&e[r].references.length||0,o=t.references&&t.references.length||0;(s<o||s===o&&e[r].startTime<t.startTime)&&(t=e[r])}return t?`${t.process.serviceName}: ${t.operationName}`:""}const Ok=Ft.memoize(Nk,e=>e.length?e[0].traceID:0),Lk=.9,Dk=2,Ak=200,_u=10,Iu=60,Pk=6;function $k(e,t,n,r,i){const s=new Map,o=t.length<Iu?Iu:Math.min(t.length,Ak),l=window.innerWidth*2;e.width=l,e.height=o;const c=Math.min(Pk,Math.max(Dk,o/t.length)),h=o/t.length,u=e.getContext("2d",{alpha:!1});u.fillStyle=i,u.fillRect(0,0,l,o);for(let g=0;g<t.length;g++){const{valueWidth:S,valueOffset:w,serviceName:m}=t[g],C=w/n*l;let k=S/n*l;k<_u&&(k=_u);let T=s.get(m);T||(T=`rgba(${r(m).concat(Lk).join()})`,s.set(m,T)),u.fillStyle=T,u.fillRect(C,g*h,k,c)}}const zk=ve("canvas",{target:"ez4gzed0"})({name:"1vmf2ne",styles:"height:60px;position:absolute;width:100%"});class Vk extends ln.PureComponent{constructor(t){super(t),this.getColor=n=>oT(n,this.props.theme),this._setCanvasRef=n=>{this._canvasElm=n},this._canvasElm=void 0}componentDidMount(){this._draw()}componentDidUpdate(){this._draw()}_draw(){if(this._canvasElm){const{valueWidth:t,items:n}=this.props;$k(this._canvasElm,n,t,this.getColor,this.props.theme.activeBg)}}render(){return f(zk,{theme:this.props.theme,ref:this._setCanvasRef})}}const Fk=ve("div",{target:"epf5owc1"})({name:"1dyap05",styles:"height:1.25rem;position:relative;display:flex;align-items:center"}),jk=ve("div",{target:"epf5owc0"})("color:",({theme:e})=>e.contrast,";font-size:0.75rem;position:absolute;user-select:none;");function Hk(e){const{numTicks:t,duration:n}=e,r=[];for(let i=0;i<t+1;i++){const s=i/t,o=s===1?{right:"0%"}:{left:`${s*100}%`};r.push(f(jk,{theme:e.theme,style:o,"data-testid":"tick",children:vr(n*s)},s))}return f(Fk,{children:r})}const Bk=ve("line",{target:"exd6frg0"})({name:"1yroh0b",styles:"stroke:#aaa;stroke-width:1px"});function qk(e){const{numTicks:t}=e,n=[];for(let r=1;r<t;r++){const i=`${r/t*100}%`;n.push(f(Bk,{x1:i,y1:"0%",x2:i,y2:"100%"},r/t))}return f("g",{"data-testid":"ticks","aria-hidden":"true",children:n})}const Wk=ve("g",{target:"ervekmk0"})({name:"1sphlrg",styles:"&:hover>.scrubber-handle-expansion{fill-opacity:1;}&:hover>.scrubber-handle{fill:#44f;}&:hover+.scrubber.line{stroke:#44f;}"}),Uk=wt(ie({name:"wifcyl",styles:"cursor:col-resize;fill:#555"}),"scrubber-handle"),Qk=ie({name:"eay7q9",styles:"& .scrubber-handle-expansion{fill-opacity:1;}& .scrubber-handle{fill:#44f;}&>.scrubber-line{stroke:#44f;}"}),Gk=wt(ie({name:"1b8wb1y",styles:"cursor:col-resize;fill-opacity:0;fill:#44f"}),"scrubber-handle-expansion"),Kk=wt(ie({name:"1tn2qwu",styles:"pointer-events:none;stroke:#555"}),"scrubber-line");function Ru({isDragging:e,onMouseDown:t,onMouseEnter:n,onMouseLeave:r,position:i}){const s=`${i*100}%`,o=wt({[Qk]:e});return F("g",{className:o,"data-testid":"scrubber-component",children:[F(Wk,{"data-testid":"scrubber-component-g",onMouseDown:t,onMouseEnter:n,onMouseLeave:r,children:[f("rect",{"data-testid":"scrubber-component-rect-1",x:s,className:Gk,style:{transform:"translate(-4.5px)"},width:"9",height:"20"}),f("rect",{"data-testid":"scrubber-component-rect-2",x:s,className:Uk,style:{transform:"translate(-1.5px)"},width:"3",height:"20"})]}),f("line",{className:Kk,y2:"100%",x1:s,x2:s,"data-testid":"scrubber-component-line"})]})}const gh="JaegerUiComponents__ViewingLayerResetZoomHoverClassName",Jk={name:"7s9exk",styles:"display:none;position:absolute;right:1%;top:10%;z-index:1;background-color:hsla(210, 12%, 16%, 16%);color:hsl(210, 12%, 16%);&:hover{background-color:hsla(210, 12%, 16%, 20%);color:hsl(210, 12%, 16%);}"},Yk=ve("div",{target:"e18iz0xu6"})("cursor:vertical-text;position:relative;z-index:1;&:hover>.",gh,"{display:unset;}"),Xk=ve("svg",{target:"e18iz0xu5"})("border:1px solid ",({theme:e})=>e.accentNeutral,";overflow:visible!important;position:relative;transform-origin:0 0;width:100%;"),Zk=ve("div",{target:"e18iz0xu4"})({name:"1of9epz",styles:"bottom:0;cursor:col-resize;left:0;position:fixed;right:0;top:0;user-select:none"}),Mu=ve("rect",{target:"e18iz0xu3"})({name:"prw1ow",styles:"fill:rgba(214, 214, 214, 0.5)"}),eE=ve("line",{target:"e18iz0xu2"})({name:"13ch26q",styles:"stroke:#f44;stroke-width:1"}),tE=ve("rect",{target:"e18iz0xu1"})({name:"1jlemno",styles:"fill:#44f"}),nE=ve("rect",{target:"e18iz0xu0"})({name:"22r79o",styles:"fill-opacity:0.2;fill:#44f"}),Fn={SHIFT_END:"SHIFT_END",SHIFT_START:"SHIFT_START",REFRAME:"REFRAME"};function rE(e,t){const[n,r]=e<t?[e,t]:[t,e];return{x:`${n*100}%`,width:`${(r-n)*100}%`,leadingX:`${t*100}%`}}class iE extends ln.PureComponent{constructor(t){super(t),this._setRoot=n=>{this._root=n},this._getDraggingBounds=n=>{if(!this._root)throw new Error("invalid state");const{left:r,width:i}=this._root.getBoundingClientRect(),[s,o]=this.props.viewRange.time.current;let l=1,c=0;return n===Fn.SHIFT_START?l=o:n===Fn.SHIFT_END&&(c=s),{clientXLeft:r,maxValue:l,minValue:c,width:i}},this._handleReframeMouseMove=({value:n})=>{this.props.updateNextViewRangeTime({cursor:n})},this._handleReframeMouseLeave=()=>{this.props.updateNextViewRangeTime({cursor:null})},this._handleReframeDragUpdate=({value:n})=>{const r=n,{time:i}=this.props.viewRange,o={reframe:{anchor:i.reframe?i.reframe.anchor:r,shift:r}};this.props.updateNextViewRangeTime(o)},this._handleReframeDragEnd=({manager:n,value:r})=>{const{time:i}=this.props.viewRange,s=i.reframe?i.reframe.anchor:r,[o,l]=r<s?[r,s]:[s,r];n.resetBounds(),this.props.updateViewRangeTime(o,l,"minimap")},this._handleScrubberEnterLeave=({type:n})=>{const r=n===Hn.MouseEnter;this.setState({preventCursorLine:r})},this._handleScrubberDragUpdate=({event:n,tag:r,type:i,value:s})=>{i===Hn.DragStart&&n.stopPropagation(),r===Fn.SHIFT_START?this.props.updateNextViewRangeTime({shiftStart:s}):r===Fn.SHIFT_END&&this.props.updateNextViewRangeTime({shiftEnd:s})},this._handleScrubberDragEnd=({manager:n,tag:r,value:i})=>{const[s,o]=this.props.viewRange.time.current;let l;if(r===Fn.SHIFT_START)l=[i,o];else if(r===Fn.SHIFT_END)l=[s,i];else throw new Error("bad state");n.resetBounds(),this.setState({preventCursorLine:!1}),this.props.updateViewRangeTime(l[0],l[1],"minimap")},this._resetTimeZoomClickHandler=()=>{this.props.updateViewRangeTime(0,1)},this._draggerReframe=new wi({getBounds:this._getDraggingBounds,onDragEnd:this._handleReframeDragEnd,onDragMove:this._handleReframeDragUpdate,onDragStart:this._handleReframeDragUpdate,onMouseMove:this._handleReframeMouseMove,onMouseLeave:this._handleReframeMouseLeave,tag:Fn.REFRAME}),this._draggerStart=new wi({getBounds:this._getDraggingBounds,onDragEnd:this._handleScrubberDragEnd,onDragMove:this._handleScrubberDragUpdate,onDragStart:this._handleScrubberDragUpdate,onMouseEnter:this._handleScrubberEnterLeave,onMouseLeave:this._handleScrubberEnterLeave,tag:Fn.SHIFT_START}),this._draggerEnd=new wi({getBounds:this._getDraggingBounds,onDragEnd:this._handleScrubberDragEnd,onDragMove:this._handleScrubberDragUpdate,onDragStart:this._handleScrubberDragUpdate,onMouseEnter:this._handleScrubberEnterLeave,onMouseLeave:this._handleScrubberEnterLeave,tag:Fn.SHIFT_END}),this._root=void 0,this.state={preventCursorLine:!1}}componentWillUnmount(){this._draggerReframe.dispose(),this._draggerEnd.dispose(),this._draggerStart.dispose()}_getMarkers(t,n){const r=rE(t,n);return[f(nE,{x:r.x,y:"0",width:r.width,height:this.props.height-2},"fill"),f(tE,{x:r.leadingX,y:"0",width:"1",height:this.props.height-2},"edge")]}render(){const{height:t,viewRange:n,numTicks:r}=this.props,{preventCursorLine:i}=this.state,{current:s,cursor:o,shiftStart:l,shiftEnd:c,reframe:h}=n.time,u=l!=null||c!=null||h!=null,[g,S]=s;let w=0;g&&(w=g*100);let m=100;S&&(m=100-S*100);let C;return!u&&o!=null&&!i&&(C=`${o*100}%`),F(Yk,{"aria-hidden":!0,style:{height:t},children:[(g!==0||S!==1)&&f(Yd,{onClick:this._resetTimeZoomClickHandler,css:Jk,className:gh,type:"button",variant:"contained",children:"Reset Selection"}),F(Xk,{theme:this.props.theme,height:t,ref:this._setRoot,onMouseDown:this._draggerReframe.handleMouseDown,onMouseLeave:this._draggerReframe.handleMouseLeave,onMouseMove:this._draggerReframe.handleMouseMove,children:[w>0&&f(Mu,{x:0,y:0,height:"100%",width:`${w}%`}),m>0&&f(Mu,{x:`${100-m}%`,y:0,height:"100%",width:`${m}%`}),f(qk,{numTicks:r}),C&&f(eE,{x1:C,y1:"0",x2:C,y2:t-2,strokeWidth:"1"}),l!=null&&this._getMarkers(g,l),c!=null&&this._getMarkers(S,c),f(Ru,{isDragging:l!=null,onMouseDown:this._draggerStart.handleMouseDown,onMouseEnter:this._draggerStart.handleMouseEnter,onMouseLeave:this._draggerStart.handleMouseLeave,position:g||0}),f(Ru,{isDragging:c!=null,position:S||1,onMouseDown:this._draggerEnd.handleMouseDown,onMouseEnter:this._draggerEnd.handleMouseEnter,onMouseLeave:this._draggerEnd.handleMouseLeave}),h!=null&&this._getMarkers(h.anchor,h.shift)]}),u&&f(Zk,{})]})}}const mh=60,Nu=4;function sE(e){return{valueOffset:e.relativeStartTime,valueWidth:e.duration,serviceName:e.process.serviceName}}function aE(e){return e.spans.map(sE)}const oE=ti(aE);class vh extends ln.PureComponent{render(){const{height:t,trace:n,viewRange:r,updateNextViewRangeTime:i,updateViewRangeTime:s}=this.props;if(!n)return f("div",{});const o=oE(n);return F("div",{className:wt(i1,Wf),children:[f(Hk,{theme:this.props.theme,numTicks:Nu,duration:n.duration}),F("div",{className:qf,children:[f(Vk,{...this.props,valueWidth:n.duration,items:o}),f(iE,{theme:this.props.theme,viewRange:r,numTicks:Nu,height:t||mh,updateViewRangeTime:s,updateNextViewRangeTime:i})]})]})}}vh.defaultProps={height:mh};const lE=ve("header",{target:"etrfo5z2"})("&>:first-of-type{border-bottom:1px solid ",({theme:e})=>e==null?void 0:e.accentNeutral,";}&>:nth-of-type(2){background-color:",e=>{var t;return(t=e==null?void 0:e.theme)==null?void 0:t.shadow},";border-bottom:1px solid ",e=>{var t;return(t=e==null?void 0:e.theme)==null?void 0:t.accentNeutral},";}&>:last-child{border-bottom:1px solid ",e=>{var t;return(t=e==null?void 0:e.theme)==null?void 0:t.shadow},";}"),cE=ve("div",{target:"etrfo5z1"})({name:"1vr7vmn",styles:"align-items:center;display:flex"}),uE=ie({name:"1tcdcez",styles:"align-items:center;align-self:stretch;background:inherit;background-color:#fafafa;border-bottom:1px solid #ddd;border-right:1px solid #ddd;color:inherit;display:flex;font-size:1.4rem;padding:0 1rem;margin-bottom:-1px;&:hover{background-color:#f0f0f0;border-color:#ccc;}"}),dE=ie({name:"1sdfuo6",styles:"align-items:center;display:flex;flex:1;&:hover *{text-decoration:underline;}&:hover>*,&:hover small{text-decoration:none;}background:transparent;text-align:left;border:none"}),fE=ie({name:"1dvwl0",styles:"font-size:2.5rem;transition:transform 0.07s ease-out"}),hE=ie({name:"jbgpyq",styles:"transform:rotate(90deg)"}),pE=e=>ie("color:",e,";flex:1;font-size:14px;font-weight:bold;line-height:1em;margin:0 0 0 0.5em;padding:10px 0px;",""),gE=ie({name:"1gz4j9a",styles:"margin-left:0"}),mE=ie({name:"kuw45i",styles:"border-bottom:1px solid #e4e4e4;padding:0.25rem 0.5rem!important"}),vE=ve("small",{target:"etrfo5z0"})({name:"1jpmgj5",styles:"white-space:nowrap;font-size:80%"}),bE=[{key:"timestamp",label:"Trace Start:",renderer(e){return nn((e==null?void 0:e.startTime)/1e3).format("YYYY-MM-DDTHH:mm:ss.SSSZ")}},{key:"duration",label:"Duration:",renderer:e=>vr(e.duration)},{key:"service-count",label:"Services:",renderer(e){return new Set(Ft.values(e.services).map(t=>t.name)).size}},{key:"depth",label:"Depth:",renderer:e=>Ft.get(Ft.maxBy(e.spans,"depth"),"depth",0)+1},{key:"span-count",label:"Total Spans:",renderer:e=>{var t;return(t=e==null?void 0:e.spans)==null?void 0:t.length}}];function yE(e){var m,C;const{canCollapse:t,hideMap:n,hideSummary:r,onSlimViewClicked:i,slimView:s,trace:o,updateNextViewRangeTime:l,updateViewRangeTime:c,viewRange:h}=e,u=Be(),g=b.useMemo(()=>o?Mk(o):[],[o]);if(!o)return null;const S=!r&&!s&&bE.map(k=>{const{renderer:T,...y}=k;return{...y,value:T(o)}}),w=F("h1",{style:{color:(m=e==null?void 0:e.theme)==null?void 0:m.contrast},className:wt(pE((C=e==null?void 0:e.theme)==null?void 0:C.contrast),t&&gE),children:[f(xk,{traceName:Ok(o.spans)})," ",f(vE,{className:u1,children:o.traceID})]});return F(lE,{theme:e.theme,children:[F(cE,{children:[g&&g.length>0&&f(mk,{links:g,className:uE}),t?F("button",{type:"button",className:dE,onClick:i,role:"switch","aria-checked":!s,children:[f(Kn,{className:wt(fE,!s&&hE)}),w]}):w]}),S&&f(sh,{theme:e.theme,className:mE,items:S}),!n&&!s&&f(vh,{...e,theme:u,trace:o,viewRange:h,updateNextViewRangeTime:l,updateViewRangeTime:c})]})}class bn{constructor(t){const{isTagsOpen:n,isEventsOpen:r,isProcessOpen:i,isReferencesOpen:s,isWarningsOpen:o,isStackTracesOpen:l,logs:c,references:h,events:u}=t||{};this.isTagsOpen=!!n,this.isEventsOpen=!!r,this.isProcessOpen=!!i,this.isReferencesOpen=!!s,this.isWarningsOpen=!!o,this.isStackTracesOpen=!!l,this.logs={isOpen:!!(c&&c.isOpen),openedItems:c&&c.openedItems?new Set(c.openedItems):new Set},this.events={isOpen:!!(u&&u.isOpen),openedItems:u&&u.openedItems?new Set(u.openedItems):new Set},this.references={isOpen:!!(h&&h.isOpen),openedItems:h&&h.openedItems?new Set(h.openedItems):new Set}}toggleTags(){const t=new bn(this);return t.isTagsOpen=!this.isTagsOpen,t}toggleEvents(){const t=new bn(this);return t.isEventsOpen=!this.isEventsOpen,t}toggleEventItem(t){const n=new bn(this);return n.events.openedItems.has(t)?n.events.openedItems.delete(t):n.events.openedItems.add(t),n}toggleProcess(){const t=new bn(this);return t.isProcessOpen=!this.isProcessOpen,t}toggleReferences(){const t=new bn(this);return t.references.isOpen=!this.references.isOpen,t}toggleReferenceItem(t){const n=new bn(this);return n.references.openedItems.has(t)?n.references.openedItems.delete(t):n.references.openedItems.add(t),n}toggleWarnings(){const t=new bn(this);return t.isWarningsOpen=!this.isWarningsOpen,t}toggleStackTraces(){const t=new bn(this);return t.isStackTracesOpen=!this.isStackTracesOpen,t}toggleLogs(){const t=new bn(this);return t.logs.isOpen=!this.logs.isOpen,t}toggleLogItem(t){const n=new bn(this);return n.logs.openedItems.has(t)?n.logs.openedItems.delete(t):n.logs.openedItems.add(t),n}}var hs="NOT_FOUND";function xE(e){var t;return{get:function(r){return t&&e(t.key,r)?t.value:hs},put:function(r,i){t={key:r,value:i}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}function SE(e,t){var n=[];function r(l){var c=n.findIndex(function(u){return t(l,u.key)});if(c>-1){var h=n[c];return c>0&&(n.splice(c,1),n.unshift(h)),h.value}return hs}function i(l,c){r(l)===hs&&(n.unshift({key:l,value:c}),n.length>e&&n.pop())}function s(){return n}function o(){n=[]}return{get:r,put:i,getEntries:s,clear:o}}var wE=function(t,n){return t===n};function TE(e){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;for(var i=n.length,s=0;s<i;s++)if(!e(n[s],r[s]))return!1;return!0}}function CE(e,t){var n=typeof t=="object"?t:{equalityCheck:t},r=n.equalityCheck,i=r===void 0?wE:r,s=n.maxSize,o=s===void 0?1:s,l=n.resultEqualityCheck,c=TE(i),h=o===1?xE(c):SE(o,c);function u(){var g=h.get(arguments);if(g===hs){if(g=e.apply(null,arguments),l){var S=h.getEntries(),w=S.find(function(m){return l(m.value,g)});w&&(g=w.value)}h.put(arguments,g)}return g}return u.clearCache=function(){return h.clear()},u}function kE(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(r){return typeof r=="function"})){var n=t.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function EE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var h=0,u,g={memoizeOptions:void 0},S=l.pop();if(typeof S=="object"&&(g=S,S=l.pop()),typeof S!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof S+"]");var w=g,m=w.memoizeOptions,C=m===void 0?n:m,k=Array.isArray(C)?C:[C],T=kE(l),y=e.apply(void 0,[function(){return h++,S.apply(null,arguments)}].concat(k)),N=e(function(){for(var L=[],P=T.length,p=0;p<P;p++)L.push(T[p].apply(null,arguments));return u=y.apply(null,L),u});return Object.assign(N,{resultFunc:S,memoizedResultFunc:y,dependencies:T,lastResult:function(){return u},recomputations:function(){return h},resetRecomputations:function(){return h=0}}),N};return i}var dt=EE(CE),_E=function(t,n){if(n===void 0&&(n=dt),typeof t!="object")throw new Error("createStructuredSelector expects first argument to be an object "+("where each property is a selector, instead received a "+typeof t));var r=Object.keys(t),i=n(r.map(function(s){return t[s]}),function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];return o.reduce(function(c,h,u){return c[r[u]]=h,c},{})});return i};class Dn{static iterFunction(t,n=0){return r=>t(r.value,r,n)}static searchFunction(t){return typeof t=="function"?t:(n,r)=>t instanceof Dn?r===t:n===t}constructor(t,n=[]){this.value=t,this.children=n}get depth(){return this.children.reduce((t,n)=>Math.max(n.depth+1,t),1)}get size(){let t=0;return this.walk(()=>t++),t}addChild(t){return this.children.push(t instanceof Dn?t:new Dn(t)),this}find(t){if(Dn.iterFunction(Dn.searchFunction(t))(this))return this;for(let r=0;r<this.children.length;r++){const i=this.children[r].find(t);if(i)return i}return null}getPath(t){const n=Dn.iterFunction(Dn.searchFunction(t)),r=(i,s)=>{const o=s.concat([i]);if(n(i))return o;for(let l=0;l<i.children.length;l++){const c=i.children[l],h=r(c,o);if(h)return h}return null};return r(this,[])}walk(t,n=0){const r=[];let i=n;for(r.push({node:this,depth:i});r.length;){const{node:s,depth:o}=r.pop();t(s.value,s,o),i=o+1;let l=s.children.length-1;for(;l>=0;)r.push({node:s.children[l],depth:i}),l--}}}function IE(e,t){return e-t}const bh=e=>e.serviceName;var yh={exports:{}};(function(e,t){(function(){var n={};e.exports=n,n.simpleFilter=function(r,i){return i.filter(function(s){return n.test(r,s)})},n.test=function(r,i){return n.match(r,i)!==null},n.match=function(r,i,s){s=s||{};var o=0,l=[],c=i.length,h=0,u=0,g=s.pre||"",S=s.post||"",w=s.caseSensitive&&i||i.toLowerCase(),m;r=s.caseSensitive&&r||r.toLowerCase();for(var C=0;C<c;C++)m=i[C],w[C]===r[o]?(m=g+m+S,o+=1,u+=1+u):u=0,h+=u,l[l.length]=m;return o===r.length?(h=w===r?1/0:h,{rendered:l.join(""),score:h}):null},n.filter=function(r,i,s){return!i||i.length===0?[]:typeof r!="string"?i:(s=s||{},i.reduce(function(o,l,c,h){var u=l;s.extract&&(u=s.extract(l));var g=n.match(r,u,s);return g!=null&&(o[o.length]={string:g.rendered,score:g.score,index:c,original:l}),o},[]).sort(function(o,l){var c=l.score-o.score;return c||o.index-l.index}))}})()})(yh);var RE=yh.exports;const ME=Mi(RE),an=e=>e.spanID,xh=e=>e.operationName,Ou=e=>e.duration,rr=e=>e.startTime,NE=e=>e.processID,OE=e=>e.references||[],LE=dt(dt(({span:e})=>e,OE),({type:e})=>e,(e,t)=>e.find(n=>n.refType===t));dt(e=>LE({span:e,type:"CHILD_OF"}),e=>e?e.spanID:null);const DE=e=>{if(!e.process)throw new Error(`
      you must hydrate the spans with the processes, perhaps
      using hydrateSpansWithProcesses(), before accessing a span's process
    `);return e.process},Sh=dt(DE,bh);dt(({spans:e})=>e,({leftBound:e})=>e,({rightBound:e})=>e,(e,t,n)=>e.filter(r=>rr(r)>=t&&rr(r)<=n));const AE=dt(({spans:e})=>e,({text:e})=>e,(e,t)=>ME.filter(t,e,{extract:n=>`${Sh(n)} ${xh(n)}`}).map(({original:n})=>n)),PE=dt(AE,e=>e.reduce((t,n)=>({...t,[an(n)]:n}),{}));dt(({spans:e})=>e,PE,(e,t)=>e.map(n=>({...n,muted:!t[an(n)]})));const _r=e=>e.spans,wh=e=>e.processes,$E=dt(e=>e.span,e=>e.processes,(e,t)=>({...e,process:t[NE(e)]})),zE=dt(_r,e=>e.reduce((t,n)=>t.set(an(n),n),new Map)),VE="__root__";function ni(e){const t=new Map(e.spans.map(s=>[s.spanID,new Dn(s.spanID)])),n=new Map(e.spans.map(s=>[s.spanID,s])),r=new Dn(VE);e.spans.forEach(s=>{const o=t.get(s.spanID);if(Array.isArray(s.references)&&s.references.length){const{refType:l,spanID:c}=s.references[0];if(l==="CHILD_OF"||l==="FOLLOWS_FROM")(t.get(c)||r).children.push(o);else throw new Error(`Unrecognized ref type: ${l}`)}else r.children.push(o)});const i=(s,o)=>{const l=n.get(s.value),c=n.get(o.value);return+(l.startTime>c.startTime)||+(l.startTime===c.startTime)-1};return e.spans.forEach(s=>{const o=t.get(s.spanID);o.children.length>1&&o.children.sort(i)}),r.children.sort(i),r}const FE=e=>{const t=_r(e),n=wh(e);return{...e,spans:t.map(r=>$E({span:r,processes:n}))}};dt(_r,e=>e.length);const vl=dt(_r,e=>e.reduce((t,n)=>t?Math.min(t,rr(n)):rr(n),null)),bl=dt(_r,vl,(e,t)=>e.reduce((n,r)=>n?Math.max(rr(r)-t+Ou(r),n):Ou(r),null));dt(vl,bl,(e,t)=>e+t);const jE=dt(ni,zE,(e,t)=>e.children.map(n=>t.get(n.value)).sort((n,r)=>IE(rr(n),rr(r)))[0]);dt(ni,e=>e.depth-1);dt(dt(e=>e.trace,ni),dt(e=>e.span,an),(e,t)=>e.getPath(t).length-1);const HE=dt(wh,e=>Object.keys(e).reduce((t,n)=>t.add(bh(e[n])),new Set));dt(HE,e=>e.size);const Xa={ms:h1,s:p1},BE=dt(bl,e=>e>=Ms?Xa.s:Xa.ms);dt(({duration:e})=>e,({unit:e})=>Xa[e],(e,t)=>t(e));dt(({duration:e})=>e,dt(({trace:e})=>e,BE),(e,t)=>t(e));dt(({trace:e})=>e,({spans:e})=>e,({sort:e})=>e,(e,t,{dir:n,comparator:r,selector:i})=>[...t].sort((s,o)=>n*r(i(s,e),i(o,e))));const qE=dt(ni,e=>{const t=new Map;let n=0;return e.walk(r=>t.set(r,n++)),t});dt(dt(e=>e.trace,ni),dt(e=>e.span,an),(e,t)=>{const n=e.find(t);return n?n.size-1:-1});dt(dt(({trace:e})=>e,qE),({span:e})=>e,(e,t)=>e.get(an(t)));dt(dt(dt(FE,jE),_E({name:xh,serviceName:Sh})),({name:e,serviceName:t})=>`${t}: ${e}`);dt(({spans:e})=>e,dt(({trace:e})=>e,ni),({collapsed:e})=>e,(e,t,n)=>{const r=n.reduce((i,s)=>(t.find(s).walk(o=>o!==s&&i.add(o)),i),new Set);return r.size>0?e.filter(i=>!r.has(an(i))):e});const WE=4,UE=3;dt(({trace:e})=>e,({interval:e=WE})=>e,({width:e=UE})=>e,(e,t,n)=>[...(t+1).keys()].map(r=>({timestamp:vl(e)+bl(e)*(r/t),width:n})));dt(e=>e,_r,(e,t)=>{const n=new Map;return{...e,spans:t.reduce((r,i)=>{const s=n.has(an(i))?`${an(i)}_${n.get(an(i))}`:an(i),o={...i,spanID:s};return s!==an(i)&&console.warn("duplicate spanID in trace replaced",an(i),"new:",s),n.set(an(i),(n.get(an(i))||0)+1),r.concat([o])},[])}});dt(e=>e,_r,(e,t)=>({...e,spans:t.filter(n=>!!rr(n))}));function QE(e){const[t,n]=b.useState(new Map),r=b.useCallback(function(c){const h=new Map(t);h.has(c)?h.delete(c):h.set(c,new bn),n(h)},[t]),i=b.useCallback(function(c,h){const u=t.get(c);if(!u)return;const g=u.toggleEventItem(h),S=new Map(t);return S.set(c,g),n(S)},[t]),s=b.useCallback(function(c,h){const u=t.get(c);if(!u)return;const g=u.toggleLogItem(h),S=new Map(t);return S.set(c,g),n(S)},[t]),o=b.useCallback(function(c,h){const u=t.get(c);if(!u)return;const g=u.toggleReferenceItem(h),S=new Map(t);return S.set(c,g),n(S)},[t]);return{detailStates:t,toggleDetail:r,detailLogItemToggle:s,detailLogsToggle:b.useCallback(l=>cr("logs",t,n)(l),[t]),detailEventsItemToggle:i,detailEventsToggle:b.useCallback(l=>cr("events",t,n)(l),[t]),detailWarningsToggle:b.useCallback(l=>cr("warnings",t,n)(l),[t]),detailStackTracesToggle:b.useCallback(l=>cr("stackTraces",t,n)(l),[t]),detailReferenceItemToggle:o,detailReferencesToggle:b.useCallback(l=>cr("references",t,n)(l),[t]),detailProcessToggle:b.useCallback(l=>cr("process",t,n)(l),[t]),detailTagsToggle:b.useCallback(l=>cr("tags",t,n)(l),[t])}}function cr(e,t,n){return r=>{const i=t.get(r);if(!i)return;let s;e==="tags"?s=i.toggleTags():e==="process"?s=i.toggleProcess():e==="events"?s=i.toggleEvents():e==="warnings"?s=i.toggleWarnings():e==="references"?s=i.toggleReferences():e==="stackTraces"?s=i.toggleStackTraces():s=i.toggleLogs();const o=new Map(t);o.set(r,s),n(o)}}function GE(){const[e,t]=b.useState({time:{current:[0,1]}}),n=b.useCallback(function(s){t(o=>{const l={...o.time,...s};return{...o,time:l}})},[]),r=b.useCallback(function(s,o){const c={current:[s,o]};t(h=>({...h,time:c}))},[]);return{viewRange:e,updateViewRangeTime:r,updateNextViewRangeTime:n}}function KE(){const[e,t]=b.useState(new Set),n=b.useCallback(function(c){if(e.size===0)return;let h=-1,u=!0;const g=c.reduce((S,w)=>(w.depth<=h&&(u=!0),u&&S.has(w.spanID)&&(S.delete(w.spanID),u=!1,h=w.depth),S),new Set(e));t(g)},[e]),r=b.useCallback(function(c){if(Lu(c,e))return;let h;const u=c.reduce((g,S)=>(h&&S.depth<=h.depth?(g.add(h.spanID),S.hasChildren&&(h=S)):S.hasChildren&&!g.has(S.spanID)&&(h=S),g),new Set(e));h&&u.add(h.spanID),t(u)},[e]),i=b.useCallback(function(){t(new Set)},[]),s=b.useCallback(function(c){if(Lu(c,e))return;const h=c.reduce((u,g)=>(g.hasChildren&&u.add(g.spanID),u),new Set);t(h)},[e]),o=b.useCallback(function(c){const h=new Set(e);e.has(c)?h.delete(c):h.add(c),t(h)},[e]);return{childrenHiddenIDs:e,expandOne:n,collapseOne:r,expandAll:i,collapseAll:s,childrenToggle:o}}function Lu(e,t){return e.filter(r=>r.hasChildren).length===t.size}function JE(){const[e,t]=b.useState(new Set),n=b.useCallback(function(s){t(o=>{const l=new Set(o);return l.add(s),l})},[]),r=b.useCallback(function(s){t(o=>{const l=new Set(o);return l.delete(s),l})},[]);return{hoverIndentGuideIds:e,addHoverIndentGuideId:n,removeHoverIndentGuideId:r}}function YE(e){return[{name:"traceID",type:"string",typeInfo:{frame:"string"}},{name:"spanID",type:"string",typeInfo:{frame:"string"}},{name:"parentSpanID",type:"string",typeInfo:{frame:"string"}},{name:"operationName",type:"string",typeInfo:{frame:"string"}},{name:"serviceName",type:"string",typeInfo:{frame:"string"}},{name:"serviceTags",type:"other",typeInfo:{frame:"json.RawMessage"}},{name:"startTime",type:"number",typeInfo:{frame:"float64"}},{name:"duration",type:"number",typeInfo:{frame:"float64"}},{name:"logs",type:"other",typeInfo:{frame:"json.RawMessage"}},{name:"references",type:"other",typeInfo:{frame:"json.RawMessage"}},{name:"tags",type:"other",typeInfo:{frame:"json.RawMessage"}}].map(({name:n,type:r,typeInfo:i})=>({name:n,type:r,typeInfo:i,config:{},values:e==null?void 0:e.map(s=>s[n]),entities:{},state:null}))}function Th(e,t=0){e.forEach(n=>{var r;n.depth=t,((r=n.children)==null?void 0:r.length)>0&&(t+=1,n.children.forEach(i=>{n.spanID===i&&Th(e,t)}))})}function XE(e){var n;return((n=e.resourceSpans)==null?void 0:n.map(r=>{const i=r.resource;return r.instrumentationLibrarySpans.map(s=>s.spans.map(o=>({...o,resource:i})))})).flat(2)}function ZE(e){var r;const t=XE(e);return(r=e==null?void 0:e.resourceSpans)==null?void 0:r.map(i=>{var C,k,T;const{instrumentationLibrarySpans:s}=i,o=t.find(y=>y.parentSpanId===void 0),l=[...t],c=l==null?void 0:l.sort((y,N)=>parseInt(y.startTimeUnixNano)-parseInt(N.startTimeUnixNano)),h=((C=c[0])==null?void 0:C.startTimeUnixNano)/1e3,g=((T=(k=c.map(y=>y.endTimeUnixNano))==null?void 0:k.sort())==null?void 0:T.reverse())[0]/1e3,S=l.map((y,N)=>{var I,D,$;const M=(I=y.attributes)==null?void 0:I.map(z=>{var V;return{key:z==null?void 0:z.key,value:(V=z==null?void 0:z.value)==null?void 0:V.stringValue}}),L=($=(D=y==null?void 0:y.resource)==null?void 0:D.attributes)==null?void 0:$.map(z=>{var V;return{key:z==null?void 0:z.key,value:(V=z==null?void 0:z.value)==null?void 0:V.stringValue}}),P=Math.round((y==null?void 0:y.endTimeUnixNano)/1e3)-Math.round((y==null?void 0:y.startTimeUnixNano)/1e3),p=(y==null?void 0:y.startTimeUnixNano)/1e3,_={serviceName:y==null?void 0:y.serviceName,tags:L};return{traceID:(y==null?void 0:y.traceID)||(y==null?void 0:y.traceId),spanID:(y==null?void 0:y.spanID)||y.spanId,parentSpanID:(y==null?void 0:y.parentSpanID)||(y==null?void 0:y.parentSpanId)||"",operationName:y==null?void 0:y.name,serviceName:y==null?void 0:y.serviceName,serviceTags:L,startTime:p,duration:P,relativeStartTime:0,events:(y==null?void 0:y.events)||[],logs:(y==null?void 0:y.logs)||[],references:(y==null?void 0:y.references)||[],tags:M,processID:y==null?void 0:y.spanID,flags:0,dataFrameRowIndex:N,process:_,children:(y==null?void 0:y.children)||[]}});if((S==null?void 0:S.length)>0)try{const y=Object.create(null),N=S[0].startTime;for(const M of S){const{spanID:L,parentSpanID:P,startTime:p,references:_,children:I}=M;P!==""&&y[P]&&(y[P].children.push(L),_.push({refType:"CHILD_OF",spanID:P,traceID:y[P].traceID,span:{...y[P]}})),I.length>0&&(M.hasChildren=!0,M.childSpanCount=I.length),M.relativeStartTime=p-N,y[L]=M}}catch(y){console.log(y)}Th(S);let w={services:[],spans:[],traceID:"",traceName:"",processes:{},duration:0,startTime:0,endTime:0};const m=S==null?void 0:S[0];if(s&&g&&h){const{serviceName:y,name:N,traceID:M}=m;w={services:S.map(L=>({name:L.serviceName,numberOfSpans:S.length})),spans:S,traceID:o?o==null?void 0:o.traceID:M,traceName:o?`${o==null?void 0:o.serviceName}: ${o==null?void 0:o.name}`:`${y}: ${N}`,processes:{},duration:g-h,startTime:h,endTime:g}}return w})}const e_=ve("div",{target:"eyh4i720"})("margin:4px;padding:5px;margin-top:0px;border:1px solid ",e=>{var t;return(t=e.theme)==null?void 0:t.accentNeutral},";border-radius:3px;display:flex;flex-direction:column;flex:",({size:e})=>e==="min"?0:1,";height:",e=>{var t,n;return e.size==="regular"?(t=e==null?void 0:e.vheight)==null?void 0:t.regularCont:(e==null?void 0:e.size)==="max"?(n=e==null?void 0:e.vheight)==null?void 0:n.maxCont:"20px"},";.view-content{margin:3px;height:",e=>{var t,n;return e.size==="regular"?(t=e==null?void 0:e.vheight)==null?void 0:t.regularView:(e==null?void 0:e.size)==="max"?(n=e==null?void 0:e.vheight)==null?void 0:n.maxView:"0px"},";display:",e=>e.size==="min"?"none":((e==null?void 0:e.size)==="regular","flex"),";flex-direction:",e=>((e==null?void 0:e.size)==="regular","column"),";flex:1;}");function Or(){return{}}function t_(e){const{viewRef:t,panelSize:n,viewHeight:r,setStreamClose:i,setMaxHeight:s,setMinimize:o,actualQuery:l,total:c,type:h}=e,{dataView:u}=e,{data:g}=u,S=b.useMemo(()=>ZE(g)[0],[g]),w=Be(),m=b.useMemo(()=>{var pe;if(((pe=S==null?void 0:S.spans)==null?void 0:pe.length)>0){const Te=YE(S.spans);return{name:"Trace",refId:(l==null?void 0:l.idRef)||"Traces",fields:Te,length:Te==null?void 0:Te.length}}return null},[S,l]),{traceProp:C}={traceProp:{...S}},{removeHoverIndentGuideId:k,addHoverIndentGuideId:T,hoverIndentGuideIds:y}=JE(),{viewRange:N,updateViewRangeTime:M,updateNextViewRangeTime:L}=GE(),{expandOne:P,collapseOne:p,childrenToggle:_,collapseAll:I,childrenHiddenIDs:D,expandAll:$}=KE(),{detailStates:z,toggleDetail:V,detailLogItemToggle:K,detailLogsToggle:se,detailEventsToggle:ue,detailProcessToggle:te,detailReferencesToggle:he,detailReferenceItemToggle:Y,detailTagsToggle:Fe,detailWarningsToggle:$e,detailStackTracesToggle:me}=QE(),[ke,Oe]=b.useState(!1),[re,Ce]=b.useState(.25),Ee=b.useMemo(()=>({childrenHiddenIDs:D,detailStates:z,hoverIndentGuideIds:y,shouldScrollToFirstUiFindMatch:!1,spanNameColumnWidth:re,traceID:C==null?void 0:C.traceID}),[D,z,y,re,C==null?void 0:C.traceID]),be=b.useCallback(()=>Oe(!ke),[ke]);if(m&&S){const pe={ref:t,size:n,vheight:r,...e};return f(vt,{theme:w,children:F(e_,{...pe,children:[f(Ai,{...e,onClose:i,setMinimize:o,setMaxHeight:s,actualQuery:l,total:c,type:h}),F("div",{className:"view-content",children:[f(yE,{...e,canCollapse:!1,hideMap:!1,hideSummary:!1,theme:w,onSlimViewClicked:be,onTraceGraphViewClicked:Or,slimView:ke,trace:C,updateNextViewRangeTime:L,updateViewRangeTime:M,viewRange:N}),f(pk,{...e,theme:w,registerAccessors:Or,scrollToFirstVisibleSpan:Or,trace:C,traceTimeline:Ee,updateNextViewRangeTime:L,updateViewRangeTime:M,viewRange:N,setSpanNameColumnWidth:Ce,collapseAll:I,collapseOne:p,expandAll:$,expandOne:P,childrenToggle:_,clearShouldScrollToFirstUiFindMatch:Or,detailLogItemToggle:K,detailLogsToggle:se,detailEventsToggle:ue,detailWarningsToggle:$e,detailStackTracesToggle:me,detailReferencesToggle:he,detailReferenceItemToggle:Y,detailProcessToggle:te,detailTagsToggle:Fe,detailToggle:V,setTrace:Or,addHoverIndentGuideId:T,removeHoverIndentGuideId:k,linksGetter:Or,uiFind:e.search,scrollElement:e.scrollElement})]})]})})}return null}function n_(e){var p,_,I,D,$;const{dataView:t,name:n}=e,{type:r,total:i,loading:s}=t,o=Re(z=>z.isSplit),l=b.useRef(null),c=Re(z=>z[n]),[h,u]=b.useState("max"),g=K0({panel:c,dataView:t}),[S,w]=b.useState(0);b.useEffect(()=>{var z,V;(z=l==null?void 0:l.current)!=null&&z.clientWidth&&w((V=l.current)==null?void 0:V.clientWidth)},[(p=l==null?void 0:l.current)==null?void 0:p.clientWidth]);const[m,C]=b.useState(t.data),[k,T]=b.useState(t.tableData||{});b.useEffect(()=>{C(t.data)},[t.data,C,o]),b.useEffect(()=>{T(t.tableData||{})},[t.tableData,T]);const y=()=>{C([]),T([])},N=()=>{u(z=>z!=="min"?"min":"regular")},M=()=>{u(z=>z!=="max"?"max":"regular")},L=G0({total:i,panelSize:h,dataView:t}),P=Q0({type:r,actualQuery:g,total:i,dataView:t});if(r==="traces"){const z={viewRef:l,panelSize:h,viewHeight:P,setStreamClose:y,setMaxHeight:M,setMinimize:N,actualQuery:g,total:i,type:r,theight:L,tableData:k,viewWidth:S,streamData:m,theme:e.theme,...e};return f(t_,{...z})}if(g&&r==="matrix"&&(m==null?void 0:m.length)>0){const{limit:z}=g,V={viewRef:l,panelSize:h,viewHeight:P,setStreamClose:y,setMaxHeight:M,setMinimize:N,actualQuery:g,total:i,type:r,theight:L,tableData:k,viewWidth:S,limit:z,streamData:m,...e};return f(bw,{...V})}if(g&&r==="stream"&&(m==null?void 0:m.length)>0){const z={viewRef:l,panelSize:h,viewHeight:P,viewWidth:S,setStreamClose:y,setMaxHeight:M,logsVolumeData:t.logsVolumeData,setMinimize:N,actualQuery:g,total:i,type:r,theight:L,tableData:k,streamData:m,...e};return f(vw,{...z})}if(g&&r==="vector"&&((_=m==null?void 0:m.chartData)==null?void 0:_.length)>0||g&&r==="vector"&&((D=(I=m==null?void 0:m.tableData)==null?void 0:I.dataRows)==null?void 0:D.length)>0){const{limit:z}=g,V={viewRef:l,panelSize:h,viewHeight:P,setStreamClose:y,setMinimize:N,setMaxHeight:M,actualQuery:g,total:i,type:r,theight:L,streamData:m,viewWidth:S,limit:z,...e};return f(yw,{...V})}if(g&&!(($=m==null?void 0:m.dataRows)!=null&&$.length)&&!(m!=null&&m.length)){const z={viewRef:l,panelSize:h,setStreamClose:y,setMinimize:N,setMaxHeight:M,actualQuery:g,total:i,loading:s,...e};return f(dx,{...z})}else return null}function r_(e){const{name:t,open:n}=e,r=Be(),i=Re(h=>h.isCardinality),[s]=b.useState(t),o=Re(h=>h[`${s}DataView`]),l=Re(h=>h[s]),c=b.useMemo(()=>o.sort((h,u)=>l.findIndex(g=>g.id===h.id)-l.findIndex(g=>g.id===u.id)),[o,l]);return c.length>0?f(vt,{theme:r,children:F(Y0,{children:[f(Oi,{section:"Data Views",localProps:e}),!i&&(c==null?void 0:c.map((h,u)=>f(n_,{...e,splitted:n,dataView:h},u)))]})}):null}const i_=e=>ie("color:",e.contrast,";display:flex;flex:1;flex-direction:column;border:1px solid ",e.accentNeutral,";margin-top:5px;border-radius:5px;",""),s_=e=>ie("font-size:14px;background:",e.shadow,";padding:5px;border-bottom:1px solid ",e.accentNeutral,";",""),a_=e=>ie({name:"1ogeil0",styles:"display:table"}),o_=ie({name:"eafeqf",styles:"display:table-row;font-size:13px"}),Du=(e,t)=>ie("display:table-cell;padding:5px;border-top:1px solid ",e.accentNeutral,";",t==="key"?`color:${e.hardContrast};`:"",";",""),l_=ie({name:"1ityoz",styles:"font-weight:lighter"}),c_=ie({name:"1n7r223",styles:"font-family:monospace"});function u_(e){const{data:{hasStats:t,statsData:n}}=e,r=Be(),i=b.useMemo(()=>{var s;return typeof n!="object"&&n!==void 0&&((s=Object.keys(n))==null?void 0:s.length)<1?[["key","val"]]:Object.entries(n)},[n]);return(i==null?void 0:i.length)>0&&t?F("div",{className:Pe(i_(r)),children:[f("div",{className:Pe(s_(r)),children:"Stats"}),f("div",{className:Pe(a_()),children:i==null?void 0:i.map(([s,o],l)=>F("div",{className:Pe(o_),children:[f("div",{className:Pe(Du(r,"key"),l_),children:s}),f("div",{className:Pe(Du(r,"value"),c_),children:o||""})]},l))})]}):null}const Pi=vo,d_=ve(Ug,{target:"ebjgwxc15"})("height:18px;color:",({color:e})=>e,";width:18px;"),Ch=ve(Pi,{target:"ebjgwxc14"})("background:none;margin-left:5px;color:",e=>e.theme.contrast,";background:",e=>e.theme.neutral,";border:1px solid ",e=>e.theme.accentNeutral,";height:28px;span{margin-left:5px;}@media screen and (max-width: 1070px){display:flex;gap:2px;}"),f_=ve(Pi,{target:"ebjgwxc13"})("background:",({theme:e})=>e.neutral,";border:1px solid ",e=>e.theme.accentNeutral,";text-overflow:ellipsis;transition:0.25s all;padding-left:6px;justify-content:flex-start;color:",({theme:e})=>e.contrast,";height:28px;&:hover{background:",({theme:e})=>e.lightNeutral,";}@media screen and (max-width: 1070px){display:",({isMobile:e})=>e?"flex":"none",";margin:0;gap:2px;}"),h_=ve("div",{target:"ebjgwxc12"})({name:"1eqhg5b",styles:"display:flex;margin-left:0px;flex-wrap:wrap;border-radius:3px;gap:2px"}),p_=ve(Pi,{shouldForwardProp:e=>rg(e)&&e!=="loading",target:"ebjgwxc11"})("background:",e=>e.loading?"#44bcd8":e.theme.primary,";border:1px solid ",e=>e.theme.primaryAccent,";color:",e=>e.theme.maxContrast,";transition:0.25s all;justify-content:center;height:28px;margin:0px 4px;&:hover{background:",e=>e.theme.primaryLight,";}&:disabled{background:",e=>e.theme.neutral,";border:1px solid ",e=>e.theme.accentNeutral,";cursor:not-allowed;color:",e=>e.theme.contrast,";}@media screen and (max-width: 1070px){display:flex;margin:0;gap:2px;}"),g_=ve(Pi,{target:"ebjgwxc10"})("background:none;margin-left:5px;color:",e=>e.theme.contrast,";background:",e=>e.theme.neutral,";border:1px solid ",e=>e.theme.accentNeutral,";height:28px;span{margin-left:5px;}display:",e=>e.isMobile||e.isSplit?"flex":"none",";"),m_=ve("div",{target:"ebjgwxc9"})({name:"9xhvp4",styles:"display:flex;flex-wrap:wrap;margin-bottom:4px;@media screen and (max-width: 1070px){display:flex;gap:2px;}"}),Au=ve("div",{target:"ebjgwxc8"})({name:"16wen2w",styles:"display:flex;flex:1;align-items:center;justify-content:space-between;margin-bottom:20px;margin-right:10px;margin:2px"}),v_=ve("div",{target:"ebjgwxc6"})("display:flex;flex:1;flex-direction:column;background:",({theme:e})=>e.shadow,";"),b_=ve("div",{target:"ebjgwxc5"})({name:"1hrwwa8",styles:"margin:20px;display:flex;flex-direction:column;flex:1;.options-input{margin:10px;display:flex;justify-content:space-between;}"}),pr=ve("label",{target:"ebjgwxc2"})("font-size:12px;color:",({theme:e})=>e.alphaNeutral,";margin-left:10px;"),y_=ve("div",{target:"ebjgwxc1"})("display:flex;justify-content:space-between;align-items:center;margin:10px;h3{margin-left:10px;font-size:1em;color:",({theme:e})=>e.contrast,";}"),x_=ve(Pi,{target:"ebjgwxc0"})("background:none;padding:0;color:",({theme:e})=>e.contrast,";");function Xr(e){const{isDisabled:t,onClick:n,isMobile:r,alterText:i,loading:s=!1}=e,o="Show Results",l=Be();return f(vt,{theme:l,children:f(p_,{disabled:t,type:"submit",onClick:n,isMobile:r,loading:s||!1,children:s?f(mt,{children:"Loading..."}):f(mt,{children:i||o})})})}function ps({isDisabled:e,onClick:t,isMobile:n,alterText:r}){const i="Show Logs Rate",s=Be();return f(vt,{theme:s,children:f(Ch,{disabled:e,type:"submit",onClick:t,isMobile:n,children:r||i})})}function S_(e){return e.split(/[  ]+/).map(t=>({children:[{text:en.sanitize(t)}]}))||[{children:[{text:en.sanitize("Enter a cLoki Query")}]}]}function Oa(e){return e&&e!=="{"&&e!=="}"}const w_=e=>{const t=JSON.stringify(e);return JSON.parse(t)},T_=(e,t)=>{let n=[];for(let r of e)r.name===t?n.push({...r,selected:!r.selected}):n.push(r);return n},C_=(e,t)=>e.some(n=>n===t)?e.filter(n=>n!==t):e.concat(t),k_={JSONClone:w_,updateLabel:T_,updateLabelSelected:C_},E_=(e,t)=>{let n={expr:"",dataSourceId:e,queryId:t};try{const r=JSON.parse(localStorage.getItem("queryData")||"[]")||[];if(r&&(r==null?void 0:r.length)>0){const i=r==null?void 0:r.find(s=>s.dataSourceId===e&&s.queryId===t);return i&&(n={...i}),n}else return n}catch(r){return console.error(r),n}},__=()=>{try{return JSON.parse(localStorage.getItem("queryData")||"[]")}catch{return[]}},I_=e=>{try{const t=JSON.parse(localStorage.getItem("dataSources")||"[]");return t==null?void 0:t.find(n=>n.id===e)}catch{return{}}},R_=(e,t,n)=>{const r={expr:e,queryId:t,dataSourceId:n},i=__();let s=[];i&&i.length>0&&Array.isArray(i)&&i.some(o=>o.dataSourceId===n&&o.queryId===t)?s=i.map(o=>o.queryId===t&&o.dataSourceId===n?{...r}:o):s=[...i,r],localStorage.setItem("queryData",JSON.stringify(s))},M_={getLocalQueryItem:E_,getLocalDataSources:I_,setLocalQueryData:R_},es=ve("div",{target:"eybkfr64"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),mi=ve("label",{target:"eybkfr60"})("font-size:11px;white-space:nowrap;color:",({theme:e})=>e.hardContrast,";margin-left:10px;"),N_=ve("div",{target:"e1gdq68v2"})({name:"1rjl5oi",styles:"display:flex;margin-right:10px"}),O_=ve("div",{target:"e1gdq68v1"})("color:",e=>e.theme.contrast,";background:",e=>e.theme.shadow,";display:flex;align-items:center;justify-content:center;font-size:11px;white-space:nowrap;padding:0px 10px;"),L_=ve("input",{target:"e1gdq68v0"})("flex:1;background:",e=>e.theme.deep,";color:",e=>e.theme.contrast,";border:1px solid ",e=>e.theme.accentNeutral,";border-radius:3px;max-width:60px;padding-left:8px;");function D_(e,t){return e==="left"?cn(t):Yt(t)}function kh(e){const t=zt(),{id:n}=e.data,{name:r}=e,i=Re(h=>h[r]),[s,o]=b.useState(e.data.limit),l=b.useMemo(()=>e.data.limit,[e.data.limit]);b.useEffect(()=>{o(l)},[l,o]);function c(h){let u=h.target.value;u>2e4&&(u=2e4);const g=[...i];g.forEach(S=>{S.id===n&&(S.limit=u)}),t(D_(r,g))}return F(N_,{children:[f(O_,{children:"Query Limit"}),f(Lt,{title:"max 20000",children:f(L_,{type:"number",value:s,onChange:c})})]})}const A_=ve("div",{target:"ews3q4j2"})("color:",e=>e.theme.contrast,";background:",e=>e.theme.shadow,";display:flex;align-items:center;justify-content:center;font-size:11px;white-space:nowrap;padding:0px 10px;"),P_=ve("div",{target:"ews3q4j1"})("display:flex;align-items:center;font-size:12px;background-color:",e=>e.theme.shadow,";border:1px solid ",e=>e.theme.accentNeutral,";color:",e=>e.theme.contrast,";border-radius:3px;margin-right:10px;"),$_=ve("div",{target:"ews3q4j0"})("cursor:pointer;display:flex;align-items:center;background:",e=>e.selected?e.theme.neutral:e.theme.shadow,";border-left:",e=>e.position==="last"?`1px solid ${e.theme.accentNeutral}`:"none",";border-right:",e=>e.position==="first"?`1px solid ${e.theme.accentNeutral}`:"none",";border-radius:",({position:e})=>e==="first"?"3px 0px 0px 3px":e==="last"?"0px 3px 3px 0px":"0px",";flex:1;height:90%;padding:0px 12px;font-size:12px;line-height:20px;"),z_=(e,t)=>{const n=t.length;return e===0?"first":e===n-1?"last":"center"};function Br(e){const{options:t,defaultActive:n,label:r,onChange:i}=e,s=b.useMemo(()=>n,[n]),[o,l]=b.useState(s);b.useEffect(()=>{l(n)},[n]);function c(h){l(h),i(h)}return F(mt,{children:[f(A_,{children:r}),f(P_,{children:t&&t.map((h,u,g)=>f($_,{selected:h.value===o,defaultActive:n,position:z_(u,g),onClick:S=>c(h.value),children:h.label},u))})]})}const V_=ve("div",{target:"e1okmxzw0"})("display:flex;padding:4px;color:",e=>e.color,";height:26px;");function er(e,t){return e==="left"?cn(t):Yt(t)}const F_=[{value:"range",label:"Range"},{value:"instant",label:"Instant"}],j_=[{value:"forward",label:"Forward"},{value:"backwards",label:"Backwards"}];function H_(e){const t=zt(),{name:n,data:r}=e,i=Be(),s=Re(Oe=>Oe[n]),o=Re(Oe=>Oe.responseType),{hash:l}=ei(),{id:c,queryType:h,tableView:u,idRef:g,isShowTs:S,isBuilder:w,isLogsVolume:m,direction:C,dataSourceType:k,isShowStats:T,hasStats:y}=r,[N,M]=b.useState(u),[L,P]=b.useState(S||!1),[p,_]=b.useState(w||!1),[I,D]=b.useState(m||!1),[$,z]=b.useState(T||!1),[V,K]=b.useState(h),[se,ue]=b.useState(C||"forward");b.useEffect(()=>{const re=new URLSearchParams(l.replace(/#/,"")).get(n),Ce=JSON.parse(decodeURIComponent(re)||"[]");if((Ce==null?void 0:Ce.length)>0){const Ee=Ce.find(be=>be.idRef===g);if(Ee){const be=[...s];be.forEach(pe=>{pe.idRef===g&&(pe.queryType=Ee.queryType,pe.direction=Ee.direction)}),t(er(n,be))}}},[]),b.useEffect(()=>{M(e.data.tableView)},[M,e.data.tableView]),b.useEffect(()=>{P(e.data.isShowTs)},[P,e.data.isShowTs]),b.useEffect(()=>{_(e.data.isBuilder)},[_,e.data.isBuilder]),b.useEffect(()=>{D(e.data.isLogsVolume)},[D,e.data.isLogsVolume]);function te(Oe){const re=[...s];re.forEach(Ce=>{Ce.id===c&&(Ce.queryType=Oe)}),t(er(n,re)),K(Oe)}function he(Oe){const re=[...s];re.forEach(Ce=>{Ce.id===c&&(Ce.direction=Oe)}),t(er(n,re)),ue(Oe)}function Y(){const Oe=[...s];Oe.forEach(re=>{re.id===c&&(re.tableView=!N)}),t(er(n,Oe))}function Fe(){const Oe=[...s];Oe.forEach(re=>{re.id===c&&(re.isShowTs=!L)}),t(er(n,Oe))}function $e(){const Oe=[...s];Oe.forEach(re=>{re.id===c&&(re.isBuilder=!p)}),t(er(n,Oe))}function me(){const Oe=[...s];Oe.forEach(re=>{re.id===c&&(re.isLogsVolume=!I)}),t(er(n,Oe))}function ke(Oe){const re=Oe.target.checked;z(()=>re);const Ce=[...s];Ce.forEach(Ee=>{Ee.id===c&&(Ee.isShowStats=!$)}),t(er(n,Ce))}return f(vt,{theme:i,children:F(V_,{children:[f(Oi,{section:"Query Options",localProps:e}),f(Br,{label:"Query Type",options:F_,onChange:te,defaultActive:V}),f(Br,{label:"Direction",options:j_,onChange:he,defaultActive:se}),f(kh,{...e}),k==="flux"&&F("div",{className:"options-input",children:[f(mi,{children:"Chart View"}),f(xn,{checked:N,size:"small",onChange:Y,inputProps:{"aria-label":"controlled"}})]}),o!=="vector"&&F(mt,{children:[F(es,{children:[f(mi,{children:"Timestamp"}),f(xn,{checked:L,size:"small",onChange:Fe,inputProps:{"aria-label":"controlled-ts"}})]}),F(es,{children:[f(mi,{children:"Query Builder"}),f(xn,{checked:p,size:"small",onChange:$e,inputProps:{"aria-label":"controlled-ts"}})]}),F(es,{children:[f(mi,{children:"Logs Volume"}),f(xn,{checked:I,size:"small",onChange:me,inputProps:{"aria-label":"controlled-ts"}})]}),y&&F(es,{children:[f(mi,{children:"Stats Info"}),f(xn,{checked:$,size:"small",onChange:ke,inputProps:{"aria-label":"controlled-ts"}})]})]})]})})}const B_=e=>{const t=zt(),n=Re(te=>te.responseType),{hash:r}=ei(),{id:i,idRef:s,dataSourceType:o,isBuilder:l}=e.data,{open:c,handleClose:h,actPanel:u,name:g}=e,[S,w]=b.useState(e.data.tableView),[m,C]=b.useState(e.data.isShowTs),[k,T]=b.useState(l||!1),[y,N]=b.useState(e.data.queryType),[M,L]=b.useState(e.data.traceQueryType||"traceId"),[P,p]=b.useState(e.data.direction);b.useEffect(()=>{const he=new URLSearchParams(r.replace(/#/,"")).get(g);try{const Y=JSON.parse(decodeURIComponent(he));if((Y==null?void 0:Y.length)>0){const Fe=Y.find($e=>$e.idRef===s);if(Fe){const $e=[...u],me=I($e,s);typeof me<"u"&&(me.queryType=Fe.queryType,me.direction=Fe.direction,t(fn(g,$e)))}}}catch(Y){console.log(Y)}},[]);const _=(te,he)=>te.find(Y=>Y.id===he),I=(te,he)=>te.find(Y=>Y.id===he);b.useEffect(()=>{w(e.data.tableView)},[w,e.data.tableView]),b.useEffect(()=>{C(e.data.isShowTs)},[C,e.data.isShowTs]),b.useEffect(()=>{T(e.data.isBuilder)},[T,e.data.isBuilder]);function D(te){const he=[...u],Y=_(he,i);typeof Y<"u"&&(Y.queryType=te,t(fn(g,he))),N(te)}function $(te){const he=[...u],Y=_(he,i);typeof Y<"u"&&(Y.traceQueryType=te,t(fn(g,he))),L(Fe=>te)}function z(te){const he=[...u],Y=_(he,i);typeof Y<"u"&&(Y.direction=te,t(fn(g,he))),p(te)}function V(){const te=[...u],he=_(te,i);typeof he<"u"&&(he.tableView=!S,t(fn(g,te)))}const K=()=>f(Br,{label:"Trace Type",options:WN,onChange:$,defaultActive:M});function se(){const te=[...u];te.forEach(he=>{he.id===i&&(he.isShowTs=!m)}),t(fn(g,te))}function ue(){const te=[...u];te.forEach(he=>{he.id===i&&(he.isBuilder=!k)}),t(fn(g,te))}return f(ho,{open:c,onClose:h,PaperProps:{classes:{root:po}},children:F(v_,{children:[F(y_,{children:[f("h3",{children:"Query Options"}),F(x_,{onClick:h,children:[" ",f(go,{})," "]})]}),F(b_,{children:[f("div",{className:"options-input",children:K()}),f("div",{className:"options-input",children:f(Br,{label:"Query Type",options:BN,onChange:D,defaultActive:y})}),f("div",{className:"options-input",children:f(Br,{label:"Direction",options:qN,onChange:z,defaultActive:P})}),f("div",{className:"options-input",children:f(kh,{...e})}),o==="flux"&&F("div",{className:"options-input",children:[f(pr,{children:"Chart View"}),f(xn,{checked:S,size:"small",onChange:V,inputProps:{"aria-label":"controlled"}})]}),n!=="vector"&&F("div",{className:"options-input",children:[F(Au,{children:[f(pr,{children:"Timestamp"}),f(xn,{checked:m,size:"small",onChange:se,inputProps:{"aria-label":"controlled-ts"}})]}),F(Au,{children:[f(pr,{children:"Query Builder"}),f(xn,{checked:k,size:"small",onChange:ue,inputProps:{"aria-label":"controlled-ts"}})]})]})]})]})})};function q_(e,t){return e==="left"?cn(t):Yt(t)}const Pu=ie({name:"or93hj",styles:"height:18px!important;width:18px!important"});function Eh(e){const t=zt(),{name:n}=e,{id:r,browserOpen:i}=e.data,s=b.useMemo(()=>i,[i]),o=Be();Re(w=>w.labels);const l=Re(w=>w[n]),[c,h]=b.useState(s);b.useEffect(()=>{h(s)},[s]);function u(){const w=[...l];w.forEach(m=>{m.id===r&&(m.browserOpen=!c)}),t(q_(n,w)),h(s)}const g=w=>{var m;return((m=e.labels)==null?void 0:m.length)>0?"Show / Hide Labels":"Labels Not Available"},S=w=>w?f($n,{className:Pe(Pu)}):f(Kn,{className:Pe(Pu)});return f(vt,{theme:o,children:f(Lt,{title:g(),children:F(f_,{onClick:u,browserActive:c,isMobile:e.isMobile,children:[S(c),"Labels"]})})})}function W_({disabled:e,onClick:t,isMobile:n}){const r="Options",i=Be();return f(vt,{theme:i,children:f(g_,{disabled:e,type:"submit",onClick:t,isMobile:n,children:r})})}function _h({queryLength:e,handleHistoryClick:t,isMobile:n}){const[r,i]=b.useState(!1),s=Be();return b.useEffect(()=>{e>0?i(!0):i(!1)},[e]),f(vt,{theme:s,children:f(Lt,{title:"Query History ("+e+")",children:F(Ch,{isMobile:n,onClick:t,children:[f(d_,{color:r?s.contrast:s.lightContrast}),n&&f("span",{children:"History"})]})})})}const U_=e=>{const t=zt(),{isSplit:n,onShowQuerySettings:r,queryHistory:i,handleHistoryClick:s,queryValid:o,onSubmit:l,onSubmitRate:c,data:h,name:u,loading:g,hasStats:S,showStatsOpen:w,handleStatsOpen:m,...C}=e,{id:k,dataSourceType:T}=h,[y,N]=b.useState(e.data.chartView);b.useEffect(()=>{N(e.data.chartView)},[N,e.data.chartView]);const M=Re(_=>_[u]),L=_=>_!=="flux"&&_!=="metrics"&&_!=="traces"?F(mt,{children:[f(Eh,{...e,isMobile:!0}),f(W_,{...C,isSplit:n,isMobile:!0,onClick:r})]}):null,P=(_,I)=>_.find(D=>D.id===I),p=()=>{const _=[...M],I=P(_,k);typeof I<"u"&&(I.chartView=!y,t(fn(u,_)))};return F(m_,{children:[L(T),f(_h,{queryLength:i==null?void 0:i.length,handleHistoryClick:s,isMobile:!0}),T==="logs"&&f(ps,{disabled:!o,onClick:c,isMobile:!1}),T==="logs"&&S&&n&&F("div",{className:"options-input",children:[f(pr,{children:"Show Stats"}),f(xn,{checked:w,size:"small",onChange:m,inputProps:{"aria-label":"controlled-switch"}})]}),f(Xr,{disabled:!o,onClick:l,isMobile:!0,loading:g||!1}),T==="flux"&&F("div",{className:"options-input",children:[f(pr,{children:"Chart View"}),f(xn,{checked:y,size:"small",onChange:p,inputProps:{"aria-label":"controlled"}})]})]})};(function(e){var t=["sum","min","max","avg","group","stddev","stdvar","count","count_values","bottomk","topk","quantile"],n=["on","ignoring","group_right","group_left","by","without"],r=["offset"],i=t.concat(n,r);e.languages.promql={comment:{pattern:/(^[ \t]*)#.*/m,lookbehind:!0},"vector-match":{pattern:new RegExp("((?:"+n.join("|")+")\\s*)\\([^)]*\\)"),lookbehind:!0,inside:{"label-key":{pattern:/\b[^,]+\b/,alias:"attr-name"},punctuation:/[(),]/}},"context-labels":{pattern:/\{[^{}]*\}/,inside:{"label-key":{pattern:/\b[a-z_]\w*(?=\s*(?:=|![=~]))/,alias:"attr-name"},"label-value":{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0,alias:"attr-value"},punctuation:/\{|\}|=~?|![=~]|,/}},"context-range":[{pattern:/\[[\w\s:]+\]/,inside:{punctuation:/\[|\]|:/,"range-duration":{pattern:/\b(?:\d+(?:[smhdwy]|ms))+\b/i,alias:"number"}}},{pattern:/(\boffset\s+)\w+/,lookbehind:!0,inside:{"range-duration":{pattern:/\b(?:\d+(?:[smhdwy]|ms))+\b/i,alias:"number"}}}],keyword:new RegExp("\\b(?:"+i.join("|")+")\\b","i"),function:/\b[a-z_]\w*(?=\s*\()/i,number:/[-+]?(?:(?:\b\d+(?:\.\d+)?|\B\.\d+)(?:e[-+]?\d+)?\b|\b(?:0x[0-9a-f]+|nan|inf)\b)/i,operator:/[\^*/%+-]|==|!=|<=|<|>=|>|\b(?:and|or|unless)\b/i,punctuation:/[{};()`,.[\]]/}})(Prism);Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/};const Q_=ve(Wd,{target:"erz5ess1"})("flex:1;background:",({theme:e})=>e.deep,";border:1px solid ",({theme:e})=>e.accentNeutral,";color:",({theme:e})=>e.contrast,";padding:4px 8px;font-size:12px;font-family:monospace;margin:0px 5px;border-radius:3px;line-height:1.5;line-break:anywhere;overflow-y:scroll;"),G_=ve("div",{target:"erz5ess0"})({name:"torj63",styles:"display:flex;align-items:center;flex:1;max-width:100%"});function K_({attributes:e,children:t,leaf:n}){const r=Be();return f("span",{...e,className:ie("font-family:monospace;",n.comment&&ie({name:"117wnve",styles:"color:blue"})," ",(n.operator||n.url)&&ie("color:",r.lightContrast,";","")," ",n.keyword&&ie({name:"18visop",styles:"color:#57aed4"})," ",(n.variable||n.regex)&&ie({name:"177l7gg",styles:"color:#e90"})," ",(n.number||n.boolean||n.tag||n.constant||n.symbol||n["attr-name"]||n.selector)&&ie({name:"1w5fh66",styles:"color:#dd4a68"})," ",n.punctuation&&ie({name:"10ufnnq",styles:"color:orange"})," ",(n.string||n.char)&&ie({name:"v98kxt",styles:"color:green"})," ",(n.function||n["class-name"]||n["attr-name"])&&ie({name:"1w5fh66",styles:"color:#dd4a68"})," ",n["context-labels"]&&ie({name:"10ufnnq",styles:"color:orange"})," ",n["label-key"]&&ie({name:"v98kxt",styles:"color:green"}),";",""),children:t})}function Ih(e){var t;return typeof e=="string"?e==null?void 0:e.length:typeof(e==null?void 0:e.content)=="string"?e==null?void 0:e.content.length:(t=e==null?void 0:e.content)==null?void 0:t.reduce((n,r)=>n+Ih(r),0)}function J_({onQueryChange:e,value:t,onKeyDown:n}){const r=Be(),i=b.useCallback(g=>f(K_,{...g}),[]),s=b.useMemo(()=>jd(Hd(Ud())),[]),o=b.useRef(null),[l]=b.useState("sql"),c=b.useCallback(([g,S])=>{const w=[];if(!Bd.isText(g)||(g==null?void 0:g.length)<1)return w;const m=ls.tokenize(g.text,ls.languages[l]);let C=0;for(const k of m){const T=Ih(k),y=C+T;typeof k!="string"&&w.push({[k.type]:!0,anchor:{path:S,offset:C},focus:{path:S,offset:y}}),C=y}return w},[l]),[h,u]=b.useState(t);return b.useEffect(()=>{u(t)},[]),b.useEffect(()=>{u(t),s.children=t},[t,u]),f(vt,{theme:r,children:f(G_,{ref:o,children:f(qd,{editor:s,initialValue:h,onChange:e,children:f(Q_,{decorate:c,renderLeaf:i,placeholder:"",onKeyDown:n,spellCheck:"false"})})})})}const Y_=e=>{const{isTabletOrMobile:t,isBuilder:n,dataSourceType:r,handleQueryChange:i,expr:s,queryValue:o,handleInputKeyDown:l,queryHistory:c,handleHistoryClick:h,queryValid:u,onSubmit:g,onSubmitRate:S,loading:w}=e,m=Re(T=>T.isSplit),C=T=>r===T,k=()=>!m&&r!=="flux"&&r!=="traces";return F(h_,{children:[!t&&!m&&!n&&C("logs")&&f(Eh,{...e}),(r!=="logs"||!n)&&r!=="metrics"&&f(J_,{onQueryChange:i,defaultValue:s||"",value:o,onKeyDown:l}),k()&&r==="logs"&&!n&&!t&&F(mt,{children:[f(_h,{queryLength:c.length,handleHistoryClick:h}),r==="logs"&&!n&&f(ps,{disabled:!u,onClick:S,isMobile:!1}),f(Xr,{disabled:!u,onClick:g,isMobile:!1,loading:w||!1})]}),(r==="traces"||r==="metrics")&&f(mt,{children:f(Xr,{disabled:!u,onClick:g,isMobile:!1,loading:w||!1})})]})};function X_(e){const{searchName:t,name:n,minDuration:r,maxDuration:i,tags:s,limit:o}=e;let l="";(t==null?void 0:t.length)>0&&(l=` service.name="${t}"`);let c="";(s==null?void 0:s.length)>0&&(c=` ${s}`);let h="";(n==null?void 0:n.length)>0&&(h=` name="${n}"`);let u="";(r==null?void 0:r.length)>0&&(u=`&minDuration=${r}`);let g="";(i==null?void 0:i.length)>0&&(g=`&maxDuration=${i}`);let S="";return o&&(S=`&limit=${o}`),`search?tags=${encodeURIComponent(`${c}${l}${h}`)}${u}${g}${S}`}const Rh=[{label:"=",value:"equals"},{label:"=~",value:"regexequals"},{label:"!=",value:"excludeequals"},{label:"!~",value:"regexexclude"}],As={equals:"=",regexequals:"=~",excludeequals:"!=",regexexclude:"!~"},gs={label:"",operator:"equals",values:[],metric:"",id:Gn()},Mh={metric:"",label:"",operator:"equals",values:[],id:Gn()},Z_={label:"",value:""},eI=()=>b.useMemo(()=>({id:0,name:"none",header:f("div",{children:"Container Header"})}),[]),tI={operations:[],labelsState:[],binaryValue:{binaryOpt:"divide",vectOpt:"on",vectValue:""},labelValuesState:[{metric:"",label:"",operator:"equals",values:[],id:Gn()}],builderResult:"",logsVolumeQuery:"",isBinary:!1,isMetrics:!0},as={minus:"-",plus:"+",by:"*",divide:"/",exp:"^",equals:"==",not_equals:"!=",modulo:"%",more:"<",less:">",less_equals:"<=",more_equals:">="},nI={on:"on",ignoring:"ignoring"};function yl(e){var n;let t=[];for(let r of e)if(r.label){let i=`${r.label}${As[r.operator]}"`;((n=r==null?void 0:r.values)==null?void 0:n.length)>0?i+=`${r==null?void 0:r.values.join("|")}"`:i+=`${(r==null?void 0:r.values[0])||""}"`,t.push(i)}return t.join(",")}function rI(e,t){let n="",r="";return(t==null?void 0:t.length)>0&&(r=yl(t)),e!==""&&r?n=`${e}{${r}}`:n=`${e}{}`,n}function ms(e){let t="";return Array.isArray(e)&&(e==null?void 0:e.length)>0&&(t+=e[0].metric,t+=`{${yl(e)}}`),t}function Ps(e){var n;let t={};if(((n=e==null?void 0:e.headers)==null?void 0:n.length)>0)for(let r of e.headers){const i={[String(r.header)]:r.value};t={...t,...i}}return t}function iI(e){var o,l,c;const n={method:"GET",headers:{...Ps(e),"Content-Type":"application/json"}},r=(o=e==null?void 0:e.auth)==null?void 0:o.basicAuth.value;let i={},s={};if(r){const h=(c=(l=e==null?void 0:e.auth)==null?void 0:l.fields)==null?void 0:c.basicAuth;for(let u of h)u.name==="user"&&(s.username=u.value),u.name==="password"&&(s.password=u.value);i.auth=s}return i.options=n,i}function sI(e){return[...e.values.map(t=>aI(t))]}function aI(e){return{label:e,value:e}}function oI(e,t){return{key:e[t],label:e[t]}}function lI(e,t,n){return{value:e[n],label:As[e[n]]}}function cI(e,t,n){e(t==="metric"?r=>r:t==="operator"?lI(n,As,t):t==="value"?sI(n):oI(n,t))}function xl(e,t){return{...e,borderRadius:2,fontSize:12,colors:{...e.colors,primary:t.contrast,neutral90:t.accentNeutral,neutral80:t.contrast,neutral0:t.deep,primary25:t.shadow,neutral5:t.shadow,neutral10:t.shadow}}}const uI=e=>(e==null?void 0:e.operator)==="regexequals"||(e==null?void 0:e.operator)==="regexexclude";function Nh(e){return e.getTime()+"000000"}const dI=(e,t,n)=>`${e}/loki/api/v1/label?start=${t}&end=${n}`,fI=(e,t,n,r)=>`${e}/loki/api/v1/label/${t}/values?start=${n}&end=${r}`,hI=e=>{var s,o,l;const n={headers:{...Ps(e),"Content-Type":"application/json"}},r=(s=e==null?void 0:e.auth)==null?void 0:s.basicAuth.value;let i={};if(r){const c=(l=(o=e==null?void 0:e.auth)==null?void 0:o.fields)==null?void 0:l.basicAuth;for(let h of c)h.name==="user"&&(i.username=h.value),h.name==="password"&&(i.password=h.value)}return{basicAuth:i,options:n}},pI=async(e,t,n,r,i)=>{r(!0);try{const s={...t,auth:n},o=await Sn.get(e,s);o&&i(o||[])}catch(s){console.error("Error fetching labels"),console.error(s)}r(!1)};async function Oh(e,t,n,r){if(e.type!=="flux"&&e.url&&e.url!==""){const{basicAuth:i,options:s}=hI(e);await pI(t,s,i,n,r)}}const gI=(e,t,n,r)=>{var i,s;return{...eI,header:e,range:"$__interval",name:(s=(i=e==null?void 0:e.toLowerCase())==null?void 0:i.split(" "))==null?void 0:s.join("_"),id:(r==null?void 0:r.length)+1,expressions:[],prev_args:"",after_args:"",conversion_function:"",labelValue:"",filterText:"",labelFilter:{label:"",operator:"=",value:""},binaryOperation:{value:"",bool:!1},lineFilter:"",quantile:.99,kValue:5,labels:[],labelOpts:n||[],opType:t}},mI=(e,t,n)=>{const r=s=>s.some(o=>o.opType==="Range Functions"),i={...t,header:"Rate",name:"rate",id:t.id+1,opType:"Range Functions"};if(e==="Range Functions"&&r(n)){let s=n.find(l=>l.opType==="Range Functions");return[...n==null?void 0:n.map(l=>(l.id===s.id&&(l={...t,id:s.id}),l))]}return e==="Aggregations"&&!r(n)?[...n,i,t]:[...n,t]};function Lh(e){var l,c,h;const t={method:"GET"},r={...Ps(e),"Content-Type":"application/json"},i=(l=e==null?void 0:e.auth)==null?void 0:l.basicAuth.value;let s={},o={};if(i){const u=(h=(c=e==null?void 0:e.auth)==null?void 0:c.fields)==null?void 0:h.basicAuth;for(let g of u)g.name==="user"&&(o.username=g.value),g.name==="password"&&(o.password=g.value);s.auth=o}return s.options=t,s.headers=r,s}function vI({id:e}){const t=Re(({dataSources:s})=>s),[n,r]=b.useState({data:{tagValues:[]}}),i=b.useMemo(()=>t.find(s=>s.id===e),[t,e]);return b.useEffect(()=>{if(i.type==="traces"&&(i!=null&&i.url)&&(i==null?void 0:i.url)!==""){const s=Lh(i),o=`${i.url}/api/search/tag/name/values`;(async()=>{try{const c=await Sn.get(o,s);r(c||{})}catch(c){console.log("Error at loading Span Names",c)}})()}},[]),b.useMemo(()=>{var s;return(s=n==null?void 0:n.data)!=null&&s.tagValues?[{name:"Search Span Name",value:"",label:"Search Span Name"}].concat(n.data.tagValues.map(o=>({name:o,value:o,label:o}))):[{name:"",value:"",label:""}]},[n])}function bI({id:e}){const t=Re(({dataSources:s})=>s),[n,r]=b.useState({data:{tagValues:[]}}),i=b.useMemo(()=>t.find(s=>s.id===e),[t,e]);return b.useEffect(()=>{if(i.type==="traces"&&(i!=null&&i.url)&&(i==null?void 0:i.url)!==""){const s=Lh(i),o=`${i.url}/api/search/tag/service.name/values`;(async()=>{try{const c=await Sn.get(o,s);r(c||{})}catch(c){console.log("Error at loading Service Names",c)}})()}},[]),b.useMemo(()=>{var s;return(s=n==null?void 0:n.data)!=null&&s.tagValues?[{name:"Select Service Name",value:"",label:"Select Service Name"}].concat(n.data.tagValues.map(o=>({name:o,value:o,label:o}))):[{name:"",value:""}]},[n])}const Sl=(e,t,n)=>({container:r=>({...r,flex:n?1:""}),menu:r=>({...r,fontSize:"12px",color:e.contrast}),control:r=>({...r,fontSize:"12px",height:28,minHeight:28,boxShadow:"none",color:e.contrast,border:`1px solid ${e.accentNeutral}`,minWidth:t,flex:n?1:""}),input:r=>({...r,fontSize:"12px",color:e.contrast}),indicatorSeparator:r=>({display:"none"}),dropdownIndicator:r=>({padding:0,svg:{height:12},color:e.contrast}),clearIndicator:r=>({padding:0,svg:{height:12}}),singleValue:r=>({...r,fontSize:"12px",height:30,minHeight:30,margin:0,padding:0,marginTop:"4px",color:e.contrast}),valueContainer:r=>({...r,display:"flex",flex:n?1:""})}),Dh=ie({name:"emek2z",styles:"display:flex;flex-wrap:wrap;align-items:center;gap:3px"}),Ah=ie({name:"s5xdrg",styles:"display:flex;align-items:center"}),vs=e=>ie("color:",e.contrast,";border:1px solid ",e.accentNeutral,";margin-left:3px;cursor:pointer;padding:6px;display:flex;align-items:center;justify-content:center;border-radius:3px;",""),yI=e=>ie("display:flex;align-items:center;margin-top:3px;margin-left:3px;cursor:pointer;color:",e.contrast,";padding:0px 12px;border-radius:3px;height:28px;small{font-size:12px;margin:0;padding:0;}",""),xI=e=>ie("color:",e.contrast,";margin-right:2px;",""),$s=ie({name:"1hkoyyu",styles:"display:flex;flex-wrap:wrap;gap:4px;margin:0px 0px"}),zs=ie({name:"1wmy9hl",styles:"display:flex;flex-direction:column;flex:1"}),SI=ie({name:"lkh5er",styles:"display:flex;flex-wrap:wrap;align-items:center"}),wI=ie({name:"1o318wx",styles:"display:flex;flex-direction:column;margin-top:10px"}),TI=ie({name:"32sczf",styles:"display:flex;flex-wrap:wrap;flex-direction:column"}),CI=e=>ie("background:",e.primary,";border:1px solid ",e.primaryAccent,";border-radius:3px;color:",e.maxContrast,";margin-left:5px;transition:0.25s all;justify-content:center;padding:3px 12px;margin-top:5px;height:30px;display:flex;align-items:center;align-self:flex-end;max-width:200px;cursor:pointer;&:hover{background:",e.primaryLight,";}",""),Lr=75,kI={display:"flex",alignItems:"center",flex:1,width:"100%"},Ph={display:"flex",alignItems:"flex-end",flex:1,width:"100%"};function EI(e){const{defaultValue:t,options:n}=e,r=b.useMemo(()=>{const i=n==null?void 0:n.find(s=>(s==null?void 0:s.value)===t);return{label:i==null?void 0:i.label}},[t,n]);return f("div",{style:Ph,children:f("div",{children:r.label})})}const _I=e=>{const{Option:t}=zd,{data:{label:n}}=e;return f(t,{...e,children:f("div",{style:kI,children:f("span",{style:{fontSize:"12px"},children:n})})})},II=e=>{const{data:{label:t}}=e;return f("div",{style:Ph,children:f("div",{children:t})})},$u=b.forwardRef((e,t)=>{const{options:n,onSelectChange:r,label:i,labelWidth:s}=e,o=Be();return F("div",{style:{marginTop:"5px",display:"flex",alignItems:"center",flex:1,whiteSpace:"nowrap"},children:[f("label",{style:{width:`${s}px`,fontSize:"12px",color:o.contrast,padding:"0px 10px"},children:i}),f(bo,{styles:Sl(o,100,!0),placeholder:f(EI,{...e}),options:n,ref:t,components:{Option:_I,SingleValue:II},theme:l=>xl(l,o),onChange:r})]})});function RI(e){const{name:t,data:{id:n,dataSourceId:r,dataSourceType:i,dataSourceURL:s,expr:o},onSearchChange:l}=e,c=zt(),h=bI({id:r}),u=vI({id:r}),[g,S]=b.useState({name:"",value:"",label:""}),[w,m]=b.useState(u[0]||{name:"",value:"",label:""}),C=Be(),[k,T]=b.useState({searchName:g.value||"",name:w.value||"",tags:"",minDuration:"",maxDuration:"",limit:20}),[y,N]=b.useState("");b.useEffect(()=>{h.length>0&&N(X_(k))},[k]);const M=()=>({dataSourceType:i,expr:o,queryType:"trace-search",limit:k.limit,name:t,id:n,open:!0,direction:"forward",dataSourceId:r,url:`${s}/api/${y}`}),L=I=>{const D=(I==null?void 0:I.value)||"";S({name:D,value:D,label:D}),T($=>({...$,searchName:D})),l(M())},P=I=>{const D=(I==null?void 0:I.value)||"";m({name:D,value:D,label:D}),T($=>({...$,name:D})),l(M())},p=(I,D)=>{var z;const $=((z=I==null?void 0:I.target)==null?void 0:z.value)||"";T(V=>({...V,[D]:$})),l(M())},_=()=>{s&&s!==""&&c(An(i,o,"trace-search",k.limit,t,n,"forward",r,`${s}/api/${y}`))};return f("div",{className:Pe(wI),children:F("div",{className:Pe(TI),children:[f($u,{...e,defaultValue:"",label:"Service Name",options:h,onSelectChange:L,labelWidth:Lr}),f($u,{...e,defaultValue:"",label:"Span Name",options:u,onSelectChange:P,labelWidth:Lr}),f(Ui,{label:"Tags",placeholder:"http.status_code=200 error=true",onChange:I=>p(I,"tags"),value:Xe(k.tags),labelWidth:Lr}),f(Ui,{label:"Limit",placeholder:"Set limit, default 20",onChange:I=>p(I,"limit"),value:Xe(String(k.limit)),labelWidth:Lr}),f(Ui,{label:"Min Duration",placeholder:"e.g. 1.2s, 100ms",onChange:I=>p(I,"minDuration"),value:Xe(k.minDuration),labelWidth:Lr}),f(Ui,{label:"Max Duration",placeholder:"e.g. 1.2s, 100ms",onChange:I=>p(I,"maxDuration"),value:Xe(k.maxDuration),labelWidth:Lr}),f("button",{className:Pe(CI(C)),onClick:_,children:"Search Traces"})]})})}const MI=ie({name:"12ma1a3",styles:"display:flex;height:30px"}),NI=[{label:"Search",value:"search"},{label:"TraceID",value:"traceId"}];function OI(e){const{value:t,onChange:n}=e,[r,i]=b.useState(t||"traceId"),s=o=>{i(l=>o),n(o)};return f("div",{className:Pe(MI),children:f(Br,{label:"Query Type",options:NI,onChange:s,defaultActive:r})})}const LI=e=>b.useMemo(()=>{var t,n,r;return e&&((t=Object.keys(e))==null?void 0:t.length)>0?(r=(n=Object.keys(e))==null?void 0:n.filter(i=>i!=="__name__"))==null?void 0:r.map(i=>({label:i,value:i})):[]},[e]),$h=(e,t)=>b.useMemo(()=>{var n;return e[t.value]&&Array.isArray(e[t.value])?(n=e[t.value])==null?void 0:n.map(r=>({label:r,value:r})):[{label:"",value:""}]},[t.value,e]),DI=(e,t,n)=>b.useMemo(()=>t==="operator"?{value:e,label:As[e]}:t==="value"?n.values:{key:e,label:e},[e]),AI=(e,t)=>b.useMemo(()=>e==="metrics"?!1:!!(uI(t)&&e==="value"),[e,t]),PI=(e,t,n)=>b.useMemo(()=>{const r=t==null?void 0:t.find(i=>i.id===e);return n!==""&&(r.url=n),r},[e,t]),zh=e=>b.useMemo(()=>Nh(e),[e]),Vh=e=>b.useMemo(()=>Nh(e),[e]),$I=e=>b.useMemo(()=>{var t,n,r;return(t=e==null?void 0:e.data)!=null&&t.data&&Array.isArray((n=e==null?void 0:e.data)==null?void 0:n.data)?(r=e.data.data)==null?void 0:r.map(i=>({label:i,value:i})):[{label:"",value:""}]},[e]);function Fh(e,t,n,r,i=""){const[s,o]=b.useState(!1),[l,c]=b.useState([]),h=zh(t),u=Vh(n),g=PI(e,r,i),S=b.useMemo(()=>dI(g.url,h,u),[g.url,h,u]);b.useEffect(()=>{Oh(g,S,o,c)},[g]);const w=b.useMemo(()=>{var m,C,k;return(m=l==null?void 0:l.data)!=null&&m.data&&Array.isArray((C=l==null?void 0:l.data)==null?void 0:C.data)?(k=l.data.data)==null?void 0:k.map(T=>({label:T,value:T})):[{label:"",value:""}]},[l]);return{loading:s,logsResponse:w}}const zI=e=>ie("display:flex;flex-direction:column;.operation-header{background:",e.background,";color:",e.contrast,";padding:0px 8px;border-bottom:1px solid ",e.accentNeutral,";display:flex;justify-content:space-between;align-items:center;height:28px;span{font-size:12px;}.operation-tools{display:none;align-items:center;}&:hover .operation-tools{display:flex;}}.operation-body{padding:8px;}",""),Bt=e=>ie("display:flex;flex-direction:column;gap:3px;.input-group{display:flex;align-items:center;gap:3px;justify-content:space-between;}.col{flex-direction:column;}.end{justify-content:flex-end;}.wrap{display:table;}label{font-size:12px;color:",e.contrast,";}input{height:26px;color:",e.contrast,";background:",e.deep,";border:1px solid ",e.accentNeutral,";border-radius:3px;padding:0px 6px;max-width:100px;&.checkbox{font-size:12px;height:12px;}}select{height:26px;color:",e.contrast,";background:",e.deep,";border:1px solid ",e.accentNeutral,";border-radius:3px;padding:0px 6px;}button{height:26px;color:",e.contrast,";background:",e.deep,";border:1px solid ",e.accentNeutral,";border-radius:3px;padding:4px 8px;cursor:pointer;font-size:12px;}.binary-operation-bar{display:flex;align-items:center;justify-content:space-between;background:",e.shadow,";border-radius:3px;padding:6px;.binary-operation-cont{display:flex;align-items:center;gap:6px;}}",""),VI=ie({name:"17pwcu2",styles:"margin:0px;padding:0px;height:12px;width:12px;cursor:pointer"}),jh=e=>{const{initial:t,onChange:n}=e,r=b.useMemo(()=>["$__interval","1m","5m","10m","1h","24h"].map(i=>({name:i,value:i})),[]);return f("select",{defaultValue:t,onChange:n,children:r.map((i,s)=>f("option",{value:i.value,children:i.name},s))})},FI=e=>{const{initial:t,onChange:n}=e,r=b.useMemo(()=>["0.25","0.5","0.75","0.9","0.99"].map(i=>({name:i,value:i})),[]);return f("select",{defaultValue:t,onChange:n,children:r.map((i,s)=>f("option",{value:i.value,children:i.name},s))})},zu=e=>{const{initial:t,onChange:n,opts:r}=e;return f("select",{defaultValue:t,onChange:n,children:r.map((i,s)=>f("option",{value:i.value,children:i.name},s))})},jI=e=>{const{initial:t,onChange:n}=e,r=b.useMemo(()=>["duration","duration_seconds","bytes",""].map(i=>({name:i,value:i})),[]);return f("select",{defaultValue:t,onChange:n,children:r.map((i,s)=>f("option",{value:i.value,children:i.name},s))})},bs=e=>{const{initial:t,onChange:n,labels:r}=e,i=b.useMemo(()=>(r==null?void 0:r.map(s=>({name:s,value:s})))||[{name:"Select Label",value:""}],[]);return f("select",{defaultValue:t,onChange:n,children:i.map((s,o)=>f("option",{value:s.value,children:s.name},o))})},HI="/loki/api/v1/series?match";function BI(e){return e.getTime()+"000000"}function wl(e){var n;let t={};if(((n=e==null?void 0:e.headers)==null?void 0:n.length)>0)for(let r of e.headers){const i={[String(r.header)]:r.value};t={...t,...i}}return t}const qI=(e,t,n,r)=>`${e}${HI}${encodeURIComponent("[]")}=${encodeURIComponent(t)}&start=${n}&end=${r}`,WI=e=>{var s,o,l;const t=wl(e),n={headers:{...t,"Content-Type":"application/json"}},r=(s=e==null?void 0:e.auth)==null?void 0:s.basicAuth.value;let i={};if(r){const c=(l=(o=e==null?void 0:e.auth)==null?void 0:o.fields)==null?void 0:l.basicAuth;for(let h of c)h.name==="user"&&(i.username=h.value),h.name==="password"&&(i.password=h.value)}return{basicAuth:i,options:n,headers:{...t,"Content-Type":"application/json"}}},UI=async(e,t,n,r,i)=>{r(!0);try{const s={...t,auth:n},o=await Sn.get(e,s);o&&i(o||[])}catch(s){console.error("Error fetching labels"),console.error(s)}r(!1)};async function QI(e,t,n,r){if(e.url&&e.url!==""){const{basicAuth:i,options:s}=WI(e);await UI(t,s,i,n,r)}}const GI=e=>{var t;return Array.from(new Set((t=e.map(n=>Object.keys(n)))==null?void 0:t.flat()))},Vu=e=>b.useMemo(()=>BI(e),[e]),KI=(e,t,n,r)=>b.useMemo(()=>qI(e,t,n,r),[e,n,r,t]),JI=(e,t)=>b.useMemo(()=>e.find(n=>n.id===t),[e,t]),YI=e=>b.useMemo(()=>{var t,n,r,i;return(t=e==null?void 0:e.data)!=null&&t.data&&Array.isArray((n=e==null?void 0:e.data)==null?void 0:n.data)&&((i=(r=e==null?void 0:e.data)==null?void 0:r.data)==null?void 0:i.length)>0?GI(e.data.data):[]},[e]),Tl=(e,t)=>b.useMemo(()=>{var n;return t!=null&&t.labelOpts?((n=t.labelOpts)==null?void 0:n.filter(r=>r!=="__name__"))||[]:[]},[e,t]),XI=e=>{const{setOperations:t,id:n}=e,r=Be(),[i,s]=b.useState([]),o=b.useCallback((u,g)=>{s(S=>{var m;let w=[...S];return w[g]=(m=u==null?void 0:u.target)==null?void 0:m.value,w}),t(S=>{const w=[...S];return w==null?void 0:w.map(m=>(m.id===n&&(m.expressions[g]=u.target.value),m))})},[]),l=(u,g)=>{s(S=>{const w=[...S];return w==null?void 0:w.filter((m,C)=>C!==g)}),t(S=>{const w=[...S];return w==null?void 0:w.map(m=>(m.id===n&&(m.expressions=[...m==null?void 0:m.expressions].filter((C,k)=>k!==g)),m))})},c=()=>{s(u=>[...u,""]),t(u=>{const g=[...u];return g==null?void 0:g.map(S=>(S.id===n&&(S.expressions=[...S.expressions,""]),S))})},h=()=>Array.isArray(i)&&(i==null?void 0:i.length)>0?i==null?void 0:i.map((u,g)=>F("div",{className:"input-group",children:[" ",f("input",{className:"expression-input",value:Xe(u),onChange:S=>o(S,g)})," ",f("button",{onClick:S=>l(S,g),children:"x"})," "]},g)):null;return F("div",{className:Pe(Bt(r)),children:[h(),f("button",{onClick:c,children:"Add Expression"})]})},ZI=e=>{const{setOperations:t,id:n}=e,[r,i]=b.useState(""),s=Be(),o=b.useCallback(l=>{i(l.target.value),t(c=>{const h=[...c];return h==null?void 0:h.map(u=>(u.id===n&&(u.expressions[0]=l.target.value),u))})},[r]);return f("div",{className:Pe(Bt(s)),children:f("input",{value:Xe(r),placeholder:"<pattern|expression>",onChange:o})})},eR=e=>{const{setOperations:t,id:n}=e,r=Be(),[i,s]=b.useState(""),o=b.useCallback(c=>{s(c.target.value),t(h=>{const u=[...h];return u==null?void 0:u.map(g=>(g.id===n&&(g.labelValue=c.target.value),g))})},[i]),l=b.useCallback(c=>{t(h=>{const u=[...h];return u==null?void 0:u.map(g=>(g.id===n&&(g.conversion_function=c.target.value),g))})},[]);return F("div",{className:Pe(Bt(r)),children:[f("input",{value:Xe(i),placeholder:"Unrap Label",onChange:o}),f(jI,{initial:"",onChange:l,className:"expression-input"})]})},tR=e=>{const{setOperations:t,id:n}=e,[r,i]=b.useState(""),s=Be(),o=b.useCallback(l=>{i(l.target.value),t(c=>{const h=[...c];return h==null?void 0:h.map(u=>(u.id===n&&(u.expressions[0]=l.target.value),u))})},[r]);return f("div",{className:Pe(Bt(s)),children:f("input",{value:Xe(r),placeholder:"<re>",onChange:o})})},nR=e=>{const{setOperations:t,id:n}=e,[r,i]=b.useState(""),s=Be(),o=b.useCallback(l=>{i(l.target.value),t(c=>{const h=[...c];return h==null?void 0:h.map(u=>(u.id===n&&(u.expressions[0]=l.target.value),u))})},[r]);return f("div",{className:Pe(Bt(s)),children:f("input",{value:Xe(r),placeholder:"{{.status_code}}",onChange:o})})},rR=e=>{const{setOperations:t,id:n}=e,[r,i]=b.useState("1"),[s,o]=b.useState("1"),l=Be(),c=u=>{o(()=>u.target.value)},h=u=>{i(()=>u.target.value)};return b.useEffect(()=>{let g=[r,s].join(",");t(S=>{const w=[...S];return w==null?void 0:w.map(m=>(m.id===n&&(m.after_args=","+g),m))})},[r,s]),F("div",{className:Pe(Bt(l)),children:[F("div",{className:"input-group",children:[f("label",{children:"Minimum Scalar"}),f("input",{value:Xe(r),placeholder:"1",onChange:h})]}),F("div",{className:"input-group",children:[f("label",{children:"Maximum Scalar"}),f("input",{value:Xe(s),placeholder:"1",onChange:c})]})]})},iR=e=>{const{setOperations:t,id:n}=e,[r,i]=b.useState("1"),s=Be(),o=l=>{i(()=>l.target.value)};return b.useEffect(()=>{let c=[r].join(",");t(h=>{const u=[...h];return u==null?void 0:u.map(g=>(g.id===n&&(g.after_args=","+c),g))})},[r]),f("div",{className:Pe(Bt(s)),children:F("div",{children:[f("label",{children:"Minimum Scalar"}),f("input",{value:Xe(r),placeholder:"1",onChange:o})]})})},sR=e=>{const{setOperations:t,id:n}=e,[r,i]=b.useState("1"),s=Be(),o=l=>{i(()=>l.target.value)};return b.useEffect(()=>{let c=[r].join(",");t(h=>{const u=[...h];return u==null?void 0:u.map(g=>(g.id===n&&(g.after_args=","+c),g))})},[r]),f("div",{className:Pe(Bt(s)),children:F("div",{children:[f("label",{children:"Maximum Scalar"}),f("input",{value:Xe(r),placeholder:"1",onChange:o})]})})},aR=e=>{const{setOperations:t,id:n}=e,[r,i]=b.useState("1"),s=Be(),o=l=>{i(()=>l.target.value)};return b.useEffect(()=>{t(l=>{const c=[...l];return c==null?void 0:c.map(h=>(h.id===n&&(h.prev_args=r+", "),h))})},[r]),f("div",{className:Pe(Bt(s)),children:F("div",{children:[f("label",{children:"Quantile"}),f("input",{value:Xe(r),placeholder:"1",onChange:o})]})})},oR=e=>{const{setOperations:t,id:n}=e,[r,i]=b.useState("1"),s=Be(),o=l=>{i(()=>l.target.value)};return b.useEffect(()=>{t(l=>{const c=[...l];return c==null?void 0:c.map(h=>(h.id===n&&(h.after_args=","+r),h))})},[r]),f("div",{className:Pe(Bt(s)),children:F("div",{children:[f("label",{children:"Nearest Scalar"}),f("input",{value:Xe(r),placeholder:"1",onChange:o})]})})},lR=e=>{const{setOperations:t,id:n}=e,[r,i]=b.useState(""),[s,o]=b.useState("$1"),[l,c]=b.useState(""),[h,u]=b.useState("(.*)"),g=Be(),S=k=>{i(k.target.value)},w=k=>{o(k.target.value)},m=k=>{c(k.target.value)},C=k=>{u(k.target.value)};return b.useEffect(()=>{t(k=>{const T=[...k];return T==null?void 0:T.map(y=>(y.id===n&&(y.after_args=', "'+r+'", "'+s+'", "'+l+'", "'+h+'"'),y))})},[r,s,l,h]),F("div",{className:Pe(Bt(g)),children:[F("div",{className:"input-group",children:[f("label",{children:"Destination Label"}),f("input",{value:Xe(r),placeholder:r,onChange:S})]}),F("div",{className:"input-group",children:[f("label",{children:"Replacement"}),f("input",{value:Xe(s),placeholder:s,onChange:w})]}),F("div",{className:"input-group",children:[f("label",{children:"Source Label"}),f("input",{value:Xe(l),placeholder:l,onChange:m})]}),F("div",{className:"input-group",children:[f("label",{children:"Regex"}),f("input",{value:Xe(h),placeholder:h,onChange:C})]})]})},cR=()=>f(mt,{}),uR=e=>{const{setOperations:t,id:n}=e,[r,i]=b.useState(e.range),s=Be(),o=b.useCallback(l=>{let c=l.target.value;i(c),t(h=>{const u=[...h];return u==null?void 0:u.map(g=>(g.id===n&&(g.range=c),g))})},[r]);return f("div",{className:Pe(Bt(s)),children:f(jh,{onChange:o,initial:r})})},dR=e=>{const{setOperations:t,id:n}=e,[r]=b.useState(e.quantile);b.useEffect(()=>{t(o=>{const l=[...o];return l==null?void 0:l.map(c=>(c.id===n&&(c.prev_args=`${e.quantile},`),c))})},[e.quantile]);const i=Be(),s=b.useCallback(o=>{let l=o.target.value;t(c=>{const h=[...c];return h==null?void 0:h.map(u=>(u.id===n&&(u.quantile=l),u))})},[r]);return f("div",{className:Pe(Bt(i)),children:f(FI,{onChange:s,initial:e.quantile})})},fR=e=>{const{setOperations:t,id:n}=e,r=Tl(n,e),[i,s]=b.useState(""),[o,l]=b.useState(e.labels||[""]),[c,h]=b.useState(","),u=Be(),g=()=>{l(T=>[...T,""])},S=T=>{s(()=>T.target.value)},w=T=>{h(()=>T.target.value)},m=(T,y)=>{l(N=>{var L;let M=[...N];return M[y]=(L=T==null?void 0:T.target)==null?void 0:L.value,M})},C=b.useCallback((T,y)=>{l(N=>{const M=[...N];return M==null?void 0:M.filter((L,P)=>P!==y)})},[o]),k=()=>o==null?void 0:o.map((T,y)=>F("div",{className:"input-group",children:[f("label",{children:"Source Label"}),f(bs,{initial:"",onChange:N=>m(N,y),className:"expression-input",labels:r}),f("button",{onClick:N=>C(N,y),children:"x"})," "]},y));return b.useEffect(()=>{let T=o.join('"'+c+'"');t(y=>{const N=[...y];return N==null?void 0:N.map(M=>(M.id===n&&(M.after_args=', "'+i+'", "'+c+'", "'+T+'"'),M))})},[i,o,c]),F("div",{className:Pe(Bt(u)),children:[F("div",{className:"input-group",children:[f("label",{children:"Destination Label"}),f(bs,{initial:"",onChange:S,className:"expression-input",labels:r})]}),F("div",{className:"input-group",children:[f("label",{children:"Replacement"}),f("input",{value:Xe(c),placeholder:c,onChange:w})]}),f("div",{className:"input-group col",children:k()}),f("div",{className:"input-group end",children:f("button",{onClick:g,children:"+ Add Source Label"})})]})},hR=e=>{const{setOperations:t,id:n}=e,r=Tl(n,e),[i,s]=b.useState(e.labels||[]),[o,l]=b.useState(e.range),[c,h]=b.useState(e.quantile),u=Be(),g=()=>{s(T=>[...T,""])},S=b.useCallback((T,y)=>{s(N=>{const M=[...N];return M==null?void 0:M.filter((L,P)=>P!==y)}),t(N=>{const M=[...N];return M==null?void 0:M.map(L=>(L.id===n&&(L.labels=[...L==null?void 0:L.labels].filter((P,p)=>p!==y)),L))})},[i]),w=b.useCallback((T,y)=>{s(N=>{var L;let M=[...N];return M[y]=(L=T==null?void 0:T.target)==null?void 0:L.value,M}),t(N=>{const M=[...N];return M==null?void 0:M.map(L=>(L.id===n&&(L.labels[y]=T.target.value),L))})},[i]),m=b.useCallback(T=>{let y=T.target.value;h(y),t(N=>{const M=[...N];return M==null?void 0:M.map(L=>(L.id===n&&(L.quantile=y),L))})},[o]),C=b.useCallback(T=>{let y=T.target.value;l(y),t(N=>{const M=[...N];return M==null?void 0:M.map(L=>(L.id===n&&(L.range=y),L))})},[o]),k=()=>Array.isArray(i)&&(i==null?void 0:i.length)>0?i==null?void 0:i.map((T,y)=>F("div",{className:"input-group",children:[f(bs,{initial:"",onChange:N=>w(N,y),className:"expression-input",labels:r}),f("button",{onClick:N=>S(N,y),children:"x"})," "]},y)):null;return F("div",{className:Pe(Bt(u)),children:[k(),e.header==="Quantile Over Time"&&f("input",{onChange:m,value:Xe(c)}),f("button",{onClick:g,children:"Add Label"}),f(jh,{onChange:C,initial:o})]})},Fu=e=>{const{setOperations:t,id:n,aggrType:r}=e,i=Tl(n,e),[s,o]=b.useState([""]),[l,c]=b.useState(e.kValue||[]),h=Be(),u=()=>{o(k=>[...k,""]),t(k=>{const T=[...k];return T==null?void 0:T.map(y=>(y.id===n&&(y.labels=[...s]),y))})},g=b.useCallback((k,T)=>{o(y=>{const N=[...y];return N==null?void 0:N.filter((M,L)=>L!==T)}),t(y=>{const N=[...y];return N==null?void 0:N.map(M=>(M.id===n&&(M.labels=[...M==null?void 0:M.labels].filter((L,P)=>P!==T)),M))})},[s]),S=b.useCallback((k,T)=>{o(y=>{var M;let N=[...y];return N[T]=(M=k==null?void 0:k.target)==null?void 0:M.value,N}),t(y=>{const N=[...y];return N==null?void 0:N.map(M=>(M.id===n&&(M.labels[T]=k.target.value),M))})},[s]),w=b.useCallback(k=>{c(k.target.value),t(T=>{const y=[...T];return y==null?void 0:y.map(N=>(N.id===n&&(N.kValue=k.target.value),N))})},[l]),m=()=>Array.isArray(s)&&(s==null?void 0:s.length)>0?s==null?void 0:s.map((k,T)=>F("div",{className:"input-group",children:[f(bs,{initial:"",onChange:y=>S(y,T),className:"expression-input",labels:i}),f("button",{onClick:y=>g(y,T),children:"x"})," "]},T)):null,C=k=>k==="topk"||k==="bottomk";return F("div",{className:Pe(Bt(h)),children:[C(r)&&f("input",{type:"number",value:Xe(String(l)),placeholder:"<pattern|expression>",onChange:w}),m(),f("button",{onClick:u,children:"Add Label"})]})},pR=e=>{const{setOperations:t,id:n}=e,[r,i]=b.useState({label:"",operator:"equals",value:""}),s=Be(),o=b.useMemo(()=>[{name:"=",value:"equals"},{name:"!=",value:"not_equals"},{name:"=~",value:"regex_equals"},{name:"!~",value:"regex_not_equals"},{name:">",value:"more"},{name:"<",value:"less"},{name:">=",value:"more_equals"},{name:"<=",value:"less_equals"}],[]);b.useEffect(()=>{t(c=>{const h=[...c];return h==null?void 0:h.map(u=>(u.id===n&&(u.labelFilter={...r}),u))})},[r]);const l=b.useCallback((c,h)=>{i(u=>({...u,[h]:c.target.value}))},[]);return e.header!=="No Pipeline Errors"?F("div",{className:Pe(Bt(s)),children:[f("input",{value:Xe(r.label),placeholder:"Text Filter",onChange:c=>l(c,"label")}),f("select",{defaultValue:"equals",onChange:c=>l(c,"operator"),children:o.map((c,h)=>f("option",{value:Xe(c.value),children:c.name},h))}),f("input",{value:Xe(r.value),placeholder:"Text Filter",onChange:c=>l(c,"value")})]}):null},gR=e=>{const{setOperations:t,id:n,binaryOperation:r}=e,i=Be(),[s,o]=b.useState(r||{value:0,bool:!1}),l=b.useCallback((c,h)=>{let u=h==="value"?c.target.value:!!c.target.checked;o(g=>({...g,[h]:u})),t(g=>{const S=[...g];return S==null?void 0:S.map(w=>(w.id===n&&(w.binaryOperation={...w.binaryOperation,[h]:u}),w))})},[s]);return F("div",{className:Pe(Bt(i)),children:[f("input",{value:Xe(s.value),placeholder:"Value",onChange:c=>l(c,"value")}),F("div",{className:"input-group",children:[f("label",{children:"Boolean"}),f("input",{type:"checkbox",className:"checkbox",checked:s.bool||!1,value:Xe("Boolean"),onChange:c=>l(c,"bool")})]})]})},mR=e=>{const{setOperations:t,id:n}=e,[r,i]=b.useState(""),s=Be(),o=b.useCallback(l=>{i(l.target.value),t(c=>{const h=[...c];return h==null?void 0:h.map(u=>(u.id===n&&(u.filterText=l.target.value),u))})},[n,t]);return f("div",{className:Pe(Bt(s)),children:f("input",{value:Xe(r),placeholder:"Text Filter",onChange:o})})},vR=["rate","rate_counter","count_over_time","sum_over_time","bytes_rate","bytes_over_time","absent_over_time"],bR=["avg_over_time","max_over_time","min_over_time","first_over_time","last_over_time","stdvar_over_time","stddev_over_time","quantile_over_time",""],yR=["sum","min","max","avg","stddev","stdvar","count"],xR=["topk","bottomk"],Za=(e,t)=>vR.includes(e)?f(uR,{...t}):bR.includes(e)?f(hR,{...t}):null,SR=(e,t)=>{if(yR.includes(e))return f(Fu,{...t,aggrType:e});if(xR.includes(e))return f(Fu,{...t,aggrType:e})},wR=(e,t)=>e==="histogram_quantile"?f(dR,{...t}):e==="clamp"?f(rR,{...t}):e==="clamp_max"?f(sR,{...t}):e==="clamp_min"?f(iR,{...t}):e==="quantile"?f(aR,{...t}):e==="round"?f(oR,{...t}):e==="label_replace"?f(lR,{...t}):e==="label_join"?f(fR,{...t}):Za(e,t),TR=(e,t)=>{switch(e){case"json":return f(XI,{...t});case"pattern":return f(ZI,{...t});case"regexp":return f(tR,{...t});case"line_format":return f(nR,{...t});case"unwrap":return f(eR,{...t});default:return f(cR,{...t})}},CR=(e,t,n)=>{switch(e){case"formats":return TR(t,n);case"range_functions":return Za(t,n);case"aggregations":return SR(t,n);case"line_filters":return f(mR,{...n});case"label_filters":return f(pR,{...n});case"binary_operations":return f(gR,{...n});case"functions":return wR(t,n);default:return Za(t,n)}},Cl=e=>!!e&&e[0]==="o",eo=Ci.unstable_batchedUpdates||(e=>e()),Dr=(e,t,n=1e-4)=>Math.abs(e-t)<n,Ii=(e,t)=>e===!0||!!(e&&e[t]),hn=(e,t)=>typeof e=="function"?e(t):e,Hh="_szhsinMenu",kR=e=>e[Hh],ER=(e,t)=>Object.defineProperty(t,Hh,{value:e}),$i=(e,t)=>(t&&Object.keys(t).forEach(n=>{const r=e[n],i=t[n];typeof i=="function"&&r?e[n]=(...s)=>{i(...s),r(...s)}:e[n]=i}),e),_R=e=>{if(typeof e!="string")return{top:0,right:0,bottom:0,left:0};const t=e.trim().split(/\s+/,4).map(parseFloat),n=isNaN(t[0])?0:t[0],r=isNaN(t[1])?n:t[1];return{top:n,right:r,bottom:isNaN(t[2])?n:t[2],left:isNaN(t[3])?r:t[3]}},La=e=>{for(;e;){if(e=e.parentNode,!e||e===document.body||!e.parentNode)return;const{overflow:t,overflowX:n,overflowY:r}=getComputedStyle(e);if(/auto|scroll|overlay|hidden/.test(t+r+n))return e}};function kl(e,t){return{"aria-disabled":e||void 0,tabIndex:t?0:-1}}function ju(e,t){for(let n=0;n<e.length;n++)if(e[n]===t)return n;return-1}const xr=({block:e,element:t,modifiers:n,className:r})=>b.useMemo(()=>{const i=t?`${e}__${t}`:e;let s=i;n&&Object.keys(n).forEach(l=>{const c=n[l];c&&(s+=` ${i}--${c===!0?l:`${l}-${c}`}`)});let o=typeof r=="function"?r(n):r;return typeof o=="string"&&(o=o.trim(),o&&(s+=` ${o}`)),s},[e,t,n,r]),IR="szh-menu-container",qr="szh-menu",RR="szh-menu-button",MR="arrow",Bh="item",NR="submenu",qh=b.createContext(),El=b.createContext({}),to=b.createContext({}),Wh=b.createContext({}),OR=b.createContext({}),Vs=b.createContext({}),tn=Object.freeze({ENTER:"Enter",ESC:"Escape",SPACE:" ",HOME:"Home",END:"End",LEFT:"ArrowLeft",RIGHT:"ArrowRight",UP:"ArrowUp",DOWN:"ArrowDown"}),Vt=Object.freeze({RESET:0,SET:1,UNSET:2,INCREASE:3,DECREASE:4,FIRST:5,LAST:6,SET_INDEX:7}),Ri=Object.freeze({CLICK:"click",CANCEL:"cancel",BLUR:"blur",SCROLL:"scroll"}),Wr=Object.freeze({FIRST:"first",LAST:"last"}),LR=Object.freeze({entering:"opening",entered:"open",exiting:"closing",exited:"closed"}),Da="absolute",Uh="presentation",_l="menuitem",Hu={"aria-hidden":!0,role:_l},DR=ER("MenuButton",b.forwardRef(function({className:t,isOpen:n,disabled:r,children:i,...s},o){const l=b.useMemo(()=>({open:n}),[n]);return qe.jsx("button",{"aria-haspopup":!0,"aria-expanded":n,"aria-disabled":r||void 0,type:"button",disabled:r,...s,ref:o,className:xr({block:RR,modifiers:l,className:t}),children:i})})),AR=({className:e,containerRef:t,containerProps:n,children:r,isOpen:i,theming:s,transition:o,onClose:l})=>{const c=Ii(o,"item"),h=({key:g})=>{switch(g){case tn.ESC:hn(l,{key:g,reason:Ri.CANCEL});break}},u=g=>{i&&!g.currentTarget.contains(g.relatedTarget)&&hn(l,{reason:Ri.BLUR})};return qe.jsx("div",{...$i({onKeyDown:h,onBlur:u},n),className:xr({block:IR,modifiers:b.useMemo(()=>({theme:s,itemTransition:c}),[s,c]),className:e}),style:{position:"absolute",...n==null?void 0:n.style},ref:t,children:r})},PR=()=>{let e,t=0;return{toggle:n=>{n?t++:t--,t=Math.max(t,0)},on:(n,r,i)=>{t?e||(e=setTimeout(()=>{e=0,r()},n)):i==null||i()},off:()=>{e&&(clearTimeout(e),e=0)}}},$R=(e,t)=>{const[n,r]=b.useState(),s=b.useRef({items:[],hoverIndex:-1,sorted:!1}).current,o=b.useCallback((c,h)=>{const{items:u}=s;if(!c)s.items=[];else if(h)u.push(c);else{const g=u.indexOf(c);g>-1&&(u.splice(g,1),c.contains(document.activeElement)&&(t.current.focus(),r()))}s.hoverIndex=-1,s.sorted=!1},[s,t]),l=b.useCallback((c,h,u)=>{const{items:g,hoverIndex:S}=s,w=()=>{if(s.sorted)return;const k=e.current.querySelectorAll(".szh-menu__item");g.sort((T,y)=>ju(k,T)-ju(k,y)),s.sorted=!0};let m=-1,C;switch(c){case Vt.RESET:break;case Vt.SET:C=h;break;case Vt.UNSET:C=k=>k===h?void 0:k;break;case Vt.FIRST:w(),m=0,C=g[m];break;case Vt.LAST:w(),m=g.length-1,C=g[m];break;case Vt.SET_INDEX:w(),m=u,C=g[m];break;case Vt.INCREASE:w(),m=S,m<0&&(m=g.indexOf(h)),m++,m>=g.length&&(m=0),C=g[m];break;case Vt.DECREASE:w(),m=S,m<0&&(m=g.indexOf(h)),m--,m<0&&(m=g.length-1),C=g[m];break}C||(m=-1),r(C),s.hoverIndex=m},[e,s]);return{hoverItem:n,dispatch:l,updateItems:o}},zR=(e,t,n,r)=>{const i=t.current.getBoundingClientRect(),s=e.current.getBoundingClientRect(),o=n===window?{left:0,top:0,right:document.documentElement.clientWidth,bottom:window.innerHeight}:n.getBoundingClientRect(),l=_R(r),c=m=>m+s.left-o.left-l.left,h=m=>m+s.left+i.width-o.right+l.right,u=m=>m+s.top-o.top-l.top,g=m=>m+s.top+i.height-o.bottom+l.bottom;return{menuRect:i,containerRect:s,getLeftOverflow:c,getRightOverflow:h,getTopOverflow:u,getBottomOverflow:g,confineHorizontally:m=>{let C=c(m);if(C<0)m-=C;else{const k=h(m);k>0&&(m-=k,C=c(m),C<0&&(m-=C))}return m},confineVertically:m=>{let C=u(m);if(C<0)m-=C;else{const k=g(m);k>0&&(m-=k,C=u(m),C<0&&(m-=C))}return m}}},VR=({arrowRef:e,menuY:t,anchorRect:n,containerRect:r,menuRect:i})=>{let s=n.top-r.top-t+n.height/2;const o=e.current.offsetHeight*1.25;return s=Math.max(o,s),s=Math.min(s,i.height-o),s},FR=({anchorRect:e,containerRect:t,menuRect:n,placeLeftorRightY:r,placeLeftX:i,placeRightX:s,getLeftOverflow:o,getRightOverflow:l,confineHorizontally:c,confineVertically:h,arrowRef:u,arrow:g,direction:S,position:w})=>{let m=S,C=r;w!=="initial"&&(C=h(C),w==="anchor"&&(C=Math.min(C,e.bottom-t.top),C=Math.max(C,e.top-t.top-n.height)));let k,T,y;return m==="left"?(k=i,w!=="initial"&&(T=o(k),T<0&&(y=l(s),(y<=0||-T>y)&&(k=s,m="right")))):(k=s,w!=="initial"&&(y=l(k),y>0&&(T=o(i),(T>=0||-T<y)&&(k=i,m="left")))),w==="auto"&&(k=c(k)),{arrowY:g?VR({menuY:C,arrowRef:u,anchorRect:e,containerRect:t,menuRect:n}):void 0,x:k,y:C,computedDirection:m}},jR=({arrowRef:e,menuX:t,anchorRect:n,containerRect:r,menuRect:i})=>{let s=n.left-r.left-t+n.width/2;const o=e.current.offsetWidth*1.25;return s=Math.max(o,s),s=Math.min(s,i.width-o),s},HR=({anchorRect:e,containerRect:t,menuRect:n,placeToporBottomX:r,placeTopY:i,placeBottomY:s,getTopOverflow:o,getBottomOverflow:l,confineHorizontally:c,confineVertically:h,arrowRef:u,arrow:g,direction:S,position:w})=>{let m=S==="top"?"top":"bottom",C=r;w!=="initial"&&(C=c(C),w==="anchor"&&(C=Math.min(C,e.right-t.left),C=Math.max(C,e.left-t.left-n.width)));let k,T,y;return m==="top"?(k=i,w!=="initial"&&(T=o(k),T<0&&(y=l(s),(y<=0||-T>y)&&(k=s,m="bottom")))):(k=s,w!=="initial"&&(y=l(k),y>0&&(T=o(i),(T>=0||-T<y)&&(k=i,m="top")))),w==="auto"&&(k=h(k)),{arrowX:g?jR({menuX:C,arrowRef:u,anchorRect:e,containerRect:t,menuRect:n}):void 0,x:C,y:k,computedDirection:m}},BR=({arrow:e,align:t,direction:n,gap:r,shift:i,position:s,anchorRect:o,arrowRef:l,positionHelpers:c})=>{const{menuRect:h,containerRect:u}=c,g=n==="left"||n==="right";let S=g?r:i,w=g?i:r;if(e){const L=l.current;g?S+=L.offsetWidth:w+=L.offsetHeight}const m=o.left-u.left-h.width-S,C=o.right-u.left+S,k=o.top-u.top-h.height-w,T=o.bottom-u.top+w;let y,N;t==="end"?(y=o.right-u.left-h.width,N=o.bottom-u.top-h.height):t==="center"?(y=o.left-u.left-(h.width-o.width)/2,N=o.top-u.top-(h.height-o.height)/2):(y=o.left-u.left,N=o.top-u.top),y+=S,N+=w;const M={...c,anchorRect:o,placeLeftX:m,placeRightX:C,placeLeftorRightY:N,placeTopY:k,placeBottomY:T,placeToporBottomX:y,arrowRef:l,arrow:e,direction:n,position:s};switch(n){case"left":case"right":return FR(M);case"top":case"bottom":default:return HR(M)}},os=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?b.useLayoutEffect:b.useEffect;function Bu(e,t){typeof e=="function"?e(t):e.current=t}const Fs=(e,t)=>b.useMemo(()=>e?t?n=>{Bu(e,n),Bu(t,n)}:e:t,[e,t]),qu=-9999,Qh=({ariaLabel:e,menuClassName:t,menuStyle:n,arrow:r,arrowProps:i={},anchorPoint:s,anchorRef:o,containerRef:l,containerProps:c,focusProps:h,externalRef:u,parentScrollingRef:g,align:S="start",direction:w="bottom",position:m="auto",overflow:C="visible",setDownOverflow:k,repositionFlag:T,captureFocus:y=!0,state:N,endTransition:M,isDisabled:L,menuItemFocus:P,gap:p=0,shift:_=0,children:I,onClose:D,...$})=>{const[z,V]=b.useState({x:qu,y:qu}),[K,se]=b.useState({}),[ue,te]=b.useState(),[he,Y]=b.useState(w),[Fe]=b.useState(PR),[$e,me]=b.useReducer(J=>J+1,1),{transition:ke,boundingBoxRef:Oe,boundingBoxPadding:re,rootMenuRef:Ce,rootAnchorRef:Ee,scrollNodesRef:be,reposition:pe,viewScroll:Te,submenuCloseDelay:Je}=b.useContext(Vs),{submenuCtx:tt,reposSubmenu:De=T}=b.useContext(to),Ye=b.useRef(null),Ze=b.useRef(),it=b.useRef(),rt=b.useRef(!1),Ke=b.useRef({width:0,height:0}),Et=b.useRef(()=>{}),{hoverItem:Rt,dispatch:_e,updateItems:je}=$R(Ye,Ze),Qe=Cl(N),at=Ii(ke,"open"),Ie=Ii(ke,"close"),ut=be.current,Dt=J=>{switch(J.key){case tn.HOME:_e(Vt.FIRST);break;case tn.END:_e(Vt.LAST);break;case tn.UP:_e(Vt.DECREASE,Rt);break;case tn.DOWN:_e(Vt.INCREASE,Rt);break;case tn.SPACE:J.target&&J.target.className.indexOf(qr)!==-1&&J.preventDefault();return;default:return}J.preventDefault(),J.stopPropagation()},qt=()=>{N==="closing"&&te(),hn(M)},Gt=J=>{J.stopPropagation(),Fe.on(Je,()=>{_e(Vt.RESET),Ze.current.focus()})},jt=J=>{J.target===J.currentTarget&&Fe.off()},Mt=b.useCallback(J=>{var B;const Z=o?(B=o.current)==null?void 0:B.getBoundingClientRect():s?{left:s.x,right:s.x,top:s.y,bottom:s.y,width:0,height:0}:null;if(!Z)return;ut.menu||(ut.menu=(Oe?Oe.current:La(Ce.current))||window);const W=zR(l,Ye,ut.menu,re);let{arrowX:q,arrowY:ne,x:de,y:le,computedDirection:ge}=BR({arrow:r,align:S,direction:w,gap:p,shift:_,position:m,anchorRect:Z,arrowRef:it,positionHelpers:W});const{menuRect:ze}=W;let Se=ze.height;if(!J&&C!=="visible"){const{getTopOverflow:Le,getBottomOverflow:nt}=W;let Ge,Ae;const we=Ke.current.height,Ne=nt(le);if(Ne>0||Dr(Ne,0)&&Dr(Se,we))Ge=Se-Ne,Ae=Ne;else{const He=Le(le);(He<0||Dr(He,0)&&Dr(Se,we))&&(Ge=Se+He,Ae=0-He,Ge>=0&&(le-=He))}Ge>=0?(Se=Ge,te({height:Ge,overflowAmt:Ae})):te()}r&&se({x:q,y:ne}),V({x:de,y:le}),Y(ge),Ke.current={width:ze.width,height:Se}},[r,S,re,w,p,_,m,C,s,o,l,Oe,Ce,ut]);os(()=>{Qe&&(Mt(),rt.current&&me()),rt.current=Qe,Et.current=Mt},[Qe,Mt,De]),os(()=>{ue&&!k&&(Ye.current.scrollTop=0)},[ue,k]),os(()=>je,[je]),b.useEffect(()=>{let{menu:J}=ut;if(!Qe||!J)return;if(J=J.addEventListener?J:window,!ut.anchors){ut.anchors=[];let q=La(Ee&&Ee.current);for(;q&&q!==J;)ut.anchors.push(q),q=La(q)}let B=Te;if(ut.anchors.length&&B==="initial"&&(B="auto"),B==="initial")return;const Z=()=>{B==="auto"?eo(()=>Mt(!0)):hn(D,{reason:Ri.SCROLL})},W=ut.anchors.concat(Te!=="initial"?J:[]);return W.forEach(q=>q.addEventListener("scroll",Z)),()=>W.forEach(q=>q.removeEventListener("scroll",Z))},[Ee,ut,Qe,D,Te,Mt]);const Nt=!!ue&&ue.overflowAmt>0;b.useEffect(()=>{if(Nt||!Qe||!g)return;const J=()=>eo(Mt),B=g.current;return B.addEventListener("scroll",J),()=>B.removeEventListener("scroll",J)},[Qe,Nt,g,Mt]),b.useEffect(()=>{if(typeof ResizeObserver!="function"||pe==="initial")return;const J=new ResizeObserver(([Z])=>{const{borderBoxSize:W,target:q}=Z;let ne,de;if(W){const{inlineSize:le,blockSize:ge}=W[0]||W;ne=le,de=ge}else{const le=q.getBoundingClientRect();ne=le.width,de=le.height}ne===0||de===0||Dr(ne,Ke.current.width,1)&&Dr(de,Ke.current.height,1)||Ci.flushSync(()=>{Et.current(),me()})}),B=Ye.current;return J.observe(B,{box:"border-box"}),()=>J.unobserve(B)},[pe]),b.useEffect(()=>{if(!Qe){_e(Vt.RESET),Ie||te();return}const{position:J,alwaysUpdate:B}=P||{},Z=()=>{J===Wr.FIRST?_e(Vt.FIRST):J===Wr.LAST?_e(Vt.LAST):J>=-1&&_e(Vt.SET_INDEX,void 0,J)};if(B)Z();else if(y){const W=setTimeout(()=>{const q=Ye.current;q&&!q.contains(document.activeElement)&&(Ze.current.focus(),Z())},at?170:100);return()=>clearTimeout(W)}},[Qe,at,Ie,y,P,_e]);const At=b.useMemo(()=>({isParentOpen:Qe,submenuCtx:Fe,dispatch:_e,updateItems:je}),[Qe,Fe,_e,je]);let kt,Wt;ue&&(k?Wt=ue.overflowAmt:kt=ue.height);const Cn=b.useMemo(()=>({reposSubmenu:$e,submenuCtx:Fe,overflow:C,overflowAmt:Wt,parentMenuRef:Ye,parentDir:he}),[$e,Fe,C,Wt,he]),In=kt>=0?{maxHeight:kt,overflow:C}:void 0,gn=b.useMemo(()=>({state:N,dir:he}),[N,he]),A=b.useMemo(()=>({dir:he}),[he]),U=xr({block:qr,element:MR,modifiers:A,className:i.className}),j=qe.jsxs("ul",{role:"menu","aria-label":e,...kl(L),...$i({onPointerEnter:tt==null?void 0:tt.off,onPointerMove:Gt,onPointerLeave:jt,onKeyDown:Dt,onAnimationEnd:qt},$),ref:Fs(u,Ye),className:xr({block:qr,modifiers:gn,className:t}),style:{...n,...In,margin:0,display:N==="closed"?"none":void 0,position:Da,left:z.x,top:z.y},children:[qe.jsx("li",{tabIndex:-1,style:{position:Da,left:0,top:0,display:"block",outline:"none"},ref:Ze,...Hu,...h}),r&&qe.jsx("li",{...Hu,...i,className:U,style:{display:"block",position:Da,left:K.x,top:K.y,...i.style},ref:it}),qe.jsx(to.Provider,{value:Cn,children:qe.jsx(El.Provider,{value:At,children:qe.jsx(qh.Provider,{value:Rt,children:hn(I,gn)})})})]});return c?qe.jsx(AR,{...c,isOpen:Qe,children:j}):j},qR=b.forwardRef(function({"aria-label":t,className:n,containerProps:r,initialMounted:i,unmountOnClose:s,transition:o,transitionTimeout:l,boundingBoxRef:c,boundingBoxPadding:h,reposition:u="auto",submenuOpenDelay:g=300,submenuCloseDelay:S=150,viewScroll:w="initial",portal:m,theming:C,onItemClick:k,...T},y){const N=b.useRef(null),M=b.useRef({}),{anchorRef:L,state:P,onClose:p}=T,_=b.useMemo(()=>({initialMounted:i,unmountOnClose:s,transition:o,transitionTimeout:l,boundingBoxRef:c,boundingBoxPadding:h,rootMenuRef:N,rootAnchorRef:L,scrollNodesRef:M,reposition:u,viewScroll:w,submenuOpenDelay:g,submenuCloseDelay:S}),[i,s,o,l,L,c,h,u,w,g,S]),I=b.useMemo(()=>({handleClick($,z){$.stopPropagation||hn(k,$);let V=$.keepOpen;V===void 0&&(V=z&&$.key===tn.SPACE),V||hn(p,{value:$.value,key:$.key,reason:Ri.CLICK})},handleClose($){hn(p,{key:$,reason:Ri.CLICK})}}),[k,p]);if(!P)return null;const D=qe.jsx(Vs.Provider,{value:_,children:qe.jsx(Wh.Provider,{value:I,children:qe.jsx(Qh,{...T,ariaLabel:t||"Menu",externalRef:y,containerRef:N,containerProps:{className:n,containerRef:N,containerProps:r,theming:C,transition:o,onClose:p}})})});return m===!0&&typeof document<"u"?Ci.createPortal(D,document.body):m?m.target?Ci.createPortal(D,m.target):m.stablePosition?null:D:D}),no=0,ro=1,ys=2,xs=3,Ss=4,WR=5,Gh=6,UR=["preEnter","entering","entered","preExit","exiting","exited","unmounted"],Kh=e=>({_s:e,status:UR[e],isEnter:e<xs,isMounted:e!==Gh,isResolved:e===ys||e>Ss}),io=e=>e?Gh:WR,QR=(e,t)=>{switch(e){case ro:case no:return ys;case Ss:case xs:return io(t)}},GR=e=>typeof e=="object"?[e.enter,e.exit]:[e,e],KR=(e,t)=>setTimeout(()=>{isNaN(document.body.offsetTop)||e(t+1)},0),Wu=(e,t,n,r,i)=>{clearTimeout(r.current);const s=Kh(e);t(s),n.current=s,i&&i({current:s})},JR=({enter:e=!0,exit:t=!0,preEnter:n,preExit:r,timeout:i,initialEntered:s,mountOnEnter:o,unmountOnExit:l,onStateChange:c}={})=>{const[h,u]=b.useState(()=>Kh(s?ys:io(o))),g=b.useRef(h),S=b.useRef(),[w,m]=GR(i),C=b.useCallback(()=>{const T=QR(g.current._s,l);T&&Wu(T,u,g,S,c)},[c,l]),k=b.useCallback(T=>{const y=M=>{switch(Wu(M,u,g,S,c),M){case ro:w>=0&&(S.current=setTimeout(C,w));break;case Ss:m>=0&&(S.current=setTimeout(C,m));break;case no:case xs:S.current=KR(y,M);break}},N=g.current.isEnter;typeof T!="boolean"&&(T=!N),T?!N&&y(e?n?no:ro:ys):N&&y(t?r?xs:Ss:io(l))},[C,c,e,t,n,r,w,m,l]);return b.useEffect(()=>()=>clearTimeout(S.current),[]),[h,k,C]},YR=({initialOpen:e,initialMounted:t,unmountOnClose:n,transition:r,transitionTimeout:i=500}={})=>{const[{status:s},o,l]=JR({initialEntered:e,mountOnEnter:!t,unmountOnExit:n,timeout:i,enter:Ii(r,"open"),exit:Ii(r,"close")});return[{state:LR[s],endTransition:l},o]},Jh=e=>{const[t,n]=YR(e),[r,i]=b.useState(),s=(o,l)=>{i({position:o,alwaysUpdate:l}),n(!0)};return[{menuItemFocus:r,...t},n,s]},XR=(e,t)=>{const[n]=b.useState({});return{onMouseDown:()=>{n.v=e&&e!=="closed"},onClick:r=>n.v?n.v=!1:t(!0,r)}},Yh=(e,t)=>{const n=b.useRef(t);b.useEffect(()=>{n.current!==t&&hn(e,{open:t}),n.current=t},[e,t])},Xh=b.forwardRef(function({"aria-label":t,captureFocus:n,initialOpen:r,menuButton:i,instanceRef:s,onMenuChange:o,...l},c){const[h,u,g]=Jh(l),{state:S}=h,w=Cl(S),m=b.useRef(null),C=XR(S,(L,P)=>g(P.detail?void 0:Wr.FIRST)),k=b.useCallback(L=>{u(!1),L.key&&m.current.focus()},[u]),T=L=>{switch(L.key){case tn.UP:g(Wr.LAST);break;case tn.DOWN:g(Wr.FIRST);break;default:return}L.preventDefault()},y=hn(i,{open:w});if(!y||!y.type)throw new Error("Menu requires a menuButton prop.");const N={ref:Fs(y.ref,m),...$i({onKeyDown:T,...C},y.props)};kR(y.type)==="MenuButton"&&(N.isOpen=w);const M=b.cloneElement(y,N);return Yh(o,w),b.useImperativeHandle(s,()=>({openMenu:g,closeMenu:()=>u(!1)})),qe.jsxs(b.Fragment,{children:[M,qe.jsx(qR,{...l,...h,"aria-label":t||(typeof y.props.children=="string"?y.props.children:"Menu"),anchorRef:m,ref:c,onClose:k})]})}),Zh=(e,t)=>{const n=b.memo(t),r=b.forwardRef((i,s)=>{const o=b.useRef(null);return qe.jsx(n,{...i,itemRef:o,externalRef:s,isHovering:b.useContext(qh)===o.current})});return r.displayName=`WithHovering(${e})`,r},ep=(e,t,n)=>{os(()=>{if(e)return;const r=t.current;return n(r,!0),()=>{n(r)}},[e,t,n])},ZR=Zh("SubMenu",function({"aria-label":t,className:n,disabled:r,direction:i,label:s,openTrigger:o,onMenuChange:l,isHovering:c,instanceRef:h,itemRef:u,captureFocus:g,repositionFlag:S,itemProps:w={},...m}){const C=b.useContext(Vs),{rootMenuRef:k,submenuOpenDelay:T,submenuCloseDelay:y}=C,{parentMenuRef:N,parentDir:M,overflow:L}=b.useContext(to),{isParentOpen:P,submenuCtx:p,dispatch:_,updateItems:I}=b.useContext(El),D=L!=="visible",[$,z,V]=Jh(C),{state:K}=$,se=!!r,ue=Cl(K),te=b.useRef(null),[he]=b.useState({v:0}),Y=()=>{p.off(),he.v&&(clearTimeout(he.v),he.v=0)},Fe=(...De)=>{Y(),$e(),!se&&V(...De)},$e=()=>!c&&!se&&_(Vt.SET,u.current),me=De=>{$e(),o||(he.v=setTimeout(()=>eo(Fe),Math.max(De,0)))},ke=De=>{se||(De.stopPropagation(),!(he.v||ue)&&p.on(y,()=>me(T-y),()=>me(T)))},Oe=()=>{Y(),ue||_(Vt.UNSET,u.current)},re=De=>{if(c)switch(De.key){case tn.ENTER:De.preventDefault();case tn.SPACE:case tn.RIGHT:o!=="none"&&Fe(Wr.FIRST)}},Ce=De=>{let Ye=!1;switch(De.key){case tn.LEFT:ue&&(u.current.focus(),z(!1),Ye=!0);break;case tn.RIGHT:ue||(Ye=!0);break}Ye&&(De.preventDefault(),De.stopPropagation())};ep(se,u,I),Yh(l,ue),b.useEffect(()=>p.toggle(ue),[p,ue]),b.useEffect(()=>()=>clearTimeout(he.v),[he]),b.useEffect(()=>{c&&P?u.current.focus():z(!1)},[c,P,z,u]),b.useImperativeHandle(h,()=>({openMenu:(...De)=>{P&&Fe(...De)},closeMenu:()=>{ue&&(u.current.focus(),z(!1))}}));const Ee=b.useMemo(()=>({open:ue,hover:c,disabled:se,submenu:!0}),[ue,c,se]),{ref:be,className:pe,...Te}=w,Je=$i({onPointerEnter:p.off,onPointerMove:ke,onPointerLeave:Oe,onKeyDown:re,onClick:()=>o!=="none"&&Fe()},Te),tt=()=>{const De=qe.jsx(Qh,{...m,...$,ariaLabel:t||(typeof s=="string"?s:"Submenu"),anchorRef:u,containerRef:D?k:te,direction:i||(M==="right"||M==="left"?M:"right"),parentScrollingRef:D&&N,isDisabled:se}),Ye=k.current;return D&&Ye?Ci.createPortal(De,Ye):De};return qe.jsxs("li",{className:xr({block:qr,element:NR,className:n}),style:{position:"relative"},role:Uh,ref:te,onKeyDown:Ce,children:[qe.jsx("div",{role:_l,"aria-haspopup":!0,"aria-expanded":ue,...kl(se,c),...Je,ref:Fs(be,u),className:xr({block:qr,element:Bh,modifiers:Ee,className:pe}),children:b.useMemo(()=>hn(s,Ee),[s,Ee])}),K&&tt()]})}),eM=(e,t,n,r)=>{const{submenuCloseDelay:i}=b.useContext(Vs),{isParentOpen:s,submenuCtx:o,dispatch:l,updateItems:c}=b.useContext(El),h=()=>{!n&&!r&&l(Vt.SET,e.current)},u=()=>{!r&&l(Vt.UNSET,e.current)},g=m=>{n&&!m.currentTarget.contains(m.relatedTarget)&&u()},S=m=>{r||(m.stopPropagation(),o.on(i,h,h))},w=(m,C)=>{o.off(),!C&&u()};return ep(r,e,c),b.useEffect(()=>{n&&s&&t.current&&t.current.focus()},[t,n,s]),{setHover:h,onBlur:g,onPointerMove:S,onPointerLeave:w}},tp=Zh("MenuItem",function({className:t,value:n,href:r,type:i,checked:s,disabled:o,children:l,onClick:c,isHovering:h,itemRef:u,externalRef:g,...S}){const w=!!o,{setHover:m,...C}=eM(u,u,h,w),k=b.useContext(Wh),T=b.useContext(OR),y=i==="radio",N=i==="checkbox",M=!!r&&!w&&!y&&!N,L=y?T.value===n:N?!!s:!1,P=$=>{if(w){$.stopPropagation(),$.preventDefault();return}const z={value:n,syntheticEvent:$};$.key!==void 0&&(z.key=$.key),N&&(z.checked=!L),y&&(z.name=T.name),hn(c,z),y&&hn(T.onRadioChange,z),k.handleClick(z,N||y)},p=$=>{if(h)switch($.key){case tn.ENTER:$.preventDefault();case tn.SPACE:M?u.current.click():P($)}},_=b.useMemo(()=>({type:i,disabled:w,hover:h,checked:L,anchor:M}),[i,w,h,L,M]),I=$i({...C,onPointerDown:m,onKeyDown:p,onClick:P},S),D={role:y?"menuitemradio":N?"menuitemcheckbox":_l,"aria-checked":y||N?L:void 0,...kl(w,h),...I,ref:Fs(g,u),className:xr({block:qr,element:Bh,modifiers:_,className:t}),children:b.useMemo(()=>hn(l,_),[l,_])};return M?qe.jsx("li",{role:Uh,children:qe.jsx("a",{href:r,...D})}):qe.jsx("li",{...D})});const tM=oo({name:"17t1o1s",styles:"from{opacity:0;}"}),nM=oo({name:"1vdf39n",styles:"to{opacity:0;}"}),rM=e=>ie("font-family:sans-serif;font-size:12px;user-select:none;color:",e.contrast,"!important;background:",e.deep,"!important;box-shadow:1px 1px 20px 1px rgba(0, 0, 0, 0.1);border-radius:3px;padding:6px;min-width:10rem;",""),iM=e=>ie("position:relative;font-size:12px;color:",e.contrast,"!important;background:",e.deep,"!important;&::after{position:absolute;width:4px;right:0.625rem;}&:hover{background:",e.shadow,"!important;}",""),sM=e=>ie("background:",e.deep,";color:",e.contrast,";border:1px solid ",e.accentNeutral,";border-radius:3px;padding:6px;display:flex;align-items:center;cursor:pointer;margin-top:4px;margin:3px;",""),aM=ie("animation:",tM," 0.15s ease-out;",""),oM=ie("animation:",nM," 0.2s ease-out forwards;",""),lM=e=>ie("background:",e.deep,"!important;color:",e.contrast,"!important;border-radius:3px;padding:0.275rem 0.525rem;&:hover{background:",e.shadow,"!important;}",""),cM=e=>ie("color:",e.contrast,";background:",e.shadow,"!important;",""),uM=({hover:e,disabled:t},n)=>wt(lM(n),{[cM(n)]:e}),dM=(e,t)=>wt(uM(e,t),iM(t)),fM=(e,t)=>wt(rM(t),{[aM]:e.state==="opening",[oM]:e.state==="closing"}),hM=e=>{const{theme:t}=e;return f(ZR,{...e,menuClassName:n=>fM(n,t),itemProps:{className:n=>dM(n,t)}})},so={Aggregations:["Sum","Min","Max","Avg","Stddev","Stdvar","Count","Topk","Bottomk"],"Range Functions":["Rate","Rate Counter","Count Over Time","Sum Over Time","Bytes Rate","Bytes Over Time","Absent Over Time","Avg Over Time","Max Over Time","Min Over Time","First Over Time","Last Over Time","Quantile Over Time"],Formats:["Json","Logfmt","Regexp","Pattern","Unpack","Line Format","Unwrap"],"Binary Operations":["Add Scalar","Subtract Scalar","Multiply by scalar","Divide by scalar","Modulo by scalar","Exponent","Equal To","Not Equal To","Greater Than","Less Than","Greater Or Equal To","Less Or Equal To","Binary Operation With Query"],"Label Filters":["Label Filter Expression","IP Label Filter Expression","No Pipeline Errors"],"Line Filters":["Line Contains","Line Does Not Contain","Line Contains Case Insensitive","Line Does Not Contain Case Insensitive","Line Contains Regex Match","Line Does Not Match Regex","IP Line Filter Expression","IP Line Not Filter Expression"],Trigonometric:["Acos","Acosh","Asin","Asinh","Atan","Atanh","Cos","Cosh","Sin","Sinh","Tan","Tanh"],"Time Functions":["Day Of Month","Day Of Week","Days In Month"],Functions:["Histogram Quantile","Label Replace","Ln","absent","Ceil","Clamp","Clamp max","Clamp min","Deg","Exp","Floor","Group","Hour","Label join","Log10","Log2","Minute","Pi","Quantile","Rad","Round","Scalar","Sgn","Sort","Sort desc","Sqrt","Stddev","Time","Timestamp","Vector","Year"]},np=e=>ie("margin-bottom:6px;.szh-menu{background:",e.deep,"!important;color:",e.contrast,"!important;}.szh-menu__item{&:hover{background:",e.shadow,"!important;}}","");function pM({menuClick:e}){const t=b.useMemo(()=>Object.keys(so),[]),n=Be();return f(Xh,{className:Pe(np(n)),menuButton:F(DR,{className:Pe(sM(n)),children:[" ",f(Di,{style:{height:"13px",width:"13px"}}),f("span",{style:{fontSize:"12px",fontFamily:"sans-serif"},children:"Add Operator"})]}),children:t==null?void 0:t.map((r,i)=>{var s;return f(hM,{label:r,theme:n,children:(s=so[r])==null?void 0:s.map((o,l)=>f(tp,{onClick:c=>e(c,o,r),style:{fontSize:"12px"},children:o},l))},i)})})}function gM({opType:e,onOperationSelect:t}){var r;const n=Be();return f(Xh,{className:Pe(np(n)),menuButton:f($n,{style:{height:"13px",width:"13px",margin:"0px 12px",cursor:"pointer"}}),children:(r=so[e])==null?void 0:r.map((i,s)=>f(tp,{onClick:o=>t(o,i),style:{fontSize:"12px"},children:i},s))})}function mM(e){const{id:t,opType:n,header:r,removeItem:i,index:s,setOperations:o}=e,l=Be(),[c,h]=b.useState(r);b.useEffect(()=>{h(r)},[r,h]);const u=b.useCallback((S,w)=>{h(w),o(m=>{const C=[...m];return C==null?void 0:C.map(k=>(k.id===t&&(k={...k,header:w,name:w.toLowerCase().split(" ").join("_")}),k))})},[c]),g=S=>{var w,m;return((m=(w=S==null?void 0:S.toLowerCase())==null?void 0:w.split(" "))==null?void 0:m.join("_"))||""};return r&&typeof r=="string"?F("div",{className:Pe(zI(l)),children:[F("div",{className:"operation-header",children:[f("span",{children:c}),F("div",{className:"operation-tools",children:[f(gM,{opType:n,onOperationSelect:u}),f(go,{className:Pe(VI),onClick:S=>i(s)})]})]}),f("div",{className:"operation-body",children:CR(g(n),g(r),{...e})})]}):null}const Uu={CARD:"card"},vM=e=>({border:`1px solid ${e.accentNeutral}`,backgroundColor:`${e.deep}`,fontSize:"12px",cursor:"move",display:"flex",margin:"4px",borderRadius:"3px"}),bM=e=>{const{id:t,header:n,rate:r,opType:i,index:s,body:o,moveItem:l,removeItem:c,kValue:h,quantile:u,labelFilter:g,filterText:S,lineFilter:w,conversion_function:m,labelValue:C,labelOpts:k,binaryOperation:T}=e,y=b.useRef(null),N=Be(),[{handlerId:M},L]=Yg({accept:Uu.CARD,collect(I){return{handlerId:I.getHandlerId()}},hover(I,D){var te;if(!y.current)return;const $=I.index,z=s;if($===z)return;const V=(te=y.current)==null?void 0:te.getBoundingClientRect(),K=(V.right-V.left)/2,ue=D.getClientOffset().x-V.left;$<z&&ue<K||$>z&&ue>K||(l($,z),I.index=z)}}),[{isDragging:P},p]=Xg({type:Uu.CARD,item:()=>({id:t,index:s}),collect:I=>({isDragging:I.isDragging()})}),_=P?.5:1;return p(L(y)),f("div",{ref:y,style:{...vM(N),opacity:_},"data-handler-id":M,children:f(mM,{...e,rate:r,id:t,header:n,opType:i,body:o,index:s,kValue:h,quantile:u,labelFilter:g,binaryOperation:T,conversion_function:m,labelValue:C,lineFilter:w,labelOpts:k,filterText:S,removeItem:c})})},yM=ie({name:"798ujy",styles:"width:100%;display:flex;flex-wrap:wrap"}),xM=e=>{const{operations:t,setOperations:n}=e,r=b.useCallback((o,l)=>{n(c=>fc(c,{$splice:[[o,1],[l,0,c[o]]]}))},[]),i=b.useCallback(o=>{n(l=>fc(l,{$splice:[[o,1]]}))},[]),s=b.useCallback((o,l)=>Li(bM,{...e,key:o.id,index:l,id:o.id,opType:o.opType,header:o.header,kValue:o.kValue,quantile:o.quantile,labelValue:o.labelValue,conversion_function:o.conversion_function,binaryOperation:o.binaryOperation,labelOpts:o.labelOpts,lineFilter:o.lineFilter,body:o.body||f(mt,{}),moveItem:r,removeItem:i}),[]);return f(em,{backend:Zg,children:f("div",{className:Pe(yM),children:t.map((o,l)=>s(o,l))})})},rp=e=>{const{mainTheme:t,resetLabelsState:n}=e;return F("div",{className:Pe(yI(t)),onClick:n,children:[f(Di,{className:Pe(xI(t)),fontSize:"small",style:{height:"14px",width:"14px"}})," ",f("small",{children:"Add Labels"})]})};var Il={},SM=Ct;Object.defineProperty(Il,"__esModule",{value:!0});var Rl=Il.default=void 0,wM=SM(Tt()),TM=qe,CM=(0,wM.default)((0,TM.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"RemoveOutlined");Rl=Il.default=CM;const gr=b.forwardRef((e,t)=>{const{selectOpts:n,mainTheme:r,minWidth:i,onChange:s,defaultValue:o,type:l,keyVal:c,objId:h,labelsLength:u}=e,g=DI(o,l,c),[S,w]=b.useState(g||Z_),m=AI(l,c);b.useEffect(()=>{cI(w,l,c)},[u]);const C=k=>{w(()=>k),s({value:k,id:h})};return f(bo,{id:h,isMulti:m,options:n,styles:Sl(r,i),value:S,ref:t,defaultValue:g,theme:k=>xl(k,r),onChange:C})});function kM(e,t){const n=Re(m=>m.start),r=Re(m=>m.stop),i=Re(m=>m.dataSources),[s,o]=b.useState(!1),[l,c]=b.useState([]),h=b.useMemo(()=>i.find(m=>m.id===e),[i,e]),u=zh(n),g=Vh(r),S=b.useMemo(()=>fI(h.url,t,u,g),[h.url,u,g,t]),w=$I(l);return b.useEffect(()=>(t&&t!==""&&Oh(h,S,o,c),()=>{c([]),o(!1)}),[S,h]),{logsResponse:w,loading:s}}const EM=e=>{const{keyVal:t,labelOpts:n,labelAdd:r,labelRemove:i,onChange:s,labelValuesLength:o,id:l,dataSourceId:c}=e,h=b.useRef(null),u=b.useRef(null),g=b.useRef(null),S=Be(),[w,m]=b.useState(t),[C,k]=b.useState(n[0]||{label:"Select Option",value:""}),{logsResponse:T}=kM(c,C.value),[y,N]=b.useState({label:"=",value:"equals"}),M=I=>{const{value:D,id:$}=I;k(()=>({value:D==null?void 0:D.value,label:D==null?void 0:D.value}));const V={...JSON.parse(JSON.stringify(w)),label:D==null?void 0:D.label,value:D.value,id:$};s(V),m(K=>({...K,label:D==null?void 0:D.value}))},L=I=>{const{value:D,id:$}=I;let z=[],V=D!==null?D:{label:"",value:""};_&&Array.isArray(V)?z=V==null?void 0:V.map(ue=>ue.value):z=[V.value];const se={...JSON.parse(JSON.stringify(w)),values:z,id:$};s(se),m(ue=>({...ue,values:z}))},P=I=>{const{value:D,id:$}=I,V={...JSON.parse(JSON.stringify(w)),operator:D==null?void 0:D.value,id:$};s(V),N(()=>({...D})),m(K=>({...K,operator:D==null?void 0:D.value}))},p=()=>{h!=null&&h.current&&(u!=null&&u.current)&&(g!=null&&g.current)&&i(t.id)},_=b.useMemo(()=>y.value==="regexequals"||y.value==="regexexclude",[y.value]);return o>0?F("div",{id:l,className:Pe(Dh),children:[f(gr,{ref:h,type:"label",isMulti:!1,defaultValue:Xe(t.label),selectOpts:n,mainTheme:S,onChange:M,keyVal:t,objId:l,minWidth:100,labelsLength:o}),f(gr,{ref:u,type:"operator",isMulti:!1,defaultValue:Xe(t.operator),selectOpts:Rh,keyVal:t,mainTheme:S,onChange:P,objId:l,minWidth:60,labelsLength:o}),F("div",{className:Pe(Ah),children:[f(gr,{ref:g,type:"value",isMulti:_,defaultValue:Xe(t.values),selectOpts:T,keyVal:t,mainTheme:S,onChange:L,objId:l,minWidth:250,labelsLength:o}),f(Rl,{className:Pe(vs(S)),style:{height:"14px",width:"14px"},onClick:p}),f(Di,{className:Pe(vs(S)),style:{height:"14px",width:"14px"},onClick:r})]})]}):null},_M=(e,t)=>{const n=Re(m=>m.start),r=Re(m=>m.stop),i=Re(m=>m.dataSources),[s,o]=b.useState({}),[l,c]=b.useState(!1),h=JI(i,e),u=Vu(n),g=Vu(r),S=KI(h.url,t,u,g);b.useEffect(()=>{t!==""&&t!=="{}"&&QI(h,S,c,o)},[S,h,c,o,t]);const w=YI(s);return{loading:l,labelSeries:w}},IM=()=>({result:"",expressions:[],expressionsString:"",setJSON(e){return e!==""&&(this.result+=e+" | json"),this.result},addExpression(e){this.expressions=[...this.expressions,e]},setExpressions(){this.expressionsString=this.expressions.join(" ")},build(e=""){return this.setJSON(e),this.expressions.length>0?(this.setExpressions(),this.result+" "+this.expressionsString):this.result}}),RM=()=>({result:"",setLogFmt(){return this.result+=" | logfmt",this.result},build(e){return this.result+=e+this.setLogFmt(),this.result}}),MM=()=>({result:"",labelValue:"",conversion_function:"",setLabelValue(e){this.labelValue=e},setConversionFn(e){this.conversion_function=e},setConversionFnString(){this.labelValue=this.conversion_function+"("+this.labelValue+")"},setUnwrapFmt(){this.result=" | unwrap ",this.labelValue!==""&&this.conversion_function===""&&(this.result+=` ${this.labelValue}`),this.conversion_function!==""&&(this.setConversionFnString(),this.result+=`${this.labelValue}`)},build(e){return this.setUnwrapFmt(),e+this.result}}),NM=()=>({result:"",setUnPack(){return this.result+=" | unpack",this.result},build(e){return this.result+=e+this.setUnPack(),this.result}}),OM=()=>({result:"",expression:"",setRegex(e){this.result=e+" | regexp"},setExpression(e){this.expression=e||""},setText(){this.result+=" `"+this.expression+"`"},build(e){return this.setRegex(e),this.setText(),this.result}}),LM=()=>({result:"",expression:"",setPattern(e){this.result=e+" | pattern"},setExpression(e){this.expression=e||""},setText(){this.result+=" `"+this.expression+"`"},build(e){return this.setPattern(e),this.setText(),this.result}}),DM=()=>({result:"",expression:"",setLine(e){this.result=e+" | line_format"},setExpression(e){this.expression=e||""},setText(){this.result+=" `"+this.expression+"`"},build(e){return this.setLine(e),this.setText(),this.result}}),AM=e=>({result:"",range:"",setRange(t){this.range=t},setRate(){this.result+=` [${this.range}])`},setFn(t){this.result=`${e}(${t}`},build(t){return this.setFn(t),this.setRate(),this.result}}),PM=e=>({result:"",range:"",quantile:.5,labels:[],labelsString:"",setQuantile(t){this.quantile=t},setRange(t){this.range=t},setRate(){this.result+=` [${this.range}])`},setFn(t){this.result=`${e}(${t}`},build(t){return this.setFn(t),this.setRate(),this.result}}),$M=e=>({result:"",range:"",labels:[],labelsString:"",quantile:.99,setFn(t){e!=="quantile_over_time"?this.result=`${e}(${t}`:this.result=`${e}(${this.quantile}, ${t}`},updRange(t){this.range=t},setRange(){this.result+=`[${this.range}])`},addLabel(t){this.labels=[...this.labels,t]},setQuantile(t){this.quantile=t},setLabels(){this.labelsString=this.labels.join(",")},build(t){return this.setFn(t),this.setRange(),this.labels.length>0?(this.setLabels(),this.result+=` by(${this.labelsString})`):this.result}}),zM=e=>({result:"",labels:[],labelString:"",aggrType:"by",aggrTypeString:"",setAggrType(t){this.aggrType=t},addLabel(t){this.labels=[...this.labels,t]},setLabels(){this.labelString=this.labels.join(",")},setAggrTypeString(){this.aggrTypeString=`${this.aggrType}(${this.labelString})`},setFn(t){this.result=`${e}(${t})`},build(t){return this.setFn(t),this.labels.length>0&&(this.setLabels(),this.setAggrTypeString(),this.result=`${e} ${this.aggrTypeString} (${t})`),this.result}}),VM=e=>({result:"",labels:[],labelString:"",kvalue:5,aggrType:"by",aggrTypeString:"",setAggrType(t){this.aggrType=t},setAggrTypeString(){this.aggrTypeString=`${this.aggrType}(${this.labelString})`},addLabel(t){this.labels=[...this.labels,t]},setLabels(){this.labelString=this.labels.join(",")},setKValue(t){this.kvalue=t},setFn(t){this.result=`${e} (${this.kvalue}, ${t})`},build(t){return this.setFn(t),this.labels.length>0&&(this.setLabels(),this.setAggrTypeString(),this.result=`${e} ${this.aggrTypeString} (${this.kvalue}, ${t})`),this.result}}),FM={line_contains:"|= `",line_does_not_contain:"!= `",line_contains_regex_match:"|~ `",line_does_not_match_regex:"!~ `",line_contains_case_insensitive:"|~ `(?i)",line_does_not_contain_case_insensitive:"!~ `(?i)",ip_line_filter_expression:"|= ip(`",ip_line_not_filter_expression:"!= ip(`"},ip=e=>e.includes("ip_"),jM=e=>({result:"",filterText:"",lineFilter:FM[e],setFilterText(t){this.filterText=t},setFn(t){this.result=`${t} ${this.lineFilter}${this.filterText}`},closeFn(){const t=ip(e)?"`)":"`";this.result+=`${t}`},build(t){return this.setFn(t),this.closeFn(),this.result}}),HM={equals:"=",not_equals:"!=",regex_equals:"=~",regex_not_equals:"!~",more:">",less:"<",more_equals:">=",less_equals:"<="},BM=e=>e==="no_pipeline_errors",qM=e=>({result:"",label:"",operator:"=",value:"",labelValueString:"",setLabel(t){this.label=t},setOperator(t){this.operator=HM[t]},setValue(t){this.value=t},setFilterType(t){return ip(e)?"ip(`"+t+"`)":"`"+t+"`"},setLabelValueString(){this.labelValueString=" "+this.label+" "+this.operator+this.setFilterType(this.value)},setFn(t){BM(e)?this.result=t+" | __error__=``":(this.setLabelValueString(),this.result=`${t} |${this.labelValueString}`)},build(t){return this.setFn(t),this.result}}),WM={add_scalar:"+",subtract_scalar:"-",multiply_by_scalar:"*",divide_by_scalar:"/",modulo_by_scalar:"%",exponent:"^",equal_to:"==",not_equal_to:"!=",greater_than:">",less_than:"<",greater_or_equal_to:">=",less_or_equal_to:"<=",binary_operation_with_query:""},UM=e=>({result:"",value:"",bool:!1,boolString:"",setValue(t){this.value=t},setBoolean(t){this.bool=t},setBooleanString(){this.boolString=this.bool?"bool ":""},setFn(t){this.result=`${t} ${WM[e]} ${this.boolString}${this.value}`},build(t){return this.setBooleanString(),this.setFn(t),this.result}}),QM=e=>({result:"",setFn(t){this.result=`${e}(${t})`},build(t){return this.setFn(t),this.result}}),GM=e=>({result:"",setFn(t){this.result=`${e}(${t})`},build(t){return this.setFn(t),this.result}}),KM=e=>({result:"",setFn(t){this.result=`${e}(${t})`},build(t){return this.setFn(t),this.result}}),JM=e=>({result:"",prev_args:"",after_args:"",setPrevArgs(t){this.prev_args=t},setAfterArgs(t){this.after_args=t},setFn(t){this.result=`${e}(${this.prev_args}${t}${this.after_args})`},setEditableParams(t){typeof(t==null?void 0:t.after_args)=="string"&&(t==null?void 0:t.after_args)!==""&&this.setAfterArgs(t.after_args),typeof(t==null?void 0:t.prev_args)=="string"&&(t==null?void 0:t.prev_args)!==""&&this.setPrevArgs(t.prev_args)},build(t){return this.setFn(t),this.result}}),YM={json:IM,logfmt:RM,unpack:NM,regexp:OM,pattern:LM,line_format:DM,unwrap:MM},Qu=e=>({range:AM(e),label_range:$M(e)}),XM=e=>({range_function:PM(e)}),Gu=e=>({aggr:zM(e),aggr_btk:VM(e)}),ZM=e=>({line_filter:jM(e)}),eN=e=>({label_filter:qM(e)}),tN=e=>({binary_operation:UM(e)}),nN=e=>({time_function:QM(e)}),rN=e=>({trigonometric:GM(e)}),Ku=e=>({metric_functions:KM(e),editable_functions:JM(e)}),iN=["json","logfmt","regexp","pattern","unpack","line_format","label_format","unwrap"],sN=["duration","duration_seconds","bytes",""],aN=["rate","rate_counter","count_over_time","sum_over_time","bytes_rate","bytes_over_time","absent_over_time"],oN=["changes","irate","increase","idelta","delta","holt winters","predict linear","quantile over time","deriv","resets","avg_over_time","min_over_time","max_over_time","last_over_time","present_over_time","stddev_over_time"],lN=["avg_over_time","max_over_time","min_over_time","first_over_time","last_over_time","stdvar_over_time","stddev_over_time","quantile_over_time"],cN=["line_contains","line_does_not_contain","line_contains_regex_match","line_does_not_match_regex","line_contains_case_insensitive","line_does_not_contain_case_insensitive","ip_line_filter_expression","ip_line_not_filter_expression"],uN=["add_scalar","subtract_scalar","multiply_by_scalar","divide_by_scalar","modulo_by_scalar","exponent","equal_to","not_equal_to","greater_than","less_than","greater_or_equal_to","less_or_equal_to","binary_operation_with_query"],dN=["no_pipeline_errors","ip_label_filter_expression","label_filter_expression"],fN=["acos","acosh","asin","asinh","atan","atanh","cos","cosh","sin","sinh","tan","tanh"],hN=["sum","min","max","avg","stddev","stdvar","count","count_values"],pN=["topk","bottomk"],gN=["day_of_month","day_of_week","days_in_month"],mN=["ln","absent","ceil","deg","exp","floor","group","hour","log10","log2","minute","pi","rad","scalar","sgn","sort","sort_desc","sqrt","stddev","time","timestamp","vector","year"],vN=["histogram_quantile","label_replace","clamp","clamp_max","clamp_min","label_join","quantile","round"],bN=e=>["line_format","regexp","pattern"].includes(e),pn=(e,t)=>JSON.parse(JSON.stringify(e===""?t:e)),yN=(e,t)=>{Array.isArray(t)&&t.length>0&&t.forEach(n=>{e.addExpression(n)})},Aa=(e,t)=>{Array.isArray(t)&&(t==null?void 0:t.length)>0&&t.forEach(n=>{e.addLabel(n)})},xN=(e,t)=>{e.setKValue(t)},SN=(e,t)=>{let n="";if(e&&typeof e=="string"){const r=ms(JSON.parse(e));(t==null?void 0:t.length)>0?t.forEach(i=>{var s,o,l,c,h,u,g,S;if(iN.includes(i.name)){const w=pn(n,r);if(n=YM[i.name](),i.name==="unwrap"&&((i==null?void 0:i.labelValue)!==""&&typeof i.labelValue=="string"&&n.setLabelValue(i.labelValue),(i==null?void 0:i.conversion_function)!==""&&typeof i.conversion_function=="string"&&sN.includes(i.conversion_function)&&n.setConversionFn(i.conversion_function)),i.name==="json")yN(n,i.expressions);else if(bN(i.name)){const[m]=i.expressions;m!==""&&n.setExpression(i.expressions[0])}n=n.build(w)}if(aN.includes(i.name)){const w=pn(n,r);n=Qu(i.name).range,n.setRange(i.range||"$__interval"),n=n.build(w)}if(oN.includes(i.name)){const w=pn(n,r);n=XM(i.name).range_function,n.setRange(i.range||"$__interval"),n=n.build(w)}if(mN.includes(i.name)){const w=pn(n,r);n=Ku(i.name).metric_functions,n=n.build(w)}if(vN.includes(i.name)){const w=pn(n,r);n=Ku(i.name).editable_functions,n.setEditableParams(i),n=n.build(w)}if(fN.includes(i.name)){const w=pn(n,r);n=rN(i.name).trigonometric,n=n.build(w)}if(lN.includes(i.name)){const w=pn(n,r);n=Qu(i.name).label_range,Aa(n,i.labels),n.updRange(i.range||"$__interval"),i.name==="quantile_over_time"&&n.setQuantile(i.quantile),n=n.build(w)}if(hN.includes(i.name)){const w=pn(n,r);n=Gu(i.name).aggr,Aa(n,i.labels),n=n.build(w)}if(pN.includes(i.name)){const w=pn(n,r);n=Gu(i.name).aggr_btk,Aa(n,i.labels),xN(n,i.kValue),n=n.build(w)}if(cN.includes(i.name)){const w=pn(n,r);n=ZM(i.name).line_filter,n.setFilterText(i.filterText||""),n=n.build(w)}if(dN.includes(i.name)&&(i!=null&&i.labelFilter)){const w=pn(n,r);n=(s=eN(i.name))==null?void 0:s.label_filter,n.setLabel(((o=i==null?void 0:i.labelFilter)==null?void 0:o.label)||""),n.setOperator(((l=i==null?void 0:i.labelFilter)==null?void 0:l.operator)||"equals"),n.setValue(((c=i==null?void 0:i.labelFilter)==null?void 0:c.value)||""),n=n.build(w)}if(gN.includes(i.name)){const w=pn(n,r);n=(h=nN(i.name))==null?void 0:h.time_function,n=n.build(w)}if(uN.includes(i.name)&&(i!=null&&i.binaryOperation)){const w=pn(n,r);n=(u=tN(i.name))==null?void 0:u.binary_operation,n.setValue(((g=i==null?void 0:i.binaryOperation)==null?void 0:g.value)||1),n.setBoolean(((S=i==null?void 0:i.binaryOperation)==null?void 0:S.bool)||!1),n=n.build(w)}}):n=r}return n},wN=e=>`sum by(level) (count_over_time(${e}[$__interval]))`,TN=e=>{const{dataSourceId:t,logsResponse:n,theme:r,setFinalQuery:i,setLabelsString:s,labelValueString:o,setLabelValueString:l,setBuilders:c,index:h}=e,[u,g]=b.useState(e.labelValuesState||[{...gs}]),S=k=>{g(T=>{const y=JSON.parse(JSON.stringify(T))||[];return y==null?void 0:y.filter(M=>M.id!==k)}),l(T=>{let y=[];(T==null?void 0:T.length)>1&&(y=JSON.parse(T||JSON.stringify("[]")));const N=y==null?void 0:y.filter(M=>M.id!==k);return JSON.stringify(N)})},w=k=>{g(T=>[...T,{...Mh,id:Gn()}])},m=k=>{const T=u==null?void 0:u.some(M=>M.id===k.id);(u==null?void 0:u.length)===1&&!T&&(g(()=>[k]),l(()=>JSON.stringify([k])));const y=[...u],N=y==null?void 0:y.map(M=>M.id===k.id?{...k}:M);T&&(g(()=>[...N]),l(()=>JSON.stringify(N)))};b.useEffect(()=>{const k=o||JSON.stringify(""),T=ms(JSON.parse(k));s(T),i(T)},[o]),b.useEffect(()=>{c(k=>{const T=[...k];return T.map(y=>T.indexOf(y)===h?{...y,labelValuesState:[...u],logsVolumeQuery:wN(ms(u))}:y)})},[u]);const C=()=>{g(()=>[{...gs}])};return Array.isArray(u)?F("div",{className:Pe($s),children:[(u==null?void 0:u.length)>0&&(u==null?void 0:u.map((k,T)=>f(EM,{dataSourceId:t,id:k.id,keyVal:k,labelOpts:n,labelAdd:w,labelRemove:S,onChange:m,currentState:u,labelValuesLength:u.length||0},T))),kN(r,C,(u==null?void 0:u.length)||0)]}):null},CN=e=>{const{dataSourceId:t,setFinalQuery:n,labelsString:r,labelValueString:i,addBinary:s,setBuilders:o,index:l}=e,{labelSeries:c}=_M(t,r),[h,u]=b.useState(e.operations||[]);b.useEffect(()=>{if(i!==""){let S=SN(i,h);n(S)}},[h,i]);const g=b.useCallback((S,w,m)=>{if(w==="Binary Operation With Query"){s(l);return}const C=gI(w,m,c,h);u(k=>mI(m,C,k))},[h,c,r]);return b.useEffect(()=>{o(S=>{const w=[...S];return w.map(m=>w.indexOf(m)===l?{...m,operations:[...h]}:m)})},[h]),F("div",{className:Pe($s),children:[f(pM,{menuClick:g}),f(xM,{...e,setOperations:u,operations:h})]})},kN=(e,t,n)=>n<1?f(rp,{mainTheme:e,resetLabelsState:t}):null;function EN(e){var n;let t={};if(((n=e==null?void 0:e.headers)==null?void 0:n.length)>0)for(let r of e.headers){const i={[String(r.header)]:r.value};t={...t,...i}}return t}function _N(e){var o,l,c;let t=EN(e);const n={method:"GET"},r=(o=e==null?void 0:e.auth)==null?void 0:o.basicAuth.value;let i={},s={};if(r){const h=(c=(l=e==null?void 0:e.auth)==null?void 0:l.fields)==null?void 0:c.basicAuth;for(let u of h)u.name==="user"&&(s.username=u.value),u.name==="password"&&(s.password=u.value);i.auth=s}return i.options=n,i.headers={...t,"Content-Type":"application/json"},i}function sp(e){const t=Re(c=>c.dataSources),n=Re(c=>c.start),r=Re(c=>c.stop),i=b.useMemo(()=>({start:nn(n).unix(),end:nn(r).unix()}),[n,r]),[s,o]=b.useState([]),l=b.useMemo(()=>t.find(c=>c.id===e),[t,e]);return b.useEffect(()=>{if(l.type==="metrics"&&(l!=null&&l.url)&&(l==null?void 0:l.url)!==""){const c=_N(l),h=`${l.url}/api/v1/label/__name__/values?start=${i.start}&end=${i.end}`;(async()=>{var g;try{const S=await Sn.get(h,c);(S==null?void 0:S.status)===200&&o(((g=S==null?void 0:S.data)==null?void 0:g.data)||[])}catch(S){console.log("Error at loading Span Names",S)}})()}},[]),b.useMemo(()=>(s==null?void 0:s.length)>0?s.map(c=>({label:c,value:c})):[{label:"",value:""}],[s])}function IN(e,t){const n=Re(u=>u.dataSources),r=Re(u=>u.start),i=Re(u=>u.stop),s=b.useMemo(()=>({start:nn(r).unix(),end:nn(i).unix()}),[r,i]),[o,l]=b.useState([]),c=b.useMemo(()=>n.find(u=>u.id===e),[n,e]),h=b.useMemo(()=>{const u=encodeURIComponent(`{__name__="${t}"}`),S=`match${encodeURIComponent("[]")}`;if(t)return`${S}=${u}`},[t]);return b.useEffect(()=>{if(c.type==="metrics"&&(c!=null&&c.url)&&(c==null?void 0:c.url)!==""&&t&&t!==""){const u=iI(c),g=`${c.url}/api/v1/series?start=${s.start}&end=${s.end}&${h}`;(async()=>{var w;try{const m=await Sn.get(g,u);(m==null?void 0:m.status)===200&&l(((w=m==null?void 0:m.data)==null?void 0:w.data)||[])}catch(m){console.log("Error at loading Span Names",m)}})()}},[c,s.end,s.start,h]),b.useMemo(()=>{if((o==null?void 0:o.length)>0){const u=[...o];let g={};return u.forEach(S=>{Object.keys(S).forEach(m=>{var C;(C=g[m])!=null&&C.some(k=>k===S[m])||(g[m]=[...g[m]||[],S[m]])})}),g}return{}},[o])}const RN=e=>{const{keyVal:t,labelOpts:n,valuesOpts:r,labelAdd:i,labelRemove:s,onChange:o,labelValuesLength:l,id:c,metric:h}=e,u=b.useRef(null),g=b.useRef(null),S=b.useRef(null),w=Be(),[m,C]=b.useState(t),[k,T]=b.useState(n[0]||{label:"Select Option",value:""}),y=$h(r,k),[N,M]=b.useState({label:"=",value:"equals"}),L=D=>{const{value:$,id:z}=D;T(()=>({value:$==null?void 0:$.value,label:$==null?void 0:$.value}));const K={...JSON.parse(JSON.stringify(m)),metric:h,label:$==null?void 0:$.label,value:$.value,id:z};o(K),C(se=>({...se,label:$==null?void 0:$.value,metric:h}))},P=D=>{const{value:$,id:z}=D;let V=[],K=$!==null?$:{label:"",value:"",metric:h};I&&Array.isArray(K)?V=K==null?void 0:K.map(te=>te.value):V=[K.value];const ue={...JSON.parse(JSON.stringify(m)),values:V,id:z};o(ue),C(te=>({...te,values:V}))},p=D=>{const{value:$,id:z}=D,K={...JSON.parse(JSON.stringify(m)),operator:$==null?void 0:$.value,id:z};o(K),M(()=>({...$})),C(se=>({...se,operator:$==null?void 0:$.value}))},_=()=>{u!=null&&u.current&&(g!=null&&g.current)&&(S!=null&&S.current)&&s(t.id)},I=b.useMemo(()=>N.value==="regexequals"||N.value==="regexexclude",[N.value]);return l>0?F("div",{id:c,className:Pe(Dh),children:[f(gr,{ref:u,type:"label",isMulti:!1,defaultValue:Xe(t.label),selectOpts:n,mainTheme:w,onChange:L,keyVal:t,objId:c,minWidth:100,labelsLength:l}),f(gr,{ref:g,type:"operator",isMulti:!1,defaultValue:Xe(t.operator),selectOpts:Rh,keyVal:t,mainTheme:w,onChange:p,objId:c,minWidth:60,labelsLength:l}),F("div",{className:Pe(Ah),children:[f(gr,{ref:S,type:"value",isMulti:I,defaultValue:Xe(t.values),selectOpts:y,keyVal:t,mainTheme:w,onChange:P,objId:c,minWidth:250,labelsLength:l}),f(Rl,{className:Pe(vs(w)),style:{height:"14px",width:"14px"},onClick:_}),f(Di,{className:Pe(vs(w)),style:{height:"14px",width:"14px"},onClick:i})]})]}):null};function MN(e){const{dataSourceId:t,value:n,metricValueChange:r,onChange:i,setBuilders:s,index:o,setFinalQuery:l,labelValueString:c,setLabelValueString:h}=e,u=IN(t,n),[g,S]=b.useState(e.labelValuesState||[{...gs,metric:n}]),w=Be(),m=LI(u),C=M=>{S(L=>{const P=JSON.parse(JSON.stringify(L))||[];return P==null?void 0:P.filter(_=>_.id!==M)}),h(L=>{let P=[];(L==null?void 0:L.length)>1&&(P=JSON.parse(L||JSON.stringify("[]")));const p=P==null?void 0:P.filter(_=>_.id!==M);return JSON.stringify(p)})},k=()=>{S(M=>[...M,{...Mh,metric:n,id:Gn()}])},T=M=>{const L=g==null?void 0:g.some(_=>_.id===M.id);(g==null?void 0:g.length)===1&&!L&&(S(()=>[M]),h(()=>JSON.stringify([M])));const P=[...g],p=P==null?void 0:P.map(_=>_.id===M.id?{...M}:_);L&&(S(()=>[...p]),h(()=>JSON.stringify(p))),i(M)},y=()=>{S(M=>[{...gs,metric:n}])};b.useEffect(()=>{const M=c||JSON.stringify(""),L=rI(n,JSON.parse(M));r(L),l(L)},[c,n]),b.useEffect(()=>{s(M=>{const L=[...M];return L.map(P=>L.indexOf(P)===o?{...P,labelValuesState:[...g]}:P)})},[g]);const N=()=>(g==null?void 0:g.length)<1?f(rp,{mainTheme:w,resetLabelsState:y}):null;return f(vt,{theme:w,children:F("div",{className:Pe($s),children:[(g==null?void 0:g.length)>0&&(g==null?void 0:g.map((M,L)=>f(RN,{id:M.id,idx:L,metric:n,keyVal:M,labelOpts:m,valuesOpts:u,labelAdd:k,labelRemove:C,onChange:T,currentState:g,useValueSelectOpts:$h,labelValuesLength:(g==null?void 0:g.length)||0},L))),N()]})})}const ap=e=>{const t=Be(),{builders:n,setBuilders:r,dataSourceId:i,logsResponse:s}=e;return f("div",{className:Pe(zs),children:n==null?void 0:n.map((o,l)=>Li(ON,{...e,builder:o,dataSourceId:i,logsResponse:s,key:l,idx:l,theme:t,setBuilders:r}))})},NN=e=>{const{onBinaryClose:t,theme:n,onBinaryOptChange:r,binaryValue:i}=e,[s,o]=b.useState(i.vectValue||""),l=b.useCallback((u,g)=>{o(u.target.value),r(u,g)},[s]),c=b.useMemo(()=>Object.entries(as).map(([u,g])=>({value:u,name:g})),[as]),h=b.useMemo(()=>Object.entries(nI).map(([u,g])=>({value:u,name:g})),[as]);return f("div",{children:f("div",{className:Pe(Bt(n)),children:F("div",{className:"binary-operation-bar",children:[F("div",{className:"binary-operation-cont",children:[f("label",{children:"Operator"})," ",f(zu,{initial:i.binaryOpt||"divide",onChange:u=>r(u,"binaryOpt"),opts:c}),f("label",{children:"Label Matches"}),f(zu,{initial:i.vectOpt||"on",onChange:u=>r(u,"vectOpt"),opts:h}),f("input",{value:Xe(s),onChange:u=>l(u,"vectValue")})]}),f("button",{onClick:t,children:" X"})]})})})},ON=e=>{const{builder:t,theme:n,idx:r,setBuilders:i,logsResponse:s,dataSourceId:o}=e,[l,c]=b.useState(ms(t.labelValuesState)||""),h=b.useMemo(()=>t!=null&&t.labelValuesState?`{${yl(t==null?void 0:t.labelValuesState)}}`||"{}":{},[t.labelValuesState]),u=sp(o),[g,S]=b.useState(u[0]||{label:"",value:""}),[w,m]=b.useState(t.builderResult||""),[C,k]=b.useState(JSON.stringify(t.labelValuesState)||"");b.useEffect(()=>{k(JSON.stringify(t.labelValuesState))},[t]);const T=b.useCallback(_=>{i(I=>[...I].map(($,z)=>z===r?{...$,builderResult:_}:$)),m(_)},[]),y=()=>{i(_=>[..._].filter((D,$)=>$!==r))},N=_=>{const{value:I}=_;S(()=>({value:I==null?void 0:I.value,label:I==null?void 0:I.value}))},M=()=>{},L=(_,I,D)=>_.isMetrics?D:I,P=_=>{console.log(_)},p=(_,I)=>{i(D=>[...D].map((z,V)=>V===r?{...z,binaryValue:{...z.binaryValue,[I]:_.target.value}}:z))};return F("div",{className:Pe(zs),children:[t.isBinary&&f(NN,{theme:n,binaryValue:Xe(t.binaryValue),onBinaryOptChange:p,onBinaryClose:y}),f("div",{className:Pe(SI),children:t.isMetrics===!0?F(mt,{children:[f(LN,{theme:n,onMetricChange:N,dataSourceId:o}),f(MN,{index:r,onChange:P,dataSourceId:o,value:Xe(g.value),setBuilders:i,finalQuery:w,builder:t,setFinalQuery:T,labelValueString:C,setLabelValueString:k,metricValueChange:M})]}):f(TN,{...t,dataSourceId:o,logsResponse:s,setLabelsString:c,finalQuery:w,setFinalQuery:T,labelValueString:C,setLabelValueString:k,setBuilders:i,index:r,theme:n})}),f(CN,{...e,...t,setBuilders:i,dataSourceId:o,labelsString:L(t,l,h),labelValueString:C,setFinalQuery:T,finalQuery:w,index:r})]},r)},LN=e=>{const{dataSourceId:t,theme:n,onMetricChange:r}=e,i=sp(t);return f(gr,{isMulti:!1,type:"metric",defaultValue:Xe("Select Metric..."),selectOpts:i,mainTheme:n,onChange:r,minWidth:250,labelValuesLength:0})},DN=e=>ie("padding:8px;display:flex;flex:1;gap:4px;flex-direction:column;border-bottom:1px solid ",e.accentNeutral,";background:",e.shadow,";label{font-size:11px;color:",e.contrast,";padding:4px 10px;}.action-buttons{display:flex;align-items:center;flex-direction:row;justify-content:flex-end;gap:2px;}@media (min-width: 420px){flex-direction:row;align-items:center;&.action-buttons{margin-top:0px;}}",""),AN=e=>ie("flex:1;background:",e.deep,";color:",e.contrast,";padding:3px 6px;font-size:12px;font-family:monospace;margin:0px 5px;border-radius:3px;line-height:1.5;line-break:anywhere;overflow-y:scroll;@media (max-width: 420px){margin:0px;}","");function PN({attributes:e,children:t,leaf:n,theme:r}){return f("span",{...e,className:ie("font-family:monospace;",n.comment&&ie({name:"117wnve",styles:"color:blue"})," ",(n.operator||n.url)&&ie("color:",r.lightContrast,";","")," ",n.keyword&&ie({name:"18visop",styles:"color:#57aed4"})," ",(n.variable||n.regex)&&ie({name:"177l7gg",styles:"color:#e90"})," ",(n.number||n.boolean||n.tag||n.constant||n.symbol||n["attr-name"]||n.selector)&&ie({name:"1w5fh66",styles:"color:#dd4a68"})," ",n.punctuation&&ie({name:"10ufnnq",styles:"color:orange"})," ",(n.string||n.char)&&ie({name:"v98kxt",styles:"color:green"})," ",(n.function||n["class-name"]||n["attr-name"])&&ie({name:"1w5fh66",styles:"color:#dd4a68"})," ",n["context-labels"]&&ie({name:"10ufnnq",styles:"color:orange"})," ",n["label-key"]&&ie({name:"v98kxt",styles:"color:green"}),";",""),children:t})}function op(e){var t;return typeof e=="string"?e==null?void 0:e.length:typeof(e==null?void 0:e.content)=="string"?e==null?void 0:e.content.length:(t=e==null?void 0:e.content)==null?void 0:t.reduce((n,r)=>n+op(r),0)}function lp(e){const t=Be(),{queryText:n,searchButton:r,logsRateButton:i,queryInput:s}=e,[o,l]=b.useState([{type:"paragraph",children:[{text:Xe(n)}]}]),[c]=b.useState("sql"),h=b.useCallback(([w,m])=>{const C=[];if(!Bd.isText(w)||(w==null?void 0:w.length)<1)return C;const k=ls.tokenize(w.text,ls.languages[c]);let T=0;for(const y of k){const N=op(y),M=T+N;typeof y!="string"&&C.push({[y.type]:!0,anchor:{path:m,offset:T},focus:{path:m,offset:M}}),T=M}return C},[c]),u=b.useCallback(w=>f(PN,{...w,theme:t}),[]);b.useEffect(()=>{l([{type:"paragraph",children:[{text:Xe(e.queryText)}]}]),S.children=[{text:Xe(e.queryText)}]},[e.queryText]);const g=b.useCallback(w=>{l(w)},[o]);b.useEffect(()=>{o!==s&&s!==""&&(l([{type:"paragraph",children:[{text:Xe(s)}]}]),S.children=[{text:Xe(s)}])},[s]);const S=b.useMemo(()=>jd(Hd(Ud())),[]);return F("div",{className:Pe(DN(t)),children:[f("label",{children:"Raw Query"}),f(qd,{editor:S,initialValue:o,onChange:g,children:f(Wd,{renderLeaf:u,decorate:h,className:Pe(AN(t)),readOnly:!0,placeholder:n})}),F("div",{className:"action-buttons",children:[i,r]})]})}function $N(e){const{dataSourceId:t,labelValueChange:n,searchButton:r,logsRateButton:i,queryInput:s}=e,o=Re(y=>y.dataSources),l=Re(y=>y.start),c=Re(y=>y.stop),{logsResponse:h}=Fh(t,l,c,o),[u,g]=b.useState(""),S=Vd(),[w,m]=b.useState([tI]),C=b.useCallback(y=>{m(N=>[...N,{...N[y],isBinary:!0}])},[w]);b.useEffect(()=>{n(u)},[u]),b.useEffect(()=>{m(y=>[...y].map(M=>({...M,logsResponse:h})))},[h]);const k=y=>{const{binaryValue:N}=y,{binaryOpt:M,vectOpt:L,vectValue:P}=N;let p="";return P!==""&&(p=`${L}(${P})`),` ${as[M]} ${p}`},T=y=>{let N="";return y.forEach(M=>{M.isBinary?N+=`${k(M)} ${M.builderResult}`:N+=M.builderResult}),N};return b.useEffect(()=>{g(T(w))},[w]),f(vt,{theme:S,children:F("div",{className:Pe(zs),children:[f(ap,{type:"metrics_search",addBinary:C,dataSourceId:t,logsResponse:h,setBuilders:m,builders:w,finalQuery:u}),f(lp,{queryText:u,searchButton:r,logsRateButton:i,queryInput:s})]})})}function zN(e){const{handleMetricValueChange:t,data:{dataSourceId:n,hasStats:r},searchButton:i,statsSwitch:s,logsRateButton:o}=e,l=u=>{t(u)},c=Be(),h=Re(u=>u.isSplit);return F(vt,{theme:c,children:[f("div",{className:Pe($s),children:f($N,{...e,dataSourceId:n,labelValueChange:l,searchButton:i,logsRateButton:o})}),r&&h&&f("div",{style:{display:"flex",margin:"10px 0px"},children:s})]})}const VN={operations:[],labelsState:[],binaryValue:{binaryOpt:"divide",vectOpt:"on",vectValue:""},builderResult:"",logsVolumeQuery:"",isBinary:!1},FN={minus:"-",plus:"+",by:"*",divide:"/",exp:"^",equals:"==",not_equals:"!=",modulo:"%",more:"<",less:">",less_equals:"<=",more_equals:">="};function jN(e){const{dataSourceId:t,labelValueChange:n,handleLogsVolumeChange:r,searchButton:i,queryInput:s}=e,o=Re(y=>y.dataSources),l=Re(y=>y.start),c=Re(y=>y.stop),{logsResponse:h}=Fh(t,l,c,o),[u,g]=b.useState(""),S=Vd(),[w,m]=b.useState([VN]),C=b.useCallback(y=>{m(N=>[...N,{...N[y],isBinary:!0}])},[w]);b.useEffect(()=>{w[0].logsVolumeQuery!==""&&r(w[0].logsVolumeQuery)},[w]),b.useEffect(()=>{n(u)},[u]),b.useEffect(()=>{m(y=>[...y].map(M=>({...M,logsResponse:h})))},[h]);const k=y=>{const{binaryValue:N}=y,{binaryOpt:M,vectOpt:L,vectValue:P}=N;let p="";return P!==""&&(p=`${L}(${P})`),` ${FN[M]} ${p}`},T=y=>{let N="";return y.forEach(M=>{M.isBinary?N+=`${k(M)} ${M.builderResult}`:N+=M.builderResult}),N};return b.useEffect(()=>{g(T(w))},[w]),f(vt,{theme:S,children:F("div",{className:Pe(zs),children:[f(ap,{type:"logs_search",addBinary:C,dataSourceId:t,logsResponse:h,setBuilders:m,builders:w,finalQuery:u}),f(lp,{queryText:u,searchButton:i,queryInput:s})]})})}function HN(e){const{handleLogValueChange:t,data:{dataSourceId:n,hasStats:r},searchButton:i,statsSwitch:s}=e,o=h=>{t(h)},l=Be(),c=Re(h=>h.isSplit);return F(vt,{theme:l,children:[f("div",{className:Pe(zS),children:f(jN,{...e,dataSourceId:n,labelValueChange:o,searchButton:i})}),r&&c&&f("div",{style:{display:"flex",margin:"10px 0px"},children:s})]})}function fn(e,t){return e==="left"?cn(t):Yt(t)}const BN=[{value:"range",label:"Range"},{value:"instant",label:"Instant"}],qN=[{value:"forward",label:"Forward"},{value:"backwards",label:"Backwards"}],WN=[{value:"traceId",label:"TraceId"},{value:"search",label:"Search"}],UN=ie({name:"qhxz92",styles:"max-width:100%"}),QN=e=>{const{data:t,name:n,width:r,launchQuery:i}=e,{queryType:s,limit:o,id:l,dataSourceType:c,direction:h,dataSourceId:u,splitted:g}=t,{data:{loading:S,hasStats:w,isShowStats:m,isBuilder:C,isLogsVolume:k,logsVolumeQuery:T}}=e,{getLocalQueryItem:y,getLocalDataSources:N,setLocalQueryData:M}=M_,{hash:L}=ei(),P=zt(),p=md(),_=gd().historyStore(),I=Be(),D=Re(B=>B.historyOpen),$=Re(B=>B.isEmbed),z=Re(B=>B.queryHistory),V=Re(B=>B.start),K=Re(B=>B.stop),se=Re(B=>B.isSplit),ue=Re(B=>B[n]),te=wn.useMediaQuery({query:"(max-width: 1070px)"}),[he,Y]=b.useState(t.expr),[Fe,$e]=b.useState(!1),[me,ke]=b.useState(S_(t.expr)),[Oe,re]=b.useState("traceId"),[Ce]=b.useState([]),[Ee,be]=b.useState({}),[pe,Te]=b.useState(m||!1),[Je,tt]=b.useState(!1),De=Re(B=>B.dataSources),Ye=Re(B=>B[n]),Ze=b.useMemo(()=>ig.find(B=>B.id===u),[u]),it=(B,Z)=>B==null?void 0:B.find(W=>W.id===u);b.useEffect(()=>{const{expr:B}=y(u,l),Z=N(u);Y(B),ke([{children:[{text:B}]}]),rt(B,k);const W=it(De);let q={};if(Z&&(Z==null?void 0:Z.url)!==Ze&&(Z==null?void 0:Z.url)!==""){q={...Z};const ne=[...Ye];ne.forEach(le=>{le.id===l&&(le.dataSourceId=q.id,le.dataSourceType=q.type,le.dataSourceURL=q.url)}),P(fn(n,ne));const de=[...De];de.forEach(le=>{le.id===u&&(le=q)}),P(us(de))}else W&&W.url!==""&&(q={...W});$&&P(An(c,he,s,o,n,l,h,u,q==null?void 0:q.url))},[]),b.useEffect(()=>{Y(t.expr),ke([{children:[{text:Xe(t.expr)}]}])},[t.expr]),b.useEffect(()=>{let B=me[0].children[0].text;Y(B)},[me]),b.useEffect(()=>{te&&se&&P(Qr(!1))},[te]),b.useEffect(()=>{let{expr:B}=y(u,l),Z=N(u);Y(B),ke([{children:[{text:Xe(B)}]}]),k&&T&&rt(B,k);const W=De==null?void 0:De.find(de=>de.id===u);let q={};if(Z&&(Z==null?void 0:Z.url)!==Ze&&(Z==null?void 0:Z.url)!==""){q={...Z};const de=[...Ye];de.forEach(ge=>{ge.id===l&&(ge.dataSourceId=q.id,ge.dataSourceType=q.type,ge.dataSourceURL=q.url)}),P(fn(n,de));const le=[...De];le.forEach(ge=>{ge.id===u&&(ge=q)}),P(us(le))}else W&&W.url!==""&&(q={...W});let{isMatrix:ne}=Nt(B);B!==""&&(B==null?void 0:B.length)>6&&P(An(c,B,s,o,n,l,h,u,q==null?void 0:q.url)),k&&(T!=null&&T.query)&&(T==null?void 0:T.query)!==""&&c==="logs"&&!ne&&P(An(c,T.query,s,o,n,l,h,u,q.url,T.customStep,!0))},[u,l]),b.useEffect(()=>{typeof he=="string"&&(Y(he),ke([{children:[{text:Xe(he)}]}]),Ie(),k&&rt(he,!0))},[he]),b.useEffect(()=>{typeof i=="string"&&i!==""&&(Y(i),ke([{children:[{text:Xe(i)}]}]),Ie(),k&&rt(i,!0))},[i]),b.useEffect(()=>{rt(he,k)},[he]);function rt(B,Z){if(Z&&B!==""){let W=B.match(/[^{\}]+(?=})/g);if(Array.isArray(W)&&(W==null?void 0:W.length)>0){let ne=`sum by(level) (count_over_time(${`{${W==null?void 0:W.join(",")}}`}[$__interval]))`;Qe(ne)}}}function Ke(B){ke(B),Ie(B)}const Et=B=>{B.code==="Enter"&&B.ctrlKey&&at(B)},Rt=B=>{const Z=[{children:[{text:Xe(B)}]}];Ke(Z)},_e=B=>{const Z=[{children:[{text:Xe(B)}]}];Ke(Z)},je=(B,Z,W,q)=>{let ne="",de=0;if(B.includes("$__interval")){const ge=(q.getTime()-W.getTime())/1e3/30,ze=Number((Z/window.innerWidth).toFixed(1)),Se=ge/ze,Le=Math.round(Se*Number(window.devicePixelRatio.toFixed(2)));ne=B.replace(/\[\$__interval\]/,`[${Le}s]`),de=Le}else ne=B;return{query:ne,customStep:de}},Qe=B=>{const{query:Z,customStep:W}=je(B,r,V,K);ut({query:Z,customStep:W})},at=B=>{B.preventDefault();const Z=De.find(W=>W.id===u);if(Oa(he)&&Z)try{jt(Z.type,he,s,o,l,h,Z.id,Z.url),k&&!T&&rt(he,k),Mt(he,!0),At(),M(he,l,u)}catch(W){console.error(W)}else P(mr(!0)),console.log("Please make a log query",he)},Ie=(B=[])=>{if((B==null?void 0:B.length)>0){const Z=new URLSearchParams(L.replace(/#/,"")),W=B==null?void 0:B.map(ne=>ne.children[0].text).join(`
`),q=[...ue];q.forEach(ne=>{ne.id===l&&W&&(ne.expr=W)}),P(fn(n,q)),Z.set(n,JSON.stringify(q)),M(he,l,u)}},ut=B=>{const Z=[...ue];Z.forEach(W=>{W.id===l&&B&&B.query!==""&&(W.logsVolumeQuery={query:B.query,customStep:B.customStep})}),P(fn(n,Z))};function Dt(B){const Z=B.length===0;let W="";if(!Z){const q=B.startsWith("rate(");c==="metrics"?q?(W=B.replace(/{([^}]+)}/g,"{}"),W=W.replace(/\[\d+ms\]/,"[$__interval]")):W=`rate(${B.replace(/{([^}]+)}/g,"{}")}[$__interval])`:q?W=B.replace(/\[\d+ms\]/,"[$__interval]"):W=`rate(${B}[$__interval])`}return W}const qt=B=>{B.preventDefault();const Z=he.length===0;let W="";Z||(W=Dt(he),Y(W),ke([{children:[{text:Xe(W)}]}]),$e(Oa(W))),Oa(W)&&Gt(W)};function Gt(B){const Z=De.find(W=>W.id===u);try{jt(Z.type,B,s,o,l,h,Z.id,Z.url),At()}catch(W){console.error(W)}}const jt=(B,Z,W,q,ne,de,le,ge)=>{const ze=_.add({data:JSON.stringify({type:B,queryInput:Z,queryType:W,limit:q,direction:de,dataSourceId:le,url:ge,panel:n,id:ne}),url:window.location.hash},10);P(ns(ze))},Mt=(B,Z)=>{const W=De.find(ge=>ge.id===u),q=[...ue];c==="logs"&&q.forEach(ge=>{ge.id===l&&(ge.browserOpen=!1)}),P(fn(n,q));let{querySubmit:ne,customStep:de,isMatrix:le}=Nt(B);Z&&ne!==""&&(ne==null?void 0:ne.length)>6&&P(An(c,ne,s,o,n,l,h,u,W.url,de,k&&!le)),k&&(T!=null&&T.query)&&(T==null?void 0:T.query)!==""&&!le&&P(An(c,T.query,s,o,n,l,h,u,W.url,T.customStep,!0))};function Nt(B){let Z="",W=0,q=!1;if(B.match(/\((.*?)\)/)!==null&&(q=!0),B.includes("$__interval")){q=!0;const le=(K.getTime()-V.getTime())/1e3/30,ge=Number((r/window.innerWidth).toFixed(1)),ze=le/ge,Se=Math.round(ze*Number(window.devicePixelRatio.toFixed(2)));Z=B.replace(/\[\$__interval\]/,`[${Se}s]`),W=Se}else Z=B;return{customStep:W,querySubmit:Z,isMatrix:q}}const At=()=>{const B=De.find(W=>W.id===u),Z=p.add({data:{href:window.location.href,url:B.url,type:c,queryInput:he,queryType:s,limit:o,panel:n,id:l},description:"From Query Submit"},10);P(ts(Z))};function kt(){P(Gd(!D))}function Wt(){tt(!Je)}function Cn(){Wt()}function In(B){be(()=>B)}function gn(B){const Z=B.target.checked;Te(()=>Z);const W=JSON.parse(JSON.stringify(Ye)),q=W==null?void 0:W.map(ne=>ne.id===l?{...ne,isShowStats:Z}:ne);P(fn(n,q))}const A=B=>{re(()=>B)},U=(B,Z,W,q)=>!W&&!Z&&(B==="metrics"||B==="logs")?q:null,j=(B,Z,W,q)=>B||Z||W!=="flux"||W!=="traces"?q:null;if($)return null;const J=(B,Z,W,q,ne,de)=>B==="traces"?F(mt,{children:[f("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingRight:"15px",marginBottom:"4px"},children:f(OI,{value:"traceId",onChange:A})}),Oe==="traceId"&&W,Oe==="search"&&Z]}):B==="metrics"?F(mt,{children:[q,W]}):B==="logs"?F(mt,{children:[C&&ne,W]}):W;return $?null:f("div",{className:Pe(UN),id:l,children:F(vt,{theme:I,children:[c!=="metrics"&&c!=="traces"&&(te||se)&&f(U_,{...e,isSplit:g,dataSourceType:c,onShowQuerySettings:Wt,queryHistory:z,handleHistoryClick:kt,isTabletOrMobile:te,queryValid:Fe,onSubmit:at,onSubmitRate:qt,labels:Ce,loading:S||!1,hasStats:w,showStatsOpen:pe,handleStatsOpen:gn}),J(c,f(RI,{...e,onSearchChange:In}),f(Y_,{...e,isSplit:g,isBuilder:C,dataSourceType:c,handleQueryChange:Ke,expr:he,queryValue:me,handleInputKeyDown:Et,queryHistory:z,handleHistoryClick:kt,queryValid:Fe,onSubmit:at,onSubmitRate:qt,isTabletOrMobile:te,labels:Ce,loading:S||!1}),f(zN,{...e,queryInput:he,searchButton:f(Xr,{disabled:!Fe,loading:S||!1,onClick:at,isMobile:!1,alterText:"Use Query"}),logsRateButton:f(ps,{disabled:!Fe,onClick:qt,isMobile:!1,alterText:"Use as Rate Query"}),statsSwitch:F("div",{className:"options-input",children:[f(pr,{children:"Show Stats"}),f(xn,{checked:pe,size:"small",onChange:gn,inputProps:{"aria-label":"controlled"}})]}),handleMetricValueChange:Rt}),f(HN,{...e,queryInput:he,isBuilder:C,searchButton:f(Xr,{disabled:!Fe,loading:S||!1,onClick:at,isMobile:!1,alterText:"Use Query"}),logsRateButton:f(ps,{disabled:!Fe,onClick:qt,isMobile:!1,alterText:"Use as Rate Query"}),statsSwitch:F("div",{className:"options-input",children:[f(pr,{children:"Show Stats"}),f(xn,{checked:pe,size:"small",onChange:gn,inputProps:{"aria-label":"controlled"}})]}),handleLogValueChange:_e,handleLogsVolumeChange:Qe})),!se&&U(c,g,te,f(H_,{...e})),j(te,g,c,f(B_,{...e,open:Je,handleClose:Cn,actPanel:ue,name:n}))]})})},GN=e=>f(ve("div",{target:"eieb7p90"})("color:",({theme:n})=>n.contrast,";padding:10px;"),{children:"No labels available, please adjust API"});function KN(e){const{label:t,type:n}=e,[r,i]=b.useState(e.selected);b.useEffect(()=>{i(e.selected)},[e.selected]);const s=b.useMemo(()=>r?{borderColor:"#11abab",color:"#11abab"}:{},[r]);return f("small",{className:n,style:s,onClick:o=>e.onClick(t),children:t})}function JN(e){const{labels:t,data:n}=e,{dataSourceType:r}=n,i=o=>{o==="Select Metric"?e.onLabelSelected("__name__"):e.onLabelSelected(o)},s=b.useMemo(()=>r!=="metrics"?t:t==null?void 0:t.filter(o=>o.name!=="__name__"),[r,t]);return F("div",{className:"valuelist-content",children:[s&&f(mt,{children:s.map((o,l)=>f(KN,{label:o.name,selected:o.selected,onClick:i},l))}),!s&&f(GN,{...e})]})}function Ju(e){return e.getTime()+"000000"}const YN=(e,t,n,r,i)=>({metrics:`${e}/api/v1/label/${n}/values`,logs:`${e}/loki/api/v1/label/${n}/values?start=${r}&end=${i}`})[t];function XN(e,t,n,r){var L,P,p;const i=Re(_=>_.dataSources),s=b.useMemo(()=>i.find(_=>_.id===e),[i,e]),o=(L=s==null?void 0:s.auth)==null?void 0:L.basicAuth.value;let l={},c={};if(o){const _=(p=(P=s==null?void 0:s.auth)==null?void 0:P.fields)==null?void 0:p.basicAuth;for(let I of _)I.name==="user"&&(l.username=I.value),I.name==="password"&&(l.password=I.value);c.auth=l}const h=Ju(n),u=Ju(r),g=new AbortController,[S,w]=b.useState();b.useEffect(()=>{w(YN(s.url,s.type,t,h,u))},[t,w,s]);const m=wl(s),[C]=b.useState({...m,"Content-Type":"application/json"}),k=b.useMemo(()=>({signal:g.signal,method:"GET"}),[]);c.options=k,c.headers=C;const[T,y]=b.useState([]),[N,M]=b.useState(!1);return b.useEffect(()=>{s.type!=="flux"&&t!==""&&(async()=>{if(M(!0),S&&S!=="")try{const I=await Sn.get(S,c);y(I||[])}catch(I){console.log(I)}M(!1)})()},[s,S,t]),{response:T,controller:k.signal,loading:N}}const ZN=ve("div",{target:"e138p68f2"})({name:"1qjnm4o",styles:"display:flex;align-items:center;justify-content:center;flex:1;width:100%;height:100%"}),eO=ve(gv,{target:"e138p68f1"})({name:"ue7o5o",styles:"width:30px;height:30px"}),tO=ve("input",{target:"e138p68f0"})("background:",({theme:e})=>e.deep,";color:",({theme:e})=>e.contrast,";font-size:10px;border:1px solid ",({theme:e})=>e.accentNeutral,";border-radius:3px;outline:none;");function Yu(e,t){return e==="left"?cn(t):Yt(t)}const nO={borderColor:"#11abab",color:"#11abab"},rO=e=>{let{value:t,data:n,onValueClick:r}=e;const i=b.useMemo(()=>t.selected,[t.selected]),[s,o]=b.useState(i),l=b.useMemo(()=>s||(n==null?void 0:n.metric)===t.name?nO:{},[s,t.selected,n.metric,t.name]);return b.useEffect(()=>{o(t.selected)},[t.selected]),f("small",{className:"label-value",style:l,onClick:()=>{let h=!1;o(g=>(h=!g,!g));const u={...t,selected:h};r(u)},children:t.name})},Xu=e=>{const t=zt(),{name:n,data:r,labelsSelected:i,label:s,queries:o}=e,{dataSourceId:l,start:c,stop:h,labels:u}=r,[g,S]=b.useState(""),{response:w,loading:m}=XN(l,s,new Date(c),new Date(h)),C=z=>{const V=JSON.stringify(z);return JSON.parse(V)},[k,T]=b.useState([]);b.useEffect(()=>{var K;const z=(K=r==null?void 0:r.labels)==null?void 0:K.find(se=>se.name===se),V=z==null?void 0:z.values;typeof V<"u"&&T(V)},[o]);const y=b.useMemo(()=>{var V,K;if(((K=(V=e==null?void 0:e.data)==null?void 0:V.labels)==null?void 0:K.length)<1)return[];const z=e.data.labels.find(se=>se.name===s);return z?z==null?void 0:z.values:[]},[e.data.labels]),N=b.useMemo(()=>{var z,V,K,se,ue;if(((V=(z=w==null?void 0:w.data)==null?void 0:z.data)==null?void 0:V.length)>0){const te=(K=r==null?void 0:r.labels)==null?void 0:K.find(Fe=>Fe.name===s),he=te==null?void 0:te.values,Y=new Map;return he==null||he.forEach(Fe=>{Y.set(Fe.name,{...Fe,label:s})}),(ue=(se=w==null?void 0:w.data)==null?void 0:se.data)==null?void 0:ue.map(Fe=>{var $e,me;return{label:s,name:Fe,selected:(($e=Y.get(Fe))==null?void 0:$e.selected)||!1,inverted:!1,type:"value",id:((me=Y.get(Fe))==null?void 0:me.id)||Gn()}})}else return[]},[w]),[M,L]=b.useState(N),[P,p]=b.useState(M);b.useEffect(()=>{L(N)},[N,L]),b.useEffect(()=>{p(M)},[M,p]),b.useEffect(()=>{if(N&&y){let z=C(N),V=[];z.forEach(K=>{if(y.some(se=>se.name===K.name)){const se=y.find(ue=>ue.name===K.name);V.push({...se})}else V.push(K)}),L(V)}},[y,N,L]);const _=z=>{const V=Pf(r.expr||"",z||s,null,"=","value"),K=[...o];K.forEach(se=>{se.id===e.data.id&&(se.expr=V)}),t(Yu(n,K))},I=(z,V)=>{if(V.some(K=>K.name===z.name))return V.filter(se=>se.name!==z.name);if(!V.some(K=>K.name===z.name))return[...V,{...z}]},D=z=>{let V=[];k.length>0&&(V=I(z,k),z.type==="metrics"&&L(te=>{const he=te.some(Fe=>Fe.id===z.id);let Y=[...te];if(he)return Y==null?void 0:Y.map(Fe=>Fe.id===z.id?{...Fe,selected:!1}:{...Fe,selected:!0})})),V=[...V,{...z}];let K=[];if((u==null?void 0:u.length)<1)K=[{name:s,selected:i.includes(s)&&V.length>0,values:[...V]}];else if(u.some(te=>te.name===s))for(let te of u)te.name===s&&(te={name:s,selected:i.includes(s)&&V.length>0,values:[...V]}),K.push(te);else K=[...u,{name:s,selected:i.includes(s)&&V.length>0,values:[...V]}];const se=i==null?void 0:i.map(te=>K.some(he=>he.name===te)?K.find(he=>he.name===te):{name:te,selected:!0,values:[]}),ue=[...o];ue.forEach(te=>{te.id===e.data.id&&(te.labels=se)}),t(Yu(n,ue)),T(V)},$=b.useCallback(z=>{const V=z.target.value;S(K=>V),p(z!==""?()=>M.filter(K=>K.name.toLowerCase().includes(V.toLowerCase())):()=>M)},[g]);return F("div",{className:"values-column",children:[f("div",{className:"values-column-title",children:f(iO,{resp:N,label:s,onClear:_,filterState:g,onFilterChange:$})}),F("div",{className:"valuelist-content column",children:[m&&f(ZN,{children:f(eO,{})}),(M==null?void 0:M.length)>0&&(P==null?void 0:P.map((z,V)=>Li(rO,{...e,key:V,value:z,actPanel:o,onValueClick:D})))]})]})},iO=({resp:e,label:t,onClear:n,filterState:r,onFilterChange:i})=>F(mt,{children:[F("span",{children:[f("span",{className:"key",children:t})," | ",e==null?void 0:e.length]}),f("span",{children:f(tO,{placeholder:"Search For Values...",value:r,onChange:i})}),f("span",{className:"close-column",onClick:s=>n(t),children:"clear"})]});function sO(e,t){return e==="left"?cn(t):Yt(t)}function aO(e){const{data:t,name:n}=e,{dataSourceType:r}=t,i=zt(),s=Re(g=>g[n]),[o,l]=b.useState(e.labelsSelected),c=b.useMemo(()=>r==="metrics"?o.filter(g=>g.name!=="__name__"):o,[o,r]),h=b.useMemo(()=>r==="metrics"?o.filter(g=>g.name==="__name__"):null,[o,r]),u=()=>{const g=ew(t.labels,t.expr),S=[...s];S.forEach(w=>{w.id===e.data.id&&(w.expr=g,w.labels=t.labels)}),i(sO(n,S))};return b.useEffect(()=>{l(e.labelsSelected)},[e.labelsSelected,l]),F("div",{className:"values-container",children:[F("div",{className:"values-container-column",children:[h!==null&&o.length>0&&f(Xu,{...e,label:"__name__",type:"metrics"}),o&&(c==null?void 0:c.map((g,S)=>Li(Xu,{...e,label:g,key:S,type:"logs"})))]}),f("div",{style:{margin:"3px",marginBottom:"6px"},children:f(Xr,{onClick:u,isMobile:!1,alterText:"Use Query",loading:!1})})]})}function oO(e){return e.getTime()+"000000"}function lO(e){return Math.round(e.getTime()/1e3)}const Zu=(e,t,n,r)=>t==="metrics"?`${e}/api/v1/labels`:`${e}/loki/api/v1/label?start=${n}&end=${r}`,ed=(e,t)=>({metrics:lO(e),logs:oO(e)})[t];function cO(e,t="",n,r){const i=zt(),s=n||new Date(Date.now()+3e4),o=r||new Date(Date.now()),l=Re(N=>N.dataSources),c=b.useMemo(()=>{const N=l.find(M=>M.id===e);return t!==""&&(N.url=t),N},[e,l]),[h,u]=b.useState(c.type||"");b.useEffect(()=>{u(c.type)},[c,u]);let g,S;g=ed(new Date(s),h),S=ed(new Date(o),h);const[w,m]=b.useState(Zu(c.url,h,g,S));b.useEffect(()=>{m(Zu(c.url,h,g,S))},[m,h,c]);const[C,k]=b.useState([]),[T,y]=b.useState(!1);return b.useEffect(()=>{var N,M,L;if(c.type!=="flux"&&c.url&&c.url!==""){const P=Ps(c),p={method:"GET"},_=(N=c==null?void 0:c.auth)==null?void 0:N.basicAuth.value;let I={},D={};if(_){const z=(L=(M=c==null?void 0:c.auth)==null?void 0:M.fields)==null?void 0:L.basicAuth;for(let V of z)V.name==="user"&&(D.username=V.value),V.name==="password"&&(D.password=V.value);I.auth=D}I.options=p,I.headers={...P,"Content-Type":"application/json"},(async()=>{y(!0);try{const z=await Sn.get(w,I).then(V=>V).catch(V=>{let K="";V.response?K="Error "+V.response.status+"at Labels ":V.request?K=V.request:K=V.message,console.log("error requesting labels"),console.log(V),i(jn({type:tr.error,message:K}))});k(z||[])}catch(z){console.log("Error fetching labels"),console.log(z)}y(!1)})()}},[w,c]),{response:C,loading:T}}const uO=ve("div",{target:"e1ioomy10"})("background:",({theme:e})=>e.shadow,";.valuesList{transition:0.02s all;display:flex;flex-wrap:wrap;flex:1;flex-direction:column;font-size:12px;border-radius:4px;transition:0.02s all;.valuelist-title{display:flex;flex-direction:column;flex:1;justify-content:space-between;font-size:1em;flex:1;margin:5px;}.valuelist-content{display:flex;font-size:14px;align-items:center;flex-wrap:wrap;max-height:500px;overflow:auto;.metric-label{background:gray;}}.valuelist-filter{display:flex;flex:1;flex-direction:column;.valuelist-filter-title{font-size:0.75em;}input{color:white;background:$black-quoise;padding:6px 3px;border-radius:4px;flex:1;margin:0px 3px;outline:none;border:none;}}&::-webkit-scrollbar{width:10px;}&::-webkit-scrollbar-corner{background:transparent;}&::-webkit-scrollbar-thumb{border-radius:10px;background:$grey-light;}}.valuelist-content{small{color:",({theme:e})=>e.contrast,";background:",({theme:e})=>e.neutral,";border:1px solid ",({theme:e})=>e.accentNeutral,";margin:2px;padding:2px 7px;border-radius:3px;line-height:1.5;font-size:12px;cursor:pointer;align-items:center;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;max-width:40ch;transition:.5s all;&:hover{background:",({theme:e})=>e.lightNeutral,";}&.metric{color:",({theme:e})=>e.maxContrast,";background:",({theme:e})=>e.primary,";}}}.values-container{.values-container-column{display:flex;flex-wrap:wrap;max-width:100%;.values-column{margin:5px;border-radius:3px;height:fit-content;min-width:278px;max-width:278px;flex:1;background:",({theme:e})=>e.lightNeutral,";.column{border:1px solid ",({theme:e})=>e.accentNeutral,";background:",({theme:e})=>e.shadow,";border-top:none;max-height:350px;&::-webkit-scrollbar{width:10px;color:#58585898;background:#ffffff1f;}&::-webkit-scrollbar-corner{background:transparent;}&::-webkit-scrollbar-thumb{border-radius:10px;background:$grey-light;}}.values-column-title{padding:4px;font-size:1em;border-radius:4px 4px 0px 0px;display:flex;flex:1;transition:0.02s all;justify-content:space-between;color:",({theme:e})=>e.contrast,";background:",({theme:e})=>e.shadow,";border:1px solid ",({theme:e})=>e.accentNeutral,";.close-column{align-self:flex-end;justify-self:end;cursor:pointer;padding:2px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:10px;&:hover{background:$dark-quoise-hover;color:black;}}}}}}"),dO=(e,t)=>e==="left"?cn(t):Yt(t);function fO(e){const{data:t,name:n,queries:r}=e,i=zt(),{dataSourceId:s,labels:o,start:l,stop:c,id:h}=t,{updateLabelSelected:u}=k_,[g,S]=b.useState([]),[w,m]=b.useState([]),C=Be(),{response:k,loading:T}=cO(s,"",l,c),y=b.useMemo(()=>(o==null?void 0:o.length)>0?o.map(({name:I,selected:D})=>({name:I,selected:D})):[],[o]);b.useEffect(()=>{var I,D;(I=k==null?void 0:k.data)!=null&&I.data&&S((D=k==null?void 0:k.data)==null?void 0:D.data)},[k,S]);const N=b.useMemo(()=>{if((g==null?void 0:g.length)>0)return g==null?void 0:g.map(I=>({name:I,selected:!1}))},[g]);b.useEffect(()=>{N&&L(N)},[N]);const[M,L]=b.useState(N);b.useEffect(()=>{if(N&&y){const D=JSON.parse(JSON.stringify(N)).map(z=>{const V=y.find(K=>K.name===z.name);return V?{...V}:z}),$=D.filter(z=>z.selected).map(z=>z.name);m($),L(D)}},[y,N,L]);const P=(I,D)=>{let $=[];for(let z of I)z.name===D?$.push({...z,selected:!z.selected}):$.push(z);return $},p=(I,D,$)=>{const z=[...D],V=D==null?void 0:D.filter(K=>{const se=I==null?void 0:I.find(ue=>ue.name===K.name);return se==null?void 0:se.selected});if((z==null?void 0:z.length)>0&&(D!=null&&D.some(K=>K.name===$))){const K=[...r],se=K==null?void 0:K.map(ue=>ue.id===h?{...ue,labels:V}:ue);i(dO(n,se))}},_=b.useCallback(I=>{let D=P(M,I),$=u(w,I);p(D,o,I),L(D),m($)},[M,w,o]);return t?f(vt,{theme:C,children:f(uO,{children:F("div",{className:"valuesList",children:[f("div",{className:"valuelist-title",children:!T&&f(JN,{...e,labels:M,onLabelSelected:_})}),f(aO,{...e,labelsSelected:w})]})})}):null}const hO=e=>{const t=Be(),{browserOpen:n}=e.data,[r,i]=b.useState(n);return b.useEffect(()=>{i(n)},[n]),r&&f(vt,{theme:t,children:f(fO,{...e})})},td=e=>{const{data:{dataSourceType:t,isShowStats:n,isBuilder:r},launchQuery:i}=e,s=Re(h=>h.isEmbed),o=(h,u,g)=>!h&&u==="logs"&&!g&&f(hO,{...e}),l=(h,u)=>h&&u&&f(u_,{...e}),c=b.useMemo(()=>!r,[r]);return F("div",{style:{margin:"3px 0px"},children:[f(QN,{...e,launchQuery:i}),o(s,t,r),l(n,c)]})};var Ml={},pO=Ct;Object.defineProperty(Ml,"__esModule",{value:!0});var cp=Ml.default=void 0,gO=pO(Tt()),mO=qe,vO=(0,gO.default)((0,mO.jsx)("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Sync");cp=Ml.default=vO;var Nl={},bO=Ct;Object.defineProperty(Nl,"__esModule",{value:!0});var up=Nl.default=void 0,yO=bO(Tt()),xO=qe,SO=(0,yO.default)((0,xO.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRightOutlined");up=Nl.default=SO;const wO=ve("div",{target:"eovd24j5"})("background:",({theme:e})=>`${e.background}`,";color:",({theme:e})=>`${e.contrast}`,";display:flex;flex-direction:column;border-radius:3px;margin-bottom:3px;padding:5px;.query-title{display:flex;align-items:center;}.query-tools-cont{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;}.query-tools{display:flex;align-items:center;flex-wrap:wrap;justify-content:space-between;flex:1;gap:2px;margin-top:4px;}.query-id{font-size:13px;font-weight:bold;margin-left:5px;}.query-title-tabs{display:flex;align-items:center;}"),TO=ve("button",{target:"eovd24j4"})({name:"fpjtql",styles:"background:none;border:none;padding:0px 2px;cursor:pointer"}),CO=ve(Gr,{target:"eovd24j3"})("font-size:13px;color:",({theme:e})=>e.contrast,";"),kO=ve(up,{target:"eovd24j2"})("font-size:13px;color:",({theme:e})=>e.contrast,";"),nd=e=>ie("margin-left:20px;font-family:monospace;font-size:12px;text-overflow:ellipsis;overflow:hidden;max-width:100px;color:",e.contrast,";background:transparent;border:none;outline:none;","");function EO(e){const[t,n]=b.useState(!1),[r,i]=b.useState(e.idRef),s=Be();function o(h){h.preventDefault();const u=h.target.value;i(u)}function l(h){e.onIdRefUpdate(r),n(!1)}function c(h){h.key==="Enter"&&(e.onIdRefUpdate(r),n(!1))}return t===!0?f(mt,{children:f(Lt,{title:r,children:f("input",{className:Pe(nd(s)),value:Xe(r),placeholder:r,onChange:o,onKeyDown:c,onBlur:l})})}):F(mt,{children:[" ",f(Lt,{title:r,children:f("p",{className:Pe(nd(s)),onClick:h=>n(!0),children:r})})]})}const _O={height:"18px",width:"18px",marginRight:"3px"},IO={display:"flex",alignItems:"center"},dp={display:"flex",alignItems:"flex-end"},fp={height:"14px",width:"14px",marginRight:"3px"};function RO(e){const{defaultValue:t,options:n}=e,r=b.useMemo(()=>{const i=n==null?void 0:n.find(s=>(s==null?void 0:s.value)===t);return{icon:i==null?void 0:i.icon,label:i==null?void 0:i.label}},[t,n]);return F("div",{style:dp,children:[f(yo,{icon:r.icon,style:fp}),f("div",{children:r.label})]})}const MO=e=>{const{Option:t}=zd,{data:{label:n,icon:r}}=e;return f(t,{...e,children:F("div",{style:IO,children:[f(yo,{icon:r,style:_O}),f("span",{style:{fontSize:"14px"},children:n})]})})},NO=e=>{const{data:{icon:t,label:n}}=e;return F("div",{style:dp,children:[f(yo,{icon:t,style:fp}),f("div",{children:n})]})},OO=b.forwardRef((e,t)=>{const{options:n,onSelectChange:r}=e,i=Be();return f(bo,{styles:Sl(i,100),placeholder:f(RO,{...e}),options:n,ref:t,components:{Option:MO,SingleValue:NO},theme:s=>xl(s,i),onChange:r})}),LO=e=>{const{value:t,onChange:n,opts:r,extValue:i}=e,s=b.useRef(null);b.useEffect(()=>{(t==null?void 0:t.value)!==i&&i!==""&&(s.current.value=i)},[]),b.useEffect(()=>{(t==null?void 0:t.value)!==i&&i!==""&&(s!=null&&s.current)&&s.current.setValue(i)},[i]);const o=c=>{n({target:{value:c==null?void 0:c.value}})},l=b.useMemo(()=>r.map(c=>({value:c==null?void 0:c.value,label:c==null?void 0:c.name,icon:c==null?void 0:c.icon})),[r]);return r?f(OO,{ref:s,defaultValue:i,options:l,onSelectChange:o}):null},DO=ve("button",{target:"ecaoith1"})({name:"1cyd9nz",styles:"padding:3px 12px;font-size:12px;line-height:20px;cursor:pointer;user-select:none;border:none;border-radius:3px;font-weight:500;white-space:nowrap;display:flex;align-items:center"}),AO=ve(DO,{target:"ecaoith0"})("background:",e=>e.theme.neutral,";border:1px solid ",e=>e.theme.accentNeutral,";color:",({theme:e})=>e.contrast,";cursor:pointer;text-overflow:ellipsis;transition:0.2s all;height:26px;margin:0px 6px;span{margin-left:4px;color:",e=>e.theme.contrast,";}&:hover{background:",e=>e.theme.lightNeutral,";}");function PO([e,t],n,r,i){let s=[...r],o=s==null?void 0:s.map(l=>({...l,open:!1}));n==="left"&&t&&i(cn([...o])),n==="right"&&e&&i(Yt([...o]))}function $O([e,t],n){let r=[...e],i=[...t];const s=c=>c==null?void 0:c.map(h=>({...h,open:!0})),o=s(r),l=s(i);n(cn(o)),n(Yt(l))}function rd({type:e,side:t="left",onDeleteQuery:n,isSplit:r}){const i=Re(w=>w[t]),s=Re(w=>w.left),o=Re(w=>w.right),l=Re(w=>w[t]),c=zt(),h=Re(w=>w.isSplit),u=w=>{if(w.preventDefault(),w.stopPropagation(),!r&&!h)$O([s,o],c),c(Qr(!0));else{const m=s[0].open,C=o[0].open;PO([m,C],t,i,c),c(Qr(!1))}};return f(mt,{children:e==="split"?f(Lt,{title:r?"Close Split View":"Split View",children:f(AO,{onClick:u,children:r?"Close":"Split"})}):f(ks,{style:{fontSize:"15px",cursor:"pointer",padding:"3px"},onClick:w=>{(l==null?void 0:l.length)>1&&n!==void 0?n():h&&u(w)}})})}const zO=e=>ie("background:",e.WidgetBg,";.MuiTabs-root{height:20px!important;min-height:20px;}.MuiButtonBase-root{min-height:0;}",""),id={fontSize:"15px",cursor:"pointer",padding:"3px",marginLeft:"10px"};function VO(e){var ke,Oe,re,Ce,Ee;const t=zt(),{onTabChange:n,tabsValue:r,isTabs:i,activeTabs:s}=e,{children:o}=e,{data:{expr:l,id:c,start:h,stop:u,label:g,pickerOpen:S,idRef:w},isQueryOpen:m}=e,C=Be(),k=Re(be=>be.left),T=Re(be=>be.right),y=Re(be=>be[e.name]),N=Re(be=>be.isEmbed),M=Re(be=>be.isCardinality),L=Re(be=>be.isSplit),P=Re(be=>be.dataSources),p=wn.useMediaQuery({query:"(max-width: 1013px)"}),[_,I]=b.useState(e.data.dataSourceId),D=b.useMemo(()=>P.length>0?P.map(be=>({value:be.id,name:be.name,type:be.type,icon:be.icon})):null,[P]);b.useEffect(()=>{I(e.data.dataSourceId)},[]),b.useEffect(()=>{var be;(be=e==null?void 0:e.data)!=null&&be.dataSourceId&&I(e.data.dataSourceId)},[e.data.dataSourceId]);const[$,z]=b.useState({value:((ke=e==null?void 0:e.data)==null?void 0:ke.dataSourceId)||"32D16h5uYBqUUzhD",name:((Oe=P==null?void 0:P.find(be=>{var pe;return(be==null?void 0:be.id)===((pe=e==null?void 0:e.data)==null?void 0:pe.dataSourceId)}))==null?void 0:Oe.name)||((re=e==null?void 0:e.data)==null?void 0:re.dataSourceId),type:(Ce=e==null?void 0:e.data)==null?void 0:Ce.dataSourceType,icon:((Ee=P==null?void 0:P.find(be=>{var pe;return be.id===((pe=e==null?void 0:e.data)==null?void 0:pe.dataSourceId)}))==null?void 0:Ee.icon)||(e==null?void 0:e.data.dataSourceId)}),V=(be,pe)=>be==="left"?cn(pe):Yt(pe);function K(be){const pe=[...y];pe.forEach(Te=>{Te.id===e.data.id&&(Te.idRef=be)}),t(V(e.name,pe))}const se=()=>{try{let be="";return be=localStorage.getItem("dsSelected"),be?JSON.parse(be):[]}catch(be){console.log(be)}},ue=be=>{var Ze,it;const pe=be.target.value,Te=P.find(rt=>(rt==null?void 0:rt.id)===pe),Je=JSON.parse(JSON.stringify(y)),tt=D.find(rt=>rt.value===pe),De=se();let Ye=[];(De==null?void 0:De.length)>0?(De==null?void 0:De.find(Ke=>{var Et;return(Ke==null?void 0:Ke.queryId)===((Et=e==null?void 0:e.data)==null?void 0:Et.id)}))||!1?Ye=De.map(Ke=>{var Et;return Ke.queryId===((Et=e==null?void 0:e.data)==null?void 0:Et.id)?{queryId:Ke==null?void 0:Ke.queryId,dataSourceId:Te==null?void 0:Te.id}:Ke}):Ye=[...De,{queryId:(Ze=e==null?void 0:e.data)==null?void 0:Ze.id,dataSourceId:Te==null?void 0:Te.id}]:Ye=[...De,{queryId:(it=e==null?void 0:e.data)==null?void 0:it.id,dataSourceId:Te==null?void 0:Te.id}],localStorage.setItem("dsSelected",JSON.stringify(Ye)),z(()=>tt),Je.forEach(rt=>{var Ke;(rt==null?void 0:rt.id)===((Ke=e==null?void 0:e.data)==null?void 0:Ke.id)&&(rt.dataSourceId=Te==null?void 0:Te.id,rt.dataSourceType=Te==null?void 0:Te.type,rt.dataSourceURL=Te==null?void 0:Te.url)}),t(V(e.name,Je))},te=be=>{const pe=[...y];pe.forEach(Te=>{Te.id===e.data.id&&(Te.stop=be)}),t(V(e.name,pe))},he=be=>{const pe=[...y];pe.forEach(Te=>{Te.id===e.data.id&&(Te.start=be)}),t(V(e.name,pe))},Y=be=>{const pe=[...y];pe.forEach(Te=>{Te.id===e.data.id&&(Te.label=be)}),t(V(e.name,pe))},Fe=be=>{const pe=[...y];pe.forEach(Te=>{Te.id===e.data.id&&(Te.pickerOpen=be)}),t(V(e.name,pe))},$e=(be,pe)=>{be.forEach(Te=>{Te.start=h,Te.stop=u,Te.label=g}),t(V(pe,be))},me=()=>{const be=[...k],pe=[...T];$e(be,"left"),$e(pe,"right")};return F(wO,{children:[F("div",{className:"query-tools-cont",children:[F("div",{className:"query-title-tabs",children:[f(FO,{isEmbed:N,idRef:w,expr:l,onIdRefUpdate:K,isQueryOpen:m}),i&&f("div",{className:Pe(zO(C)),children:F(Qg,{value:r,onChange:n,children:[f(cc,{label:"Search"}),(s==null?void 0:s.length)>0&&(s==null?void 0:s.map((be,pe)=>f(cc,{label:be.name},pe)))]})})]}),!N&&!M&&F("div",{className:"query-tools",children:[f("div",{style:{display:"flex",alignItems:"center"}}),F("div",{style:{display:"flex",alignItems:"center",justifySelf:"flex-end"},children:[f(Oi,{section:"Query Toolbar",localProps:e}),!p&&f(rd,{type:"split",isSplit:L,side:e.name}),f(V0,{id:c,onStopChange:te,onStartChange:he,onLabelChange:Y,onPickerOpen:Fe,startTs:h,stopTs:u,label:g,pickerOpen:S}),f(Lt,{title:"Sync Time Ranges",children:f(cp,{style:id,onClick:me})}),f(LO,{extValue:_,value:$,onChange:ue,opts:D,label:""}),f(Di,{style:id,onClick:e.onAddQuery}),f(rd,{type:"remove",onDeleteQuery:e.onDeleteQuery,side:e.name})]})]})]}),o]})}const FO=e=>{const{isEmbed:t,expr:n,isQueryOpen:r}=e;return F("div",{className:"query-title",children:[!t&&f(TO,{onClick:()=>{r[1](!r[0])},children:r[0]?f(CO,{}):f(kO,{})}),f(EO,{...e}),t&&f("p",{style:{marginLeft:"20px",fontFamily:"monospace"},children:n})]})},jO=e=>{const{section:t,localProps:n,name:r}=e;return f("div",{className:"renderer-content",children:((s,o)=>f(o,{localProps:n,section:t,name:s}))(r,vm.getPlugin(t,r).Component)})},sd=()=>{let e=[];try{return e=[...JSON.parse(localStorage.getItem("queryData")||"[]")||[]],e}catch{return[]}};function ad(e,t){return(e==null?void 0:e.length)>1?e==null?void 0:e.filter(n=>(n==null?void 0:n.id)!==t):e}const HO=e=>{localStorage.setItem("queryData",JSON.stringify(e))},BO=(e,t)=>e.queryId!==t,qO=(e,t)=>e.filter(n=>BO(n,t)),WO=(e,t,n,r)=>{const i={...r,id:Gn(),idRef:n,labels:[],expr:"",lastIdx:e+1,cp:0};return[...t,i]},UO=(e,t)=>e>t.length-1?`${t[0]}${e}`:t[e],QO=e=>e[e.length-1].lastIdx,GO=(e,t,n)=>{const r=QO(e),i=UO(r,n);return WO(r,e,i,t)},od=(e,t)=>e==="left"?cn(t):Yt(t),KO=(e,t)=>e==="left"?Er(t):kr(t),JO=e=>b.useMemo(()=>Array.from(Array(26)).map((r,i)=>i+65).map(r=>{var i;return((i=e==null?void 0:e.slice(0,1))==null?void 0:i.toUpperCase())+"-"+String.fromCharCode(r)}),[]);function ld(e){const{children:t,value:n,index:r,...i}=e;return f("div",{role:"tabpanel",hidden:n!==r,id:`simple-tabpanel-${r}`,"aria-labelledby":`simple-tab-${r}`,...i,children:n===r&&f(mt,{children:t})})}const YO=e=>{const{name:t,data:n}=e,{id:r}=n,[i,s]=b.useState(""),o=zt(),l=Re(M=>M[`${t}DataView`]),c=Re(M=>M[t]),h=b.useState(!0),u=JO(t),g=Be(),[S,w]=b.useState(0),m=()=>{const M=GO(c,n,u);o(od(t,M))},C=()=>{const M=sd();if((M==null?void 0:M.length)>0){const L=qO(M,r);HO(L)}},k=()=>{const M=ad(c,r),L=ad(l,r),P=sd();(P==null?void 0:P.length)>0&&C(),M&&o(od(t,M)),L&&o(KO(t,L)),t==="right"&&M.length===0&&o(Cm(!1))},T=(M,L)=>{w(()=>L)},{activeTabs:y,isActiveTabs:N}=bm("Query Item");return f(vt,{theme:g,children:f(VO,{...e,isQueryOpen:h,onDeleteQuery:k,onAddQuery:m,onTabChange:T,tabsValue:S,isTabs:N,activeTabs:y,children:N?F("div",{children:[f(ld,{value:S,index:0,children:h[0]&&f(td,{...e,launchQuery:i})}),y==null?void 0:y.map((M,L)=>f(ld,{value:S,index:L+1,children:f(jO,{name:M.name,section:"Query Item",localProps:{props:e,setLaunchQuery:s}})},L))]}):f(mt,{children:h[0]&&f(td,{...e,launchQuery:i})})})})},XO=e=>ie("background:",e.background,";border:1px solid ",e.accentNeutral,";border-radius:3px;margin:6px;",""),ZO=e=>{const{queries:t}=e,n=Be();return t&&Array.isArray(t)&&(t==null?void 0:t.length)>0?F("div",{className:Pe(XO(n)),children:[t==null?void 0:t.map((r,i)=>Li(YO,{...e,data:r,key:i})),f(Oi,{section:"Queries",localProps:{queries:t,theme:n}})]}):null},eL=e=>t=>{t({type:"SET_LEFT_PANEL",left:e})},tL=e=>t=>{t({type:"SET_RIGHT_PANEL",right:e})},nL=(e,t)=>e==="left"?eL(t):tL(t),rL=ve("div",{target:"eh1ess00"})({name:"w1eku5",styles:"display:flex;flex-direction:column;flex:1;width:100%;min-width:50%"}),ws=e=>{var h;const{name:t}=e,n=zt(),r=Re(u=>u.isSplit),i=Re(u=>u[t]),{hash:s}=ei(),o=b.useRef(null),[l,c]=b.useState(0);return b.useEffect(()=>{const g=new URLSearchParams(s.replace(/#/,"")).get(t);let S=[];g&&(S=JSON.parse(decodeURIComponent(g))),(S==null?void 0:S.length)>0&&n(nL(t,S));const w=()=>{c(o.current.clientWidth)};return window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w)}},[]),b.useEffect(()=>{var u;typeof((u=o==null?void 0:o.current)==null?void 0:u.clientWidth)=="number"&&c(o.current.clientWidth)},[(h=o==null?void 0:o.current)==null?void 0:h.clientWidth]),f(mt,{children:F(rL,{isSplit:r,ref:o,children:[f(ZO,{...e,width:l,queries:i}),f(Oi,{section:"Panel",localProps:{props:e,panel:i,width:l}}),f(r_,{...e,splitted:r})]})})},iL=ve(Ni,{target:"exls76b4"})("background:",({theme:e})=>e.deep,";"),cd=ve(Od,{target:"exls76b3"})("color:",({theme:e})=>e.contrast,";background:",({theme:e})=>e.neutral,";border:1px solid ",({theme:e})=>e.accentNeutral,";cursor:pointer;font-size:13px;background-color:transparent;padding:6px 10px;border:none;border-radius:3px 3px 0px 0px;display:flex;justify-content:center;align-items:center;border-bottom:1px solid transparent;transition:0.2s all;&:hover{background-color:",({theme:e})=>e.lightNeutral,";}&:focus{color:",({theme:e})=>e.contrast,";background:",({theme:e})=>e.neutral,";border-radius:3px 3px 0px 0px;outline-offset:2px;}&.",Md.selected,"{border-bottom:1px solid ",({theme:e})=>e.primary,";}&.",Nd.disabled,"{opacity:0.5;cursor:not-allowed;}@media screen and (max-width: 360px){span{display:none;}padding:5px 20px;}"),sL=ve(Ld,{target:"exls76b0"})("min-width:320px;background:",({theme:e})=>e.shadow,";border-bottom:4px solid ",({theme:e})=>e.bgNeutral,";display:flex;align-items:center;align-content:space-between;");function aL(){return F(iL,{defaultValue:0,children:[F(sL,{children:[f(cd,{children:f("span",{children:"Left"})}),f(cd,{children:f("span",{children:"Right"})})]}),f(ja,{value:0,children:f(ws,{name:"left"})}),f(ja,{value:1,children:f(ws,{name:"right"})})]})}const hp=ve("div",{target:"e1vatdtz0"})("position:absolute;display:flex;flex-direction:column;height:inherit;width:100%;flex:1;background-color:",({theme:e})=>e.background,"!important;&::-webkit-scrollbar-corner{background:transparent;}&::-webkit-scrollbar-thumb{border-radius:5px;background:",({theme:e})=>e.alphaPlusNeutral,"!important;}.panels-container{display:flex;background:",({theme:e})=>e.shadow,";height:calc(100vh - 45px);}");function oL({theme:e}){return F(vt,{theme:e,children:[f(hp,{children:f(aL,{})}),f(Sf,{})]})}function lL({theme:e,isEmbed:t,isSplit:n,settingsDialogOpen:r}){const[i,s]=b.useState(0),[o,l]=b.useState(0),[c,h]=b.useState(0),[u,g]=b.useState(0),[S,w]=b.useState(0),[m,C]=b.useState(0),[k,T]=b.useState(!1),[y,N]=b.useState(!1),M=b.useRef(null);b.useEffect(()=>{const _=M.current.clientWidth;s(M.current.clientWidth),l(_/(n?2:1)),n&&h(_/2);const I=n?_/4>370?_/4:370:_;C(I)},[l,h,s,C,m,n]),b.useEffect(()=>{const _=M.current.clientWidth;g(o/_),n&&w(c/_)},[o,c,n]),b.useEffect(()=>{const _=()=>{const I=M.current.clientWidth;s(I),l(I*u),n&&h(I*S)};return window.addEventListener("resize",_),()=>{window.removeEventListener("resize",_)}},[i,o,c,u,S,n]);const L=Re(_=>_.left),P=Re(_=>_.right);return b.useEffect(()=>{T(L[0].open),N(P[0].open)},[L[0].open,P[0].open]),F(vt,{theme:e,children:[f(hp,{children:((_,I)=>F("div",{className:"panels-container",ref:M,children:[_===!0&&f(ws,{name:"left"}),I===!0&&f(ws,{name:"right"})]}))(k,y)}),f(Gg,{open:r}),f(Sf,{})]})}function cL(e){let t="",n=!1;const r=Re(g=>g.currentUser),i=b.useMemo(()=>e.has("cookie")||!1,[e]),s=b.useMemo(()=>i?en.sanitize(e.get("cookie")):"",[e,i]),[o,l]=oc([s]),[c,h]=oc(["user-cookie"]);let u=r;if(c!=null&&c["user-cookie"])try{u=atob(c["user-cookie"])}catch{console.log("could not parse user cookie")}return o[s]&&(t=o[s],n=!0),{cookieAuth:t,cookiesAvailable:n,cookieUser:u}}function uL(e){const t=b.useMemo(()=>e.has("url"),[e]);return{url:b.useMemo(()=>t?en.sanitize(e.get("url")):"",[e,t]),urlAvailable:t}}const dL=e=>t=>{t({type:"SHOW_DATA_SOURCE_SETTING",showDataSourceSetting:e})};function fL(e,t,n,r,i,s){let o="",l=!1,c=!1,h={};if(r&&(c=!0),i){let w="";const{url:m}=n;if(n!=null&&n.auth&&(w=n.auth),m&&m!=="")try{r=!0,c=!0,o=m}catch(T){console.log(T)}let[C,k]=w.split(":");C!==""&&k!==""&&(h={user:C,password:k},l=!0)}!r&&l&&(o=window.location.protocol+"//"+window.location.host,c=!0),o===""&&(c=!0,o=decodeURIComponent(t));const u=[...s],g=JSON.parse(JSON.stringify(u)),S=g==null?void 0:g.map(w=>({...w,url:c?o:w.url,auth:{...w.auth,basicAuth:{...w.auth.basicAuth,value:l},fields:{...w.auth.fields,basicAuth:l?[...w.auth.fields.basicAuth].map(m=>m.name==="user"?{...m,value:h.user}:m.name==="password"?{...m,value:h.password}:m):[...w.auth.fields.basicAuth]}}}));n&&h&&e(dL(!1)),localStorage.setItem("dataSources",JSON.stringify(S)),e(us(S))}const hL=e=>{let t={},n=(e==null?void 0:e.cors)||!1;const i={...wl(e),"Content-Type":"application/json",Accept:"application/json"},s={method:"GET",headers:i};return n===!0&&(s.mode="cors"),t.options=s,t.headers=i,t.validateStatus=o=>o>=200&&o<400||o===404||o===500,t},pL=async(e,t,n)=>await Sn.get(`${e}/ready`,t).then(r=>{var i,s;if(r&&(r!=null&&r.status)&&(r!=null&&r.headers))return n={status:r.status,contentType:(i=r==null?void 0:r.headers)==null?void 0:i["content-type"],contentLength:(s=r==null?void 0:r.headers)==null?void 0:s["content-length"]},n}).catch(r=>r).finally(()=>n);async function ud(e,t,n,r){let i={},s=hL(t),o=!1;const{setResponseType:l}=Kg.getState();let c={...s};(n==null?void 0:n.username)!==""&&r&&(c.auth=n);try{i=await pL(e,c,i)}catch{o=!1}finally{i&&(i==null?void 0:i.status)===200&&((i==null?void 0:i.contentLength)==="0"?(l(uc.GO),hc().togglePluginVisibility("Query Item","Cardinal View",!0),o=!0):(l(uc.NODE),hc().togglePluginVisibility("Query Item","Cardinal View",!1),o=!0))}return o}async function gL(e,t,n){var g,S,w,m;const r=window.location.origin,i=e.find(C=>C.type==="logs"),s=(S=(g=i==null?void 0:i.auth)==null?void 0:g.basicAuth)==null?void 0:S.value;let o={username:"",password:""},l=(m=(w=i==null?void 0:i.auth)==null?void 0:w.fields)==null?void 0:m.basicAuth;const c=(l==null?void 0:l.length)>0;if(s&&c)for(let C of l)(C==null?void 0:C.name)==="user"&&(o.username=(C==null?void 0:C.value)||""),(C==null?void 0:C.name)==="password"&&(o.password=(C==null?void 0:C.value)||"");let h=!1,u=!1;if((i==null?void 0:i.url)!==""&&(h=await ud(i.url,i,o,s)),!h)if(u=await ud(r,i),u&&!h){const C=[...e],k=JSON.parse(JSON.stringify(C)),T=k==null?void 0:k.map(y=>({...y,url:r}));localStorage.setItem("dataSources",JSON.stringify(T)),t(us(T))}else!h&&!u&&n("datasources")}const mL=e=>ie("background:",e.shadow,";","");function AL(){const e=xg(),t=Re(y=>y.dataSources),{hash:n}=ei(),r=b.useMemo(()=>new URLSearchParams(n.replace(/#/,"")),[n]);Yv();const{cookiesAvailable:i,cookieAuth:s,cookieUser:o}=cL(r),{urlAvailable:l,url:c}=uL(r);b.useEffect(()=>{i&&!l||!i&&l||i&&s&&l&&l!==""?fL(g,c,s,l,i,t):gL(t,g,e)},[]),b.useEffect(()=>{if(o&&typeof o=="string")try{g(ym(JSON.parse(o)))}catch(y){console.log(y)}},[o]),b.useEffect(()=>{const y={url:en.sanitize(window.location.hash),cookiesAvailable:i};localStorage.setItem(btoa("cookie-location"),btoa(JSON.stringify(y)))},[i]);const h=wn.useMediaQuery({query:"(max-width: 1013px)"}),u=wn.useMediaQuery({query:"(prefers-color-scheme: dark)"}),g=zt(),S=Re(y=>y.isSplit),w=Re(y=>y.isEmbed),m=Be(),C=Re(y=>y.autoTheme),k=Re(y=>y.settingsDialogOpen);b.useEffect(()=>{if(C){const y=u?"dark":"light";g(Dd(y)),localStorage.setItem("theme",JSON.stringify({theme:y,auto:C}))}},[u,C,g]);const T=(y,N,M,L)=>y?f(oL,{isEmbed:M,theme:m,settingsDialogOpen:L}):f(lL,{isEmbed:M,isSplit:N,theme:m,settingsDialogOpen:L});return f("div",{className:Pe(mL(m)),children:T(h,w,S,k)})}export{AL as default};
