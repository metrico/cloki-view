var Lt=Object.defineProperty;var zt=(n,e,t)=>e in n?Lt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var B=(n,e,t)=>zt(n,typeof e!="symbol"?e+"":e,t);import{d as u,j as w,g as F,D as j,h as G,i as rt,F as ze,f as Me,Q as Mt,k as Pt,e as $t}from"./index-Db6C1Mw1.js";import{r as D}from"./react-B8DbRJ_3.js";import{m as ee,u as U,n as mt,s as Vt,L as Ut,v as Jt,w as Bt,x as Ft,p as qt,R as Ht}from"./vendor-BVYYq__d.js";import{D as Wt,L as Ye,I as Ge,d as Yt,S as Gt,a as le,F as H,s as $,b as Qt,c as at,T as Xt,e as gt,f as Kt,P as en}from"./AddOutlined-CWT66h2H.js";import{d as vt,s as tn}from"./DeleteOutlineOutlined-BT49krzn.js";import{S as Ve,r as it}from"./createSvgIcon-BhVK1PDy.js";import{j as ot}from"./reactDnd-BtpxPq0t.js";import{d as yt}from"./reactSelect-FVq3QTPV.js";import"./memoize-CbKs8VX_.js";const be=n=>{const{value:e,onClick:t,primary:s,title:r,disabled:a}=n;return u(Wt,{disabled:a,title:r,onClick:t,primary:s,children:e})},nn=n=>G("display:flex;flex:",n?1:0,";",""),_t=({value:n,locked:e,onChange:t,opts:s,label:r,labelWidth:a,name:i,fullWidth:o,width:d})=>{const[c,h]=D.useState(""),O=D.useRef(null),R=D.useMemo(()=>typeof s[0]=="string"?s.map(_=>({value:_,name:_})):s,[s]);return D.useEffect(()=>{var E,f;const _=(E=R==null?void 0:R.find(v=>v.name===n))==null?void 0:E.value;_&&((f=O==null?void 0:O.current)==null?void 0:f.value)!==_&&(h(_),O.current.value=_)},[n]),w(Ge,{width:d,children:[(r==null?void 0:r.length)>0&&u(Ye,{width:a||null,children:r}),u("select",{ref:O,className:F(nn(o)),disabled:e,defaultValue:j.sanitize(c),onChange:_=>t(_,i),children:R==null?void 0:R.map((_,E)=>u("option",{value:j.sanitize(_.value),children:_.name},E))})]})},xt=n=>{const{value:e,onChange:t,locked:s,label:r}=n;return w(Ge,{children:[u(Ye,{children:r}),u(Ve,{disabled:s,size:"small",checked:e,onChange:t})]})};var ct={},sn=rt;Object.defineProperty(ct,"__esModule",{value:!0});var kt=ct.default=void 0,rn=sn(it()),an=ot;kt=ct.default=(0,rn.default)((0,an.jsx)("path",{d:"m19 8-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4z"}),"CachedOutlined");var dt={},on=rt;Object.defineProperty(dt,"__esModule",{value:!0});var bt=dt.default=void 0,cn=on(it()),dn=ot;bt=dt.default=(0,cn.default)((0,dn.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle");const St=n=>e=>{e({type:"SET_IS_DATASOURCE_SAVED",isDsSaved:n})};var lt={},ln=rt;Object.defineProperty(lt,"__esModule",{value:!0});var wt=lt.default=void 0,un=ln(it()),hn=ot;wt=lt.default=(0,un.default)((0,hn.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline");const Tt=G({name:"vtwnvy",styles:"height:12px!important;width:12px!important;color:white;margin:0px 4px"}),fn=n=>G("display:flex;align-items:center;background:",n.primary,";color:white;font-size:11px;padding:4px;border-radius:3px;margin-right:10px;cursor:pointer;span{margin-right:4px;font-weight:bold;}",""),pn=G({name:"1t9g6tg",styles:"display:flex;align-items:center;background:#b62c14;color:white;font-size:12px;padding:4px;border-radius:3px;margin-right:10px;cursor:pointer;span{margin-right:4px;font-weight:bold;}"}),mn=G({name:"9hkg7e",styles:"display:flex;align-items:center;font-size:12px;&.loading-icon{height:14px;width:14px;}"}),gn=({setIsSaved:n})=>{const e=Me();return w("div",{className:F(fn(e)),onClick:t=>n(!1),children:[u(bt,{className:F(Tt)})," ",u("span",{children:"Saved"})]})},ht=({errorText:n})=>w("div",{className:F(pn),children:[u(wt,{className:F(Tt)})," ",u("span",{children:n})]});function Qe(n){const{onClickAdd:e,isAdd:t,title:s,isEditing:r,fieldErrors:a}=n,i=ee(),[o,d]=D.useState(!1);return D.useEffect(()=>(r&&(setTimeout(()=>{d(!0),i(St(!0))},800),d(!1)),d(!1),()=>{d(!1)}),[r]),w(Gt,{children:[s,w("div",{className:"edit-buttons",children:[r&&w("div",{className:mn,children:[u(kt,{style:{height:"13px",width:"13px"}})," ","Saving ..."]}),(a==null?void 0:a.protocol)&&u(ht,{errorText:"Insecure Mixed Content. Mixing HTTP and HTTPS is insecure and is not supported."}),(a==null?void 0:a.url)&&u(ht,{errorText:"Please complete API URL"}),o&&u(gn,{setIsSaved:d}),t&&u(ze,{children:u(Yt,{fontSize:"small",style:{cursor:"pointer",display:"flex"},onClick:e})})]})]})}const vn=n=>{const e=ee(),t=U(_=>_.dataSources),[s,r]=D.useState(!1),{headers:a,id:i}=n,[o,d]=D.useState((n==null?void 0:n.cors)||!1),c=_=>{const E=_.target.checked,f=t.map(v=>(v.id===i&&(v.cors=E),v));d(()=>E),localStorage.setItem("dataSources",JSON.stringify(f)),e($(f))},h=(_,E,f)=>{r(()=>!0);const v=_.target.value,C=(t.find(A=>A.id===i).headers||[]).map(A=>(A.id===E&&(A[f]=v),A)),x=t.map(A=>(A.id===i&&(A.headers=[...C]),A));localStorage.setItem("dataSources",JSON.stringify(x)),e($(x)),setTimeout(()=>{r(()=>!1)},800)},O=_=>{_.preventDefault();const E=t==null?void 0:t.find(g=>g.id===i),f=E.headers,v=JSON.parse(JSON.stringify([...t]));if(a.length>0){const g={...f[f.length-1],id:mt()},k={...E,headers:[...E.headers,g]},C=v==null?void 0:v.map(x=>x.id===i?{...k}:x);localStorage.setItem("dataSources",JSON.stringify(C)),e($(C))}},R=(_,E)=>{const f=t==null?void 0:t.find(x=>x.id===i),g=[...a].filter(x=>x.id!==E),k={...f,headers:[...g]},C=t==null?void 0:t.map(x=>x.id===i?{...k}:x);localStorage.setItem("dataSources",JSON.stringify(C)),e($(C))};return u("div",{className:"",children:a&&w(ze,{children:[u(Qe,{title:"Custom HTTP Headers",isEdit:!1,isAdd:!0,isEditing:s,onClickAdd:O}),w(le,{children:[u(Ye,{children:"Use CORS"})," ",u(Ve,{size:"small",checked:o,onChange:c})]}),a==null?void 0:a.map((_,E)=>u(le,{children:w(Ge,{children:[u(H,{label:"header",value:j.sanitize(_.header),onChange:f=>h(f,_.id,"header")}),u(H,{label:"value",value:j.sanitize(_.value),onChange:f=>h(f,_.id,"value")}),u(vt,{onClick:f=>R(f,_.id),style:{cursor:"pointer",marginLeft:"10px"},fontSize:"small"})]})},E))]})})};function yn(n){const e=Vt(),t=Me(),s=U(c=>c.urlLocation),r=ee(),{title:a}=n,i=U(c=>c.isDsSaved),o=D.useMemo(()=>i?"Save":"Back",[i]),d=()=>{let c=(s==null?void 0:s.length)>0;r(St(!1)),e((c||o==="Back")&&a!=="DataSources"?-1:"")};return w("div",{className:"ds-header",children:[u("div",{style:{display:"flex",alignItems:"center"},children:w("div",{style:{display:"flex",flexDirection:"column"},children:[w("div",{style:{display:"flex"},children:[u(Mt,{}),u("h1",{children:a})]}),w("p",{style:{color:t.contrast,fontSize:"10px",marginTop:"5px",marginLeft:"10px",opacity:".5"},children:["v","2.0.1"]})]})}),u(be,{value:j.sanitize(o),onClick:d,editing:!0,primary:i})]})}const _n=n=>{const{id:e,name:t,regex:s,urlLabel:r,internalLink:a,linkType:i,locked:o,dataSourceId:d,fieldEditing:c}=n,h=ee(),O=U(g=>g.dataSources),R=D.useMemo(()=>O.map(g=>({name:g.name,value:g.id})),[O]),_=(g,k)=>{c();const C=JSON.parse(JSON.stringify(O)),J=C.find(I=>I.id===d).linkedFields.map(I=>I.id===e?{...I,[g]:k}:I);return C.map(I=>I.id===d?{...I,linkedFields:J}:I)},E=g=>{c();const k=JSON.parse(JSON.stringify(O)),A=k.find(I=>I.id===d).linkedFields.filter(I=>I.id!==e),J=k.map(I=>I.id===d?{...I,linkedFields:[...A]}:I);localStorage.setItem("dataSources",JSON.stringify(J)),h($(J))},f=(g,k)=>{c();const C=g.target.value,x=_(k,C);localStorage.setItem("dataSources",JSON.stringify(x)),h($(x))},v=(g,k)=>{c();const C=!!g.target.checked,x=_(k,C);localStorage.setItem("dataSources",JSON.stringify(x)),h($(x))};return w(Qt,{children:[w(le,{children:[u(H,{value:j.sanitize(t),label:"Name",onChange:g=>f(g,"name")}),u(H,{value:j.sanitize(s),label:"Regex",onChange:g=>f(g,"regex")}),u(H,{value:j.sanitize(r),label:"URL Label",onChange:g=>f(g,"urlLabel")}),u(vt,{onClick:E,fontSize:"small",style:{marginLeft:"10px",cursor:"pointer",display:o?"none":"inline-block"}})]}),w(le,{className:"internal",children:[u(xt,{value:a,label:"Internal Link",onChange:g=>v(g,"internalLink")}),u(_t,{label:"",value:j.sanitize(i),opts:R,selectType:"linkedField",onChange:g=>f(g,"linkID")})]})]})};class xn{constructor(){B(this,"id");B(this,"dataSource");B(this,"ds_id");B(this,"name");B(this,"regex");B(this,"query");B(this,"urlLabel");B(this,"url");B(this,"internalLink");B(this,"linkType");this.id=mt(),this.dataSource="Logs",this.ds_id="logs",this.name="traceID",this.regex='^.*?"traceID" ="(w+)".*$/',this.query="${__value.raw}",this.urlLabel="",this.url="",this.internalLink=!0,this.linkType="Traces"}create(){const{id:e,dataSource:t,ds_id:s,name:r,regex:a,query:i,urlLabel:o,url:d,internalLink:c,linkType:h}=this;return{id:e,dataSource:t,ds_id:s,name:r,regex:a,query:i,urlLabel:o,url:d,internalLink:c,linkType:h}}}const kn=n=>{const{linkedFields:e,name:t,id:s}=n,r=U(h=>h.dataSources),a=ee(),[i,o]=D.useState(!1),d=()=>{const h=new xn;h.dataSource=t,h.create();const R=[...JSON.parse(JSON.stringify(e)),{...h}],_=JSON.parse(JSON.stringify(r)),E=_==null?void 0:_.map(f=>f.id===s?{...f,linkedFields:R}:f);localStorage.setItem("dataSources",JSON.stringify(E)),a($(E))},c=()=>{o(()=>!0),setTimeout(()=>{o(()=>!1)},800)};return(e==null?void 0:e.length)>0?w(ze,{children:[u(Qe,{title:"Linked Fields",isEdit:!0,isAdd:!0,onClickAdd:d,isEditing:i}),u(at,{children:e==null?void 0:e.map((h,O)=>u(_n,{...h,dataSourceId:s,locked:!1,fieldEditing:c},O))})]}):null};function bn(n){const{value:e,label:t,onChange:s,placeholder:r}=n;return w(Ge,{children:[u(Ye,{children:t}),u(Xt,{className:"ds-input",onChange:s,placeholder:r,value:j.sanitize(e)})]})}function Sn(n){const{auth:e,id:t}=n,s=ee(),r=U(f=>f.dataSources),[a,i]=D.useState([]),[o,d]=D.useState(!1),c=D.useMemo(()=>{var f;return(f=Object.entries(e))==null?void 0:f.map(([v,g])=>({name:v,...g})).filter(v=>v.name!=="fields")},[e]),h=D.useMemo(()=>{var f;return(f=Object.entries(e))==null?void 0:f.map(([v,g])=>({name:v,...g})).find(v=>v.name==="fields")},[e]),O=(f,v)=>{const g=JSON.parse(JSON.stringify(e));g[v].value=f;const C=JSON.parse(JSON.stringify(r)).map(x=>x.id===t?{...x,auth:{...g}}:x);return localStorage.setItem("dataSources",JSON.stringify(C)),s($(C)),C};D.useEffect(()=>{var v,g;const f=(g=(v=c.filter(k=>k.form_type==="switch"&&!!(k!=null&&k.value)))==null?void 0:v.filter(k=>!!k.withFields))==null?void 0:g.map(k=>k.name);i(f)},[c,i]);const R=(f,v)=>{d(()=>!0);const g=f.target.value;O(g,v),setTimeout(()=>{d(()=>!1)},800)},_=(f,v)=>{d(()=>!0);const g=f.target.checked;O(g,v),setTimeout(()=>{d(()=>!1)},800)},E=(f,v,g)=>{var I;d(()=>!0);const k=f.target.value,C=JSON.parse(JSON.stringify(e)),x={...C,fields:{...C.fields,[g]:(I=C==null?void 0:C.fields[g])==null?void 0:I.map(z=>z.name===v?(z.value=k,{...z}):z)}},A=JSON.parse(JSON.stringify([...r])),J=A==null?void 0:A.map(z=>(z.id===t&&(z.auth=x),z));localStorage.setItem("dataSources",JSON.stringify(J)),s($(J)),setTimeout(()=>{d(()=>!1)},600)};return w(ze,{children:[u(Qe,{title:"HTTP Auth Fields",isEditing:o,isEdit:!1,isAdd:!1}),w(at,{children:[c&&c.map((f,v)=>f.form_type==="select"?u(_t,{value:j.sanitize(f.value),name:j.sanitize(f.name),onChange:g=>R(g,f.name),locked:!1,opts:f.options,label:f.label},v):f.form_type==="switch"?u(xt,{label:f.label,value:f.value,onChange:g=>_(g,f.name)},v):null),u(le,{children:a&&a.map((f,v)=>{var g;return u(le,{children:h[f]&&((g=h[f])==null?void 0:g.map((k,C)=>k.form_type==="input"||k.form_type==="password"?u(H,{onChange:x=>E(x,k.name,f),type:k.form_type,value:j.sanitize(k.value),label:k.label,placeholder:k.placeholder},C):k.form_type==="textarea"?u(bn,{onChange:x=>E(x,k.name,f),value:j.sanitize(k.value),label:k.label,placeholder:k.placeholder},C):null))},v)})})]})]})}const wn=Pt("div",{target:"emiacor0"})("position:absolute;left:0;top:0;background:",({theme:n})=>n.background,";display:flex;flex-direction:culumn;justify-content:center;color:",({theme:n})=>n.contrast,";flex:1;height:100%;width:100%;.body-cont{max-width:1440px;padding:10px;margin:10px;border-radius:3px;flex:1;background:",({theme:n})=>n.shadow,";overflow-y:auto;overflow-x:hidden;}.ds-header{padding:10px;padding-bottom:20px;font-size:24px;flex:1;display:flex;width:100%;justify-content:space-between;align-items:center;padding-left:0px;.logo{margin-right:10px;}}.ds-cont{margin-bottom:10px;border:1px solid ",({theme:n})=>n.accentNeutral,";border-radius:3px;overflow-y:auto;}.ds-item{padding:10px;border-radius:3px 3px 0px 0px;padding-bottom:14px;display:flex;.logo{padding:10px;padding-right:20px;padding-left:0px;}.ds-text{display:flex;flex-direction:column;flex:1;}.ds-type{font-size:18px;padding:10px;padding-left:0px;color:",({theme:n})=>n.contrast,";}small{font-size:12px;}.setting-icon{justify-self:flex-end;cursor:pointer;}.ds-settings{background:",({theme:n})=>n.shadow,";}}");function Tn(){const n=U(({dataSources:e})=>e);return(n==null?void 0:n.length)>0?u("div",{style:{margin:"10px"},children:n.map((e,t)=>{const{icon:s,id:r,name:a,type:i,url:o}=e;return u("div",{className:"ds-cont",children:u(Ut,{to:r,children:w("div",{className:"ds-item",children:[u(gt,{icon:s}),w("div",{className:"ds-text",children:[u("div",{className:"ds-type",children:a}),w("span",{children:[w("small",{children:[i," | "," "]}),u("small",{style:{userSelect:"all"},children:o})]})]})]})})},t)})}):u("div",{children:u("h1",{children:"No Data Sources Found."})})}const Cn=n=>{const{headers:e,id:t,linkedFields:s,name:r,url:a,cors:i}=n,o=ee(),d=U(({dataSources:v})=>v),[c,h]=D.useState({url:!1,protocol:!1}),O=(v,g)=>{let k=g;const C=JSON.parse(JSON.stringify(d));return C.forEach(x=>{x.id===t&&(x[v]=k)}),C},[R,_]=D.useState(!1),E=v=>{try{const g=window.location.protocol,k=new URL(v).protocol;return{value:g===k,error:""}}catch{return{value:!1,error:"url"}}},f=(v,g)=>{_(()=>!0);const k=v.target.value;if(g==="url"){const x=E(k);if((x==null?void 0:x.error)==="url"&&h(A=>({...A,url:!0})),!(x!=null&&x.value)&&(x==null?void 0:x.error)===""&&h(A=>({...A,protocol:!0})),(x==null?void 0:x.error)===""&&(x!=null&&x.value)){h(J=>({...J,protocol:!1,url:!1}));const A=O(g,k);localStorage.setItem("dataSources",JSON.stringify(A)),o($(A)),setTimeout(()=>{_(()=>!1)},800)}}const C=O(g,k);localStorage.setItem("dataSources",JSON.stringify(C)),o($(C)),setTimeout(()=>{_(()=>!1)},800)};return w(Kt,{children:[u(Qe,{isEditing:R,isEdit:!0,isAdd:!1,title:"DataSource Settings",fieldErrors:c}),u(at,{children:w(le,{children:[u(H,{value:j.sanitize(r),label:"Name",onChange:v=>f(v,"name")}),u(H,{value:j.sanitize(a),label:"URL",error:c.url||c.protocol,onChange:v=>f(v,"url")})]})}),u(Sn,{...n}),u(vn,{cors:i,headers:e,id:t}),u(kn,{...n,linkedFields:s})]})},Nn=G({name:"9rq8lq",styles:"display:flex;align-items:center;justify-content:space-between;margin-right:20px"});function On(n,e,t){let s={},r=t&&t!==""&&e&&e!=="",a=r?`${btoa(e)}:${btoa(t)}`:"",i=JSON.parse(JSON.stringify(n));return r&&a&&(s.auth=a),s.url=i,JSON.stringify(s)}function En(n){const{url:e,auth:{basicAuth:t,fields:{basicAuth:[s,r]}}}=n,[a,i]=Bt(["qryn-dev-cookie","qryn-settings"]),o=ee(),d=U(R=>R.dataSources),c=()=>{const R=[...d],_=JSON.parse(JSON.stringify(R)),E=_==null?void 0:_.map(f=>({...f,url:j.sanitize(e),auth:{...f.auth,basicAuth:{...f.auth.basicAuth,value:t.value},fields:{...f.auth.fields,basicAuth:[...f.auth.fields.basicAuth].map(v=>v.name==="user"?{...v,value:j.sanitize(s.value)}:v.name==="password"?{...v,value:j.sanitize(r.value)}:v)}}}));localStorage.setItem("dataSources",JSON.stringify(E)),o($(E)),o($t({type:"success",message:"Set same URL and Basic Auth for All Data Sources"}))};function h(){const R=new Date;new Date().setDate(R.getDate()+1);try{i("qryn-settings",On(e,s.value,r.value),{path:""})}catch(E){console.log(E)}}function O(){const{headers:R,id:_,name:E,linkedFields:f}=n,v=R==null?void 0:R.map(({header:x,value:A})=>({[x]:A})),k=`data:text/json;chatset=utf-8,${encodeURIComponent(JSON.stringify({id:_,name:E,headers:v,linkedFields:f}))}`,C=document.createElement("a");C.href=k,C.download=`${E}_${_}.json`,C.click()}return w("div",{className:"ds-cont",children:[w("div",{className:F(Nn),children:[u(In,{...n}),w("div",{style:{display:"flex",alignItems:"center"},children:[u(be,{title:"Download Datasource settings as JSON",value:j.sanitize("Download JSON"),onClick:O,primary:!0}),u(be,{title:"Set Cookie with name: qryn-settings",value:j.sanitize("Save Cookie"),onClick:h,primary:!0}),u(be,{title:"Use same URL and Basic Auth for all Data Sources",value:j.sanitize("Use For All"),onClick:c,primary:!0})]})]}),u("div",{className:"ds-settings",children:u(Cn,{...n})})]})}const In=n=>{const{icon:e,name:t,type:s,url:r}=n;return w("div",{className:"ds-item",children:[u(gt,{icon:e}),w("div",{className:"ds-text",children:[u("div",{className:"ds-type",children:t}),w("small",{children:[j.sanitize(s)," | ",j.sanitize(r)]})]})]})};function Zn(){let{id:n}=Jt();const e=Me(),t=U(r=>r.dataSources),s=D.useMemo(()=>!t||t.length===0?{}:t.find(r=>r.id===n)||{},[n,t]);return u(yt,{theme:e,children:u(wn,{children:w("div",{className:"body-cont",children:[u(yn,{title:"DataSource Settings",datasource:s}),u("div",{className:"datasource-body",children:u(En,{...s})})]})})})}var Z;(function(n){n.assertEqual=r=>r;function e(r){}n.assertIs=e;function t(r){throw new Error}n.assertNever=t,n.arrayToEnum=r=>{const a={};for(const i of r)a[i]=i;return a},n.getValidEnumValues=r=>{const a=n.objectKeys(r).filter(o=>typeof r[r[o]]!="number"),i={};for(const o of a)i[o]=r[o];return n.objectValues(i)},n.objectValues=r=>n.objectKeys(r).map(function(a){return r[a]}),n.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const a=[];for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&a.push(i);return a},n.find=(r,a)=>{for(const i of r)if(a(i))return i},n.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&isFinite(r)&&Math.floor(r)===r;function s(r,a=" | "){return r.map(i=>typeof i=="string"?`'${i}'`:i).join(a)}n.joinValues=s,n.jsonStringifyReplacer=(r,a)=>typeof a=="bigint"?a.toString():a})(Z||(Z={}));var et;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(et||(et={}));const m=Z.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),re=n=>{switch(typeof n){case"undefined":return m.undefined;case"string":return m.string;case"number":return isNaN(n)?m.nan:m.number;case"boolean":return m.boolean;case"function":return m.function;case"bigint":return m.bigint;case"symbol":return m.symbol;case"object":return Array.isArray(n)?m.array:n===null?m.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?m.promise:typeof Map<"u"&&n instanceof Map?m.map:typeof Set<"u"&&n instanceof Set?m.set:typeof Date<"u"&&n instanceof Date?m.date:m.object;default:return m.unknown}},l=Z.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Rn=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class V extends Error{constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(a){return a.message},s={_errors:[]},r=a=>{for(const i of a.issues)if(i.code==="invalid_union")i.unionErrors.map(r);else if(i.code==="invalid_return_type")r(i.returnTypeError);else if(i.code==="invalid_arguments")r(i.argumentsError);else if(i.path.length===0)s._errors.push(t(i));else{let o=s,d=0;for(;d<i.path.length;){const c=i.path[d];d===i.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(t(i))):o[c]=o[c]||{_errors:[]},o=o[c],d++}}};return r(this),s}static assert(e){if(!(e instanceof V))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Z.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},s=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):s.push(e(r));return{formErrors:s,fieldErrors:t}}get formErrors(){return this.flatten()}}V.create=n=>new V(n);const ge=(n,e)=>{let t;switch(n.code){case l.invalid_type:n.received===m.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case l.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,Z.jsonStringifyReplacer)}`;break;case l.unrecognized_keys:t=`Unrecognized key(s) in object: ${Z.joinValues(n.keys,", ")}`;break;case l.invalid_union:t="Invalid input";break;case l.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Z.joinValues(n.options)}`;break;case l.invalid_enum_value:t=`Invalid enum value. Expected ${Z.joinValues(n.options)}, received '${n.received}'`;break;case l.invalid_arguments:t="Invalid function arguments";break;case l.invalid_return_type:t="Invalid function return type";break;case l.invalid_date:t="Invalid date";break;case l.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:Z.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case l.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case l.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case l.custom:t="Invalid input";break;case l.invalid_intersection_types:t="Intersection results could not be merged";break;case l.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case l.not_finite:t="Number must be finite";break;default:t=e.defaultError,Z.assertNever(n)}return{message:t}};let Ct=ge;function An(n){Ct=n}function Ue(){return Ct}const Je=n=>{const{data:e,path:t,errorMaps:s,issueData:r}=n,a=[...t,...r.path||[]],i={...r,path:a};if(r.message!==void 0)return{...r,path:a,message:r.message};let o="";const d=s.filter(c=>!!c).slice().reverse();for(const c of d)o=c(i,{data:e,defaultError:o}).message;return{...r,path:a,message:o}},jn=[];function p(n,e){const t=Ue(),s=Je({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===ge?void 0:ge].filter(r=>!!r)});n.common.issues.push(s)}class M{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const s=[];for(const r of t){if(r.status==="aborted")return S;r.status==="dirty"&&e.dirty(),s.push(r.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,t){const s=[];for(const r of t){const a=await r.key,i=await r.value;s.push({key:a,value:i})}return M.mergeObjectSync(e,s)}static mergeObjectSync(e,t){const s={};for(const r of t){const{key:a,value:i}=r;if(a.status==="aborted"||i.status==="aborted")return S;a.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof i.value<"u"||r.alwaysSet)&&(s[a.value]=i.value)}return{status:e.value,value:s}}}const S=Object.freeze({status:"aborted"}),pe=n=>({status:"dirty",value:n}),P=n=>({status:"valid",value:n}),tt=n=>n.status==="aborted",nt=n=>n.status==="dirty",Se=n=>n.status==="valid",we=n=>typeof Promise<"u"&&n instanceof Promise;function Be(n,e,t,s){if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(n)}function Nt(n,e,t,s,r){if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var y;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(y||(y={}));var xe,ke;class X{constructor(e,t,s,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=s,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ft=(n,e)=>{if(Se(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new V(n.common.issues);return this._error=t,this._error}}};function T(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:s,description:r}=n;if(e&&(t||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(i,o)=>{var d,c;const{message:h}=n;return i.code==="invalid_enum_value"?{message:h??o.defaultError}:typeof o.data>"u"?{message:(d=h??s)!==null&&d!==void 0?d:o.defaultError}:i.code!=="invalid_type"?{message:o.defaultError}:{message:(c=h??t)!==null&&c!==void 0?c:o.defaultError}},description:r}}class N{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return re(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:re(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new M,ctx:{common:e.parent.common,data:e.data,parsedType:re(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(we(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const s=this.safeParse(e,t);if(s.success)return s.data;throw s.error}safeParse(e,t){var s;const r={common:{issues:[],async:(s=t==null?void 0:t.async)!==null&&s!==void 0?s:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:re(e)},a=this._parseSync({data:e,path:r.path,parent:r});return ft(r,a)}async parseAsync(e,t){const s=await this.safeParseAsync(e,t);if(s.success)return s.data;throw s.error}async safeParseAsync(e,t){const s={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:re(e)},r=this._parse({data:e,path:s.path,parent:s}),a=await(we(r)?r:Promise.resolve(r));return ft(s,a)}refine(e,t){const s=r=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(r):t;return this._refinement((r,a)=>{const i=e(r),o=()=>a.addIssue({code:l.custom,...s(r)});return typeof Promise<"u"&&i instanceof Promise?i.then(d=>d?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(e,t){return this._refinement((s,r)=>e(s)?!0:(r.addIssue(typeof t=="function"?t(s,r):t),!1))}_refinement(e){return new Y({schema:this,typeName:b.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Q.create(this,this._def)}nullable(){return ce.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return W.create(this,this._def)}promise(){return ye.create(this,this._def)}or(e){return Oe.create([this,e],this._def)}and(e){return Ee.create(this,e,this._def)}transform(e){return new Y({...T(this._def),schema:this,typeName:b.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new je({...T(this._def),innerType:this,defaultValue:t,typeName:b.ZodDefault})}brand(){return new ut({typeName:b.ZodBranded,type:this,...T(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new De({...T(this._def),innerType:this,catchValue:t,typeName:b.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Pe.create(this,e)}readonly(){return Le.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Dn=/^c[^\s-]{8,}$/i,Ln=/^[0-9a-z]+$/,zn=/^[0-9A-HJKMNP-TV-Z]{26}$/,Mn=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Pn=/^[a-z0-9_-]{21}$/i,$n=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Vn=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Un="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ke;const Jn=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Bn=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Fn=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Ot="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",qn=new RegExp(`^${Ot}$`);function Et(n){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Hn(n){return new RegExp(`^${Et(n)}$`)}function It(n){let e=`${Ot}T${Et(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function Wn(n,e){return!!((e==="v4"||!e)&&Jn.test(n)||(e==="v6"||!e)&&Bn.test(n))}class q extends N{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==m.string){const a=this._getOrReturnCtx(e);return p(a,{code:l.invalid_type,expected:m.string,received:a.parsedType}),S}const s=new M;let r;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(r=this._getOrReturnCtx(e,r),p(r,{code:l.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="max")e.data.length>a.value&&(r=this._getOrReturnCtx(e,r),p(r,{code:l.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="length"){const i=e.data.length>a.value,o=e.data.length<a.value;(i||o)&&(r=this._getOrReturnCtx(e,r),i?p(r,{code:l.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&p(r,{code:l.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),s.dirty())}else if(a.kind==="email")Vn.test(e.data)||(r=this._getOrReturnCtx(e,r),p(r,{validation:"email",code:l.invalid_string,message:a.message}),s.dirty());else if(a.kind==="emoji")Ke||(Ke=new RegExp(Un,"u")),Ke.test(e.data)||(r=this._getOrReturnCtx(e,r),p(r,{validation:"emoji",code:l.invalid_string,message:a.message}),s.dirty());else if(a.kind==="uuid")Mn.test(e.data)||(r=this._getOrReturnCtx(e,r),p(r,{validation:"uuid",code:l.invalid_string,message:a.message}),s.dirty());else if(a.kind==="nanoid")Pn.test(e.data)||(r=this._getOrReturnCtx(e,r),p(r,{validation:"nanoid",code:l.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid")Dn.test(e.data)||(r=this._getOrReturnCtx(e,r),p(r,{validation:"cuid",code:l.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid2")Ln.test(e.data)||(r=this._getOrReturnCtx(e,r),p(r,{validation:"cuid2",code:l.invalid_string,message:a.message}),s.dirty());else if(a.kind==="ulid")zn.test(e.data)||(r=this._getOrReturnCtx(e,r),p(r,{validation:"ulid",code:l.invalid_string,message:a.message}),s.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),p(r,{validation:"url",code:l.invalid_string,message:a.message}),s.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),p(r,{validation:"regex",code:l.invalid_string,message:a.message}),s.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(r=this._getOrReturnCtx(e,r),p(r,{code:l.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),s.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(r=this._getOrReturnCtx(e,r),p(r,{code:l.invalid_string,validation:{startsWith:a.value},message:a.message}),s.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(r=this._getOrReturnCtx(e,r),p(r,{code:l.invalid_string,validation:{endsWith:a.value},message:a.message}),s.dirty()):a.kind==="datetime"?It(a).test(e.data)||(r=this._getOrReturnCtx(e,r),p(r,{code:l.invalid_string,validation:"datetime",message:a.message}),s.dirty()):a.kind==="date"?qn.test(e.data)||(r=this._getOrReturnCtx(e,r),p(r,{code:l.invalid_string,validation:"date",message:a.message}),s.dirty()):a.kind==="time"?Hn(a).test(e.data)||(r=this._getOrReturnCtx(e,r),p(r,{code:l.invalid_string,validation:"time",message:a.message}),s.dirty()):a.kind==="duration"?$n.test(e.data)||(r=this._getOrReturnCtx(e,r),p(r,{validation:"duration",code:l.invalid_string,message:a.message}),s.dirty()):a.kind==="ip"?Wn(e.data,a.version)||(r=this._getOrReturnCtx(e,r),p(r,{validation:"ip",code:l.invalid_string,message:a.message}),s.dirty()):a.kind==="base64"?Fn.test(e.data)||(r=this._getOrReturnCtx(e,r),p(r,{validation:"base64",code:l.invalid_string,message:a.message}),s.dirty()):Z.assertNever(a);return{status:s.value,value:e.data}}_regex(e,t,s){return this.refinement(r=>e.test(r),{validation:t,code:l.invalid_string,...y.errToObj(s)})}_addCheck(e){return new q({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...y.errToObj(e)})}url(e){return this._addCheck({kind:"url",...y.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...y.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...y.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...y.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...y.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...y.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...y.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...y.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...y.errToObj(e)})}datetime(e){var t,s;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(s=e==null?void 0:e.local)!==null&&s!==void 0?s:!1,...y.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...y.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...y.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...y.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...y.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...y.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...y.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...y.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...y.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...y.errToObj(t)})}nonempty(e){return this.min(1,y.errToObj(e))}trim(){return new q({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new q({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new q({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}q.create=n=>{var e;return new q({checks:[],typeName:b.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...T(n)})};function Yn(n,e){const t=(n.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,r=t>s?t:s,a=parseInt(n.toFixed(r).replace(".","")),i=parseInt(e.toFixed(r).replace(".",""));return a%i/Math.pow(10,r)}class ae extends N{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==m.number){const a=this._getOrReturnCtx(e);return p(a,{code:l.invalid_type,expected:m.number,received:a.parsedType}),S}let s;const r=new M;for(const a of this._def.checks)a.kind==="int"?Z.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),p(s,{code:l.invalid_type,expected:"integer",received:"float",message:a.message}),r.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(s=this._getOrReturnCtx(e,s),p(s,{code:l.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(s=this._getOrReturnCtx(e,s),p(s,{code:l.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty()):a.kind==="multipleOf"?Yn(e.data,a.value)!==0&&(s=this._getOrReturnCtx(e,s),p(s,{code:l.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),p(s,{code:l.not_finite,message:a.message}),r.dirty()):Z.assertNever(a);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,y.toString(t))}gt(e,t){return this.setLimit("min",e,!1,y.toString(t))}lte(e,t){return this.setLimit("max",e,!0,y.toString(t))}lt(e,t){return this.setLimit("max",e,!1,y.toString(t))}setLimit(e,t,s,r){return new ae({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:y.toString(r)}]})}_addCheck(e){return new ae({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:y.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:y.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:y.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:y.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:y.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:y.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:y.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:y.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:y.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Z.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(t===null||s.value>t)&&(t=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(t)&&Number.isFinite(e)}}ae.create=n=>new ae({checks:[],typeName:b.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...T(n)});class ie extends N{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==m.bigint){const a=this._getOrReturnCtx(e);return p(a,{code:l.invalid_type,expected:m.bigint,received:a.parsedType}),S}let s;const r=new M;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(s=this._getOrReturnCtx(e,s),p(s,{code:l.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(s=this._getOrReturnCtx(e,s),p(s,{code:l.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),p(s,{code:l.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):Z.assertNever(a);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,y.toString(t))}gt(e,t){return this.setLimit("min",e,!1,y.toString(t))}lte(e,t){return this.setLimit("max",e,!0,y.toString(t))}lt(e,t){return this.setLimit("max",e,!1,y.toString(t))}setLimit(e,t,s,r){return new ie({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:y.toString(r)}]})}_addCheck(e){return new ie({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:y.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:y.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:y.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:y.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:y.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}ie.create=n=>{var e;return new ie({checks:[],typeName:b.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...T(n)})};class Te extends N{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==m.boolean){const s=this._getOrReturnCtx(e);return p(s,{code:l.invalid_type,expected:m.boolean,received:s.parsedType}),S}return P(e.data)}}Te.create=n=>new Te({typeName:b.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...T(n)});class ue extends N{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==m.date){const a=this._getOrReturnCtx(e);return p(a,{code:l.invalid_type,expected:m.date,received:a.parsedType}),S}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return p(a,{code:l.invalid_date}),S}const s=new M;let r;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(r=this._getOrReturnCtx(e,r),p(r,{code:l.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),s.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(r=this._getOrReturnCtx(e,r),p(r,{code:l.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),s.dirty()):Z.assertNever(a);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ue({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:y.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:y.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}ue.create=n=>new ue({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:b.ZodDate,...T(n)});class Fe extends N{_parse(e){if(this._getType(e)!==m.symbol){const s=this._getOrReturnCtx(e);return p(s,{code:l.invalid_type,expected:m.symbol,received:s.parsedType}),S}return P(e.data)}}Fe.create=n=>new Fe({typeName:b.ZodSymbol,...T(n)});class Ce extends N{_parse(e){if(this._getType(e)!==m.undefined){const s=this._getOrReturnCtx(e);return p(s,{code:l.invalid_type,expected:m.undefined,received:s.parsedType}),S}return P(e.data)}}Ce.create=n=>new Ce({typeName:b.ZodUndefined,...T(n)});class Ne extends N{_parse(e){if(this._getType(e)!==m.null){const s=this._getOrReturnCtx(e);return p(s,{code:l.invalid_type,expected:m.null,received:s.parsedType}),S}return P(e.data)}}Ne.create=n=>new Ne({typeName:b.ZodNull,...T(n)});class ve extends N{constructor(){super(...arguments),this._any=!0}_parse(e){return P(e.data)}}ve.create=n=>new ve({typeName:b.ZodAny,...T(n)});class de extends N{constructor(){super(...arguments),this._unknown=!0}_parse(e){return P(e.data)}}de.create=n=>new de({typeName:b.ZodUnknown,...T(n)});class ne extends N{_parse(e){const t=this._getOrReturnCtx(e);return p(t,{code:l.invalid_type,expected:m.never,received:t.parsedType}),S}}ne.create=n=>new ne({typeName:b.ZodNever,...T(n)});class qe extends N{_parse(e){if(this._getType(e)!==m.undefined){const s=this._getOrReturnCtx(e);return p(s,{code:l.invalid_type,expected:m.void,received:s.parsedType}),S}return P(e.data)}}qe.create=n=>new qe({typeName:b.ZodVoid,...T(n)});class W extends N{_parse(e){const{ctx:t,status:s}=this._processInputParams(e),r=this._def;if(t.parsedType!==m.array)return p(t,{code:l.invalid_type,expected:m.array,received:t.parsedType}),S;if(r.exactLength!==null){const i=t.data.length>r.exactLength.value,o=t.data.length<r.exactLength.value;(i||o)&&(p(t,{code:i?l.too_big:l.too_small,minimum:o?r.exactLength.value:void 0,maximum:i?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),s.dirty())}if(r.minLength!==null&&t.data.length<r.minLength.value&&(p(t,{code:l.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),s.dirty()),r.maxLength!==null&&t.data.length>r.maxLength.value&&(p(t,{code:l.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),s.dirty()),t.common.async)return Promise.all([...t.data].map((i,o)=>r.type._parseAsync(new X(t,i,t.path,o)))).then(i=>M.mergeArray(s,i));const a=[...t.data].map((i,o)=>r.type._parseSync(new X(t,i,t.path,o)));return M.mergeArray(s,a)}get element(){return this._def.type}min(e,t){return new W({...this._def,minLength:{value:e,message:y.toString(t)}})}max(e,t){return new W({...this._def,maxLength:{value:e,message:y.toString(t)}})}length(e,t){return new W({...this._def,exactLength:{value:e,message:y.toString(t)}})}nonempty(e){return this.min(1,e)}}W.create=(n,e)=>new W({type:n,minLength:null,maxLength:null,exactLength:null,typeName:b.ZodArray,...T(e)});function fe(n){if(n instanceof L){const e={};for(const t in n.shape){const s=n.shape[t];e[t]=Q.create(fe(s))}return new L({...n._def,shape:()=>e})}else return n instanceof W?new W({...n._def,type:fe(n.element)}):n instanceof Q?Q.create(fe(n.unwrap())):n instanceof ce?ce.create(fe(n.unwrap())):n instanceof K?K.create(n.items.map(e=>fe(e))):n}class L extends N{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Z.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==m.object){const c=this._getOrReturnCtx(e);return p(c,{code:l.invalid_type,expected:m.object,received:c.parsedType}),S}const{status:s,ctx:r}=this._processInputParams(e),{shape:a,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof ne&&this._def.unknownKeys==="strip"))for(const c in r.data)i.includes(c)||o.push(c);const d=[];for(const c of i){const h=a[c],O=r.data[c];d.push({key:{status:"valid",value:c},value:h._parse(new X(r,O,r.path,c)),alwaysSet:c in r.data})}if(this._def.catchall instanceof ne){const c=this._def.unknownKeys;if(c==="passthrough")for(const h of o)d.push({key:{status:"valid",value:h},value:{status:"valid",value:r.data[h]}});else if(c==="strict")o.length>0&&(p(r,{code:l.unrecognized_keys,keys:o}),s.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const h of o){const O=r.data[h];d.push({key:{status:"valid",value:h},value:c._parse(new X(r,O,r.path,h)),alwaysSet:h in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const c=[];for(const h of d){const O=await h.key,R=await h.value;c.push({key:O,value:R,alwaysSet:h.alwaysSet})}return c}).then(c=>M.mergeObjectSync(s,c)):M.mergeObjectSync(s,d)}get shape(){return this._def.shape()}strict(e){return y.errToObj,new L({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,s)=>{var r,a,i,o;const d=(i=(a=(r=this._def).errorMap)===null||a===void 0?void 0:a.call(r,t,s).message)!==null&&i!==void 0?i:s.defaultError;return t.code==="unrecognized_keys"?{message:(o=y.errToObj(e).message)!==null&&o!==void 0?o:d}:{message:d}}}:{}})}strip(){return new L({...this._def,unknownKeys:"strip"})}passthrough(){return new L({...this._def,unknownKeys:"passthrough"})}extend(e){return new L({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new L({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:b.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new L({...this._def,catchall:e})}pick(e){const t={};return Z.objectKeys(e).forEach(s=>{e[s]&&this.shape[s]&&(t[s]=this.shape[s])}),new L({...this._def,shape:()=>t})}omit(e){const t={};return Z.objectKeys(this.shape).forEach(s=>{e[s]||(t[s]=this.shape[s])}),new L({...this._def,shape:()=>t})}deepPartial(){return fe(this)}partial(e){const t={};return Z.objectKeys(this.shape).forEach(s=>{const r=this.shape[s];e&&!e[s]?t[s]=r:t[s]=r.optional()}),new L({...this._def,shape:()=>t})}required(e){const t={};return Z.objectKeys(this.shape).forEach(s=>{if(e&&!e[s])t[s]=this.shape[s];else{let a=this.shape[s];for(;a instanceof Q;)a=a._def.innerType;t[s]=a}}),new L({...this._def,shape:()=>t})}keyof(){return Zt(Z.objectKeys(this.shape))}}L.create=(n,e)=>new L({shape:()=>n,unknownKeys:"strip",catchall:ne.create(),typeName:b.ZodObject,...T(e)});L.strictCreate=(n,e)=>new L({shape:()=>n,unknownKeys:"strict",catchall:ne.create(),typeName:b.ZodObject,...T(e)});L.lazycreate=(n,e)=>new L({shape:n,unknownKeys:"strip",catchall:ne.create(),typeName:b.ZodObject,...T(e)});class Oe extends N{_parse(e){const{ctx:t}=this._processInputParams(e),s=this._def.options;function r(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return t.common.issues.push(...o.ctx.common.issues),o.result;const i=a.map(o=>new V(o.ctx.common.issues));return p(t,{code:l.invalid_union,unionErrors:i}),S}if(t.common.async)return Promise.all(s.map(async a=>{const i={...t,common:{...t.common,issues:[]},parent:null};return{result:await a._parseAsync({data:t.data,path:t.path,parent:i}),ctx:i}})).then(r);{let a;const i=[];for(const d of s){const c={...t,common:{...t.common,issues:[]},parent:null},h=d._parseSync({data:t.data,path:t.path,parent:c});if(h.status==="valid")return h;h.status==="dirty"&&!a&&(a={result:h,ctx:c}),c.common.issues.length&&i.push(c.common.issues)}if(a)return t.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(d=>new V(d));return p(t,{code:l.invalid_union,unionErrors:o}),S}}get options(){return this._def.options}}Oe.create=(n,e)=>new Oe({options:n,typeName:b.ZodUnion,...T(e)});const te=n=>n instanceof Ze?te(n.schema):n instanceof Y?te(n.innerType()):n instanceof Re?[n.value]:n instanceof oe?n.options:n instanceof Ae?Z.objectValues(n.enum):n instanceof je?te(n._def.innerType):n instanceof Ce?[void 0]:n instanceof Ne?[null]:n instanceof Q?[void 0,...te(n.unwrap())]:n instanceof ce?[null,...te(n.unwrap())]:n instanceof ut||n instanceof Le?te(n.unwrap()):n instanceof De?te(n._def.innerType):[];class Xe extends N{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==m.object)return p(t,{code:l.invalid_type,expected:m.object,received:t.parsedType}),S;const s=this.discriminator,r=t.data[s],a=this.optionsMap.get(r);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(p(t,{code:l.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),S)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,s){const r=new Map;for(const a of t){const i=te(a.shape[e]);if(!i.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of i){if(r.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);r.set(o,a)}}return new Xe({typeName:b.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...T(s)})}}function st(n,e){const t=re(n),s=re(e);if(n===e)return{valid:!0,data:n};if(t===m.object&&s===m.object){const r=Z.objectKeys(e),a=Z.objectKeys(n).filter(o=>r.indexOf(o)!==-1),i={...n,...e};for(const o of a){const d=st(n[o],e[o]);if(!d.valid)return{valid:!1};i[o]=d.data}return{valid:!0,data:i}}else if(t===m.array&&s===m.array){if(n.length!==e.length)return{valid:!1};const r=[];for(let a=0;a<n.length;a++){const i=n[a],o=e[a],d=st(i,o);if(!d.valid)return{valid:!1};r.push(d.data)}return{valid:!0,data:r}}else return t===m.date&&s===m.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class Ee extends N{_parse(e){const{status:t,ctx:s}=this._processInputParams(e),r=(a,i)=>{if(tt(a)||tt(i))return S;const o=st(a.value,i.value);return o.valid?((nt(a)||nt(i))&&t.dirty(),{status:t.value,value:o.data}):(p(s,{code:l.invalid_intersection_types}),S)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([a,i])=>r(a,i)):r(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Ee.create=(n,e,t)=>new Ee({left:n,right:e,typeName:b.ZodIntersection,...T(t)});class K extends N{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==m.array)return p(s,{code:l.invalid_type,expected:m.array,received:s.parsedType}),S;if(s.data.length<this._def.items.length)return p(s,{code:l.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),S;!this._def.rest&&s.data.length>this._def.items.length&&(p(s,{code:l.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const a=[...s.data].map((i,o)=>{const d=this._def.items[o]||this._def.rest;return d?d._parse(new X(s,i,s.path,o)):null}).filter(i=>!!i);return s.common.async?Promise.all(a).then(i=>M.mergeArray(t,i)):M.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new K({...this._def,rest:e})}}K.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new K({items:n,typeName:b.ZodTuple,rest:null,...T(e)})};class Ie extends N{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==m.object)return p(s,{code:l.invalid_type,expected:m.object,received:s.parsedType}),S;const r=[],a=this._def.keyType,i=this._def.valueType;for(const o in s.data)r.push({key:a._parse(new X(s,o,s.path,o)),value:i._parse(new X(s,s.data[o],s.path,o)),alwaysSet:o in s.data});return s.common.async?M.mergeObjectAsync(t,r):M.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,s){return t instanceof N?new Ie({keyType:e,valueType:t,typeName:b.ZodRecord,...T(s)}):new Ie({keyType:q.create(),valueType:e,typeName:b.ZodRecord,...T(t)})}}class He extends N{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==m.map)return p(s,{code:l.invalid_type,expected:m.map,received:s.parsedType}),S;const r=this._def.keyType,a=this._def.valueType,i=[...s.data.entries()].map(([o,d],c)=>({key:r._parse(new X(s,o,s.path,[c,"key"])),value:a._parse(new X(s,d,s.path,[c,"value"]))}));if(s.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const d of i){const c=await d.key,h=await d.value;if(c.status==="aborted"||h.status==="aborted")return S;(c.status==="dirty"||h.status==="dirty")&&t.dirty(),o.set(c.value,h.value)}return{status:t.value,value:o}})}else{const o=new Map;for(const d of i){const c=d.key,h=d.value;if(c.status==="aborted"||h.status==="aborted")return S;(c.status==="dirty"||h.status==="dirty")&&t.dirty(),o.set(c.value,h.value)}return{status:t.value,value:o}}}}He.create=(n,e,t)=>new He({valueType:e,keyType:n,typeName:b.ZodMap,...T(t)});class he extends N{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==m.set)return p(s,{code:l.invalid_type,expected:m.set,received:s.parsedType}),S;const r=this._def;r.minSize!==null&&s.data.size<r.minSize.value&&(p(s,{code:l.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),r.maxSize!==null&&s.data.size>r.maxSize.value&&(p(s,{code:l.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const a=this._def.valueType;function i(d){const c=new Set;for(const h of d){if(h.status==="aborted")return S;h.status==="dirty"&&t.dirty(),c.add(h.value)}return{status:t.value,value:c}}const o=[...s.data.values()].map((d,c)=>a._parse(new X(s,d,s.path,c)));return s.common.async?Promise.all(o).then(d=>i(d)):i(o)}min(e,t){return new he({...this._def,minSize:{value:e,message:y.toString(t)}})}max(e,t){return new he({...this._def,maxSize:{value:e,message:y.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}he.create=(n,e)=>new he({valueType:n,minSize:null,maxSize:null,typeName:b.ZodSet,...T(e)});class me extends N{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==m.function)return p(t,{code:l.invalid_type,expected:m.function,received:t.parsedType}),S;function s(o,d){return Je({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Ue(),ge].filter(c=>!!c),issueData:{code:l.invalid_arguments,argumentsError:d}})}function r(o,d){return Je({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Ue(),ge].filter(c=>!!c),issueData:{code:l.invalid_return_type,returnTypeError:d}})}const a={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof ye){const o=this;return P(async function(...d){const c=new V([]),h=await o._def.args.parseAsync(d,a).catch(_=>{throw c.addIssue(s(d,_)),c}),O=await Reflect.apply(i,this,h);return await o._def.returns._def.type.parseAsync(O,a).catch(_=>{throw c.addIssue(r(O,_)),c})})}else{const o=this;return P(function(...d){const c=o._def.args.safeParse(d,a);if(!c.success)throw new V([s(d,c.error)]);const h=Reflect.apply(i,this,c.data),O=o._def.returns.safeParse(h,a);if(!O.success)throw new V([r(h,O.error)]);return O.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new me({...this._def,args:K.create(e).rest(de.create())})}returns(e){return new me({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,s){return new me({args:e||K.create([]).rest(de.create()),returns:t||de.create(),typeName:b.ZodFunction,...T(s)})}}class Ze extends N{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Ze.create=(n,e)=>new Ze({getter:n,typeName:b.ZodLazy,...T(e)});class Re extends N{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return p(t,{received:t.data,code:l.invalid_literal,expected:this._def.value}),S}return{status:"valid",value:e.data}}get value(){return this._def.value}}Re.create=(n,e)=>new Re({value:n,typeName:b.ZodLiteral,...T(e)});function Zt(n,e){return new oe({values:n,typeName:b.ZodEnum,...T(e)})}class oe extends N{constructor(){super(...arguments),xe.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),s=this._def.values;return p(t,{expected:Z.joinValues(s),received:t.parsedType,code:l.invalid_type}),S}if(Be(this,xe)||Nt(this,xe,new Set(this._def.values)),!Be(this,xe).has(e.data)){const t=this._getOrReturnCtx(e),s=this._def.values;return p(t,{received:t.data,code:l.invalid_enum_value,options:s}),S}return P(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return oe.create(e,{...this._def,...t})}exclude(e,t=this._def){return oe.create(this.options.filter(s=>!e.includes(s)),{...this._def,...t})}}xe=new WeakMap;oe.create=Zt;class Ae extends N{constructor(){super(...arguments),ke.set(this,void 0)}_parse(e){const t=Z.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==m.string&&s.parsedType!==m.number){const r=Z.objectValues(t);return p(s,{expected:Z.joinValues(r),received:s.parsedType,code:l.invalid_type}),S}if(Be(this,ke)||Nt(this,ke,new Set(Z.getValidEnumValues(this._def.values))),!Be(this,ke).has(e.data)){const r=Z.objectValues(t);return p(s,{received:s.data,code:l.invalid_enum_value,options:r}),S}return P(e.data)}get enum(){return this._def.values}}ke=new WeakMap;Ae.create=(n,e)=>new Ae({values:n,typeName:b.ZodNativeEnum,...T(e)});class ye extends N{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==m.promise&&t.common.async===!1)return p(t,{code:l.invalid_type,expected:m.promise,received:t.parsedType}),S;const s=t.parsedType===m.promise?t.data:Promise.resolve(t.data);return P(s.then(r=>this._def.type.parseAsync(r,{path:t.path,errorMap:t.common.contextualErrorMap})))}}ye.create=(n,e)=>new ye({type:n,typeName:b.ZodPromise,...T(e)});class Y extends N{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===b.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:s}=this._processInputParams(e),r=this._def.effect||null,a={addIssue:i=>{p(s,i),i.fatal?t.abort():t.dirty()},get path(){return s.path}};if(a.addIssue=a.addIssue.bind(a),r.type==="preprocess"){const i=r.transform(s.data,a);if(s.common.async)return Promise.resolve(i).then(async o=>{if(t.value==="aborted")return S;const d=await this._def.schema._parseAsync({data:o,path:s.path,parent:s});return d.status==="aborted"?S:d.status==="dirty"||t.value==="dirty"?pe(d.value):d});{if(t.value==="aborted")return S;const o=this._def.schema._parseSync({data:i,path:s.path,parent:s});return o.status==="aborted"?S:o.status==="dirty"||t.value==="dirty"?pe(o.value):o}}if(r.type==="refinement"){const i=o=>{const d=r.refinement(o,a);if(s.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return o.status==="aborted"?S:(o.status==="dirty"&&t.dirty(),i(o.value),{status:t.value,value:o.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>o.status==="aborted"?S:(o.status==="dirty"&&t.dirty(),i(o.value).then(()=>({status:t.value,value:o.value}))))}if(r.type==="transform")if(s.common.async===!1){const i=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Se(i))return i;const o=r.transform(i.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(i=>Se(i)?Promise.resolve(r.transform(i.value,a)).then(o=>({status:t.value,value:o})):i);Z.assertNever(r)}}Y.create=(n,e,t)=>new Y({schema:n,typeName:b.ZodEffects,effect:e,...T(t)});Y.createWithPreprocess=(n,e,t)=>new Y({schema:e,effect:{type:"preprocess",transform:n},typeName:b.ZodEffects,...T(t)});class Q extends N{_parse(e){return this._getType(e)===m.undefined?P(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Q.create=(n,e)=>new Q({innerType:n,typeName:b.ZodOptional,...T(e)});class ce extends N{_parse(e){return this._getType(e)===m.null?P(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ce.create=(n,e)=>new ce({innerType:n,typeName:b.ZodNullable,...T(e)});class je extends N{_parse(e){const{ctx:t}=this._processInputParams(e);let s=t.data;return t.parsedType===m.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}je.create=(n,e)=>new je({innerType:n,typeName:b.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...T(e)});class De extends N{_parse(e){const{ctx:t}=this._processInputParams(e),s={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return we(r)?r.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new V(s.common.issues)},input:s.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new V(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}De.create=(n,e)=>new De({innerType:n,typeName:b.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...T(e)});class We extends N{_parse(e){if(this._getType(e)!==m.nan){const s=this._getOrReturnCtx(e);return p(s,{code:l.invalid_type,expected:m.nan,received:s.parsedType}),S}return{status:"valid",value:e.data}}}We.create=n=>new We({typeName:b.ZodNaN,...T(n)});const Gn=Symbol("zod_brand");class ut extends N{_parse(e){const{ctx:t}=this._processInputParams(e),s=t.data;return this._def.type._parse({data:s,path:t.path,parent:t})}unwrap(){return this._def.type}}class Pe extends N{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?S:a.status==="dirty"?(t.dirty(),pe(a.value)):this._def.out._parseAsync({data:a.value,path:s.path,parent:s})})();{const r=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return r.status==="aborted"?S:r.status==="dirty"?(t.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:s.path,parent:s})}}static create(e,t){return new Pe({in:e,out:t,typeName:b.ZodPipeline})}}class Le extends N{_parse(e){const t=this._def.innerType._parse(e),s=r=>(Se(r)&&(r.value=Object.freeze(r.value)),r);return we(t)?t.then(r=>s(r)):s(t)}unwrap(){return this._def.innerType}}Le.create=(n,e)=>new Le({innerType:n,typeName:b.ZodReadonly,...T(e)});function Rt(n,e={},t){return n?ve.create().superRefine((s,r)=>{var a,i;if(!n(s)){const o=typeof e=="function"?e(s):typeof e=="string"?{message:e}:e,d=(i=(a=o.fatal)!==null&&a!==void 0?a:t)!==null&&i!==void 0?i:!0,c=typeof o=="string"?{message:o}:o;r.addIssue({code:"custom",...c,fatal:d})}}):ve.create()}const Qn={object:L.lazycreate};var b;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(b||(b={}));const Xn=(n,e={message:`Input not instance of ${n.name}`})=>Rt(t=>t instanceof n,e),At=q.create,jt=ae.create,Kn=We.create,es=ie.create,Dt=Te.create,ts=ue.create,ns=Fe.create,ss=Ce.create,rs=Ne.create,as=ve.create,is=de.create,os=ne.create,cs=qe.create,ds=W.create,ls=L.create,us=L.strictCreate,hs=Oe.create,fs=Xe.create,ps=Ee.create,ms=K.create,gs=Ie.create,vs=He.create,ys=he.create,_s=me.create,xs=Ze.create,ks=Re.create,bs=oe.create,Ss=Ae.create,ws=ye.create,pt=Y.create,Ts=Q.create,Cs=ce.create,Ns=Y.createWithPreprocess,Os=Pe.create,Es=()=>At().optional(),Is=()=>jt().optional(),Zs=()=>Dt().optional(),Rs={string:n=>q.create({...n,coerce:!0}),number:n=>ae.create({...n,coerce:!0}),boolean:n=>Te.create({...n,coerce:!0}),bigint:n=>ie.create({...n,coerce:!0}),date:n=>ue.create({...n,coerce:!0})},As=S;var js=Object.freeze({__proto__:null,defaultErrorMap:ge,setErrorMap:An,getErrorMap:Ue,makeIssue:Je,EMPTY_PATH:jn,addIssueToContext:p,ParseStatus:M,INVALID:S,DIRTY:pe,OK:P,isAborted:tt,isDirty:nt,isValid:Se,isAsync:we,get util(){return Z},get objectUtil(){return et},ZodParsedType:m,getParsedType:re,ZodType:N,datetimeRegex:It,ZodString:q,ZodNumber:ae,ZodBigInt:ie,ZodBoolean:Te,ZodDate:ue,ZodSymbol:Fe,ZodUndefined:Ce,ZodNull:Ne,ZodAny:ve,ZodUnknown:de,ZodNever:ne,ZodVoid:qe,ZodArray:W,ZodObject:L,ZodUnion:Oe,ZodDiscriminatedUnion:Xe,ZodIntersection:Ee,ZodTuple:K,ZodRecord:Ie,ZodMap:He,ZodSet:he,ZodFunction:me,ZodLazy:Ze,ZodLiteral:Re,ZodEnum:oe,ZodNativeEnum:Ae,ZodPromise:ye,ZodEffects:Y,ZodTransformer:Y,ZodOptional:Q,ZodNullable:ce,ZodDefault:je,ZodCatch:De,ZodNaN:We,BRAND:Gn,ZodBranded:ut,ZodPipeline:Pe,ZodReadonly:Le,custom:Rt,Schema:N,ZodSchema:N,late:Qn,get ZodFirstPartyTypeKind(){return b},coerce:Rs,any:as,array:ds,bigint:es,boolean:Dt,date:ts,discriminatedUnion:fs,effect:pt,enum:bs,function:_s,instanceof:Xn,intersection:ps,lazy:xs,literal:ks,map:vs,nan:Kn,nativeEnum:Ss,never:os,null:rs,nullable:Cs,number:jt,object:ls,oboolean:Zs,onumber:Is,optional:Ts,ostring:Es,pipeline:Os,preprocess:Ns,promise:ws,record:gs,set:ys,strictObject:us,string:At,symbol:ns,transformer:pt,tuple:ms,undefined:ss,union:hs,unknown:is,void:cs,NEVER:As,ZodIssueCode:l,quotelessJson:Rn,ZodError:V});const Ds=n=>G("display:flex;flex-direction:column;flex:1;flex-wrap:wrap;width:400px;border:1px solid ",n.accentNeutral,";padding:5px;border-radius:3px;margin-left:10px;",""),Ls=G({name:"1reekiy",styles:"display:flex;padding:4px 12px;font-size:14px;border-radius:4px;white-space:nowrap;align-items:center;justify-content:space-between"}),zs=G({name:"t10jb8",styles:"margin:5px"}),Ms=G({name:"1wnuhlc",styles:"margin-left:20px;display:flex;align-items:center;span{font-size:12px;}"}),Ps=G({name:"17moij0",styles:"align-items:center;width:100%;display:flex;margin-top:10px;justify-content:space-between;flex:1"}),$s=js.string().url(),Vs=n=>{const[e,t]=D.useState(""),[s,r]=D.useState(""),[a,i]=D.useState(""),[o,d]=D.useState(!1),[c,h]=D.useState(!1),[O,R]=D.useState(!1),_=U(I=>I.dataSources),E=ee(),f="Save",v=Me(),g=I=>{var se;const z=((se=I==null?void 0:I.target)==null?void 0:se.value)||"",$e=$s.safeParse(z);R(()=>$e.success),t(()=>z)},k=I=>{r(()=>I.target.value)},C=I=>{i(()=>I.target.value)},x=I=>{d(()=>I.target.checked)},A=I=>{h(()=>I.target.checked)},J=I=>{const z=JSON.parse(JSON.stringify(_)),$e=z==null?void 0:z.map(se=>({...se,url:e,auth:{...se.auth,basicAuth:{...se.auth.basicAuth,value:c},fields:{...se.auth.fields,basicAuth:[...se.auth.fields.basicAuth].map(_e=>_e.name==="user"?{..._e,value:s}:_e.name==="password"?{..._e,value:a}:_e)}}}));localStorage.setItem("dataSources",JSON.stringify($e)),E($($e))};return w("div",{className:F(Ds(v)),children:[w("div",{className:F(Ls),children:["Use one setting for all Data Sources",u(Ve,{checked:o,size:"small",onChange:x})]}),o&&w("div",{className:F(zs),children:[u(H,{value:j.sanitize(e),label:"url",onChange:g,placeholder:window.location.origin}),c&&w(ze,{children:[u(H,{value:j.sanitize(s),label:"user",onChange:k,placeholder:"default"}),u(H,{value:j.sanitize(a),label:"password",onChange:C,type:"password",placeholder:""})]}),w("div",{className:F(Ps),children:[w("div",{className:F(Ms),children:[u("span",{children:"Use Basic Auth"})," ",u(Ve,{checked:c,size:"small",onChange:A})," "]}),u(be,{value:j.sanitize(f),disabled:!O,onClick:J,editing:!1,primary:O})]})]})]})};function Xs(n){const e=n.replace(/#/,""),t=decodeURIComponent(e),s=new URLSearchParams(t);for(let[r,a]of s)(r==="left"||r==="right")&&JSON.parse(a)}function Ks(){const n=Ft.useMediaQuery({query:"(prefers-color-scheme: dark)"}),e=ee(),t=Me(),s=U(r=>r.autoTheme);return D.useEffect(()=>{if(s){const r=n?"dark":"light";e(tn(r)),localStorage.setItem("theme",JSON.stringify({theme:r,auto:s}))}},[n,s,e]),w(yt,{theme:t,children:[u(en,{children:w("div",{className:"cont",children:[u(Tn,{}),u("div",{style:{display:"flex",flex:1},children:u("div",{style:{height:"40px"},children:u(Vs,{})})})]})}),u(Ht,{children:u(qt,{path:":id",element:u(Zn,{})})})]})}export{Ks as default,Xs as getURlParams};
