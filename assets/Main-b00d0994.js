import{k as Bp,m as qp,n as Wp,o as Ti,r as hr,p as Up,q as Qp,t as Gp,c as Qn,v as nc,b as Sr,w as wr,x as Zr,s as Tn,B as Kp,y as hd,z as Ht,a as vi,A as Jp,u as Tr,C as ao,D as en,E as It,d as f,g as Pe,G as pd,H as gd,h as oe,f as qe,j as F,i as ve,I as Yp,J as Pa,P as md,F as mt,K as vd,l as bd,e as jn,L as oo,M as Xp,O as Zp}from"./index-89b5df7a.js";import{a as yt,d as Cr,m as zt,u as Re,q as ei,x as sa,y as ui,z as rc,A as ic,D as $a,E as za,F as Va,G as aa,H as eg,I as tg,J as zr,K as Ur,M as lo,Q as ng,S as yn,T as rg,U as yd,V as xd,W as co,X as bi,Y as sc,Z as Sd,$ as Bn,n as Gn,o as Sn,a0 as ig,a1 as sg,a2 as ag,a3 as og,a4 as lg,a5 as cg,j as Pn,a6 as ug,w as wn,a7 as Ui,a8 as ac,a9 as oc,aa as dg,ab as fg,ac as hg,ad as uo,ae as pg,af as lc,v as cc,r as gg}from"./vendor-154e05f8.js";import{h as nn}from"./moment-e9e012b5.js";import{r as b,c as wd,a as Ni,R as ln,d as Ci}from"./react-5ef71a40.js";import{f as Td,h as cs,u as fo,s as mg,i as vg,T as Lt,C as bg,D as ho,j as po,k as yg,l as xg,m as Sg,o as wg,p as Tg,q as Cg,r as kg,E as Eg,t as go,v as _g,w as Cd,x as nt,b as Ig,y as di,M as Fa,z as Rg,A as kd,G as Vr,H as Mg,I as Ng,J as Og,K as Lg,L as Fr,N as Dg,R as Ed,O as fr,d as Ag,Q as _d,U as Id,V as Rd,W as mo,X as Oi,Y as Pg,Z as $g,_ as Md,$ as uc,n as tr,a as ns,a0 as Nd,a1 as zg,a2 as Vg,a3 as Fg,a4 as Od,a5 as Ld,a6 as Dd,a7 as ja,a8 as Ad,P as Li,a9 as jg,aa as Hg,ab as dc,S as Bg,ac as qg,ad as fc}from"./consts-8bbad01d.js";import{s as Pd,B as vo}from"./DeleteOutlineOutlined-ca5edd1c.js";import{l as Ft}from"./lodash-92c2b3e1.js";import{a as Wg,u as $d,r as Tt,i as Ct,S as xn}from"./createSvgIcon-2dba4d94.js";import{j as Be,u as Ug,b as Qg,H as Gg,D as Kg}from"./reactDnd-30d7bbb0.js";import{k as zd,d as Vd,s as Jg,i as Yg,g as Xg,_ as Zg,b as vt,S as bo,e as Fd,j as Di,f as jd}from"./reactSelect-0cdb4520.js";import{r as em,f as hc,u as tm,g as nm,a as rm,b as im,c as sm,d as am,e as om,h as lm,i as cm}from"./reactTable-5a308316.js";import{m as ti,d as um,a as dm,u as pc}from"./memoize-ac76fba7.js";import{m as Hd}from"./momentTimeZone-25b7492d.js";import{w as fm,a as hm,T as pm,S as gm,E as mm,c as vm}from"./slate-cfc13f69.js";import{F as Qi,d as Ai,s as us,e as yo}from"./AddOutlined-e29fe36c.js";import{P as bm,u as ym,L as gc}from"./PluginManagerFactory-1bc064fa.js";import{s as xm}from"./actions-2742fbfc.js";const xo=e=>t=>{t({type:"SET_START_TIME",start:e})},So=e=>t=>{t({type:"SET_STOP_TIME",stop:e})},Sm=e=>t=>{t({type:"SET_QUERY_STEP",step:e})},mc=e=>t=>{t({type:"SET_RANGE_OPEN",rangeOpen:e})},wo=e=>t=>{t({type:"SET_TIME_RANGE_LABEL",label:e})},Bd=e=>t=>{t({type:"SET_QUERY_TIME",time:e})},rs=e=>t=>{t({type:"SET_QUERY_HISTORY",queryHistory:e})},qd=e=>t=>{t({type:"SET_HISTORY_OPEN",historyOpen:e})};function wm(e){return function(t){t({type:"SET_FROM_TIME",toTime:e})}}function Tm(e){return function(t){t({type:"SET_TO_TIME"})}}const mr=e=>t=>{t({type:"SET_IS_EMPTY_VIEW",isEmptyView:e})};function Cm(e){return function(t){t({type:"SET_RESPONSE_TYPE",responseType:e})}}const Yt=e=>t=>{t({type:"SET_RIGHT_PANEL",right:e})},cn=e=>t=>{t({type:"SET_LEFT_PANEL",left:e})},kr=e=>t=>{t({type:"SET_RIGHT_DATAVIEW",rightDataView:e})},Er=e=>t=>{t({type:"SET_LEFT_DATAVIEW",leftDataView:e})},km=e=>t=>{t({type:"SET_SPLIT_VIEW",isSplit:e})},Em=Bp(),_m=Em,Im=["component","direction","spacing","divider","children","className","useFlexGap"],Rm=qp(),Mm=_m("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function Nm(e){return Wp({props:e,name:"MuiStack",defaultTheme:Rm})}function Om(e,t){const n=b.Children.toArray(e).filter(Boolean);return n.reduce((r,i,s)=>(r.push(i),s<n.length-1&&r.push(b.cloneElement(t,{key:`separator-${s}`})),r),[])}const Lm=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],Dm=({ownerState:e,theme:t})=>{let n=yt({display:"flex",flexDirection:"column"},Ti({theme:t},hr({values:e.direction,breakpoints:t.breakpoints.values}),r=>({flexDirection:r})));if(e.spacing){const r=Up(t),i=Object.keys(t.breakpoints.values).reduce((c,h)=>((typeof e.spacing=="object"&&e.spacing[h]!=null||typeof e.direction=="object"&&e.direction[h]!=null)&&(c[h]=!0),c),{}),s=hr({values:e.direction,base:i}),o=hr({values:e.spacing,base:i});typeof s=="object"&&Object.keys(s).forEach((c,h,u)=>{if(!s[c]){const S=h>0?s[u[h-1]]:"column";s[c]=S}}),n=Qp(n,Ti({theme:t},o,(c,h)=>e.useFlexGap?{gap:nc(r,c)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Lm(h?s[h]:e.direction)}`]:nc(r,c)}}))}return n=Gp(t.breakpoints,n),n};function Am(e={}){const{createStyledComponent:t=Mm,useThemeProps:n=Nm,componentName:r="MuiStack"}=e,i=()=>Sr({root:["root"]},c=>wr(r,c),{}),s=t(Dm);return b.forwardRef(function(c,h){const u=n(c),g=Td(u),{component:S="div",direction:w="column",spacing:m=0,divider:C,children:k,className:T,useFlexGap:x=!1}=g,N=Cr(g,Im),I={direction:w,spacing:m,useFlexGap:x},O=i();return Be.jsx(s,yt({as:S,ownerState:I,ref:h,className:Qn(O.root,T)},N,{children:C?Om(k,C):k}))})}function Wd({props:e,states:t,muiFormControl:n}){return t.reduce((r,i)=>(r[i]=e[i],n&&typeof e[i]>"u"&&(r[i]=n[i]),r),{})}function Pm(e){return wr("MuiButton",e)}const $m=Zr("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Gi=$m,zm=b.createContext({}),Vm=zm,Fm=b.createContext(void 0),jm=Fm,Hm=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Bm=e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=e,l={root:["root",s,`${s}${Ht(t)}`,`size${Ht(i)}`,`${s}Size${Ht(i)}`,t==="inherit"&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${Ht(i)}`],endIcon:["endIcon",`iconSize${Ht(i)}`]},c=Sr(l,Pm,o);return yt({},o,c)},Ud=e=>yt({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),qm=Tn(Kp,{shouldForwardProp:e=>hd(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Ht(n.color)}`],t[`size${Ht(n.size)}`],t[`${n.variant}Size${Ht(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var n,r;const i=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],s=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return yt({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":yt({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:vi(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:vi(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:vi(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":yt({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${Gi.focusVisible}`]:yt({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${Gi.disabled}`]:yt({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${vi(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(n=(r=e.palette).getContrastText)==null?void 0:n.call(r,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:i,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Gi.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Gi.disabled}`]:{boxShadow:"none"}}),Wm=Tn("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${Ht(n.size)}`]]}})(({ownerState:e})=>yt({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},Ud(e))),Um=Tn("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${Ht(n.size)}`]]}})(({ownerState:e})=>yt({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},Ud(e))),Qm=b.forwardRef(function(t,n){const r=b.useContext(Vm),i=b.useContext(jm),s=Jp(r,t),o=Tr({props:s,name:"MuiButton"}),{children:l,color:c="primary",component:h="button",className:u,disabled:g=!1,disableElevation:S=!1,disableFocusRipple:w=!1,endIcon:m,focusVisibleClassName:C,fullWidth:k=!1,size:T="medium",startIcon:x,type:N,variant:I="text"}=o,O=Cr(o,Hm),D=yt({},o,{color:c,component:h,disabled:g,disableElevation:S,disableFocusRipple:w,fullWidth:k,size:T,type:N,variant:I}),p=Bm(D),E=x&&Be.jsx(Wm,{className:p.startIcon,ownerState:D,children:x}),_=m&&Be.jsx(Um,{className:p.endIcon,ownerState:D,children:m}),A=i||"";return Be.jsxs(qm,yt({ownerState:D,className:Qn(r.className,p.root,u,A),component:h,disabled:g,focusRipple:!w,focusVisibleClassName:Qn(p.focusVisible,C),ref:n,type:N},O,{classes:p,children:[E,l,_]}))}),Qd=Qm,Gm=ao(Be.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),Km=ao(Be.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),Jm=ao(Be.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function Ym(e){return wr("MuiCheckbox",e)}const Xm=Zr("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),oa=Xm,Zm=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],ev=e=>{const{classes:t,indeterminate:n,color:r,size:i}=e,s={root:["root",n&&"indeterminate",`color${Ht(r)}`,`size${Ht(i)}`]},o=Sr(s,Ym,t);return yt({},t,o)},tv=Tn(Wg,{shouldForwardProp:e=>hd(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t[`size${Ht(n.size)}`],n.color!=="default"&&t[`color${Ht(n.color)}`]]}})(({theme:e,ownerState:t})=>yt({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${t.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:vi(t.color==="default"?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${oa.checked}, &.${oa.indeterminate}`]:{color:(e.vars||e).palette[t.color].main},[`&.${oa.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),nv=Be.jsx(Km,{}),rv=Be.jsx(Gm,{}),iv=Be.jsx(Jm,{}),sv=b.forwardRef(function(t,n){var r,i;const s=Tr({props:t,name:"MuiCheckbox"}),{checkedIcon:o=nv,color:l="primary",icon:c=rv,indeterminate:h=!1,indeterminateIcon:u=iv,inputProps:g,size:S="medium",className:w}=s,m=Cr(s,Zm),C=h?u:c,k=h?u:o,T=yt({},s,{color:l,indeterminate:h,size:S}),x=ev(T);return Be.jsx(tv,yt({type:"checkbox",inputProps:yt({"data-indeterminate":h},g),icon:b.cloneElement(C,{fontSize:(r=C.props.fontSize)!=null?r:S}),checkedIcon:b.cloneElement(k,{fontSize:(i=k.props.fontSize)!=null?i:S}),ownerState:T,ref:n,className:Qn(x.root,w)},m,{classes:x}))}),av=sv;function ov(e){return wr("MuiCircularProgress",e)}Zr("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const lv=["className","color","disableShrink","size","style","thickness","value","variant"];let Ts=e=>e,vc,bc,yc,xc;const Zn=44,cv=zd(vc||(vc=Ts`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),uv=zd(bc||(bc=Ts`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),dv=e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,s={root:["root",n,`color${Ht(r)}`],svg:["svg"],circle:["circle",`circle${Ht(n)}`,i&&"circleDisableShrink"]};return Sr(s,ov,t)},fv=Tn("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${Ht(n.color)}`]]}})(({ownerState:e,theme:t})=>yt({display:"inline-block"},e.variant==="determinate"&&{transition:t.transitions.create("transform")},e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&Vd(yc||(yc=Ts`
      animation: ${0} 1.4s linear infinite;
    `),cv)),hv=Tn("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),pv=Tn("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${Ht(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>yt({stroke:"currentColor"},e.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&Vd(xc||(xc=Ts`
      animation: ${0} 1.4s ease-in-out infinite;
    `),uv)),gv=b.forwardRef(function(t,n){const r=Tr({props:t,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:l=40,style:c,thickness:h=3.6,value:u=0,variant:g="indeterminate"}=r,S=Cr(r,lv),w=yt({},r,{color:s,disableShrink:o,size:l,thickness:h,value:u,variant:g}),m=dv(w),C={},k={},T={};if(g==="determinate"){const x=2*Math.PI*((Zn-h)/2);C.strokeDasharray=x.toFixed(3),T["aria-valuenow"]=Math.round(u),C.strokeDashoffset=`${((100-u)/100*x).toFixed(3)}px`,k.transform="rotate(-90deg)"}return Be.jsx(fv,yt({className:Qn(m.root,i),style:yt({width:l,height:l},k,c),ownerState:w,ref:n,role:"progressbar"},T,S,{children:Be.jsx(hv,{className:m.svg,ownerState:w,viewBox:`${Zn/2} ${Zn/2} ${Zn} ${Zn}`,children:Be.jsx(pv,{className:m.circle,style:C,ownerState:w,cx:Zn,cy:Zn,r:(Zn-h)/2,fill:"none",strokeWidth:h})})}))}),mv=gv,vv=Am({createStyledComponent:Tn("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>Tr({props:e,name:"MuiStack"})}),bv=vv;function yv(e){return wr("MuiFormControlLabel",e)}const xv=Zr("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),yi=xv,Sv=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],wv=e=>{const{classes:t,disabled:n,labelPlacement:r,error:i,required:s}=e,o={root:["root",n&&"disabled",`labelPlacement${Ht(r)}`,i&&"error",s&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return Sr(o,yv,t)},Tv=Tn("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${yi.label}`]:t.label},t.root,t[`labelPlacement${Ht(n.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>yt({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${yi.disabled}`]:{cursor:"default"}},t.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},t.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},t.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${yi.label}`]:{[`&.${yi.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),Cv=Tn("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${yi.error}`]:{color:(e.vars||e).palette.error.main}})),kv=b.forwardRef(function(t,n){var r,i;const s=Tr({props:t,name:"MuiFormControlLabel"}),{className:o,componentsProps:l={},control:c,disabled:h,disableTypography:u,label:g,labelPlacement:S="end",required:w,slotProps:m={}}=s,C=Cr(s,Sv),k=$d(),T=(r=h??c.props.disabled)!=null?r:k==null?void 0:k.disabled,x=w??c.props.required,N={disabled:T,required:x};["checked","name","onChange","value","inputRef"].forEach(_=>{typeof c.props[_]>"u"&&typeof s[_]<"u"&&(N[_]=s[_])});const I=Wd({props:s,muiFormControl:k,states:["error"]}),O=yt({},s,{disabled:T,labelPlacement:S,required:x,error:I.error}),D=wv(O),p=(i=m.typography)!=null?i:l.typography;let E=g;return E!=null&&E.type!==cs&&!u&&(E=Be.jsx(cs,yt({component:"span"},p,{className:Qn(D.label,p==null?void 0:p.className),children:E}))),Be.jsxs(Tv,yt({className:Qn(D.root,o),ownerState:O,ref:n},C,{children:[b.cloneElement(c,N),x?Be.jsxs(bv,{display:"block",children:[E,Be.jsxs(Cv,{ownerState:O,"aria-hidden":!0,className:D.asterisk,children:[" ","*"]})]}):E]}))}),Ev=kv;function _v(e){return wr("MuiFormGroup",e)}Zr("MuiFormGroup",["root","row","error"]);const Iv=["className","row"],Rv=e=>{const{classes:t,row:n,error:r}=e;return Sr({root:["root",n&&"row",r&&"error"]},_v,t)},Mv=Tn("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})(({ownerState:e})=>yt({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),Nv=b.forwardRef(function(t,n){const r=Tr({props:t,name:"MuiFormGroup"}),{className:i,row:s=!1}=r,o=Cr(r,Iv),l=$d(),c=Wd({props:r,muiFormControl:l,states:["error"]}),h=yt({},r,{row:s,error:c.error}),u=Rv(h);return Be.jsx(Mv,yt({className:Qn(u.root,i),ownerState:h,ref:n},o))}),Ov=Nv,Lv=b.createContext(),Sc=Lv;function Dv(e){return wr("MuiGrid",e)}const Av=[0,1,2,3,4,5,6,7,8,9,10],Pv=["column-reverse","column","row-reverse","row"],$v=["nowrap","wrap-reverse","wrap"],fi=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],ki=Zr("MuiGrid",["root","container","item","zeroMinWidth",...Av.map(e=>`spacing-xs-${e}`),...Pv.map(e=>`direction-xs-${e}`),...$v.map(e=>`wrap-xs-${e}`),...fi.map(e=>`grid-xs-${e}`),...fi.map(e=>`grid-sm-${e}`),...fi.map(e=>`grid-md-${e}`),...fi.map(e=>`grid-lg-${e}`),...fi.map(e=>`grid-xl-${e}`)]),zv=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Hr(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function Vv({theme:e,ownerState:t}){let n;return e.breakpoints.keys.reduce((r,i)=>{let s={};if(t[i]&&(n=t[i]),!n)return r;if(n===!0)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=hr({values:t.columns,breakpoints:e.breakpoints.values}),l=typeof o=="object"?o[i]:o;if(l==null)return r;const c=`${Math.round(n/l*1e8)/1e6}%`;let h={};if(t.container&&t.item&&t.columnSpacing!==0){const u=e.spacing(t.columnSpacing);if(u!=="0px"){const g=`calc(${c} + ${Hr(u)})`;h={flexBasis:g,maxWidth:g}}}s=yt({flexBasis:c,flexGrow:0,maxWidth:c},h)}return e.breakpoints.values[i]===0?Object.assign(r,s):r[e.breakpoints.up(i)]=s,r},{})}function Fv({theme:e,ownerState:t}){const n=hr({values:t.direction,breakpoints:e.breakpoints.values});return Ti({theme:e},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${ki.item}`]={maxWidth:"none"}),i})}function Gd({breakpoints:e,values:t}){let n="";Object.keys(t).forEach(i=>{n===""&&t[i]!==0&&(n=i)});const r=Object.keys(e).sort((i,s)=>e[i]-e[s]);return r.slice(0,r.indexOf(n))}function jv({theme:e,ownerState:t}){const{container:n,rowSpacing:r}=t;let i={};if(n&&r!==0){const s=hr({values:r,breakpoints:e.breakpoints.values});let o;typeof s=="object"&&(o=Gd({breakpoints:e.breakpoints.values,values:s})),i=Ti({theme:e},s,(l,c)=>{var h;const u=e.spacing(l);return u!=="0px"?{marginTop:`-${Hr(u)}`,[`& > .${ki.item}`]:{paddingTop:Hr(u)}}:(h=o)!=null&&h.includes(c)?{}:{marginTop:0,[`& > .${ki.item}`]:{paddingTop:0}}})}return i}function Hv({theme:e,ownerState:t}){const{container:n,columnSpacing:r}=t;let i={};if(n&&r!==0){const s=hr({values:r,breakpoints:e.breakpoints.values});let o;typeof s=="object"&&(o=Gd({breakpoints:e.breakpoints.values,values:s})),i=Ti({theme:e},s,(l,c)=>{var h;const u=e.spacing(l);return u!=="0px"?{width:`calc(100% + ${Hr(u)})`,marginLeft:`-${Hr(u)}`,[`& > .${ki.item}`]:{paddingLeft:Hr(u)}}:(h=o)!=null&&h.includes(c)?{}:{width:"100%",marginLeft:0,[`& > .${ki.item}`]:{paddingLeft:0}}})}return i}function Bv(e,t,n={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[n[`spacing-xs-${String(e)}`]];const r=[];return t.forEach(i=>{const s=e[i];Number(s)>0&&r.push(n[`spacing-${i}-${String(s)}`])}),r}const qv=Tn("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:i,item:s,spacing:o,wrap:l,zeroMinWidth:c,breakpoints:h}=n;let u=[];r&&(u=Bv(o,h,t));const g=[];return h.forEach(S=>{const w=n[S];w&&g.push(t[`grid-${S}-${String(w)}`])}),[t.root,r&&t.container,s&&t.item,c&&t.zeroMinWidth,...u,i!=="row"&&t[`direction-xs-${String(i)}`],l!=="wrap"&&t[`wrap-xs-${String(l)}`],...g]}})(({ownerState:e})=>yt({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),Fv,jv,Hv,Vv);function Wv(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const n=[];return t.forEach(r=>{const i=e[r];if(Number(i)>0){const s=`spacing-${r}-${String(i)}`;n.push(s)}}),n}const Uv=e=>{const{classes:t,container:n,direction:r,item:i,spacing:s,wrap:o,zeroMinWidth:l,breakpoints:c}=e;let h=[];n&&(h=Wv(s,c));const u=[];c.forEach(S=>{const w=e[S];w&&u.push(`grid-${S}-${String(w)}`)});const g={root:["root",n&&"container",i&&"item",l&&"zeroMinWidth",...h,r!=="row"&&`direction-xs-${String(r)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...u]};return Sr(g,Dv,t)},Qv=b.forwardRef(function(t,n){const r=Tr({props:t,name:"MuiGrid"}),{breakpoints:i}=fo(),s=Td(r),{className:o,columns:l,columnSpacing:c,component:h="div",container:u=!1,direction:g="row",item:S=!1,rowSpacing:w,spacing:m=0,wrap:C="wrap",zeroMinWidth:k=!1}=s,T=Cr(s,zv),x=w||m,N=c||m,I=b.useContext(Sc),O=u?l||12:I,D={},p=yt({},T);i.keys.forEach(A=>{T[A]!=null&&(D[A]=T[A],delete p[A])});const E=yt({},s,{columns:O,container:u,direction:g,item:S,rowSpacing:x,columnSpacing:N,wrap:C,zeroMinWidth:k,spacing:m},D,{breakpoints:i.keys}),_=Uv(E);return Be.jsx(Sc.Provider,{value:O,children:Be.jsx(qv,yt({ownerState:E,className:Qn(_.root,o),as:h,ref:n},p))})}),on=Qv;const Gv=e=>t=>{t({type:"SET_IS_EMBED",isEmbed:e})},Kv=e=>t=>{t({type:"SET_URL_LOCATION",urlLocation:e})},Jv=e=>t=>{t({type:"SET_URL_QUERY_PARAMS",urlQueryParams:e})},Qr=e=>t=>{t({type:"SET_SPLIT_VIEW",isSplit:e})},Ki=["step","theme","time"],Yv=["label"],la=["left","right"],Ji=["start","stop"],Yi=["isSubmit","isSplit","autoTheme","isEmbed"];function Xv(){const e=b.useMemo(()=>window.matchMedia("(prefers-color-scheme: light)").matches,[]),t=zt(),n=Re(({urlQueryParams:E})=>E),r=Re(({start:E})=>E),i=Re(({stop:E})=>E),s=Re(({label:E})=>E),o=Re(({from:E})=>E),l=Re(({to:E})=>E),c=Re(({step:E})=>E),h=Re(({isSubmit:E})=>E),u=Re(({isEmbed:E})=>E),g=Re(({time:E})=>E),S=Re(({left:E})=>E),w=Re(({right:E})=>E),m=Re(({theme:E})=>E),C=Re(({autoTheme:E})=>E),k=Re(({isSplit:E})=>E),[T,x]=b.useState(e?"light":m);b.useEffect(()=>{x(m)},[m]);const N={start:r,step:c,stop:i,label:s,from:o,to:l,time:g,isSubmit:h,isEmbed:u,theme:m,autoTheme:C,left:S,right:w,isSplit:k},I={start:xo,step:Sm,stop:So,label:wo,from:wm,to:Tm,time:Bd,isSubmit:mg,isEmbed:Gv,theme:Pd,left:cn,right:Yt,isSplit:Qr,autoTheme:vg},O=E=>(E==null?void 0:E.getTime())+"000000",D=(E,_)=>{try{let A=JSON.parse(E);return A&&A!==void 0?A:_}catch{return _}},{hash:p}=ei();b.useEffect(()=>{const E=new URLSearchParams(p.replace(/#/,""));if(p.length>0){const _=n;for(let[A,$]of E.entries())_[A]=$;Object.keys(_).length>0&&(t(Jv({...n,startParams:_})),t(Kv(p)),Object.keys(_).forEach(A=>{if((Ki.includes(A)||Yv.includes(A))&&_[A]!=="")t(I[A](en.sanitize(_[A])));else if(A==="theme")t(I[A](en.sanitize(T)));else if(Ji.includes(A)&&_[A]!==""){const $=_[A]/1e6,z=new Date(nn($).format("YYYY-MM-DDTHH:mm:ss.SSSZ"));t(I[A](z))}else if(Yi.includes(A))try{const $=D(_[A],!1);t(I[A]($))}catch($){console.log($)}else if(la.includes(A))try{const $=D(decodeURIComponent(_[A]),[]);($==null?void 0:$.length)>0&&t(I[A]($))}catch($){console.log($)}}))}else Ki.concat(Ji).concat(Yi).concat(la).forEach(A=>{var $,z;if(Ki.includes(A))E.set(A,en.sanitize(($=N[A])==null?void 0:$.toString()));else if(A==="theme")E.set(A,en.sanitize(T.toString()));else if(Ji.includes(A)){const V=((z=N[A])==null?void 0:z.getTime())*1e6;E.set(A,en.sanitize(V.toString()))}else if(Yi.includes(A))try{E.set(A,D(N[A],!1))}catch(V){console.log(V)}else if(la.includes(A))try{const V=JSON.stringify(N[A]);E.set(A,V)}catch(V){console.log(V)}}),window.location.hash=E},[]),b.useEffect(()=>{if(p.length>0){const E=new URLSearchParams(p.replace(/#/,""));let _={};for(let[A,$]of E.entries())_[A]=$;Object.keys(N).forEach(A=>{if(Ki.includes(A)&&_[A]!==N[A]){const $=en.sanitize(N[A].toString().trim());E.set(A,$)}else if(Ji.includes(A)&&_[A]!==O(N[A])){const $=O(N[A]);E.set(A,en.sanitize($))}else if(Yi.includes(A)&&_[A]!==N[A])try{E.set(A,D(N[A],!1))}catch($){console.error($)}else if(A==="left"){const $=JSON.stringify(S);E.set("left",$)}else if(A==="right"){const $=JSON.stringify(w);E.set("right",$)}}),window.location.hash=E}},[N])}function Zv(e,t,n){const{queryUrl:r,encodedQuery:i,limit:s,parsedTime:o,queryStep:l,direction:c,time:h}=t;return e==="metrics"||e==="logs"?n==="instant"?`${r}/query?query=${i}&limit=${s}&time=${h}&direction=${c}`:`${r}/query_range?query=${i}&limit=${s}${o}${l}&direction=${c}`:e==="flux"?`${r}`:e==="traces"?n==="trace-search"?`${r}${o}`:`${r}`:""}function eb(e,t,n){return Zv(e,n,t)}function tb(e,t){var r;const n=((r=Object.keys(t))==null?void 0:r.length)>0?t:void 0;return e==="flux"?{method:"POST",headers:n||{Accept:"application/csv","Content-Type":"application/vnd.flux"}}:{method:"GET",headers:n||{"Content-Type":"application/json"}}}const nb=(e,t)=>Array.from({length:Math.ceil(e.length/t)},(n,r)=>e.slice(r*t,r*t+t)),ca=(...e)=>e.filter(t=>t).join(" "),rb=e=>{const t=za(eg(e)),n=Va(tg(e)),r=[];for(let i=t;zr(i,n);)r.push(i),i=$a(i,1);return r},ib=({dateStart:e},t)=>e&&Ur(t,e),sb=({dateEnd:e},t)=>e&&Ur(t,e),ab=({dateStart:e,dateEnd:t},n)=>e&&t&&(lo(n,{start:e,end:t})||Ur(n,e)||Ur(n,t)),ob=({dateStart:e,dateEnd:t})=>e&&t?Ur(e,t):!1,Cs=e=>To(new Date).find(t=>t.label===e),wc=(e,t)=>{if(e instanceof Date){const n=ng(e);if(yn(n))return n}if(e instanceof String){const n=rg(e.toString());if(yn(n))return n}else return t},lb=(e,t)=>{var r,i;const n=Math.floor(t/2);return(i=(r=Array(t))==null?void 0:r.fill(0))==null?void 0:i.map((s,o)=>(e==null?void 0:e.getFullYear())-n+o)},Tc=(e,t)=>{const{dateStart:n,dateEnd:r,label:i}=e,{dateStart:s,dateEnd:o,label:l}=t;return i===l?!0:n&&s&&r&&o?sc(n,s)&&sc(r,o):!1},cb=(e,t,n)=>{let{dateStart:r,dateEnd:i}=e;if(r&&i){const s=yd([r,t]),o=xd([i,n]);return[s,co(s,o)?bi(s,1):o]}else return[r,i]},To=e=>[{label:"Last 5 minutes",dateStart:sa(e,-5),dateEnd:e},{label:"Last 15 minutes",dateStart:sa(e,-15),dateEnd:e},{label:"Last 30 minutes",dateStart:sa(e,-30),dateEnd:e},{label:"Last 1 hour",dateStart:ui(e,-1),dateEnd:e},{label:"Last 3 hours",dateStart:ui(e,-3),dateEnd:e},{label:"Last 6 hours",dateStart:ui(e,-6),dateEnd:e},{label:"Last 12 hours",dateStart:ui(e,-12),dateEnd:e},{label:"Last 24 hours",dateStart:ui(e,-24),dateEnd:e},{label:"Today",dateStart:rc(e),dateEnd:ic(e)},{label:"Yesterday",dateStart:rc($a(e,-1)),dateEnd:ic($a(e,-1))},{label:"This Week",dateStart:za(e),dateEnd:Va(e)},{label:"Last Week",dateStart:za(aa(e,-1)),dateEnd:Va(aa(e,-1))},{label:"Last 7 Days",dateStart:aa(e,-1),dateEnd:e}];To(new Date);function ub(e){return e/1e6}function nr(e){return new Date(e).getTime()+"000000"}function jr(e){let t=new Date(e);return Math.round(t.getTime()/1e3)}const db=e=>e||parseInt(new Date().getTime()+"000000"),fb=(e,t)=>{let n=Cs(e);const{dateStart:r,dateEnd:i}=n;let s,o;return t==="metrics"?(s=jr(r),o=jr(i)):(s=parseInt(nr(r)),o=parseInt(nr(i))),{pStart:s,pStop:o,dateStart:r,dateEnd:i}};function Co(e,t,n){const{time:r,from:i,to:s}=It.getState(),o=It.getState()[n],l=o==null?void 0:o.find(I=>I.id===t),c=l.start,h=l.stop,u=db(r),g=l.label,S=c,w=h;let m=0,C=0;if(Cs(g)){const{pStart:I,pStop:O}=fb(g,e);e==="traces"?(m=Math.round(I/1e9),C=Math.round(O/1e9)):(m=I,C=O)}else e==="metrics"?(m=jr(S),C=jr(w)):e==="logs"?(m=parseInt(nr(S)),C=parseInt(nr(w))):e==="traces"?(m=jr(S),C=jr(w)):(m=parseInt(nr(S)),C=parseInt(nr(w)));const k="&start="+(i||m)+"&end="+(s||C),T=parseInt(i||m);return{tDiff:(parseInt(s||C)-T)/(e==="metrics"?1:1e6),time:u,parsedTime:k}}function hb(e,t,n,r,i,s="",o,l,c,h,u){const g=It.getState(),{isSplit:S}=g,w=S?2:1,m=window.innerWidth,{parsedTime:C,time:k}=Co(e,h,u),T=s;let x=0;c>0?x=c:x=m/Math.round(m/r*10/w),x===0&&(x=1);const N=`&step=${x}`,I=`${encodeURIComponent(t)}`;let O="";switch(e){case"logs":O=`${T}/loki/api/v1`;break;case"metrics":O=`${T}/api/v1`;break;case"flux":O=`${T}/api/v2/query`;break;case"traces":O=o==="trace-search"?`${l}`:`${T}/api/traces/${t}/json`;break;default:O=`${T}/loki/api/v1`}return{queryUrl:O,encodedQuery:I,parsedTime:C,time:k,queryStep:N,limit:n,direction:i,queryType:o}}async function Ha(e){e(mr(!0))}function Kd(e){let t=[];try{for(let n of e){let r=Object.keys(n.metric);for(let i in r)t.includes(r[i])||t.push(r[i])}}catch(n){console.log(n)}return t}function Ba(e){let t=[];try{for(let n of e){let r=Object.keys(n);for(let i of r)t.includes(i)||t.push(i)}}catch(n){console.log(n)}return t}function is(e,t="logs"){if(t==="flux"||t==="traces")try{return e}catch(n){console.log(n)}else{const n=Kd(e);try{let r=[];const i=e.length,s=n.length;for(let l=0;l<i;l++){let c=e[l],h=c.metric,[u,g]=c.value,S={};for(let w=0;w<s;w++){let m=n[w];S[m]=h[m]||""}S.time=u,S.value=g,r.push(S)}return Ft.sortBy(r,l=>l.time)}catch(r){console.log(r)}}}const pb={locale:"en",long:{year:{previous:"last year",current:"this year",next:"next year",past:{one:"{0} year ago",other:"{0} years ago"},future:{one:"in {0} year",other:"in {0} years"}},quarter:{previous:"last quarter",current:"this quarter",next:"next quarter",past:{one:"{0} quarter ago",other:"{0} quarters ago"},future:{one:"in {0} quarter",other:"in {0} quarters"}},month:{previous:"last month",current:"this month",next:"next month",past:{one:"{0} month ago",other:"{0} months ago"},future:{one:"in {0} month",other:"in {0} months"}},week:{previous:"last week",current:"this week",next:"next week",past:{one:"{0} week ago",other:"{0} weeks ago"},future:{one:"in {0} week",other:"in {0} weeks"}},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:{one:"{0} hour ago",other:"{0} hours ago"},future:{one:"in {0} hour",other:"in {0} hours"}},minute:{current:"this minute",past:{one:"{0} minute ago",other:"{0} minutes ago"},future:{one:"in {0} minute",other:"in {0} minutes"}},second:{current:"now",past:{one:"{0} second ago",other:"{0} seconds ago"},future:{one:"in {0} second",other:"in {0} seconds"}}},short:{year:{previous:"last yr.",current:"this yr.",next:"next yr.",past:"{0} yr. ago",future:"in {0} yr."},quarter:{previous:"last qtr.",current:"this qtr.",next:"next qtr.",past:{one:"{0} qtr. ago",other:"{0} qtrs. ago"},future:{one:"in {0} qtr.",other:"in {0} qtrs."}},month:{previous:"last mo.",current:"this mo.",next:"next mo.",past:"{0} mo. ago",future:"in {0} mo."},week:{previous:"last wk.",current:"this wk.",next:"next wk.",past:"{0} wk. ago",future:"in {0} wk."},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:"{0} hr. ago",future:"in {0} hr."},minute:{current:"this minute",past:"{0} min. ago",future:"in {0} min."},second:{current:"now",past:"{0} sec. ago",future:"in {0} sec."}},narrow:{year:{previous:"last yr.",current:"this yr.",next:"next yr.",past:"{0}y ago",future:"in {0}y"},quarter:{previous:"last qtr.",current:"this qtr.",next:"next qtr.",past:"{0}q ago",future:"in {0}q"},month:{previous:"last mo.",current:"this mo.",next:"next mo.",past:"{0}mo ago",future:"in {0}mo"},week:{previous:"last wk.",current:"this wk.",next:"next wk.",past:"{0}w ago",future:"in {0}w"},day:{previous:"yesterday",current:"today",next:"tomorrow",past:"{0}d ago",future:"in {0}d"},hour:{current:"this hour",past:"{0}h ago",future:"in {0}h"},minute:{current:"this minute",past:"{0}m ago",future:"in {0}m"},second:{current:"now",past:"{0}s ago",future:"in {0}s"}},now:{now:{current:"now",future:"in a moment",past:"just now"}},mini:{year:"{0}yr",month:"{0}mo",week:"{0}wk",day:"{0}d",hour:"{0}h",minute:"{0}m",second:"{0}s",now:"now"},"short-time":{year:"{0} yr.",month:"{0} mo.",week:"{0} wk.",day:{one:"{0} day",other:"{0} days"},hour:"{0} hr.",minute:"{0} min.",second:"{0} sec."},"long-time":{year:{one:"{0} year",other:"{0} years"},month:{one:"{0} month",other:"{0} months"},week:{one:"{0} week",other:"{0} weeks"},day:{one:"{0} day",other:"{0} days"},hour:{one:"{0} hour",other:"{0} hours"},minute:{one:"{0} minute",other:"{0} minutes"},second:{one:"{0} second",other:"{0} seconds"}}},gb=()=>It.getState().theme==="light"?pd:gd,mb=e=>oe("border:none;background:none;color:",e.primaryLight,";cursor:pointer;&:hover{text-decoration:underline;}","");Sd.addDefaultLocale(pb);function vb(e){return nn(parseInt(e.getValue()+"000")).format("YYYY-MM-DDTHH:mm:ss.SSZ")}function bb(e){return e.getValue()+" ms"}function yb(e){return new Sd("en-US").format(e.getValue()/1e6)}function xb(e,t){const n=It.dispatch,r=It.getState()[e.panel],i=It.getState().right,s=window.innerWidth<=1013,o=r.find(h=>h.id===e.id);e.panel==="left"&&!s&&n(Qr(!0));let l=JSON.parse(JSON.stringify(i));const c=JSON.parse(JSON.stringify(o));try{const h={...l[0],id:l[0].id,idRef:"Trace "+t,panel:"right",queryType:"range",dataSourceType:"traces",dataSourceId:e.dataSourceId,dataSourceURL:e.url,expr:t,limit:100,step:100,tableView:!1,chartView:!1,isShowTs:!1,isBuilder:!1,isLogsVolume:!1,browserOpen:!1,open:!0,labels:[],values:[],direction:"backwards"};n(Yt([h])),n(An("traces",t,"range",c.limit||100,"right",h.id,"backwards",e.dataSourceId,e.url))}catch(h){console.log(h)}}function Sb(e){return nn(e.getValue()).format("YYYY-MM-DDTHH:mm:ss.SSZ")}function wb(e,t="logs",n,r={}){var o,l;const i=(l=(o=It.getState())==null?void 0:o[r.panel])==null?void 0:l.find(c=>c.id===r.id);i&&(r.dataSourceId=i.dataSourceId,r.url=i.dataSourceURL);const s=gb();return e.length>0&&t==="traces"?e==null?void 0:e.map(c=>c.accessorKey==="durationMs"?{header:"Duration Ms",accessorKey:c.accessorKey,cell:h=>bb(h)}:c.accessorKey==="startTimeUnixNano"?{header:"Start Time",accessorKey:c.accessorKey,cell:h=>yb(h)}:c.accessorKey==="traceID"||c.accessorKey==="traceId"?{header:"Trace Id",accessorKey:c.accessorKey,cell:h=>f("button",{onClick:u=>xb(r,h.getValue()),className:Pe(mb(s)),children:h.getValue()})}:c.accessorKey==="rootServiceName"?{header:"Service Name",accessorKey:c.accessorKey,cell:h=>h.getValue()}:c.accessorKey==="rootTraceName"?{header:"Trace Name",accessorKey:c.accessorKey,cell:h=>h.getValue()}:c):e.length>0&&t==="flux"?e==null?void 0:e.map(c=>c.accessorKey===n||c.accessorKey==="_time"?{header:"Time",accessorKey:c.accessorKey,cell:h=>Sb(h)}:c):e.length>0?[{header:"Time",accessorKey:"time",cell:c=>vb(c)},...e,{header:"Value",accessorKey:"value"}]:[]}function ss(e,t="logs",n,r={}){const i=e==null?void 0:e.map(o=>({header:o,accessorKey:o,id:o,cell:l=>l.getValue()}));return wb(i,t,n,r)}function ua(e){return e==="left"?{state:"leftDataView",action:Er}:{state:"rightDataView",action:kr}}function Jd(e){var u,g,S,w,m,C;const{result:t,debugMode:n,dispatch:r,panel:i,id:s,type:o,dsType:l,raw:c}=e;let h={panel:i,id:s,type:o};if(o==="traces")try{const k=Ba(t),T=x=>{const N=x[0],I=Object.entries(N);if(I){const O=I.find(([D,p])=>Bn(p));return(O==null?void 0:O[0])||null}};if(k.length>0){const x=T(t),I=ss(k,o,x,{panel:i,id:s,type:o}),O=is(t,o),D={columnsData:I,dataRows:O,panel:i,id:s};if((I==null?void 0:I.length)>0&&(O==null?void 0:O.length)>0){const p={id:s,type:"vector",raw:c,dsType:l,data:{tableData:D},tableData:D,total:((u=D==null?void 0:D.dataRows)==null?void 0:u.length)||0},E=ua(i),{action:_,state:A}=E,$=(g=It.getState())==null?void 0:g[A];if($.some(z=>z.id===p.id)){let z=[];r(_([])),z=[...$.filter(K=>K.id!==p.id),{...p}],r(_(z))}else{let z=[...$,p];r(_(z))}}}}catch(k){console.log(k)}else if(o==="flux")try{const k=Ba(t),T=x=>{const N=x[0],I=Object.entries(N);if(I){const O=I.find(([D,p])=>Bn(p));return(O==null?void 0:O[0])||null}};if(k.length>0){const x=T(t),N=ss(k,o,x,h),I=is(t,o),O={columnsData:N,dataRows:I,panel:i,id:s};if((N==null?void 0:N.length)>0&&(I==null?void 0:I.length)>0){const D={id:s,type:"vector",data:{tableData:O},raw:c,dsType:l,tableData:O,total:((S=O==null?void 0:O.dataRows)==null?void 0:S.length)||0},p=ua(i),{action:E,state:_}=p,A=(w=It.getState())==null?void 0:w[_];if(A.some($=>$.id===D.id)){let $=[];r(E([])),$=[...A.filter(V=>V.id!==D.id),{...D}],r(E($))}else{let $=[...A,D];r(E($))}}}}catch(k){console.log(k)}else try{const k=Kd(t);if(k.length>0){const T=ss(k,o,null,h),x=is(t),N={columnsData:T,dataRows:x,panel:i,id:s};if(T.length>0&&x.length>0){const I={id:s,type:"vector",data:{tableData:N},raw:c,dsType:l,tableData:N||{},total:((m=N==null?void 0:N.dataRows)==null?void 0:m.length)||0},O=ua(i),{action:D,state:p}=O,E=(C=It.getState())==null?void 0:C[p];if(E.some(_=>_.id===I.id)){let _=[];r(D([])),_=[...E.filter($=>$.id!==I.id),{...I}],r(D(_))}else{let _=[...E,I];r(D(_))}}}}catch(k){n&&console.log("🚧 getData / getting an error from rendering vector type streams"),console.log(k)}}function Yd(e){return(e==null?void 0:e.map(t=>({...t,id:Gn()})))||[]}function Tb(e){return nn(e.getValue()*1e3).format("YYYY-MM-DDTHH:mm:ss.SSZ")}function Cb(e){return e.map(({metric:t,values:n})=>({metric:JSON.stringify(t),rows:n.map(([r,i])=>({time:r,metric:JSON.stringify(t),value:i})),get rowsLength(){var r;return(r=this.rows)==null?void 0:r.length},get title(){return`'${this.metric}' (${this.rowsLength})`}}))}function kb(e){const t=[{header:"Time",accessorKey:"time",cell:s=>Tb(s)},{header:"Metric",accessorKey:"metric"},{header:"Value",accessorKey:"value"}],n=Cb(e);let r=[];for(let s of n)r.push(s.rows);const i=Ft.sortBy(r.flat(),s=>s.time);return{columnsData:t,dataRows:i,total:i.length}}function Eb(e){return e==="left"?{state:"leftDataView",action:Er}:{state:"rightDataView",action:kr}}function Cc(e){var g;const{result:t,debugMode:n,dispatch:r,panel:i,id:s,raw:o,dsType:l,isLogsVolume:c}=e,h=kb(t),u=Eb(i);try{const S=Yd(t),w={id:s,type:"matrix",tableData:h,data:S,dsType:l,raw:o,total:(S==null?void 0:S.length)||0},{action:m,state:C}=u,k=(g=It.getState())==null?void 0:g[C];if(k.some(T=>T.id===w.id)){let T=[];if(c){T=[...k];let x=T.map(N=>N.id===s?{...N,logsVolumeData:S,total:S.length}:N);r(m([])),r(m(x))}else r(m([])),T=[...k.filter(N=>N.id!==w.id),{...w}],r(m(T))}else{let T=[...k,w];r(m(T))}}catch(S){n&&console.log("🚧 getData / getting an error from rendering matrix type streams"),console.log(S)}}const _b=e=>t=>{t({type:"SET_LOGS",logs:e})};function Ib(e){return nn(parseInt(e.getValue())/1e6).format("YYYY-MM-DDTHH:mm:ss.SSZ")}function Rb(e){return e==null?void 0:e.map(({stream:t,values:n})=>({stream:`${JSON.stringify(t)}`,rows:n==null?void 0:n.map(([r,i])=>({time:r,stream:JSON.stringify(t),log:i})),get rowsLength(){var r;return((r=this==null?void 0:this.rows)==null?void 0:r.length)||0}}))}function kc(e){return f("span",{title:e.getValue(),children:e.getValue()})}function Mb(e){const t=[{id:"time",header:"Time",accessorKey:"time",cell:s=>Ib(s)},{id:"stream",header:"Stream",accessorKey:"stream",cell:s=>kc(s)},{id:"log",accessorKey:"log",header:"Log",cell:s=>kc(s)}],n=Rb(e),r=(n==null?void 0:n.length)||0;let i=[];if(r>0)for(let s of n)i.push(s.rows);return{columnsData:t,dataRows:Ft.sortBy(i.flat(),s=>s.time),length:r}}function Nb(e){return e==="left"?{state:"leftDataView",action:Er}:{state:"rightDataView",action:kr}}function Ec(e){var x,N;const{result:t,raw:n,time:r,debugMode:i,queryType:s,panel:o,id:l,dispatch:c,dsType:h,direction:u,isLogsVolume:g}=e,S=qb(t,u),w=Nb(o),m=Mb(t),C=Xd(S,u);function k(I){return[].concat.apply([],I).filter(function(O,D,p){return p.indexOf(O)===D})}let T={id:l,type:"stream",tableData:{},data:[{}],raw:"[]",labels:[],total:0,isLogsVolume:g,dsType:h};if(C)try{jb(c(_b(C||[]))).then(()=>{C.length===0&&(i&&console.log("🚧 getData / getting no messages sorted"),c(mr(!0))),c(mr(!1))});const I=Array.from(new Set(C==null?void 0:C.map(_=>Object.keys(_.tags)))),O=k(I);T={id:l,type:"stream",dsType:h,tableData:m,data:C,isLogsVolume:g,raw:n,labels:[...O],total:(C==null?void 0:C.length)||0};const{action:D,state:p}=w,E=(x=It.getState())==null?void 0:x[p];if(E.some(_=>_.id===T.id)){let _=[];if(g){_=[...E];let A=_.map($=>{var z;if($.id===l){let V=[];return $!=null&&$.logsVolumeData&&((z=$.logsVolumeData)==null?void 0:z.length)>0&&(V=[...$.logsVolumeData]),{...{...T},logsVolumeData:V}}else return $});c(D([])),c(D(A))}else{let A=[];c(D([])),A=[...E.filter(z=>z.id!==T.id),{...T}],c(D(A))}}else{let _=[...E,T];c(D(_))}s==="instant"&&c(Bd(r))}catch(I){console.log(I)}else{const{action:I,state:O}=w,D=(N=It.getState())==null?void 0:N[O];if(D.some(p=>p.id===T.id)){let p=[];c(I([])),p=[...(D==null?void 0:D.filter(_=>_.id!==T.id))||[],{...T}],c(I(p))}else{let p=[...D,T];c(I(p))}}}function Ob(e){return e==="left"?{state:"leftDataView",action:Er}:{state:"rightDataView",action:kr}}async function Lb(e){var u,g;const{result:t,debugMode:n,dispatch:r,panel:i,id:s,type:o,dsType:l,queryType:c,raw:h}=e;if(c==="trace-search")await Jd(e);else try{const S={id:s,type:o,dsType:l,tableData:{},data:t,raw:h,labels:[],open:!0,total:(u=t==null?void 0:t.resourceSpans)==null?void 0:u.length},w=Ob(i),{action:m,state:C}=w,k=(g=It.getState())==null?void 0:g[C];if(k.some(T=>T.id===S.id)){let T=[];r(m([])),T=[...k.filter(N=>N.id!==S.id),{...S}],r(m(T))}else{let T=[...k,S];r(m(T))}}catch(S){n&&console.log(" 🚧 getData / getting an error from rendering Traces type streams",S),console.log(S)}}function Db(e){return nn(e.getValue()).format("YYYY-MM-DDTHH:mm:ss.SSZ")}function Ab(e){return[{metric:{__name__:"Flux"},values:e.map(n=>Object.values(n).map((r,i)=>isNaN(+r)?null:(r instanceof Date?r.getTime()/1e3:r)+(i===0?0:"")).filter(r=>!!r))}]}function Pb(e){return e.map(({metric:t,values:n})=>({metric:JSON.stringify(t),rows:n.map(([r,i])=>({time:r,metric:JSON.stringify(t),value:i})),get rowsLength(){var r;return(r=this.rows)==null?void 0:r.length},get title(){return`'${this.metric}' (${this.rowsLength})`}}))}function _c(e){return f("span",{title:e.getValue(),children:e.getValue()})}function $b(e){const t=[{accessorKey:"time",header:()=>f("span",{children:"Time"}),cell:s=>Db(s)},{header:"Metric",cell:s=>_c(s),accessorKey:"metric"},{header:"Value",accessorKey:"value",cell:s=>_c(s)}],n=Pb(e);let r=[];for(let s of n)r.push(s.rows);const i=Ft.sortBy(r.flat(),s=>s.time);return{columnsData:t,dataRows:i,total:i.length}}function zb(e){return e==="left"?{state:"leftDataView",action:Er}:{state:"rightDataView",action:kr}}function Vb(e){const{result:t,panel:n,id:r,type:i}=e,s={panel:n,id:r,type:i},o=Ba(e.result),c=(S=>{const w=S[0],m=Object.entries(w);if(m){const C=m.find(([k,T])=>Bn(T));return(C==null?void 0:C[0])||null}})(t),h=ss(o,i,c,s),u=is(t,i),g={columnsData:h,dataRows:u,panel:n,id:r};if((h==null?void 0:h.length)>0&&(u==null?void 0:u.length)>0)return g}function Fb(e){var u;let{result:t,debugMode:n,dispatch:r,panel:i,id:s,raw:o,dsType:l}=e;t=Ab(t);const c=$b(t),h=zb(i);try{const g=Yd(t),S=Vb(e),m={id:s,type:"vector",tableData:c,data:{chartData:g,tableData:S},dsType:l,raw:o,total:(g==null?void 0:g.length)||0},{action:C,state:k}=h,T=(u=It.getState())==null?void 0:u[k];if(T.some(x=>x.id===m.id)){let x=[];r(C([])),x=[...T.filter(I=>I.id!==m.id),{...m}],r(C(x))}else{let x=[...T,m];r(C(x))}}catch(g){n&&console.log("🚧 getData / getting an error from rendering Flux type streams"),console.error(g)}}const{debugMode:ko}=It.getState();async function jb(e){return await e}function Xd(e,t){return t==="forward"?Hb(e):Bb(e)}function Hb(e){const t=performance.now(),n=e==null?void 0:e.sort((i,s)=>i.timestamp-s.timestamp),r=performance.now()-t;return ko&&console.log("🚧 getData / sorting logs took: ",r," ms"),n}function Bb(e){const t=performance.now(),n=e==null?void 0:e.sort((i,s)=>s.timestamp-i.timestamp),r=performance.now()-t;return ko&&console.log("🚧 getData / sorting logs took: ",r," ms"),n}function qb(e,t="backwards"){const n=performance.now();let r=[];e==null||e.forEach(s=>{s.values.forEach(([o,l],c)=>{r.push({type:"stream",timestamp:ub(o),text:l,tags:s.stream||{},isShowTs:!0,isBuilder:!1,showLabels:!1,id:Gn()})})});const i=performance.now()-n;return ko&&console.log("🚧 getData / mapping logs took: ",i," ms"),Xd(r,t)}async function Ar(e){const{type:t}=e;switch(t){case"streams":await Ec(e);break;case"vector":await Jd(e);break;case"matrix":await Cc(e);break;case"scalar":await Cc(e);break;case"flux":await Fb(e);break;case"traces":await Lb(e);break;default:await Ec(e)}}var Zd={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){(function(n,r){e.exports=r()})(wd,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i=!r.document&&!!r.postMessage,s=r.IS_PAPA_WORKER||!1,o={},l=0,c={parse:function(E,_){var A=(_=_||{}).dynamicTyping||!1;if(p(A)&&(_.dynamicTypingFunction=A,A={}),_.dynamicTyping=A,_.transform=!!p(_.transform)&&_.transform,_.worker&&c.WORKERS_SUPPORTED){var $=function(){if(!c.WORKERS_SUPPORTED)return!1;var V=(ie=r.URL||r.webkitURL||null,ue=n.toString(),c.BLOB_URL||(c.BLOB_URL=ie.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",ue,")();"],{type:"text/javascript"})))),K=new r.Worker(V),ie,ue;return K.onmessage=x,K.id=l++,o[K.id]=K}();return $.userStep=_.step,$.userChunk=_.chunk,$.userComplete=_.complete,$.userError=_.error,_.step=p(_.step),_.chunk=p(_.chunk),_.complete=p(_.complete),_.error=p(_.error),delete _.worker,void $.postMessage({input:E,config:_,workerId:$.id})}var z=null;return c.NODE_STREAM_INPUT,typeof E=="string"?(E=function(V){return V.charCodeAt(0)===65279?V.slice(1):V}(E),z=_.download?new g(_):new w(_)):E.readable===!0&&p(E.read)&&p(E.on)?z=new m(_):(r.File&&E instanceof File||E instanceof Object)&&(z=new S(_)),z.stream(E)},unparse:function(E,_){var A=!1,$=!0,z=",",V=`\r
`,K='"',ie=K+K,ue=!1,te=null,he=!1;(function(){if(typeof _=="object"){if(typeof _.delimiter!="string"||c.BAD_DELIMITERS.filter(function(me){return _.delimiter.indexOf(me)!==-1}).length||(z=_.delimiter),(typeof _.quotes=="boolean"||typeof _.quotes=="function"||Array.isArray(_.quotes))&&(A=_.quotes),typeof _.skipEmptyLines!="boolean"&&typeof _.skipEmptyLines!="string"||(ue=_.skipEmptyLines),typeof _.newline=="string"&&(V=_.newline),typeof _.quoteChar=="string"&&(K=_.quoteChar),typeof _.header=="boolean"&&($=_.header),Array.isArray(_.columns)){if(_.columns.length===0)throw new Error("Option columns is empty");te=_.columns}_.escapeChar!==void 0&&(ie=_.escapeChar+K),(typeof _.escapeFormulae=="boolean"||_.escapeFormulae instanceof RegExp)&&(he=_.escapeFormulae instanceof RegExp?_.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var Y=new RegExp(k(K),"g");if(typeof E=="string"&&(E=JSON.parse(E)),Array.isArray(E)){if(!E.length||Array.isArray(E[0]))return Fe(null,E,ue);if(typeof E[0]=="object")return Fe(te||Object.keys(E[0]),E,ue)}else if(typeof E=="object")return typeof E.data=="string"&&(E.data=JSON.parse(E.data)),Array.isArray(E.data)&&(E.fields||(E.fields=E.meta&&E.meta.fields||te),E.fields||(E.fields=Array.isArray(E.data[0])?E.fields:typeof E.data[0]=="object"?Object.keys(E.data[0]):[]),Array.isArray(E.data[0])||typeof E.data[0]=="object"||(E.data=[E.data])),Fe(E.fields||[],E.data||[],ue);throw new Error("Unable to serialize unrecognized input");function Fe(me,ke,Oe){var re="";typeof me=="string"&&(me=JSON.parse(me)),typeof ke=="string"&&(ke=JSON.parse(ke));var Ce=Array.isArray(me)&&0<me.length,Ee=!Array.isArray(ke[0]);if(Ce&&$){for(var be=0;be<me.length;be++)0<be&&(re+=z),re+=$e(me[be],be);0<ke.length&&(re+=V)}for(var pe=0;pe<ke.length;pe++){var Te=Ce?me.length:ke[pe].length,Je=!1,et=Ce?Object.keys(ke[pe]).length===0:ke[pe].length===0;if(Oe&&!Ce&&(Je=Oe==="greedy"?ke[pe].join("").trim()==="":ke[pe].length===1&&ke[pe][0].length===0),Oe==="greedy"&&Ce){for(var De=[],Ye=0;Ye<Te;Ye++){var Xe=Ee?me[Ye]:Ye;De.push(ke[pe][Xe])}Je=De.join("").trim()===""}if(!Je){for(var it=0;it<Te;it++){0<it&&!et&&(re+=z);var rt=Ce&&Ee?me[it]:it;re+=$e(ke[pe][rt],it)}pe<ke.length-1&&(!Oe||0<Te&&!et)&&(re+=V)}}return re}function $e(me,ke){if(me==null)return"";if(me.constructor===Date)return JSON.stringify(me).slice(1,25);var Oe=!1;he&&typeof me=="string"&&he.test(me)&&(me="'"+me,Oe=!0);var re=me.toString().replace(Y,ie);return(Oe=Oe||A===!0||typeof A=="function"&&A(me,ke)||Array.isArray(A)&&A[ke]||function(Ce,Ee){for(var be=0;be<Ee.length;be++)if(-1<Ce.indexOf(Ee[be]))return!0;return!1}(re,c.BAD_DELIMITERS)||-1<re.indexOf(z)||re.charAt(0)===" "||re.charAt(re.length-1)===" ")?K+re+K:re}}};if(c.RECORD_SEP=String.fromCharCode(30),c.UNIT_SEP=String.fromCharCode(31),c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!i&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=T,c.ParserHandle=C,c.NetworkStreamer=g,c.FileStreamer=S,c.StringStreamer=w,c.ReadableStreamStreamer=m,r.jQuery){var h=r.jQuery;h.fn.parse=function(E){var _=E.config||{},A=[];return this.each(function(V){if(!(h(this).prop("tagName").toUpperCase()==="INPUT"&&h(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var K=0;K<this.files.length;K++)A.push({file:this.files[K],inputElem:this,instanceConfig:h.extend({},_)})}),$(),this;function $(){if(A.length!==0){var V,K,ie,ue,te=A[0];if(p(E.before)){var he=E.before(te.file,te.inputElem);if(typeof he=="object"){if(he.action==="abort")return V="AbortError",K=te.file,ie=te.inputElem,ue=he.reason,void(p(E.error)&&E.error({name:V},K,ie,ue));if(he.action==="skip")return void z();typeof he.config=="object"&&(te.instanceConfig=h.extend(te.instanceConfig,he.config))}else if(he==="skip")return void z()}var Y=te.instanceConfig.complete;te.instanceConfig.complete=function(Fe){p(Y)&&Y(Fe,te.file,te.inputElem),z()},c.parse(te.file,te.instanceConfig)}else p(E.complete)&&E.complete()}function z(){A.splice(0,1),$()}}}function u(E){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(_){var A=O(_);A.chunkSize=parseInt(A.chunkSize),_.step||_.chunk||(A.chunkSize=null),this._handle=new C(A),(this._handle.streamer=this)._config=A}).call(this,E),this.parseChunk=function(_,A){if(this.isFirstChunk&&p(this._config.beforeFirstChunk)){var $=this._config.beforeFirstChunk(_);$!==void 0&&(_=$)}this.isFirstChunk=!1,this._halted=!1;var z=this._partialLine+_;this._partialLine="";var V=this._handle.parse(z,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var K=V.meta.cursor;this._finished||(this._partialLine=z.substring(K-this._baseIndex),this._baseIndex=K),V&&V.data&&(this._rowCount+=V.data.length);var ie=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(s)r.postMessage({results:V,workerId:c.WORKER_ID,finished:ie});else if(p(this._config.chunk)&&!A){if(this._config.chunk(V,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);V=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(V.data),this._completeResults.errors=this._completeResults.errors.concat(V.errors),this._completeResults.meta=V.meta),this._completed||!ie||!p(this._config.complete)||V&&V.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),ie||V&&V.meta.paused||this._nextChunk(),V}this._halted=!0},this._sendError=function(_){p(this._config.error)?this._config.error(_):s&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:_,finished:!1})}}function g(E){var _;(E=E||{}).chunkSize||(E.chunkSize=c.RemoteChunkSize),u.call(this,E),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(A){this._input=A,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(_=new XMLHttpRequest,this._config.withCredentials&&(_.withCredentials=this._config.withCredentials),i||(_.onload=D(this._chunkLoaded,this),_.onerror=D(this._chunkError,this)),_.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var A=this._config.downloadRequestHeaders;for(var $ in A)_.setRequestHeader($,A[$])}if(this._config.chunkSize){var z=this._start+this._config.chunkSize-1;_.setRequestHeader("Range","bytes="+this._start+"-"+z)}try{_.send(this._config.downloadRequestBody)}catch(V){this._chunkError(V.message)}i&&_.status===0&&this._chunkError()}},this._chunkLoaded=function(){_.readyState===4&&(_.status<200||400<=_.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:_.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(A){var $=A.getResponseHeader("Content-Range");return $===null?-1:parseInt($.substring($.lastIndexOf("/")+1))}(_),this.parseChunk(_.responseText)))},this._chunkError=function(A){var $=_.statusText||A;this._sendError(new Error($))}}function S(E){var _,A;(E=E||{}).chunkSize||(E.chunkSize=c.LocalChunkSize),u.call(this,E);var $=typeof FileReader<"u";this.stream=function(z){this._input=z,A=z.slice||z.webkitSlice||z.mozSlice,$?((_=new FileReader).onload=D(this._chunkLoaded,this),_.onerror=D(this._chunkError,this)):_=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var z=this._input;if(this._config.chunkSize){var V=Math.min(this._start+this._config.chunkSize,this._input.size);z=A.call(z,this._start,V)}var K=_.readAsText(z,this._config.encoding);$||this._chunkLoaded({target:{result:K}})},this._chunkLoaded=function(z){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(z.target.result)},this._chunkError=function(){this._sendError(_.error)}}function w(E){var _;u.call(this,E=E||{}),this.stream=function(A){return _=A,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var A,$=this._config.chunkSize;return $?(A=_.substring(0,$),_=_.substring($)):(A=_,_=""),this._finished=!_,this.parseChunk(A)}}}function m(E){u.call(this,E=E||{});var _=[],A=!0,$=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(z){this._input=z,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){$&&_.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),_.length?this.parseChunk(_.shift()):A=!0},this._streamData=D(function(z){try{_.push(typeof z=="string"?z:z.toString(this._config.encoding)),A&&(A=!1,this._checkIsFinished(),this.parseChunk(_.shift()))}catch(V){this._streamError(V)}},this),this._streamError=D(function(z){this._streamCleanUp(),this._sendError(z)},this),this._streamEnd=D(function(){this._streamCleanUp(),$=!0,this._streamData("")},this),this._streamCleanUp=D(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function C(E){var _,A,$,z=Math.pow(2,53),V=-z,K=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ie=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ue=this,te=0,he=0,Y=!1,Fe=!1,$e=[],me={data:[],errors:[],meta:{}};if(p(E.step)){var ke=E.step;E.step=function(pe){if(me=pe,Ce())re();else{if(re(),me.data.length===0)return;te+=pe.data.length,E.preview&&te>E.preview?A.abort():(me.data=me.data[0],ke(me,ue))}}}function Oe(pe){return E.skipEmptyLines==="greedy"?pe.join("").trim()==="":pe.length===1&&pe[0].length===0}function re(){return me&&$&&(be("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),$=!1),E.skipEmptyLines&&(me.data=me.data.filter(function(pe){return!Oe(pe)})),Ce()&&function(){if(!me)return;function pe(Je,et){p(E.transformHeader)&&(Je=E.transformHeader(Je,et)),$e.push(Je)}if(Array.isArray(me.data[0])){for(var Te=0;Ce()&&Te<me.data.length;Te++)me.data[Te].forEach(pe);me.data.splice(0,1)}else me.data.forEach(pe)}(),function(){if(!me||!E.header&&!E.dynamicTyping&&!E.transform)return me;function pe(Je,et){var De,Ye=E.header?{}:[];for(De=0;De<Je.length;De++){var Xe=De,it=Je[De];E.header&&(Xe=De>=$e.length?"__parsed_extra":$e[De]),E.transform&&(it=E.transform(it,Xe)),it=Ee(Xe,it),Xe==="__parsed_extra"?(Ye[Xe]=Ye[Xe]||[],Ye[Xe].push(it)):Ye[Xe]=it}return E.header&&(De>$e.length?be("FieldMismatch","TooManyFields","Too many fields: expected "+$e.length+" fields but parsed "+De,he+et):De<$e.length&&be("FieldMismatch","TooFewFields","Too few fields: expected "+$e.length+" fields but parsed "+De,he+et)),Ye}var Te=1;return!me.data.length||Array.isArray(me.data[0])?(me.data=me.data.map(pe),Te=me.data.length):me.data=pe(me.data,0),E.header&&me.meta&&(me.meta.fields=$e),he+=Te,me}()}function Ce(){return E.header&&$e.length===0}function Ee(pe,Te){return Je=pe,E.dynamicTypingFunction&&E.dynamicTyping[Je]===void 0&&(E.dynamicTyping[Je]=E.dynamicTypingFunction(Je)),(E.dynamicTyping[Je]||E.dynamicTyping)===!0?Te==="true"||Te==="TRUE"||Te!=="false"&&Te!=="FALSE"&&(function(et){if(K.test(et)){var De=parseFloat(et);if(V<De&&De<z)return!0}return!1}(Te)?parseFloat(Te):ie.test(Te)?new Date(Te):Te===""?null:Te):Te;var Je}function be(pe,Te,Je,et){var De={type:pe,code:Te,message:Je};et!==void 0&&(De.row=et),me.errors.push(De)}this.parse=function(pe,Te,Je){var et=E.quoteChar||'"';if(E.newline||(E.newline=function(Xe,it){Xe=Xe.substring(0,1048576);var rt=new RegExp(k(it)+"([^]*?)"+k(it),"gm"),Ke=(Xe=Xe.replace(rt,"")).split("\r"),Et=Xe.split(`
`),Rt=1<Et.length&&Et[0].length<Ke[0].length;if(Ke.length===1||Rt)return`
`;for(var _e=0,je=0;je<Ke.length;je++)Ke[je][0]===`
`&&_e++;return _e>=Ke.length/2?`\r
`:"\r"}(pe,et)),$=!1,E.delimiter)p(E.delimiter)&&(E.delimiter=E.delimiter(pe),me.meta.delimiter=E.delimiter);else{var De=function(Xe,it,rt,Ke,Et){var Rt,_e,je,Qe;Et=Et||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var at=0;at<Et.length;at++){var Ie=Et[at],ut=0,Dt=0,qt=0;je=void 0;for(var Gt=new T({comments:Ke,delimiter:Ie,newline:it,preview:10}).parse(Xe),jt=0;jt<Gt.data.length;jt++)if(rt&&Oe(Gt.data[jt]))qt++;else{var Mt=Gt.data[jt].length;Dt+=Mt,je!==void 0?0<Mt&&(ut+=Math.abs(Mt-je),je=Mt):je=Mt}0<Gt.data.length&&(Dt/=Gt.data.length-qt),(_e===void 0||ut<=_e)&&(Qe===void 0||Qe<Dt)&&1.99<Dt&&(_e=ut,Rt=Ie,Qe=Dt)}return{successful:!!(E.delimiter=Rt),bestDelimiter:Rt}}(pe,E.newline,E.skipEmptyLines,E.comments,E.delimitersToGuess);De.successful?E.delimiter=De.bestDelimiter:($=!0,E.delimiter=c.DefaultDelimiter),me.meta.delimiter=E.delimiter}var Ye=O(E);return E.preview&&E.header&&Ye.preview++,_=pe,A=new T(Ye),me=A.parse(_,Te,Je),re(),Y?{meta:{paused:!0}}:me||{meta:{paused:!1}}},this.paused=function(){return Y},this.pause=function(){Y=!0,A.abort(),_=p(E.chunk)?"":_.substring(A.getCharIndex())},this.resume=function(){ue.streamer._halted?(Y=!1,ue.streamer.parseChunk(_,!0)):setTimeout(ue.resume,3)},this.aborted=function(){return Fe},this.abort=function(){Fe=!0,A.abort(),me.meta.aborted=!0,p(E.complete)&&E.complete(me),_=""}}function k(E){return E.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function T(E){var _,A=(E=E||{}).delimiter,$=E.newline,z=E.comments,V=E.step,K=E.preview,ie=E.fastMode,ue=_=E.quoteChar===void 0||E.quoteChar===null?'"':E.quoteChar;if(E.escapeChar!==void 0&&(ue=E.escapeChar),(typeof A!="string"||-1<c.BAD_DELIMITERS.indexOf(A))&&(A=","),z===A)throw new Error("Comment character same as delimiter");z===!0?z="#":(typeof z!="string"||-1<c.BAD_DELIMITERS.indexOf(z))&&(z=!1),$!==`
`&&$!=="\r"&&$!==`\r
`&&($=`
`);var te=0,he=!1;this.parse=function(Y,Fe,$e){if(typeof Y!="string")throw new Error("Input must be a string");var me=Y.length,ke=A.length,Oe=$.length,re=z.length,Ce=p(V),Ee=[],be=[],pe=[],Te=te=0;if(!Y)return Nt();if(E.header&&!Fe){var Je=Y.split($)[0].split(A),et=[],De={},Ye=!1;for(var Xe in Je){var it=Je[Xe];p(E.transformHeader)&&(it=E.transformHeader(it,Xe));var rt=it,Ke=De[it]||0;for(0<Ke&&(Ye=!0,rt=it+"_"+Ke),De[it]=Ke+1;et.includes(rt);)rt=rt+"_"+Ke;et.push(rt)}if(Ye){var Et=Y.split($);Et[0]=et.join(A),Y=Et.join($)}}if(ie||ie!==!1&&Y.indexOf(_)===-1){for(var Rt=Y.split($),_e=0;_e<Rt.length;_e++){if(pe=Rt[_e],te+=pe.length,_e!==Rt.length-1)te+=$.length;else if($e)return Nt();if(!z||pe.substring(0,re)!==z){if(Ce){if(Ee=[],qt(pe.split(A)),At(),he)return Nt()}else qt(pe.split(A));if(K&&K<=_e)return Ee=Ee.slice(0,K),Nt(!0)}}return Nt()}for(var je=Y.indexOf(A,te),Qe=Y.indexOf($,te),at=new RegExp(k(ue)+k(_),"g"),Ie=Y.indexOf(_,te);;)if(Y[te]!==_)if(z&&pe.length===0&&Y.substring(te,te+re)===z){if(Qe===-1)return Nt();te=Qe+Oe,Qe=Y.indexOf($,te),je=Y.indexOf(A,te)}else if(je!==-1&&(je<Qe||Qe===-1))pe.push(Y.substring(te,je)),te=je+ke,je=Y.indexOf(A,te);else{if(Qe===-1)break;if(pe.push(Y.substring(te,Qe)),Mt(Qe+Oe),Ce&&(At(),he))return Nt();if(K&&Ee.length>=K)return Nt(!0)}else for(Ie=te,te++;;){if((Ie=Y.indexOf(_,Ie+1))===-1)return $e||be.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ee.length,index:te}),jt();if(Ie===me-1)return jt(Y.substring(te,Ie).replace(at,_));if(_!==ue||Y[Ie+1]!==ue){if(_===ue||Ie===0||Y[Ie-1]!==ue){je!==-1&&je<Ie+1&&(je=Y.indexOf(A,Ie+1)),Qe!==-1&&Qe<Ie+1&&(Qe=Y.indexOf($,Ie+1));var ut=Gt(Qe===-1?je:Math.min(je,Qe));if(Y.substr(Ie+1+ut,ke)===A){pe.push(Y.substring(te,Ie).replace(at,_)),Y[te=Ie+1+ut+ke]!==_&&(Ie=Y.indexOf(_,te)),je=Y.indexOf(A,te),Qe=Y.indexOf($,te);break}var Dt=Gt(Qe);if(Y.substring(Ie+1+Dt,Ie+1+Dt+Oe)===$){if(pe.push(Y.substring(te,Ie).replace(at,_)),Mt(Ie+1+Dt+Oe),je=Y.indexOf(A,te),Ie=Y.indexOf(_,te),Ce&&(At(),he))return Nt();if(K&&Ee.length>=K)return Nt(!0);break}be.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ee.length,index:te}),Ie++}}else Ie++}return jt();function qt(kt){Ee.push(kt),Te=te}function Gt(kt){var Wt=0;if(kt!==-1){var Cn=Y.substring(Ie+1,kt);Cn&&Cn.trim()===""&&(Wt=Cn.length)}return Wt}function jt(kt){return $e||(kt===void 0&&(kt=Y.substring(te)),pe.push(kt),te=me,qt(pe),Ce&&At()),Nt()}function Mt(kt){te=kt,qt(pe),pe=[],Qe=Y.indexOf($,te)}function Nt(kt){return{data:Ee,errors:be,meta:{delimiter:A,linebreak:$,aborted:he,truncated:!!kt,cursor:Te+(Fe||0)}}}function At(){V(Nt()),Ee=[],be=[]}},this.abort=function(){he=!0},this.getCharIndex=function(){return te}}function x(E){var _=E.data,A=o[_.workerId],$=!1;if(_.error)A.userError(_.error,_.file);else if(_.results&&_.results.data){var z={abort:function(){$=!0,N(_.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:I,resume:I};if(p(A.userStep)){for(var V=0;V<_.results.data.length&&(A.userStep({data:_.results.data[V],errors:_.results.errors,meta:_.results.meta},z),!$);V++);delete _.results}else p(A.userChunk)&&(A.userChunk(_.results,z,_.file),delete _.results)}_.finished&&!$&&N(_.workerId,_.results)}function N(E,_){var A=o[E];p(A.userComplete)&&A.userComplete(_),A.terminate(),delete o[E]}function I(){throw new Error("Not implemented.")}function O(E){if(typeof E!="object"||E===null)return E;var _=Array.isArray(E)?[]:{};for(var A in E)_[A]=O(E[A]);return _}function D(E,_){return function(){E.apply(_,arguments)}}function p(E){return typeof E=="function"}return s&&(r.onmessage=function(E){var _=E.data;if(c.WORKER_ID===void 0&&_&&(c.WORKER_ID=_.workerId),typeof _.input=="string")r.postMessage({workerId:c.WORKER_ID,results:c.parse(_.input,_.config),finished:!0});else if(r.File&&_.input instanceof File||_.input instanceof Object){var A=c.parse(_.input,_.config);A&&r.postMessage({workerId:c.WORKER_ID,results:A,finished:!0})}}),(g.prototype=Object.create(u.prototype)).constructor=g,(S.prototype=Object.create(u.prototype)).constructor=S,(w.prototype=Object.create(w.prototype)).constructor=w,(m.prototype=Object.create(u.prototype)).constructor=m,c})})(Zd);var Wb=Zd.exports;const Ub=Ni(Wb);async function Qb(e){try{var t={meta:[],data:[],statistics:{elapsed:.360986682,rows_read:0,bytes_read:0}},n=Ub.parse(e,{header:!0,comments:!0,dynamicTyping:!0});t.data=await n.data.map(function(r){return delete r[""],delete r.table,delete r.result,r}),t.data.length=t.data.length-2;for(const[r,i]of Object.entries(t.data[0]))t.meta.push({name:r,type:typeof i});return t.rows=t.data.length,t}catch{return e}}function Gb(e,t){return e==="left"?cn(t):Yt(t)}const Ic=(e,t,n,r,i,s)=>{const{time:o}=Co(e,r,n),{debugMode:l}=It.getState(),c={result:{resourceSpans:[],result:[],length:0},raw:[],time:o,debugMode:l,dispatch:t,type:"traces",dsType:e,panel:n,id:r,ts:Date.now(),queryType:s,open:!0};Ar(c)};async function Rc(e,t,n,r,i,s,o,l){var u,g,S,w,m,C,k,T,x,N,I,O,D,p,E,_,A,$,z;const{time:c}=Co(e,i,r),{debugMode:h}=It.getState();if(e==="traces"){if(o==="trace-search"&&((g=(u=t==null?void 0:t.data)==null?void 0:u.traces)==null?void 0:g.length)>0){const V={result:t.data.traces||[],raw:t.data,time:c,debugMode:h,dispatch:n,dsType:e,type:e,panel:r,open:!0,id:i,ts:Date.now(),queryType:o};Ar(V)}if(((w=(S=t==null?void 0:t.data)==null?void 0:S.resourceSpans)==null?void 0:w.length)>0){const V={result:(t==null?void 0:t.data)||[],raw:t==null?void 0:t.data,time:c,debugMode:h,dispatch:n,type:e,dsType:e,panel:r,open:!0,id:i,ts:Date.now(),queryType:o};Ar(V)}}if(e==="flux"&&await Qb(t==null?void 0:t.data).then(V=>{var K;if(((K=V==null?void 0:V.data)==null?void 0:K.length)>0){const ie={result:V.data||[],raw:V==null?void 0:V.data,time:c,debugMode:h,queryType:o,dispatch:n,dsType:e,type:e,panel:r,open:!0,id:i,ts:Date.now(),direction:s};Ar(ie)}}),((C=(m=t==null?void 0:t.data)==null?void 0:m.streams)==null?void 0:C.length)===0){const V={result:[],raw:"[]",time:c,debugMode:h,queryType:o,dispatch:n,open:!0,type:"streams",dsType:e,panel:r,id:i,ts:Date.now(),direction:s,isLogsVolume:l};Ar(V),n(mr(!0))}if((k=t==null?void 0:t.data)!=null&&k.data){const V=(x=(T=t==null?void 0:t.data)==null?void 0:T.data)==null?void 0:x.result,K=(I=(N=t==null?void 0:t.data)==null?void 0:N.data)==null?void 0:I.resultType;let ie={hasStats:!1,statsData:{}};(D=(O=t==null?void 0:t.data)==null?void 0:O.data)!=null&&D.stats&&((_=Object.keys((E=(p=t==null?void 0:t.data)==null?void 0:p.data)==null?void 0:E.stats))==null?void 0:_.length)>0&&(ie={hasStats:!0,statsData:{...($=(A=t==null?void 0:t.data)==null?void 0:A.data)==null?void 0:$.stats}});const ue=It.getState()[r],te=ue==null?void 0:ue.map(Y=>Y.id===i?{...Y,hasStats:(ie==null?void 0:ie.hasStats)||!1,statsData:(ie==null?void 0:ie.statsData)||{},open:!0}:Y);n(Gb(r,te)),n(Cm(e));const he={result:V,raw:(z=t==null?void 0:t.data)==null?void 0:z.data,time:c,debugMode:h,queryType:o,dispatch:n,type:K,dsType:e,open:!0,panel:r,id:i,ts:Date.now(),direction:s,isLogsVolume:l};Ar(he)}else Ha(n)}function Kb(e){var i,s,o;const t=e.match(/\[(.*?)\]/gm),n=(t==null?void 0:t[0].replace(/\[\]']+/g,"").trim())||"";let r=0;if(Array.isArray(t)){const l=n.match(/^(?<tnum>[0-9.]+)(?<trange>ns|us|ms|s|m|h)?$/),c=typeof((i=l==null?void 0:l.groups)==null?void 0:i.tnum)=="string"?parseInt((s=l==null?void 0:l.groups)==null?void 0:s.tnum):1,h=((o=l==null?void 0:l.groups)==null?void 0:o.trange)||"m";r=c/Jb(h)}return r}function Jb(e){const t=/^(ns|us|ms|s|m|h)$/,n={ns:1e9,us:1e6,s:1,m:.016666666666666666,h:.0002777777777777778},r=new Map(Object.entries(n));return t.test(e)&&typeof e=="string"?r.get(e)||1/60:r.get("m")||1/60}function Mc(e,t){window.bosco.send(e,t)}function Yb(e,t,n){if(e==="left")return t(cn(n));if(e==="right")return t(Yt(n))}function Xb(e,t,n){return n(e==="left"?Er(t):kr(t))}function Zb(e,t,n){return[...e].map(r=>r.id===t?{...r,loading:n||!1}:r)}function An(e,t,n,r,i,s,o="backwards",l="",c="",h=0,u=!1){var O,D,p,E,_,A;let g={url:"",requestHeaders:{},method:{value:""},headers:[],auth:{method:{value:"GET"},basicAuth:{value:!0},fields:{basicAuth:[{name:"user",value:""},{name:"password",value:""}]}},hasSettings:!1},S="",w="";if(l!==""){const $=It.getState().dataSources,z=$.find(V=>V.id===l);if(z&&((O=Object.keys(z))==null?void 0:O.length)>0){const V=$.find(ie=>ie.id===l),K=g.url!==""?g.url:V.url;g={...V,url:K,hasSettings:!0}}if(((D=g==null?void 0:g.headers)==null?void 0:D.length)>0){let V={};for(let K of g.headers){const ie={[String(K.header)]:K.value};V={...V,...ie}}g.requestHeaders=V||{}}if((E=(p=g==null?void 0:g.auth)==null?void 0:p.basicAuth)!=null&&E.value){const V=(A=(_=g==null?void 0:g.auth)==null?void 0:_.fields)==null?void 0:A.basicAuth;for(let K of V)(K==null?void 0:K.name)==="user"&&(K.value,S=K.value),(K==null?void 0:K.name)==="password"&&(K.value,w=K.value);g.requestHeaders={...g.requestHeaders}}}const m=($,z)=>{const V=It.getState()[i];Yb(i,$,Zb(V,s,z))},{debugMode:C}=It.getState(),k=tb(e,g.requestHeaders),T=Kb(t),x=hb(e,t,r,T,o,g.url||"",n,c,h,s,i),N=eb(e,n,x),I=($,z)=>{var ie;const V=(ie=It.getState())==null?void 0:ie[`${i}DataView`],K=V==null?void 0:V.find(ue=>ue.id===s);K&&(K.loading=$),Xb(i,V,z)};return async function($){var V,K,ie,ue;I(!0,$),m($,!0);let z;if(c===""){n==="trace-search"&&Ic(e,$,i,s,o,n),m($,!1);return}if(t===""&&n!=="trace-search"){e==="traces"&&Ic(e,$,i,s,o,n),m($,!1);return}typeof z<"u"&&z.cancel("Cancelling the previous request"),z=Sn.CancelToken.source(),k.cancelToken=z.token;try{(k==null?void 0:k.method)==="POST"?await((K=(V=Sn)==null?void 0:V.post(N,t,k))==null?void 0:K.then(te=>{Rc(e,te,$,i,s,o,n)}).catch(te=>{Ha($),$(mr(!0)),I(!1,$),C&&console.log("Error loading flux data",te)}).finally(()=>{I(!1,$),m($,!1)})):(k==null?void 0:k.method)==="GET"&&await((ue=(ie=Sn)==null?void 0:ie.get(N,{auth:{username:S,password:w},...k}))==null?void 0:ue.then(te=>{Rc(e,te||{data:{data:[]}},$,i,s,o,n,u),C&&Mc({level:"info",id:s,type:e,direction:o},s),m($,!1)}).catch(te=>{Ha($),$(mr(!0)),I(!1,$),m($,!1),C&&(Mc({level:"error",id:s,type:e,direction:o},s),console.log("getting an error from response: ",te))}).finally(()=>{m($,!1),I(!1,$)}))}catch(te){m($,!1),console.log(te)}}}var Eo={},ey=Ct;Object.defineProperty(Eo,"__esModule",{value:!0});var ks=Eo.default=void 0,ty=ey(Tt()),ny=Be,ry=(0,ty.default)((0,ny.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline");ks=Eo.default=ry;var _o={},iy=Ct;Object.defineProperty(_o,"__esModule",{value:!0});var Io=_o.default=void 0,sy=iy(Tt()),ay=Be,oy=(0,sy.default)((0,ay.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");Io=_o.default=oy;var Ro={},ly=Ct;Object.defineProperty(Ro,"__esModule",{value:!0});var ef=Ro.default=void 0,cy=ly(Tt()),Nc=Be,uy=(0,cy.default)([(0,Nc.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},"0"),(0,Nc.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime");ef=Ro.default=uy;var Mo={},dy=Ct;Object.defineProperty(Mo,"__esModule",{value:!0});var tf=Mo.default=void 0,fy=dy(Tt()),hy=Be,py=(0,fy.default)((0,hy.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}),"Launch");tf=Mo.default=py;var No={},gy=Ct;Object.defineProperty(No,"__esModule",{value:!0});var Kn=No.default=void 0,my=gy(Tt()),vy=Be,by=(0,my.default)((0,vy.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight");Kn=No.default=by;var Oo={},yy=Ct;Object.defineProperty(Oo,"__esModule",{value:!0});var nf=Oo.default=void 0,xy=yy(Tt()),Sy=Be,wy=(0,xy.default)((0,Sy.jsx)("path",{d:"m15 3 2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3h-6zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3v6zm6 12-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6h6zm12-6-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6v-6z"}),"ZoomOutMap");nf=Oo.default=wy;var Lo={},Ty=Ct;Object.defineProperty(Lo,"__esModule",{value:!0});var rf=Lo.default=void 0,Cy=Ty(Tt()),ky=Be,Ey=(0,Cy.default)((0,ky.jsx)("path",{d:"M9 9V3H7v2.59L3.91 2.5 2.5 3.91 5.59 7H3v2h6zm12 0V7h-2.59l3.09-3.09-1.41-1.41L17 5.59V3h-2v6h6zM3 15v2h2.59L2.5 20.09l1.41 1.41L7 18.41V21h2v-6H3zm12 0v6h2v-2.59l3.09 3.09 1.41-1.41L18.41 17H21v-2h-6z"}),"ZoomInMap");rf=Lo.default=Ey;var Do={},_y=Ct;Object.defineProperty(Do,"__esModule",{value:!0});var Gr=Do.default=void 0,Iy=_y(Tt()),Ry=Be,My=(0,Iy.default)((0,Ry.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDownOutlined");Gr=Do.default=My;const Ny=ve("div",{target:"e13u74u10"})("background:",({theme:e})=>e.shadow,";#alert-dialog-title{color:",({theme:e})=>e.contrast,";}#alert-dialog-description{color:",({theme:e})=>e.lightContrast,";font-weight:normal;}");function Oc({clearHistory:e,dialogType:t}){const[n,r]=b.useState(!1),i=qe(),s=()=>{r(!0)},o=()=>{r(!1)};function l(){e(),r(!1)}return f(kg,{theme:i,children:F("div",{children:[f(Lt,{title:"Clear Query History",children:f(bg,{onClick:s,children:"Clear History"})}),f(ho,{open:n,onClose:o,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",PaperProps:{classes:{root:po}},children:F(Ny,{children:[F(yg,{id:"alert-dialog-title",children:["Are you sure you want to clear the ",t," ","History?"]}),f(xg,{children:F(Sg,{id:"alert-dialog-description",children:["Click ‘Clear History’ to delete your"," ",t," history permanently"]})}),F(wg,{children:[f(Tg,{onClick:o,children:"Cancel"}),f(Cg,{onClick:l,autoFocus:!0,children:"Clear History"})]})]})})]})})}function sf({message:e}){return f(Eg,{children:e})}function Oy({onClose:e}){return f(_g,{onClick:e,children:f(go,{style:{height:"16px",width:"16px"}})})}const af=Object.fromEntries?Object.fromEntries:e=>{if(!e||!e[Symbol.iterator])throw new Error("Object.fromEntries() requires a single iterable argument");const t={};return Object.keys(e).forEach(n=>{const[r,i]=e[n];t[r]=i}),t};function Kr(e){return Object.keys(e)}function Ao(e,t){if(!e)throw new Error(t)}function Po(e,t){return t}const $o=e=>{const t=e.length;let n=0,r="";for(;n<t;n++){const i=e[n];if(i==null)continue;let s;switch(typeof i){case"boolean":break;case"object":{if(Array.isArray(i))s=$o(i);else{Ao(!Po(i,!1)),s="";for(const o in i)i[o]&&o&&(s&&(s+=" "),s+=o)}break}default:s=i}s&&(r&&(r+=" "),r+=s)}return r};function Ly(e,t){const n=b.useRef();return(!n.current||t.length!==n.current.prevDeps.length||n.current.prevDeps.map((r,i)=>r===t[i]).indexOf(!1)>=0)&&(n.current={v:e(),prevDeps:[...t]}),n.current.v}function Dy(e){return e instanceof Object&&!("styles"in e)&&!("length"in e)&&!("__emotion_styles"in e)}const{createCssAndCx:Ay}=(()=>{function e(n,r,i){const s=[],o=Xg(n,s,i);return s.length<2?i:o+r(s)}function t(n){const{cache:r}=n,i=(...o)=>{const l=Jg(o,r.registered);Yg(r,l,!1);const c=`${r.key}-${l.name}`;e:{const h=o[0];if(!Dy(h))break e;Lc.saveClassNameCSSObjectMapping(r,c,h)}return c};return{css:i,cx:(...o)=>{const l=$o(o),c=Lc.fixClassName(r,l,i);return e(r.registered,i,c)}}}return{createCssAndCx:t}})();function of(e){const{useCache:t}=e;function n(){const r=t(),{css:i,cx:s}=Ly(()=>Ay({cache:r}),[r]);return{css:i,cx:s}}return{useCssAndCx:n}}const Lc=(()=>{const e=new WeakMap;return{saveClassNameCSSObjectMapping:(t,n,r)=>{let i=e.get(t);i===void 0&&(i=new Map,e.set(t,i)),i.set(n,r)},fixClassName:(()=>{function t(n){let r=!1;return n.map(([i,s])=>{if(s===void 0)return i;let o;if(r)o={"&&":s};else{o=i;for(const l in s)if(l.startsWith("@media")){r=!0;break}}return o})}return(n,r,i)=>{const s=e.get(n);return $o(t(r.split(" ").map(o=>[o,s==null?void 0:s.get(o)])).map(o=>typeof o=="string"?o:i(o)))}})()}})();function Jr(e){if(!(e instanceof Object)||typeof e=="function")return e;const t=[];for(const n in e){const r=e[n],i=typeof r;if(!(i==="string"||i==="number"&&!isNaN(r)||i==="boolean"||r===void 0||r===null))return e;t.push(`${n}:${i}_${r}`)}return"xSqLiJdLMd9s"+t.join("|")}function zo(e,t,n){if(!(t instanceof Object))return e;const r={};return Kr(e).forEach(i=>r[i]=n(e[i],t[i])),Kr(t).forEach(i=>{if(i in e)return;const s=t[i];typeof s=="string"&&(r[i]=s)}),r}const lf=({classes:e,theme:t,muiStyleOverridesParams:n,css:r,cx:i,name:s})=>{var o,l;e:{if(s==="makeStyle no name"){s=void 0;break e}if(n!==void 0&&s===void 0)throw new Error("To use muiStyleOverridesParams, you must specify a name using .withName('MyComponent')")}let c;try{c=s===void 0?void 0:((l=(o=t.components)===null||o===void 0?void 0:o[s])===null||l===void 0?void 0:l.styleOverrides)||void 0}catch{}const h=b.useMemo(()=>{if(c===void 0)return;const u={};for(const g in c){const S=c[g];S instanceof Object&&(u[g]=r(typeof S=="function"?S(Object.assign({theme:t,ownerState:n==null?void 0:n.ownerState},n==null?void 0:n.props)):S))}return u},[c,Jr(n==null?void 0:n.props),Jr(n==null?void 0:n.ownerState),r]);return e=b.useMemo(()=>zo(e,h,i),[e,h,i]),{classes:e}};let Py=0;function cf(e){const{useTheme:t,cache:n}=e,{useCache:r}=uf({cacheProvidedAtInception:n}),{useCssAndCx:i}=of({useCache:r});function s(l){const{name:c,uniqId:h=`${Py++}`}=l??{},u=typeof c!="object"?c:Object.keys(c)[0];return function(g){const S=typeof g=="function"?g:()=>g;return function(m,C){const k=t();let{css:T,cx:x}=i();const N=r();let I=b.useMemo(()=>{const O={},D=typeof Proxy<"u"&&new Proxy({},{get:(_,A)=>(typeof A=="symbol"&&Ao(!1),O[A]=`${N.key}-${h}${u!==void 0?`-${u}`:""}-${A}-ref`)}),p=S(k,m,D||{}),E=af(Kr(p).map(_=>{const A=p[_];return A.label||(A.label=`${u!==void 0?`${u}-`:""}${_}`),[_,`${T(A)}${Po(_,_ in O)?` ${O[_]}`:""}`]}));return Kr(O).forEach(_=>{_ in E||(E[_]=O[_])}),E},[N,T,x,k,Jr(m)]);{const O=C==null?void 0:C.props.classes;I=b.useMemo(()=>zo(I,O,x),[I,Jr(O),x])}{const O=lf({classes:I,css:T,cx:x,name:u??"makeStyle no name",idOfUseStyles:h,muiStyleOverridesParams:C,theme:k});O.classes!==void 0&&(I=O.classes),O.css!==void 0&&(T=O.css),O.cx!==void 0&&(x=O.cx)}return{classes:I,theme:k,css:T,cx:x}}}}function o(){const l=t(),{css:c,cx:h}=i();return{theme:l,css:c,cx:h}}return{makeStyles:s,useStyles:o}}const $y=b.createContext(void 0),{createUseCache:uf}=(()=>{function e(){return b.useContext($y)}function t(n){const{cacheProvidedAtInception:r}=n;function i(){var s;const o=Zg(),l=e(),c=(s=r??l)!==null&&s!==void 0?s:o;if(c===null)throw new Error(["In order to get SSR working with tss-react you need to explicitly provide an Emotion cache.","MUI users be aware: This is not an error strictly related to tss-react, with or without tss-react,","MUI needs an Emotion cache to be provided for SSR to work.","Here is the MUI documentation related to SSR setup: https://mui.com/material-ui/guides/server-rendering/","TSS provides helper that makes the process of setting up SSR easier: https://docs.tss-react.dev/ssr"].join(`
`));return c}return{useCache:i}}return{createUseCache:t}})();function Dc(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Ac=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function zy(e){const{useTheme:t,cache:n}=e,{makeStyles:r}=cf({useTheme:t,cache:n});function i(s,o,l){const c=typeof s=="string"?(()=>{const w=s,m=function(C){var{children:k}=C,T=Ac(C,["children"]);return b.createElement(w,T,k)};return Object.defineProperty(m,"name",{value:Dc(w)}),m})():s,h=(()=>{{const{name:w}=l??{};if(w!==void 0)return typeof w!="object"?w:Object.keys(w)[0]}{const w=c.displayName;if(typeof w=="string"&&w!=="")return w}{const{name:w}=c;if(w)return w.replace(/\$/g,"usd")}})(),u=r(Object.assign(Object.assign({},l),{name:h}))(typeof o=="function"?(w,m,C)=>$c(o(w,m,C)):$c(o));function g(w){for(const m in w)if(m!=="root")return!0;return!1}const S=b.forwardRef(function(w,m){const{className:C,classes:k}=w,T=Ac(w,["className","classes"]),{classes:x,cx:N}=u(w,{props:w}),I=N(x.root,C);return df.set(x,Object.assign(Object.assign({},x),{root:I})),ln.createElement(c,Object.assign({ref:m,className:g(x)?C:I},typeof s=="string"?{}:{classes:x},T))});return h!==void 0&&(S.displayName=`${Dc(h)}WithStyles`,Object.defineProperty(S,"name",{value:S.displayName})),S}return i.getClasses=Vy,{withStyles:i}}const df=new WeakMap,Pc="getClasses should only be used in conjunction with withStyles";function Vy(e){const t=e.classes;if(t===void 0)throw new Error(Pc);const n=df.get(t);if(n===void 0)throw new Error(Pc);return n}function $c(e){const t={},n={};return Object.keys(e).forEach(r=>(r.startsWith("@media")?n:t)[r]=e[r]),Object.keys(n).forEach(r=>{const i=n[r];Object.keys(i).forEach(s=>{var o;return t[s]=Object.assign(Object.assign({},(o=t[s])!==null&&o!==void 0?o:{}),{[r]:i[s]})})}),t}const Fy=(()=>!(typeof document=="object"&&typeof(document==null?void 0:document.getElementById)=="function")&&!(typeof jest<"u")&&!(typeof mocha<"u")&&!(typeof __vitest_worker__<"u"))();var jy=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function ff(e){const{useContext:t,usePlugin:n,cache:r}=e,{useCache:i}=uf({cacheProvidedAtInception:r}),{useCssAndCx:s}=of({useCache:i});return{tss:as({useContext:t,useCache:i,useCssAndCx:s,usePlugin:n??(({classes:c,cx:h,css:u})=>({classes:c,cx:h,css:u})),name:void 0,doesUseNestedSelectors:!1})}}let Hy=0;const da=[];function as(e){const{useContext:t,useCache:n,useCssAndCx:r,usePlugin:i,name:s,doesUseNestedSelectors:o}=e;return{withParams:()=>as(Object.assign({},e)),withName:l=>as(Object.assign(Object.assign({},e),{name:typeof l!="object"?l:Object.keys(l)[0]})),withNestedSelectors:()=>as(Object.assign(Object.assign({},e),{doesUseNestedSelectors:!0})),create:l=>{const c=`x${Hy++}`,h=typeof l=="function"?l:()=>l;return function(g){var S,w,m;const C=g??{},{classesOverrides:k}=C,T=jy(C,["classesOverrides"]),x=t(),{css:N,cx:I}=r(),O=n();let D=b.useMemo(()=>{const E={},_=h(Object.assign(Object.assign(Object.assign({},g),x),o?{classes:typeof Proxy>"u"?{}:new Proxy({},{get:($,z)=>{if(typeof z=="symbol"&&Ao(!1),Fy){{let V=da.find(K=>K.name===s&&K.idOfUseStyles===c);V===void 0&&(V={name:s,idOfUseStyles:c,nestedSelectorRuleNames:new Set},da.push(V)),V.nestedSelectorRuleNames.add(z)}if(da.find(V=>V.name===s&&V.idOfUseStyles!==c&&V.nestedSelectorRuleNames.has(z))!==void 0)throw new Error([`tss-react: Duplicate nested selector "${z}" detected in ${s===void 0?`useStyles named "${s}"`:"anonymous useStyles function"}.`,"In SSR setups, this may lead to CSS class name collisions, causing nested selectors to target elements outside of the intended scope.",'Solution: Ensure each useStyles using nested selectors has a unique name. Use tss.withName("UniqueName").withNestedSelectors<...>()... to set a name.'].join(`
`))}return E[z]=`${O.key}-${c}${s!==void 0?`-${s}`:""}-${z}-ref`}})}:{})),A=af(Kr(_).map($=>{const z=_[$];return z.label||(z.label=`${s!==void 0?`${s}-`:""}${$}`),[$,`${N(z)}${Po($,$ in E)?` ${E[$]}`:""}`]}));return Kr(E).forEach($=>{$ in A||(A[$]=E[$])}),A},[O,N,I,Jr(g),...Object.values(x)]);D=b.useMemo(()=>zo(D,k,I),[D,Jr(k),I]);const p=i(Object.assign(Object.assign({classes:D,css:N,cx:I,idOfUseStyles:c,name:s},x),T));return Object.assign({classes:(S=p.classes)!==null&&S!==void 0?S:D,css:(w=p.css)!==null&&w!==void 0?w:N,cx:(m=p.cx)!==null&&m!==void 0?m:I},x)}}}}function By(e){return Object.assign(Object.assign({},cf(e)),zy(e))}const{tss:qy}=ff({useContext:()=>({})});qy.create({});const{makeStyles:ML,withStyles:Vo}=By({useTheme:fo}),{tss:Wy}=ff({useContext:function(){return{theme:fo()}},usePlugin:lf});Wy.create({});var Fo={},Uy=Ct;Object.defineProperty(Fo,"__esModule",{value:!0});var jo=Fo.default=void 0,Qy=Uy(Tt()),Gy=Be,Ky=(0,Qy.default)((0,Gy.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft");jo=Fo.default=Ky;var Ho={},Jy=Ct;Object.defineProperty(Ho,"__esModule",{value:!0});var hf=Ho.default=void 0,Yy=Jy(Tt()),Xy=Be,Zy=(0,Yy.default)((0,Xy.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");hf=Ho.default=Zy;const e0=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],t0=["Su","Mo","Tu","We","Th","Fr","Sa"],ur={FIRST_MONTH:Symbol("firstMonth"),SECOND_MONTH:Symbol("secondMonth")},qa="dateTimeRange",n0=It.getState().theme,r0={light:pd,dark:gd},Pr=r0[n0],i0=()=>({iconContainer:{padding:5,color:Pr.contrast},icon:{padding:10,color:Pr.contrast,"&:hover":{color:Pr.contrast,background:"none"}},selector:{color:Pr.contrast,borderBottom:`1px solid ${Pr.contrast}`}}),s0=()=>{const e=It.getState().theme;return Yp({palette:{mode:e,primary:{main:Pr.contrast}}})},zc=ve("select",{target:"etc1wzw0"})("cursor:pointer;position:relative;font-size:14px;color:",e=>e.theme.contrast,";background:",e=>e.theme.deep,";border:none;border-radius:3px;padding:4px 8px;line-height:20px;flex:1;&::-webkit-scrollbar{width:5px;background:",e=>e.theme.deep,";}&::-webkit-scrollbar-corner{background:transparent;}&::-webkit-scrollbar-thumb{border-radius:5px;background:",e=>e.theme.alphaPlusNeutral,";}"),a0=({date:e,classes:t,setDate:n,nextDisabled:r,prevDisabled:i,onClickNext:s,onClickPrevious:o})=>{const l=qe(),c=u=>{n(ag(e,parseInt(u.target.value)))},h=u=>{n(og(e,parseInt(u.target.value)))};return f(Cd,{theme:l,children:F(on,{container:!0,justifyContent:"space-between",alignItems:"center",style:{marginTop:"20px"},children:[f(on,{item:!0,className:t.iconContainer,children:f(Pa,{disabled:i,onClick:o,children:f(jo,{style:{color:i?l.lightContrast:l.contrast}})})}),f(on,{item:!0,children:f(zc,{value:ig(e),onChange:c,children:e0.map((u,g)=>f("option",{value:g,children:u},u))})}),f(on,{item:!0,children:f(zc,{value:sg(e),onChange:h,children:lb(e,30).map(u=>f("option",{className:"custom-option",value:u,children:u},u))})}),f(on,{item:!0,className:t.iconContainer,children:f(Pa,{disabled:r,onClick:s,children:f(hf,{style:{color:r?l.lightContrast:l.contrast}})})})]})})},o0=Vo(a0,i0),l0=()=>({leftBorderRadius:{borderRadius:"50% 0 0 50%"},rightBorderRadius:{borderRadius:"0 50% 50% 0"},buttonContainer:{display:"flex"},button:{height:30,width:30,padding:0},inactive:{color:"gray"},outlined:{border:"1px solid #11abab"},maxContrast:{lineHeight:1.6,color:"primary"},filled:{"&:hover":{backgroundColor:"#11abab",color:"text.primary"},backgroundColor:"#11abab",color:"text.primary"},highlighted:{backgroundColor:"#14b8b852"},contrast:{color:"text.primary"}}),c0=e=>{const{classes:t}=e;return f(vt,{theme:s0,children:f("div",{className:ca(t.buttonContainer,e.startOfRange&&t.leftBorderRadius,e.endOfRange&&t.rightBorderRadius,!e.disabled&&e.highlighted&&t.highlighted,e.disabled&&t.disabled),children:f(Pa,{className:ca(t.button,!e.disabled&&e.outlined&&t.outlined,!e.disabled&&e.filled&&t.filled),disabled:e.disabled,onClick:e.onClick,onMouseOver:e.onHover,children:f(cs,{color:e.disabled?"text.secondary":"text.primary",className:ca(t.maxContrast,!e.disabled&&e.filled&&t.contrast,e.disabled&&t.inactive),variant:"body2",children:e.value})})})})},u0=Vo(c0,l0),Vc={Previous:-1,Next:1},d0=e=>({root:{width:260,background:e.background},weekDaysContainer:{marginTop:5,paddingLeft:30,paddingRight:30},daysContainer:{paddingLeft:15,paddingRight:15,marginTop:10,marginBottom:20}}),f0=e=>{const t=qe(),[n,r]=b.useState(t),{classes:i,helpers:s,handlers:o,value:l,dateRange:c,marker:h,setValue:u,minDate:g,maxDate:S}=e,[w,m]=e.navState;return b.useEffect(()=>{r(t)},[t,r]),f(vt,{theme:t,children:f(md,{square:!0,elevation:0,className:i.root,style:{background:t.background},children:F(on,{container:!0,children:[f(o0,{date:l,setDate:u,nextDisabled:!m,prevDisabled:!w,onClickPrevious:()=>o.onMonthNavigate(h,Vc.Previous),onClickNext:()=>o.onMonthNavigate(h,Vc.Next)}),f(on,{item:!0,container:!0,direction:"row",justifyContent:"space-between",className:i.weekDaysContainer,children:t0.map(C=>f("div",{style:{color:t.contrast,fontSize:"10px"},children:C},C))}),f(on,{item:!0,container:!0,direction:"column",justifyContent:"space-between",className:i.daysContainer,children:nb(rb(l),7).map((C,k)=>f(on,{container:!0,direction:"row",justifyContent:"center",children:C.map(T=>{const x=ib(c,T),N=sb(c,T),I=ob(c),O=ab(c,T)||s.inHoverRange(T);return f(u0,{themeSelected:n,filled:x||N,outlined:lg(T),highlighted:O&&!I,disabled:!co(l,T)||!lo(T,{start:g,end:S}),startOfRange:x&&!I,endOfRange:N&&!I,onClick:()=>o.onDayClick(T),onHover:()=>o.onDayHover(T),value:cg(T)},Pn(T,"mm-dd-yyyy"))})},k))})]})})})},Nr=Vo(f0,d0),h0=ve("div",{target:"eb241j10"})("display:flex;flex-direction:column;padding:10px;max-height:250px;overflow-y:auto;flex:1;margin-top:10px;margin-bottom:10px;padding:5px;&::-webkit-scrollbar{width:5px;background:",e=>e.theme.lightNeutral,";}&::-webkit-scrollbar-corner{background:transparent;}&::-webkit-scrollbar-thumb{border-radius:5px;background:",e=>e.theme.neutral,";}button{background:none;text-align:left;border:none;padding:10px;line-height:1.5;border-radius:3px;font-size:12px;cursor:pointer;&:hover{background:",e=>e.theme.lightNeutral,";}}"),Fc=e=>{const t=qe();return f(vt,{theme:t,children:f(h0,{children:e.ranges.map((n,r)=>f("button",{onClick:()=>{e.setRange(n),e.onClose()},children:f("span",{style:{fontWeight:Tc(n,e.selectedRange)?"bold":"normal",color:Tc(n,e.selectedRange)?"orange":t.contrast,whiteSpace:"nowrap"},children:n.label})},r))})})};var Bo={},p0=Ct;Object.defineProperty(Bo,"__esModule",{value:!0});var Es=Bo.default=void 0,g0=p0(Tt()),m0=Be,v0=(0,g0.default)((0,m0.jsx)("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIos");Es=Bo.default=v0;var qo={},b0=Ct;Object.defineProperty(qo,"__esModule",{value:!0});var Wa=qo.default=void 0,y0=b0(Tt()),x0=Be,S0=(0,y0.default)((0,x0.jsx)("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");Wa=qo.default=S0;const w0=ve("div",{target:"ebkgyot2"})("display:",e=>e.isDisplay?"flex":"none",";flex-direction:column;margin:20px;margin-top:30px;.time-selectors{display:",e=>e.isDisplay?"flex":"none",";flex-direction:column;margin-bottom:15px;.label{font-size:0.85em;color:",e=>e.theme.alphaNeutral,";width:50px;margin-left:5px;margin-bottom:5px;white-space:nowrap;}.input-group{display:flex;margin-bottom:20px;input{background:",e=>e.theme.deep,";color:",e=>e.theme.contrast,";}.date-time-ranged{font-size:14px;width:170px;line-height:20px;border:1px solid ",e=>e.theme.lightNeutral,";color:",e=>e.theme.contrast,";margin:0;padding:0px 8px;margin-right:5px;&:focus{border:1px solid ",e=>e.theme.neutral,";}}}}"),T0=ve(vo,{target:"ebkgyot1"})("color:",e=>e.theme.maxContrast,";background:",e=>e.theme.primary,";padding:6px;justify-content:center;margin-top:10px;margin-bottom:10px;cursor:pointer;&:hover{background:",e=>e.theme.primaryLight,";}"),jc=ve(vo,{target:"ebkgyot0"})("color:",e=>e.theme.contrast,";background:",e=>e.theme.neutral,";border:1px solid ",e=>e.theme.accentNeutral,";padding:8px;&:hover{background:",e=>e.theme.lightNeutral,";color:",e=>e.theme.contrast,";}");function Hc({getEditedStartDate:e,getEditedEndDate:t,handleStart:n,handleStop:r,onTimeRangeSet:i,setCalendarOpen:s,isFullCalendar:o,setStopCalendar:l,setStartCalendar:c,startCalendarOpen:h,stopCalendarOpen:u,isHorizontal:g,styles:S,isMobile:w}){const m=qe();function C(){o?s(T=>!T):(s(T=>!(T&&h)),l(()=>!1),c(T=>!T))}function k(){o?s(T=>!T):(s(T=>!(T&&u)),c(()=>!1),l(T=>!T))}return f(vt,{theme:m,children:F(w0,{isDisplay:S,children:[F("div",{className:"time-selectors",children:[f("span",{className:"label",children:"From"}),F("div",{className:"input-group",children:[f("input",{className:"date-time-ranged",value:nt(e()),onChange:T=>n(T,!1),onBlur:T=>n(T,!0)}),f(jc,{onClick:C,children:f(Wa,{style:{height:"16px",width:"16px"}})})]})]}),F("div",{className:"time-selectors",children:[f("span",{className:"label",children:"To"}),F("div",{className:"input-group",children:[f("input",{className:"date-time-ranged",value:nt(t()),onChange:T=>r(T,!1),onBlur:T=>r(T,!0)}),f(jc,{onClick:k,children:f(Wa,{style:{height:"16px",width:"16px"}})})]})]}),f(T0,{isHorizontal:g,isMobile:w,onClick:T=>{i(T)},children:"Apply Time Range"})]})})}const C0=ve("button",{target:"e1opaqag1"})("padding:10px;border-radius:3px;color:",({theme:e})=>e.accent,";font-size:1em;border:none;background:none;display:flex;cursor:pointer;align-items:center;justify-content:center;margin-bottom:10px;&:hover{background:#11111155;}span{margin-right:4px;font-size:12px;}"),k0=ve("div",{target:"e1opaqag0"})("position:absolute;.header{padding:10px;justify-content:space-between;}.headerItem{text-align:center;}.dateComplete{font-size:0.85em;}.divider{border-left:1px solid action;margin-bottom:20;}.container{position:relative;z-index:1000;right:75%;top:30px;display:flex;flex-direction:column;overflow-y:auto;background:",({theme:e})=>e.background,";}.applyButton{color:white;background:hsl(0, 0%, 31%);border:1px solid hsl(0, 0%, 31%);padding:6px 8px;border-radius:3px;margin-left:10px;cursor:pointer;}"),E0=e=>{const{ranges:t,dateRange:n,minDate:r,maxDate:i,firstMonth:s,setFirstMonth:o,secondMonth:l,setSecondMonth:c,setDateRange:h,helpers:u,handlers:g}=e,S=qe(),[w,m]=b.useState(!1),C={label:"Last 5 minutes",dateStart:new Date(Date.now()-5*6e4),dateEnd:new Date(Date.now())},k=ug(l,s)>=2,T={dateRange:n,minDate:r,maxDate:i,helpers:u,handlers:g},x=zt(),[N,I]=b.useState(n.dateStart),[O,D]=b.useState(n.dateEnd),[p,E]=b.useState(!0),[_]=b.useState(n.label)||C.label,A=wn.useMediaQuery({query:"(min-width: 1013px)"}),$=wn.useMediaQuery({query:"(max-width: 1013px)"}),z=wn.useMediaQuery({query:"(orientation: portrait)"}),V=Re(re=>re.isSplit),[K,ie]=b.useState(!1),[ue,te]=b.useState(!1);b.useEffect(()=>{if(_){const re=Cs(_);I(re.dateStart),D(re.dateEnd)}},[D,I,_]);const he=(re,Ce)=>{re.preventDefault();const Ee=new Date(re.target.value);Ce&&yn(Ee)?D(Ee):D(re.target.value)},Y=(re,Ce)=>{re.preventDefault();const Ee=new Date(re.target.value);Ce&&yn(Ee)?I(Ee):I(re.target.value)},Fe=re=>{re.preventDefault();const Ce=new Date(N),Ee=new Date(O);Bn(Ce)&&!Ui(n.dateStart,Ce)&&(x(xo(Ce)),I(Ce)),yn(Ee)&&!Ui(n.dateEnd,Ee)&&(x(So(Ee)),D(Ee));const be=yn(Ee)&&Bn(Ce),pe=zr(Ce,Ee),Te=!Ui(n.dateStart,Ce)||!Ui(n.dateEnd,Ee);be&&pe&&Te?(x(wo("")),h({dateStart:Ce,dateEnd:Ee}),$e({dateStart:Ce,dateEnd:Ee}),e.onClose(re)):pe||console.log("Invalid time range")},$e=re=>{localStorage.setItem(qa,JSON.stringify(re))},me=()=>yn(N)?Pn(N,"yyy-MM-dd HH:mm:ss"):N,ke=()=>yn(O)?Pn(O,"yyy-MM-dd HH:mm:ss"):typeof O<"u"?O:"",Oe=()=>{E(re=>!re)};return f(vt,{theme:S,children:f(k0,{children:f(md,{className:"container",elevation:5,children:F(on,{display:"flex",style:{flex:"1"},children:[w&&A&&F(on,{container:!0,direction:"row",wrap:"nowrap",children:[f(Nr,{...T,value:s,setValue:o,navState:[!0,k],marker:ur.FIRST_MONTH}),f("div",{className:"divider"}),f(Nr,{...T,value:l,setValue:c,navState:[k,!0],marker:ur.SECOND_MONTH})]}),w&&!A&&!z&&!p&&!V&&F(on,{container:!0,direction:"row",wrap:"nowrap",children:[K&&f(Nr,{...T,value:s,setValue:o,navState:[!0,k],marker:ur.FIRST_MONTH}),ue&&f(Nr,{...T,value:l,setValue:c,navState:[k,!0],marker:ur.SECOND_MONTH})]}),F(on,{display:"flex",flex:1,children:[F("div",{style:{display:"flex",flexDirection:"column",flex:"1"},children:[$&&F(mt,{children:[f("div",{style:{maxHeight:z?"60vh":"50vh",overflowY:"auto",display:p?"flex":"none",flex:1,flexDirection:"column"},children:f(Fc,{selectedRange:n,isHorizontal:!z,ranges:t,setRange:h,onClose:e.onClose})}),f(Hc,{styles:!p,getEditedStartDate:me,isHorizontal:!z,isMobile:!0,isFullCalendar:!1,getEditedEndDate:ke,handleStart:Y,handleStop:he,onTimeRangeSet:Fe,calendarOpen:w,stopCalendarOpen:ue,startCalendarOpen:K,setCalendarOpen:m,setStopCalendar:te,setStartCalendar:ie}),$&&F(C0,{onClick:Oe,theme:S,children:[f("span",{children:p?"Set Absolute Time":"Set Relative Time"}),f(Es,{className:oe({name:"rnnx2x",styles:"font-size:12px"})})]})]}),!$&&f(Hc,{styles:!0,isMobile:!1,isFullCalendar:!0,getEditedStartDate:me,getEditedEndDate:ke,handleStart:Y,handleStop:he,onTimeRangeSet:Fe,calendarOpen:w,setCalendarOpen:m}),w&&$&&!p&&F(on,{container:!0,direction:"row",wrap:"nowrap",children:[K&&f(Nr,{...T,value:s,setValue:o,navState:[!0,k],marker:ur.FIRST_MONTH}),ue&&f(Nr,{...T,value:l,setValue:c,navState:[k,!0],marker:ur.SECOND_MONTH})]})]}),f("div",{className:"divider"}),A&&f(on,{style:{display:"flex",flex:1},children:f(Fc,{selectedRange:n,ranges:t,setRange:h,onClose:e.onClose})})]})]})})})})};function _0(){const e=zt(),t=b.useRef(null),n=i=>{i.key==="Escape"&&e(mc(!1))},r=i=>{t.current&&!t.current.contains(i.target)&&e(mc(!1))};return b.useEffect(()=>(document.addEventListener("keydown",n,!0),document.addEventListener("click",r,!0),()=>{document.removeEventListener("keydown",n,!0),document.removeEventListener("click",r,!0)})),{ref:t}}var Wo={},I0=Ct;Object.defineProperty(Wo,"__esModule",{value:!0});var pf=Wo.default=void 0,R0=I0(Tt()),M0=Be,N0=(0,R0.default)((0,M0.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"}),"AccessTimeOutlined");pf=Wo.default=N0;var Uo={},O0=Ct;Object.defineProperty(Uo,"__esModule",{value:!0});var gf=Uo.default=void 0,L0=O0(Tt()),D0=Be,A0=(0,L0.default)((0,D0.jsx)("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"KeyboardArrowLeft");gf=Uo.default=A0;const P0=ve("div",{target:"e13b6hz0"})({name:"12m2hdf",styles:'display:flex;flex-direction:column;justify-content:"center";padding:"3px";.time-span{text-align:center;}'});function $0({dateRange:e}){const t=qe();return f(vt,{theme:t,children:F(P0,{children:[f("span",{className:"time-span",children:yn(e.dateStart)?Pn(e.dateStart,"yyyy/MM/dd HH:mm:ss"):e.dateStart}),f("span",{className:"time-span",children:"to"}),f("span",{className:"time-span",children:yn(e.dateEnd)?Pn(e.dateEnd,"yyyy/MM/dd HH:mm:ss"):typeof e.dateEnd<"u"?e.dateEnd:""})]})})}const hi=oe({name:"th2gus",styles:"svg{font-size:1.15em;margin:0px 2px;}.tooltip{background-color:red;display:flex;align-items:center;justify-items:center;}@media screen and (max-width: 1200px){font-size:1em;padding:8px;color:#ddd;line-height:1.5;svg{margin-right:0;}span{display:none;}}"}),z0=e=>{try{let t=localStorage.getItem(e);if(typeof t=="string"){let n=JSON.parse(t);if(n.dateStart&&n.dateEnd)return JSON.parse(t)}}catch(t){return console.log(t),{dateStart:"",dateEnd:""}}},Ua=e=>f(Ig,{id:e.id,elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"left"},PaperProps:{sx:{background:e.qryntheme.neutral,color:e.qryntheme.contrast}},transformOrigin:{vertical:"bottom",horizontal:"left"},...e}),Bc=["1m","5m","10m","30m","1h","3h","6h","12h","24h"];function V0(e){const t=Date.now(),{id:n,minDate:r,maxDate:i,startTs:s,stopTs:o,label:l,onLabelChange:c,onStartChange:h,onStopChange:u,pickerOpen:g,onPickerOpen:S}=e,w=wn.useMediaQuery({query:"(max-width: 1013px)"}),m=Re(_e=>_e.isSplit),C=qe(),k={label:"Last 5 minutes",dateStart:new Date(Date.now()-5*6e4),dateEnd:new Date(Date.now())},T=()=>{try{const _e=z0(qa);if(!_e)return k;if((_e==null?void 0:_e.label)!==""&&typeof _e.label<"u"){const je=Cs(_e==null?void 0:_e.label);_e.dateStart=je.dateStart,_e.dateEnd=je.dateEnd}else _e.dateStart=new Date(_e.dateStart),_e.dateEnd=new Date(_e.dateEnd);return _e}catch{if(Bn(s)&&Bn(o))return{dateStart:s,dateEnd:o}}},x=wc(r,ac(t,-10)),N=wc(i,ac(t,10)),[I,O]=cb(T()||{},x,N),[D,p]=b.useState({...T()}),[E,_]=b.useState(),[A,$]=b.useState(I||t),[z,V]=b.useState(O||bi(A,1)),K=b.useMemo(()=>({dateStart:s,dateEnd:o,label:l}),[s,o,l]);b.useEffect(()=>{c(K.label)},[K.label]);const{dateStart:ie,dateEnd:ue}=D,{ref:te}=_0(),he=_e=>{zr(_e,z)&&$(_e)},Y=_e=>{oc(_e,A)&&V(_e)},Fe=_e=>{let{label:je,dateStart:Qe,dateEnd:at}=_e;Qe&&at&&(_e.label=je,_e.dateStart=Qe=yd([Qe,x]),_e.dateEnd=at=xd([at,N]),p(_e),$e(_e),pe(_e),$(Qe),V(co(Qe,at)?bi(Qe,1):at))},$e=_e=>{localStorage.setItem(qa,JSON.stringify(_e))},me=_e=>{if(ie&&!ue&&!zr(_e,ie)){const je={dateStart:ie,dateEnd:_e};pe(je),$e(je),p(je),c(""),re()}else p({dateStart:_e,dateEnd:void 0});_(_e)},ke=(_e,je)=>{if(_e===ur.FIRST_MONTH){const Qe=bi(A,je);zr(Qe,z)&&$(Qe)}else{const Qe=bi(z,je);zr(A,Qe)&&V(Qe)}},Oe=_e=>{ie&&!ue&&(!E||!Ur(_e,E))&&_(_e)},re=(_e=null)=>{_e==null||_e.preventDefault(),S(!1)},Ee={inHoverRange:_e=>ie&&!ue&&E&&oc(E,ie)&&lo(_e,{start:ie,end:E})},be={onDayClick:me,onDayHover:Oe,onMonthNavigate:ke};function pe(_e){const{dateStart:je,dateEnd:Qe,label:at}=_e,Ie=Bn(je),ut=Bn(Qe),Dt=typeof at<"u";Ie&&h(je),ut&&u(Qe),Dt&&c(at)}const Te=_e=>{_e.preventDefault(),g===!0?re(_e):S(!0)},Je=(_e,je="range")=>{const Qe=_e==="backward"?fg:hg;let at={years:0,months:0,days:0,hours:0,minutes:0,seconds:0};je==="range"?at=dg({start:ie,end:ue}):je.includes("d")?at.days=parseInt(je):je.includes("h")?at.hours=parseInt(je):je.includes("m")?at.minutes=parseInt(je):je.includes("s")&&(at.seconds=parseInt(je));const Ie=Qe(ie,at),ut=Qe(ue,at),Dt={dateStart:Ie,dateEnd:ut,label:""};p(Dt),$e(Dt),pe(Dt)},[et,De]=b.useState(null),Ye=!!et,[Xe,it]=b.useState(null),rt=!!Xe,Ke=_e=>{De(()=>_e.currentTarget)},Et=_e=>{it(()=>_e.currentTarget)},Rt=(_e,je,Qe)=>{De(null),it(null),je&&Qe&&Je(je,Qe)};return F("div",{style:{display:"flex"},children:[!w&&!m&&F(mt,{children:[f(di,{onClick:()=>{Je("backward")},attachedside:"r",emptySide:"l",className:Pe(hi),children:f(gf,{})}),f(di,{onClick:Ke,attachedside:"both",size:"small",className:Pe(hi),"aria-controls":Ye?"backward-menu":void 0,"aria-haspopup":"true","aria-expanded":Ye?"true":void 0,children:f(Gr,{})}),f(Ua,{id:"backward-menu",anchorEl:et,open:Ye,onClose:Rt,qryntheme:C,children:Bc.map(_e=>f(Fa,{sx:{"&.MuiMenuItem-root":{fontSize:12}},onClick:je=>Rt(je,"backward",_e),children:_e},`${_e} l`))})]}),f(Lt,{title:l?f($0,{dateRange:D}):"",children:F(di,{onClick:Te,className:Pe(hi),attachedside:"both",children:[f(pf,{}),f("span",{children:l||(yn(D.dateStart)?Pn(D.dateStart,"yyyy/MM/dd HH:mm:ss"):D.dateStart)+"-"+(yn(D.dateEnd)?Pn(D.dateEnd,"yyyy/MM/dd HH:mm:ss"):typeof D.dateEnd<"u"?D.dateEnd:"")})]})}),!w&&!m&&F(mt,{children:[f(di,{onClick:Et,id:`forward-button-${n}`,size:"small",className:Pe(hi),"aria-controls":rt?`forward-menu${n}`:void 0,"aria-haspopup":"true","aria-expanded":rt?"true":void 0,children:f(Gr,{})}),f(Ua,{id:`forward-menu-${n}`,anchorEl:Xe,open:rt,onClose:Rt,qryntheme:C,children:Bc.map(_e=>f(Fa,{sx:{"&.MuiMenuItem-root":{fontSize:12}},onClick:je=>Rt(je,"forward",_e),children:_e},`${_e} r`))}),f(di,{onClick:()=>{Je("forward")},attachedside:"l",className:Pe(hi),children:f(Kn,{})})]}),g?f("div",{tabIndex:0,ref:te,children:f(vt,{theme:C,children:f(E0,{dateRange:D,minDate:x,maxDate:N,ranges:To(new Date),firstMonth:A,secondMonth:z,setFirstMonth:he,setSecondMonth:Y,setDateRange:Fe,helpers:Ee,handlers:be,onClose:re})})}):null]})}const F0=V0;function j0(e){const{historyTabHeader:t,historyTab:n,starredHistoryTab:r,closeButton:i,linksTabHeader:s,linksTab:o,settingTab:l,settingTabHeader:c}=e;return F(Dg,{defaultValue:0,children:[F(kd,{children:[F(Vr,{children:[f(Mg,{}),f("span",{children:"Queries"})]}),F(Vr,{children:[f(Ng,{}),f("span",{children:"Links"})]}),F(Vr,{children:[f(Og,{}),f("span",{children:"Starred"})]}),F(Vr,{children:[f(Lg,{}),f("span",{children:"Settings"})]}),i]}),F(Fr,{value:0,children:[t,n]}),F(Fr,{value:1,children:[s,o]}),f(Fr,{value:2,children:r}),F(Fr,{value:3,children:[c,l]})]})}function H0({pos:e,item:t,copyLink:n,handleDelete:r,handleStarLinkItem:i,handleSubmit:s,label:o}){var k;const[l,c]=b.useState(!1),{fromDate:h,toDate:u,type:g,url:S,queryInput:w,limit:m}=t,C=()=>{c(T=>!T)};return F(Vg,{open:l,children:[f(B0,{pos:e,onOpen:l}),f("button",{className:"open-button",onClick:()=>{C()},children:l?f(rf,{fontSize:"small"}):f(nf,{fontSize:"small"})}),F("div",{className:"inline-params",children:[f(Lt,{title:"API URL",children:F("span",{style:{display:"flex",alignItems:"center"},children:[f(Nd,{fontSize:"small",style:{marginRight:"3px"}})," ",S]})}),F("span",{style:{whiteSpace:"nowrap"},children:["limit: ",m]}),F("span",{style:{whiteSpace:"nowrap"},children:["step: ",(k=t==null?void 0:t.params)==null?void 0:k.step]}),F("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[" ",f(Lt,{title:`${h} - ${u}`,children:f(ef,{style:{marginRight:"3px",height:"14px",width:"14px"}})})," ",F(zg,{children:[h," - ",u]})]})]}),F("div",{className:"block-params",children:[F("p",{children:[f("span",{className:"key",children:" Query:"})," ",f("span",{className:"value",children:w})," "]}),F("p",{children:[f("span",{className:"key",children:" API URL:"})," ",f("span",{className:"value",children:S})," "]}),F("p",{children:[f("span",{className:"key",children:" Data Source Type:"})," ",f("span",{className:"value",children:g})," "]}),F("p",{children:[f("span",{className:"key",children:"From: "})," ",f("span",{className:"value",children:h})," "]}),F("p",{children:[f("span",{className:"key",children:" To: "})," ",F("span",{className:"value",children:[" ",u]})," "]}),F("p",{children:[f("span",{className:"key",children:"Limit: "})," ",f("span",{className:"value",children:m})," "]}),F("p",{children:[f("span",{className:"key",children:" Step:"})," ",f("span",{className:"value",children:t.params.step})," "]})]}),f(q0,{item:t,onOpen:l,copyLink:n,handleDelete:r,handleStarLinkItem:i,handleSubmit:s,label:o})]})}function B0({pos:e,onOpen:t}){return f("div",{style:{display:t?"none":"flex",width:"30vw"},children:F(Ed,{children:["Link ",e," "]})})}function q0(e){const{item:t,onOpen:n,copyLink:r,handleDelete:i,handleStarLinkItem:s,handleSubmit:o,label:l}=e,c=qe(),[h,u]=b.useState(null),g=!!h,[S,w]=b.useState(!1);return F("div",{style:{display:"flex",flexDirection:n?"column-reverse":"row",justifyContent:"space-between",alignItems:"center"},children:[f(mt,{children:f(Lt,{title:"Copy Link to Clipboard",placement:"right-end",children:F("span",{style:{display:"flex"},children:[f(fr,{onClick:()=>r(t==null?void 0:t.data,"link",S),isActive:!0,style:{flex:1},className:"URL-COPY",attachedside:"r",children:f(Nd,{style:{height:"14px",width:"14px"},fontSize:"small"})}),f(fr,{attachedside:"l",onClick:T=>{u(()=>T.currentTarget),w(()=>S)},size:"small",className:"date-time-selector","aria-controls":g?"backward-menu":void 0,"aria-haspopup":"true","aria-expanded":g?"true":void 0,children:f(Gr,{fontSize:"small"})}),f(Ua,{id:"backward-menu",anchorEl:h,open:g,onClose:()=>{u(null)},qryntheme:c,size:"small",children:f(Fa,{style:{padding:"0 14px"},children:f(Ov,{children:f(Ev,{style:{padding:"0",marginRight:0,cursor:l?"default":"not-allowed"},checked:S,onChange:T=>{w(()=>!!T.target.checked)},control:f(av,{style:{paddingRight:"0px",marginRight:"3px"},sx:{"& .MuiSvgIcon-root":{fontSize:14}},disabled:!l}),label:f(cs,{style:{fontSize:"12px",color:c.contrast},children:"Relative time"})})})},"relativeTime")})]})})}),f(Lt,{title:"Delete Query",children:f(fr,{onClick:()=>i(t),children:f(ks,{style:{height:"14px",width:"14px"},fontSize:"small"})})}),f(Lt,{title:"Star / Unstar Link",children:f(fr,{onClick:()=>s(t),children:t.starred?f(Io,{style:{height:"14px",width:"14px"},fontSize:"small"}):f(_d,{style:{height:"14px",width:"14px"},fontSize:"small"})})}),f(Lt,{title:"Search Logs from Query",children:F(Id,{onClick:()=>o(t==null?void 0:t.data),children:[f(tf,{className:"open-icon",fontSize:"small"}),f("span",{className:"open-text",children:"Open In New Tab"})]})})]})}function Qa({queryHistory:e,copyQuery:t,handleDelete:n,handleStarItem:r,handleSubmit:i,filtered:s,emptyMessage:o,isStarred:l}){const[c,h]=b.useState([]);b.useEffect(()=>{h(e)},[]),b.useEffect(()=>{s.length>0&&h(s)},[s]),b.useEffect(()=>{h(e)},[e]);function u(g){let S="";if(typeof g=="string")try{S=JSON.parse(g).queryInput}catch{S=g}return S}return f(mo,{className:l?"starredCont":"",children:c.length>0?c==null?void 0:c.map((g,S)=>F(Rd,{children:[f("span",{style:{color:"#666",paddingRight:"10px",width:"10px",display:"flex",alignItems:"center"},children:c.length-S}),f(Lt,{title:g.data,children:F(Ed,{children:[u(g.data)," "]})}),f("span",{children:Pn(g.timestamp,"yyyy/MM/dd HH:mm:ss")}),F("div",{style:{display:"flex",alignItems:"center"},children:[f(Lt,{title:"Copy Query to Clipboard",children:f(fr,{onClick:()=>t(g.data),children:f(Ag,{style:{height:"14px",width:"14px"},fontSize:"small"})})}),f(Lt,{title:"Delete Query",children:f(fr,{onClick:()=>n(g),children:f(ks,{style:{height:"14px",width:"14px"},fontSize:"small"})})}),f(Lt,{title:"Star / Unstar Query",children:f(fr,{onClick:()=>r(g),children:g.starred?f(Io,{style:{height:"14px",width:"14px"},fontSize:"small"}):f(_d,{style:{height:"14px",width:"14px"},fontSize:"small"})})}),f(Lt,{title:"Search Logs from Query",children:F(Id,{onClick:()=>i(g),children:[f(Kn,{className:"open-icon"}),f("span",{className:"open-text",children:"Show Results"})]})})]})]},S)):f(sf,{message:o})})}function mf({linksHistory:e,copyLink:t,handleDelete:n,handleStarLinkItem:r,handleSubmit:i,filtered:s,emptyMessage:o,isStarred:l,label:c}){const[h,u]=b.useState([]);return b.useEffect(()=>{u(e)},[]),b.useEffect(()=>{s.length>0&&u(s)},[s]),b.useEffect(()=>{u(e)},[e]),f(mo,{className:l?"starredCont":"",children:h.length>0?h==null?void 0:h.map((g,S)=>F(Rd,{children:[f("span",{style:{paddingRight:"10px",color:"#666",width:"10px",display:"flex",alignItems:"center"},children:(h==null?void 0:h.length)-S}),f(H0,{pos:(h==null?void 0:h.length)-S,item:g,copyLink:t,handleDelete:n,handleStarLinkItem:r,handleSubmit:i,label:c})]},S)):f(sf,{message:o})})}function W0({starredQueries:e,starredLinks:t,handleDeleteQuery:n,handleDeleteLink:r,handleStarItem:i,handleStarLinkItem:s,handleSubmitQuery:o,handleSubmitLink:l,filteredLinks:c,filteredQueries:h,setFilteredStarLink:u,setFilteredStarQuery:g,filterItems:S,emptyQueryMessage:w,emptyLinkMessage:m,copyQuery:C,label:k}){const[T,x]=b.useState([]),[N,I]=b.useState([]);return b.useEffect(()=>{x(e),I(t)},[]),b.useEffect(()=>{c.length>0&&I(c),h.length>0&&x(h)},[c,h]),b.useEffect(()=>{x(e),I(t)},[e,t]),F(Oi,{defaultValue:0,children:[F(kd,{children:[f(Vr,{children:"Queries"}),f(Vr,{children:"Links"})]}),F(Fr,{value:0,children:[f(Si,{searchQueriesText:"Queries",queryHistory:e,filterItems:S,setFilteredItems:g}),f(Qa,{queryHistory:T,copyQuery:C,handleDelete:n,handleStarItem:i,handleSubmit:o,filtered:h,emptyMessage:w,isStarred:!0})]}),F(Fr,{value:1,children:[f(Si,{searchQueriesText:"Links",queryHistory:t,filterItems:S,setFilteredItems:u}),f(mf,{linksHistory:N,copyQuery:C,handleDelete:r,handleStarLinkItem:s,handleSubmit:l,filtered:c,emptyMessage:m,isStarred:!0,label:k})]})]})}function Si({queryHistory:e,filterItems:t,setFilteredItems:n,searchQueriesText:r}){const[i,s]=b.useState("");function o(l){let c=l.target.value;s(c);const h=t(e,c);h.length>0?n(h):n([])}return f(Md,{children:F("div",{style:{display:"flex",alignItems:"center"},children:[f(Pg,{}),f($g,{type:"text",value:nt(i),onChange:o,placeholder:`Search ${r}`})," ",F("span",{style:{margin:"0px 4px"},children:["Total: ",e.length]})]})})}function U0({queryHistory:e,linksHistory:t}){return f(Md,{children:F("div",{style:{display:"flex",alignItems:"center"},children:[F("span",{style:{margin:"0px 4px"},children:["Query History Rows: ",e==null?void 0:e.length]})," | ",F("span",{style:{margin:"0px 4px"},children:["Links History Rows: ",t==null?void 0:t.length]})]})})}function Q0({clearHistory:e,clearLinksHistory:t}){return f(mo,{children:F("div",{style:{display:"flex"},children:[F(uc,{children:[f("div",{children:"Clear Query History"}),f("small",{children:"Delete all of your query history, permanently."}),f(Oc,{dialogType:"Query",clearHistory:e})]}),F(uc,{children:[f("div",{children:"Clear Links History"}),f("small",{children:"Delete all of your links history, permanently."}),f(Oc,{dialogType:"Links",clearHistory:t})]})]})})}const vf=()=>{const e="Link Copied To Clipboard",t=zt(),n=vd().historyStore(),r=bd(),i=Re(re=>re.queryHistory),s=Re(re=>re.linksHistory),o=Re(re=>re.historyOpen),l=qe(),[c,h]=b.useState([]),[u,g]=b.useState([]),[S,w]=b.useState([]),[m,C]=b.useState([]),[k,T]=b.useState([]),[x,N]=b.useState(!1),I=Re(re=>re.start),O=Re(re=>re.stop),D=Re(({label:re})=>re);function p(re){const Ce=n.remove(re);t(rs(Ce)),t(jn({message:"Query deleted succesfully",type:tr.info}))}function E(re){const Ce=r.remove(re);t(ns(Ce))}function _(re){const Ce={id:"",limit:100,panel:"left",queryInput:"",queryType:"range",direction:"forward"};let Ee={};try{Ee=JSON.parse(re.data)}catch{Ee={...Ce}}const{id:be,limit:pe,panel:Te,queryInput:Je,queryType:et,type:De,dataSourceId:Ye,url:Xe,direction:it}=Ee;let rt="",Ke=0;if(Je.includes("$__interval")){const Rt=(O.getTime()-I.getTime())/1e3/30,_e=+1 .toFixed(1),je=Rt/_e,Qe=Math.round(je*window.devicePixelRatio.toFixed(2));rt=Je.replace(/\[\$__interval\]/,`[${Qe}s]`),Ke=Qe}else rt=Je;t(An(De,rt,et,pe,Te,be,it||"forward",Ye,Xe,Ke))}function A(re){window.open(re)}function $(re,Ce){return re==null?void 0:re.filter(Ee=>Ee.data.toLowerCase().includes(Ce.toLowerCase()))}function z(re){g(re)}function V(re){w(re)}function K(re){T(re)}function ie(re){C(re)}b.useEffect(()=>{const re=(i==null?void 0:i.filter(Ee=>Ee.starred))||[],Ce=(s==null?void 0:s.filter(Ee=>Ee.starred))||[];N(Ce),h(re)},[i,s]);function ue(re){const Ce={...re,starred:!re.starred},Ee=n.update(Ce);t(rs(Ee)),Ce.starred?t(jn({message:"Query starred succesfully",type:tr.success})):t(jn({message:"Query unstarred succesfully",type:tr.success}))}function te(re){const Ce={...re,starred:!re.starred},Ee=r.update(Ce);t(ns(Ee)),Ce.starred?t(jn({message:"Link starred succesfully",type:tr.success})):t(jn({message:"Link unstarred succesfully",type:tr.success}))}function he(){t(jn({type:"success",message:e}))}function Y(re){navigator.clipboard.writeText(re).then(function(){he()},function(Ce){console.log("error on copy",Ce)})}function Fe(re){let Ce=document.createElement("textarea");return Ce.value=re,Ce.style={position:"fixed",left:"-999999px",top:"-999999px"},document.body.appendChild(Ce),Ce.focus(),Ce.select(),new Promise((Ee,be)=>{he(),document.execCommand("copy")?Ee():be(),Ce.remove()})}function $e(re,Ce="query",Ee=!1){const be=new URL(re),{hash:pe}=be,Te=new URLSearchParams(pe.replace(/#/,""));Te.set("label",D);const Je=new URL(window.location.href);Je.hash=`#${Te.toString()}`;const et=Ce==="query"?JSON.parse(re).queryInput:Ee&&D?Je:re;setTimeout(()=>{navigator!=null&&navigator.clipboard&&window.isSecureContext?Y(et):Fe(et)},200)}function me(){t(qd(!1))}function ke(){const re=n.clean();t(rs(re)),(re==null?void 0:re.length)<1&&t(jn({message:"Query History cleared succesfully",type:tr.info}))}function Oe(){const re=r.clean();t(ns(re)),(re==null?void 0:re.length)<1&&t(jn({message:"Links History cleared succesfully",type:tr.info}))}return f(Cd,{theme:l,children:o&&f(Rg,{anchor:"bottom",style:{maxHeight:"250px"},open:o,variant:"persistent",theme:l,children:f(j0,{historyTabHeader:f(Si,{searchQueriesText:"Queries",queryHistory:i,clearHistory:ke,filterItems:$,setFilteredItems:z}),historyTab:f(Qa,{queryHistory:i,copyQuery:$e,handleDelete:p,handleStarItem:ue,handleSubmit:_,filtered:u,emptyMessage:"There is no query history. Please execute some queries and you will see a history here."}),linksTabHeader:f(Si,{searchQueriesText:"Links",queryHistory:s,filterItems:$,setFilteredItems:V}),linksTab:f(mf,{linksHistory:s,copyLink:$e,handleDelete:E,handleStarLinkItem:te,handleSubmit:A,filtered:S,label:D,emptyMessage:"There is no links history. Please execute some queries and share links and you will see a history here."}),starredTabHeader:f(Si,{searchQueriesText:"Queries",queryHistory:c,clearHistory:ke,filterItems:$,setFilteredItems:K}),starredTab:f(Qa,{queryHistory:c,copyQuery:$e,handleDelete:p,handleStarItem:ue,handleSubmit:_,filtered:k,emptyMessage:"Click the ‘Star’ icon to save queries and find them here to reuse again"}),starredHistoryTab:f(W0,{starredQueries:c,starredLinks:x,handleDeleteQuery:p,handleDeleteLink:E,handleStarItem:ue,handleStarLinkItem:te,handleSubmitQuery:_,handleSubmitLink:A,filterItems:$,setFilteredStarLink:ie,setFilteredStarQuery:K,filteredQueries:k,filteredLinks:m,emptyQueryMessage:"Click the 'Star' icon to save links and find them here to reuse again",emptyLinkMessage:"Click the 'Star' icon to save queries and find them here to reuse again",copyQuery:$e,label:D}),settingTabHeader:f(U0,{queryHistory:i,linksHistory:s}),settingTab:f(Q0,{clearHistory:ke,clearLinksHistory:Oe}),closeButton:f(Oy,{onClose:me})})})})},G0=({type:e,actualQuery:t,total:n,dataView:r})=>b.useMemo(()=>{var g;const s=(e==="matrix"||e==="flux")&&(t==null?void 0:t.tableView),o=e==="stream"&&(t==null?void 0:t.tableView);let l="",c="",h="",u="";if(s){const S=((g=r==null?void 0:r.tableData)==null?void 0:g.total)*25,w=S<330?S:330;l=`${w+25}px`,h=`${w}px`,c="fit-content",u="fit-content"}if(e==="vector"||o){const S=n*25,w=S<330?S:330;l=`${w+25}px`,h=`${w}px`,c="fit-content",u="fit-content"}if(e==="stream"&&!(t!=null&&t.tableView)){const w=n*25<350?"fit-content":"inherit";l=w,h=w,c="fit-content",u="fit-content"}return(e==="matrix"||e==="flux")&&!(t!=null&&t.tableView)&&(l="fit-content",h="400px",c="fit-content",u="fit-content"),{regularCont:l,regularView:h,maxCont:c,maxView:u}},[n,e,t==null?void 0:t.tableView]),K0=({total:e,panelSize:t,dataView:n})=>{var s;let r=0;return n.type==="matrix"?r=(s=n==null?void 0:n.tableData)==null?void 0:s.total:r=e,b.useMemo(()=>{const o=r*25;return t==="max"?o:t==="min"?0:o<310?o:310},[t])},J0=({panel:e,dataView:t})=>b.useMemo(()=>{let r={};return e&&t&&(r=e==null?void 0:e.find(i=>i.id===t.id)),r},[e,t]);function qc(e){const{name:t}=e;return f(mt,{children:t})}const Y0=ve("div",{target:"emosc6a8"})("display:flex;align-items:center;justify-content:center;flex:1;height:100%;font-size:0.75em;letter-spacing:1px;padding:30px;color:",({theme:e})=>e.lightContrast,";background:",({theme:e})=>e.background,";text-align:center;"),X0=ve("div",{target:"emosc6a4"})({name:"c6g1h8",styles:"overflow-y:auto;margin:2px;display:flex;flex-direction:column;flex:1;max-height:100vh;&::-webkit-scrollbar{background:transparent;}::-webkit-scrollbar-corner{background:transparent;}&::-webkit-scrollbar-thumb{background:transparent;}"}),Z0=ve("div",{target:"emosc6a3"})("display:flex;align-items:center;color:",({theme:e})=>e.contrast,";font-size:12px;.header-actions{justify-self:flex-end;.header-icon{padding:1px 2px;margin:0px 2px;border-radius:3px;cursor:pointer;color:",({theme:e})=>e.contrast,";&:hover{background:",({theme:e})=>e.neutral,";}}}.view-header-info{display:flex;flex:1;align-items:center;span{margin:0px 3px;.exp{font-family:monospace;}}}"),Wc=ve("div",{target:"emosc6a2"})("margin:0px 2px;padding:2px;font-size:10px;border:1px solid ",({theme:e})=>e.accentNeutral,";border-radius:3px;"),ex=ve("div",{target:"emosc6a1"})("display:flex;align-items:center;margin:0px 12px;flex:1;max-width:450px;overflow-x:auto;&::-webkit-scrollbar{width:5px;height:5px;}&::-webkit-scrollbar-corner{background:transparent;}&::-webkit-scrollbar-thumb{border-radius:5px;background:",({theme:e})=>e.alphaPlusNeutral,";}"),tx=ve("div",{target:"emosc6a0"})("background:",({theme:e})=>e.shadow,";color:",({theme:e})=>e.contrast,";display:flex;flex-direction:column;padding:20px;div{width:100%;overflow-wrap:break-word;font-family:monospace;}p{padding:10px;font-size:12px;display:flex;flex:1;align-items:center;flex-wrap:wrap;span.label{background:",({theme:e})=>e.accentNeutral,";color:",({theme:e})=>e.shadow,";margin:2px;padding:2px;border-radius:2px;}}h4{margin-bottom:20px;padding-bottom:4px;border-bottom:1px solid ",({theme:e})=>e.accentNeutral,";}pre{font-family:monospace;}small{font-size:10px;}");var Qo={},nx=Ct;Object.defineProperty(Qo,"__esModule",{value:!0});var $n=Qo.default=void 0,rx=nx(Tt()),ix=Be,sx=(0,rx.default)((0,ix.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");$n=Qo.default=sx;const ax=({labels:e})=>(e==null?void 0:e.length)>0?F("p",{children:["Labels:",e.map((t,n)=>f("span",{className:"label",children:t},n))]}):null,ox=({idRef:e,expr:t,queryType:n})=>F(mt,{children:[f("h4",{children:e}),f("div",{children:f("p",{children:t})}),F("p",{children:["Query Type: ",n]})]}),lx=({expr:e,idRef:t,labels:n,limit:r,queryType:i,total:s})=>{const o={idRef:t,expr:e,queryType:i},l={labels:n};return F(tx,{children:[f(ox,{...o}),f(ax,{...l}),F("p",{children:["Limit: ",r]}),F("p",{children:["Total: ",s]})]})};function cx({expr:e,idRef:t,labels:n,queryType:r,limit:i,total:s,onClose:o,open:l}){const c=qe();return f(vt,{theme:c,children:f(ho,{open:l,onClose:o,PaperProps:{classes:{root:po}},children:f(lx,{expr:e,idRef:t,labels:n,queryType:r,limit:i,total:s})})})}function Pi(e){var N;const{fixedSize:t}=e||{fixedSize:!1},n=wn.useMediaQuery({query:"(max-width: 1013px)"}),[r,i]=b.useState(!1),[s,o]=b.useState(!0),l=qe(),{actualQuery:c,dataView:h,type:u,total:g,setMinimize:S,setMaxHeight:w}=e,m=b.useMemo(()=>{const I=u==="matrix"&&(c==null?void 0:c.tableView),O=u==="stream"&&(c==null?void 0:c.tableView);if((u==="matrix"||u==="flux")&&!(c!=null&&c.tableView))return"Chart";if(u==="stream"&&!(c!=null&&c.tableView))return"Logs";if(u==="vector"||I||O)return"Table";if(u==="empty")return"No Results"},[u,c==null?void 0:c.tableView]),C=b.useCallback(()=>{s?(S(),o(!1)):(w(),o(!0))},[s,S,w]),k=b.useCallback(()=>{i(!0)},[]),T=b.useMemo(()=>{var I;return((I=h==null?void 0:h.labels)==null?void 0:I.join("  |  "))||""},[h.labels]),x=b.useMemo(()=>{var I;if((I=h==null?void 0:h.labels)!=null&&I.length)if((h==null?void 0:h.labels.length)>4){const O=[...h.labels].slice(0,4);return F(mt,{children:[O.map((D,p)=>f(Wc,{children:f(qc,{name:D,...e.theme})},p))," ","..."]})}else return f(mt,{children:h.labels.map((O,D)=>f(Wc,{children:f(qc,{name:O,...e.theme})},D))})},[h.labels,e.theme]);if(c){const{idRef:I,expr:O,limit:D,queryType:p}=c;return f(vt,{theme:l,children:F(Z0,{children:[F("div",{className:"view-header-info",children:[f("span",{children:f("span",{className:"exp",children:m})}),f(Lt,{title:(c==null?void 0:c.expr)||"",children:F("span",{children:[" ",f("span",{className:"exp",children:c==null?void 0:c.idRef})]})}),!n&&F(mt,{children:[F("span",{children:["limit:"," ",f("span",{className:"exp",children:c==null?void 0:c.limit})]}),F("span",{children:["count: ",f("span",{className:"exp",children:g})]})]}),((N=h==null?void 0:h.labels)==null?void 0:N.length)>0&&!n&&f("span",{children:F(ex,{title:T,children:["labels:",x]})})]}),f("div",{className:"header-actions",children:!t&&F(mt,{children:[f(Fg,{className:"header-icon",style:{fontSize:"12px"},onClick:k}),f(ux,{isOpen:s,onClick:C})]})}),r&&f(cx,{labels:h.labels||[],limit:D,expr:O,queryType:p,idRef:I,open:r,total:g,onClose:E=>i(!1)})]})})}return null}const ux=e=>{const{isOpen:t,onClick:n}=e;return t?f($n,{className:"header-icon",onClick:n,style:{fontSize:"14px"}}):f(jo,{className:"header-icon",onClick:n,style:{fontSize:"14px"}})};function dx(e){const t=qe(),{loading:n}=e;return n?null:f(vt,{theme:t,children:f(Y0,{children:"Please adjust search parameters and click on ‘Show Results’ button"})})}const _s=ve("div",{target:"e5pse6w4"})("margin:4px;padding:5px;margin-top:0px;border:1px solid ",({theme:e})=>e.accentNeutral,";border-radius:3px;display:flex;flex-direction:column;flex:",({size:e})=>e==="min"?0:1,";height:",e=>e.size==="regular"?e.vheight.regularCont:e.size==="max"?e.vheight.maxCont:"20px",";.view-content{height:",e=>e.size==="regular"?e.vheight.regularView:e.size==="max"?e.vheight.maxView:"0px",";display:",e=>e.size==="min"?"none":(e.size==="regular","flex"),";flex-direction:",e=>(e.size==="regular","column"),";flex:1;}"),qn=ve(ja,{target:"e5pse6w3"})("width:100%;background:",({theme:e})=>e.shadow,";height:inherit;flex:1;"),Go=ve(Ad,{target:"e5pse6w1"})("min-width:320px;background:",({theme:e})=>e.shadow,";border-bottom:4px solid ",({theme:e})=>e.bgNeutral,";display:",({panelsize:e})=>e==="min"?"none":"flex",";align-items:center;align-content:space-between;"),Wn=ve(Dd,{target:"e5pse6w0"})("color:",({theme:e})=>e.contrast,";background:",({theme:e})=>e.neutral,";border:1px solid ",e=>e.theme.accentNeutral,";cursor:pointer;font-size:13px;background-color:transparent;padding:6px 10px;border:none;border-radius:3px 3px 0px 0px;display:flex;justify-content:center;align-items:center;border-bottom:1px solid transparent;transition:0.2s all;&:hover{background-color:",({theme:e})=>e.lightNeutral,";}&:focus{color:",({theme:e})=>e.contrast,";background:",({theme:e})=>e.neutral,";border-radius:3px 3px 0px 0px;outline-offset:2px;}&.",Od.selected,"{border-bottom:1px solid ",({theme:e})=>e.primary,";}&.",Ld.disabled,"{opacity:0.5;cursor:not-allowed;}@media screen and (max-width: 360px){span{display:none;}padding:5px 20px;}");function fx(e){const{viewRef:t,panelSize:n,setStreamClose:r,setMinimize:i,setMaxHeight:s,actualQuery:o,total:l,loading:c}=e;return F(_s,{ref:t,size:n,vheight:"regular",children:[f(Pi,{onClose:r,setMinimize:i,setMaxHeight:s,actualQuery:o,total:l,type:"empty",fixedSize:!0,...e}),f(dx,{loading:c})]})}const hx=(e,t,n,r)=>{const i=em(e.getValue(t),n);return r(i),i.passed},px={cell:e=>e.getValue()},gx=(e,t)=>({updateData:(n,r,i)=>{t(),e(s=>s.map((o,l)=>l!==n?o:{...s[n],[r]:i}))}}),mx=e=>oe("color:",e.contrast,";background:",e.deep,";border:1px solid ",e.accentNeutral,";border-radius:3px;padding:3px 8px;font-size:12px;",""),ds=({value:e,onChange:t,debounce:n=500,theme:r,...i})=>{const[s,o]=b.useState(e),l=c=>o(c.target.value);return b.useEffect(()=>{o(e)},[e]),b.useEffect(()=>{const c=setTimeout(()=>{t(s)},n);return()=>clearTimeout(c)},[s]),f("input",{...i,className:Pe(mx(r)),value:nt(String(s)),onChange:l})};var Ko={},vx=Ct;Object.defineProperty(Ko,"__esModule",{value:!0});var bf=Ko.default=void 0,bx=vx(Tt()),yx=Be,xx=(0,bx.default)((0,yx.jsx)("path",{d:"M15 9.86 18.03 12 15 14.14V9.86m-9 0L9.03 12 6 14.14V9.86M13 6v12l8.5-6L13 6zM4 6v12l8.5-6L4 6z"}),"FastForwardOutlined");bf=Ko.default=xx;var Jo={},Sx=Ct;Object.defineProperty(Jo,"__esModule",{value:!0});var yf=Jo.default=void 0,wx=Sx(Tt()),Tx=Be,Cx=(0,wx.default)((0,Tx.jsx)("path",{d:"M18 9.86v4.28L14.97 12 18 9.86m-9 0v4.28L5.97 12 9 9.86M20 6l-8.5 6 8.5 6V6zm-9 0-8.5 6 8.5 6V6z"}),"FastRewindOutlined");yf=Jo.default=Cx;var Yo={},kx=Ct;Object.defineProperty(Yo,"__esModule",{value:!0});var xf=Yo.default=void 0,Ex=kx(Tt()),_x=Be,Ix=(0,Ex.default)((0,_x.jsx)("path",{d:"m6 18 8.5-6L6 6v12zm2-8.14L11.03 12 8 14.14V9.86zM16 6h2v12h-2z"}),"SkipNextOutlined");xf=Yo.default=Ix;var Xo={},Rx=Ct;Object.defineProperty(Xo,"__esModule",{value:!0});var Sf=Xo.default=void 0,Mx=Rx(Tt()),Nx=Be,Ox=(0,Mx.default)((0,Nx.jsx)("path",{d:"M6 6h2v12H6zm3.5 6 8.5 6V6l-8.5 6zm6.5 2.14L12.97 12 16 9.86v4.28z"}),"SkipPreviousOutlined");Sf=Xo.default=Ox;const Uc=oe({name:"rza2c4",styles:"display:flex;align-items:center;gap:1px"}),Qc=oe({name:"rnnx2x",styles:"font-size:12px"}),Lx=e=>oe("border-radius:3px;outline:none;border:1px solid ",e.accentNeutral,";background:",e.deep,";color:",e.contrast,";padding:3px 8px;margin:2px;width:70px;",""),Dx=e=>oe("color:",e.contrast,";border:1px solid ",e.accentNeutral,";background:",e.deep,";padding:3px 8px 2px 8px;border-radius:3px;cursor:pointer;font-size:12px;",""),Xi=e=>oe("display:flex;align-items:center;border:1px solid ",e.accentNeutral,";color:",e.contrast,";background:",e.neutral,";cursor:pointer;","");function Ax({hasNextPage:e,hasPreviousPage:t,nextPage:n,pageCount:r,pageIndex:i,pageSize:s,previousPage:o,setPageIndex:l,setPageSize:c,totalRows:h}){const u=qe();return F(mt,{children:[F("div",{style:{display:"flex",gap:"4px",alignItems:"center",flex:1,width:"100%",color:u.contrast,margin:"5px"},children:[f("button",{className:Pe(Xi(u)),onClick:()=>l(0),disabled:!t,children:f(yf,{style:{height:"12px",width:"12px"}})}),f("button",{className:Pe(Xi(u)),onClick:()=>o(),disabled:!t,children:f(Sf,{style:{height:"12px",width:"12px"}})}),f("button",{className:Pe(Xi(u)),onClick:()=>n(),disabled:!e,children:f(xf,{style:{height:"12px",width:"12px"}})}),f("button",{className:Pe(Xi(u)),onClick:()=>l(r-1),disabled:!e,children:f(bf,{style:{height:"12px",width:"12px"}})}),f("span",{className:Pe(Uc,Qc),children:F("div",{children:["Page"," ",F("strong",{children:[i+1," of ",r]})]})}),F("span",{className:Pe(Uc,Qc),children:["- Go to page:",f("input",{type:"number",defaultValue:i+1,onChange:g=>{const S=g.target.value?Number(g.target.value)-1:0;l(S)},className:Pe(Lx(u))})]}),f("select",{className:Pe(Dx(u)),value:nt(String(s)),onChange:g=>{c(Number(g.target.value))},children:[10,20,30,40,50].map(g=>F("option",{value:nt(String(g)),children:["Show ",g," Rows"]},g))}),F("div",{style:{fontSize:"12px",marginLeft:"6px"},children:[" ","Total: ",h," Rows"]})]}),f("div",{className:"flex items-center gap-2"})]})}const Px=({columnFilterValue:e,getFacetedMinMaxValues:t,setFilterValue:n})=>{var c,h;const r=qe(),i=(c=t())==null?void 0:c[0],s=Number(i??""),o=(h=t())==null?void 0:h[1],l=Number(o);return F("div",{children:[F("div",{style:{display:"flex",gap:"4px",alignItems:"center",justifyContent:"center"},children:[f(ds,{theme:r,type:"number",min:s,max:l,value:(e==null?void 0:e[0])??"",onChange:u=>n(g=>[u,g==null?void 0:g[1]]),placeholder:`Min ${i?`(${s})`:""}`,className:"w-24 border shadow rounded"}),f(ds,{theme:r,type:"number",min:s,max:l,value:(e==null?void 0:e[1])??"",onChange:u=>n(g=>[g==null?void 0:g[0],u]),placeholder:`Max ${o?`(${l})`:""}`,className:"w-24 border shadow rounded"})]}),f("div",{className:"h-1"})]})},$x=({columnId:e,columnFilterValue:t,columnSize:n,setFilterValue:r,sortedUniqueValues:i})=>{const s=e+"list",o=qe();return F(b.Fragment,{children:[f("datalist",{id:s,children:i.slice(0,5e3).map(l=>f("option",{value:nt(l)},l))}),f(ds,{theme:o,type:"text",value:nt(t??""),onChange:l=>r(l),placeholder:`Search... (${n})`,className:"w-36 border shadow rounded",list:s}),f("div",{className:"h-1"})]})};function zx({column:e,table:t}){var o;const n=(o=t.getPreFilteredRowModel().flatRows[0])==null?void 0:o.getValue(e.id),r=e.getFilterValue(),i=e.getFacetedUniqueValues(),s=b.useMemo(()=>typeof n=="number"?[]:Array.from(i.keys()).sort(),[i]);return typeof n=="number"?f(Px,{columnFilterValue:r,getFacetedMinMaxValues:e.getFacetedMinMaxValues,setFilterValue:e.setFilterValue}):f($x,{columnId:e.id,columnFilterValue:nt(r),columnSize:i.size,setFilterValue:e.setFilterValue,sortedUniqueValues:s})}var Zo={},Vx=Ct;Object.defineProperty(Zo,"__esModule",{value:!0});var wf=Zo.default=void 0,Fx=Vx(Tt()),jx=Be,Hx=(0,Fx.default)((0,jx.jsx)("path",{d:"M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"}),"SortOutlined");wf=Zo.default=Hx;var el={},Bx=Ct;Object.defineProperty(el,"__esModule",{value:!0});var Tf=el.default=void 0,qx=Bx(Tt()),Wx=Be,Ux=(0,qx.default)((0,Wx.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z"}),"KeyboardArrowUpOutlined");Tf=el.default=Ux;const Qx=oe({name:"1yit4u5",styles:"position:relative;&.resizer{position:absolute;left:0;top:0;height:100%;width:5px;cursor:col-resize;user-select:none;touch-action:none;&.isResizing{background:blue;opacity:1;}}"}),fa=(e,t)=>oe("height:14px!important;width:14px!important;color:",e,"!important;cursor:pointer;border:1px solid ",t,";border-radius:3px;padding:2px;","");function Gx(e,t){return t==="left"?[e.getLeftHeaderGroups(),e.getLeftFooterGroups()]:t==="right"?[e.getRightHeaderGroups(),e.getRightFooterGroups()]:t==="center"?[e.getCenterHeaderGroups(),e.getCenterFooterGroups()]:[e.getHeaderGroups(),e.getFooterGroups()]}function Kx(e,t){return t==="left"?e.getLeftVisibleCells():t==="right"?e.getRightVisibleCells():t==="center"?e.getCenterVisibleCells():e.getVisibleCells()}function Jx({table:e,tableGroup:t,columnResizeMode:n}){const r=qe(),[i]=Gx(e,t);return f(vt,{theme:r,children:F("table",{style:{width:"100%"},children:[f("thead",{children:i.map(s=>f("tr",{children:s.headers.map(o=>F("th",{className:Pe(Qx),key:o.id,colSpan:o.colSpan,style:{width:o.getSize()},children:[" ",F("div",{style:{display:"flex",gap:"6px",alignItems:"center",fontSize:"13px"},children:[o.isPlaceholder?null:f(mt,{children:hc(o.column.columnDef.header,o.getContext())}),f("div",{onMouseDown:o.getResizeHandler(),onTouchStart:o.getResizeHandler(),className:`resizer ${o.column.getIsResizing()?"isResizing":""}`}),F("div",{style:{fontSize:"12px",display:"flex",alignItems:"center",gap:"6px"},children:[o.column.getCanFilter()?f("div",{children:f(zx,{column:o.column,table:e})}):null,f("button",{onClick:o.column.getToggleSortingHandler(),style:{border:"none",background:"none",display:"flex",alignItems:"center"},title:"Sort",className:o.column.getCanSort()?"cursor-pointer select-none":"",children:{asc:f(Tf,{className:Pe(fa(r.contrast,r.accentNeutral))}),desc:f(Gr,{className:Pe(fa(r.contrast,r.accentNeutral))})}[o.column.getIsSorted()]??f(wf,{className:Pe(fa(r.contrast,r.accentNeutral))})})]})]})]}))},s.id))}),f("tbody",{children:e.getRowModel().rows.map(s=>f("tr",{children:Kx(s,t).map(o=>f("td",{style:{width:o.column.getSize(),fontSize:"12px"},children:f(mt,{children:hc(o.column.columnDef.cell,o.getContext())})},o.id))},s.id))})]})})}function Yx(){const e=b.useRef(!0),t=e.current,n=b.useCallback(()=>{e.current=!1},[]);return b.useEffect(()=>{e.current=!0}),b.useMemo(()=>[!!t,n],[t,n])}const Xx=ve("div",{target:"eptftt0"})("padding:5px;table{border-spacing:0;border:1px solid ",({theme:e})=>e.accentNeutral,";border-radius:4px;border-bottom:none;border-top:none;color:",({theme:e})=>e.contrast,";tr{:last-child{td{border-bottom:none;}}}th,td{margin:0;padding:0.45rem;border-bottom:1px solid ",({theme:e})=>e.accentNeutral,";border-right:1px solid ",({theme:e})=>e.accentNeutral,";:last-child{border-right:0;}}td{input{font-size:12px;padding:0;margin:0;border:0;}}}.pagination{padding:0.5rem;}");function Zx(e){var D;const t=b.useReducer(()=>({}),{})[1],{columns:n,data:r}=e,i=qe(),[s,o]=b.useState(r),l=()=>o(r),[c,h]=b.useState({}),[u,g]=b.useState([]),[S,w]=b.useState({}),[m,C]=b.useState([]),[k,T]=b.useState(""),[x,N]=Yx(),[I]=b.useState("onChange"),O=tm({data:s,columns:n,defaultColumn:px,getCoreRowModel:nm(),getFilteredRowModel:rm(),getPaginationRowModel:im(),getSortedRowModel:sm(),getGroupedRowModel:am(),getFacetedRowModel:om(),getFacetedUniqueValues:lm(),getFacetedMinMaxValues:cm(),onColumnFiltersChange:C,onGlobalFilterChange:T,globalFilterFn:hx,autoResetPageIndex:x,enableColumnResizing:!0,columnResizeMode:I,onColumnVisibilityChange:h,onGroupingChange:g,onRowSelectionChange:w,meta:gx(o,N),state:{grouping:u,columnFilters:m,globalFilter:k,columnVisibility:c}});return b.useEffect(()=>{var p,E;((p=O.getState().columnFilters[0])==null?void 0:p.id)==="fullName"&&((E=O.getState().sorting[0])==null?void 0:E.id)!=="fullName"&&O.setSorting([{id:"fullName",desc:!1}])},[(D=O.getState().columnFilters[0])==null?void 0:D.id]),f(vt,{theme:i,children:F(Xx,{theme:i,children:[F("div",{style:{display:"flex",justifyContent:"space-between",margin:"4px",marginLeft:0},children:[f("div",{style:{display:"flex",fontSize:"14px",gap:"6px",margin:"4px",marginLeft:0},children:O.getAllLeafColumns().map(p=>f("div",{children:F("label",{style:{display:"flex",alignItems:"center",color:i.contrast},children:[f("input",{type:"checkbox",checked:p.getIsVisible(),onChange:p.getToggleVisibilityHandler(),className:"mr-1"}),p.id]})},p.id))}),F("div",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"14px",margin:"4px",color:i.contrast},children:["Search:",f(ds,{theme:i,style:{fontSize:"12px",padding:"3px 8px"},value:nt(k??""),onChange:p=>T(String(p)),placeholder:"Search all columns..."})]})]}),f("div",{style:{display:"flex"},children:f(Jx,{columnResizeMode:I,table:O,tableGroup:"center"})}),f("div",{style:{display:"flex"},children:f(Ax,{getSelectedRowModel:O.getSelectedRowModel,hasNextPage:O.getCanNextPage(),hasPreviousPage:O.getCanPreviousPage(),nextPage:O.nextPage,pageCount:O.getPageCount(),pageIndex:O.getState().pagination.pageIndex,pageSize:O.getState().pagination.pageSize,previousPage:O.previousPage,refreshData:l,rerender:t,rowSelection:S,setPageIndex:O.setPageIndex,setPageSize:O.setPageSize,totalRows:O.getPrePaginationRowModel().rows.length})})]})})}const eS=ve("div",{target:"e19v7mv10"})("display:block;overflow:auto;&::-webkit-scrollbar{width:5px;}&::-webkit-scrollbar-corner{background:transparent;}&::-webkit-scrollbar-thumb{border-radius:5px;background:",({theme:e})=>e.alphaPlusNeutral,";}.table{border-spacing:0;border-radius:4px;font-size:12px;color:",({theme:e})=>e.contrast,";&::-webkit-scrollbar{width:5px;}&::-webkit-scrollbar-corner{background:transparent;}&::-webkit-scrollbar-thumb{border-radius:5px;background:",({theme:e})=>e.alphaPlusNeutral,";}.tr{display:block;:last-child{.td{border-bottom:0;}}}.th{background:",({theme:e})=>e.lightNeutral,";border-bottom:none;padding:3px;:last-child{box-sizing:unset!important;}}.th,.td{display:block;flex:1;margin:0;justify-content:space-between;border-bottom:1px solid ",({theme:e})=>e.accentNeutral,";border-right:1px solid ",({theme:e})=>e.accentNeutral,";padding:3px;position:relative;white-space:nowrap;overflow:hidden;.show-add-labels{display:none;}&:hover{.show-add-labels{display:flex;align-items:center;}}:last-child{border-right:0;padding-right:0px;}.resizer{display:inline-block;background:",({theme:e})=>e.accentNeutral,";width:5px;height:100%;position:absolute;right:0;top:0;transform:translateX(50%);z-index:1;&.isResizing{background:red;}}}}.pagination{}"),tl=e=>{const{data:{columnsData:t,dataRows:n},actualQuery:r,height:i,size:s,width:o}=e,[l,c]=b.useState(t),[h,u]=b.useState(n);return b.useEffect(()=>{c(t)},[t]),b.useEffect(()=>{u(n)},[n]),f(eS,{children:t&&n&&f(Zx,{actQuery:r,columns:l,width:o,data:h,height:i,size:s})})};function Un({id:e}){try{return JSON.parse(localStorage.getItem("tabsState")||`{[${e}]:0}`)}catch{return{[e]:0}}}var Cf={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */(function(e){(function(t,n){e.exports=t.document?n(t,!0):function(r){if(!r.document)throw new Error("jQuery requires a window with a document");return n(r)}})(typeof window<"u"?window:wd,function(t,n){var r=[],i=Object.getPrototypeOf,s=r.slice,o=r.flat?function(a){return r.flat.call(a)}:function(a){return r.concat.apply([],a)},l=r.push,c=r.indexOf,h={},u=h.toString,g=h.hasOwnProperty,S=g.toString,w=S.call(Object),m={},C=function(d){return typeof d=="function"&&typeof d.nodeType!="number"&&typeof d.item!="function"},k=function(d){return d!=null&&d===d.window},T=t.document,x={type:!0,src:!0,nonce:!0,noModule:!0};function N(a,d,v){v=v||T;var y,R,M=v.createElement("script");if(M.text=a,d)for(y in x)R=d[y]||d.getAttribute&&d.getAttribute(y),R&&M.setAttribute(y,R);v.head.appendChild(M).parentNode.removeChild(M)}function I(a){return a==null?a+"":typeof a=="object"||typeof a=="function"?h[u.call(a)]||"object":typeof a}var O="3.7.1",D=/HTML$/i,p=function(a,d){return new p.fn.init(a,d)};p.fn=p.prototype={jquery:O,constructor:p,length:0,toArray:function(){return s.call(this)},get:function(a){return a==null?s.call(this):a<0?this[a+this.length]:this[a]},pushStack:function(a){var d=p.merge(this.constructor(),a);return d.prevObject=this,d},each:function(a){return p.each(this,a)},map:function(a){return this.pushStack(p.map(this,function(d,v){return a.call(d,v,d)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(p.grep(this,function(a,d){return(d+1)%2}))},odd:function(){return this.pushStack(p.grep(this,function(a,d){return d%2}))},eq:function(a){var d=this.length,v=+a+(a<0?d:0);return this.pushStack(v>=0&&v<d?[this[v]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:r.sort,splice:r.splice},p.extend=p.fn.extend=function(){var a,d,v,y,R,M,L=arguments[0]||{},G=1,Q=arguments.length,ee=!1;for(typeof L=="boolean"&&(ee=L,L=arguments[G]||{},G++),typeof L!="object"&&!C(L)&&(L={}),G===Q&&(L=this,G--);G<Q;G++)if((a=arguments[G])!=null)for(d in a)y=a[d],!(d==="__proto__"||L===y)&&(ee&&y&&(p.isPlainObject(y)||(R=Array.isArray(y)))?(v=L[d],R&&!Array.isArray(v)?M=[]:!R&&!p.isPlainObject(v)?M={}:M=v,R=!1,L[d]=p.extend(ee,M,y)):y!==void 0&&(L[d]=y));return L},p.extend({expando:"jQuery"+(O+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isPlainObject:function(a){var d,v;return!a||u.call(a)!=="[object Object]"?!1:(d=i(a),d?(v=g.call(d,"constructor")&&d.constructor,typeof v=="function"&&S.call(v)===w):!0)},isEmptyObject:function(a){var d;for(d in a)return!1;return!0},globalEval:function(a,d,v){N(a,{nonce:d&&d.nonce},v)},each:function(a,d){var v,y=0;if(E(a))for(v=a.length;y<v&&d.call(a[y],y,a[y])!==!1;y++);else for(y in a)if(d.call(a[y],y,a[y])===!1)break;return a},text:function(a){var d,v="",y=0,R=a.nodeType;if(!R)for(;d=a[y++];)v+=p.text(d);return R===1||R===11?a.textContent:R===9?a.documentElement.textContent:R===3||R===4?a.nodeValue:v},makeArray:function(a,d){var v=d||[];return a!=null&&(E(Object(a))?p.merge(v,typeof a=="string"?[a]:a):l.call(v,a)),v},inArray:function(a,d,v){return d==null?-1:c.call(d,a,v)},isXMLDoc:function(a){var d=a&&a.namespaceURI,v=a&&(a.ownerDocument||a).documentElement;return!D.test(d||v&&v.nodeName||"HTML")},merge:function(a,d){for(var v=+d.length,y=0,R=a.length;y<v;y++)a[R++]=d[y];return a.length=R,a},grep:function(a,d,v){for(var y,R=[],M=0,L=a.length,G=!v;M<L;M++)y=!d(a[M],M),y!==G&&R.push(a[M]);return R},map:function(a,d,v){var y,R,M=0,L=[];if(E(a))for(y=a.length;M<y;M++)R=d(a[M],M,v),R!=null&&L.push(R);else for(M in a)R=d(a[M],M,v),R!=null&&L.push(R);return o(L)},guid:1,support:m}),typeof Symbol=="function"&&(p.fn[Symbol.iterator]=r[Symbol.iterator]),p.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,d){h["[object "+d+"]"]=d.toLowerCase()});function E(a){var d=!!a&&"length"in a&&a.length,v=I(a);return C(a)||k(a)?!1:v==="array"||d===0||typeof d=="number"&&d>0&&d-1 in a}function _(a,d){return a.nodeName&&a.nodeName.toLowerCase()===d.toLowerCase()}var A=r.pop,$=r.sort,z=r.splice,V="[\\x20\\t\\r\\n\\f]",K=new RegExp("^"+V+"+|((?:^|[^\\\\])(?:\\\\.)*)"+V+"+$","g");p.contains=function(a,d){var v=d&&d.parentNode;return a===v||!!(v&&v.nodeType===1&&(a.contains?a.contains(v):a.compareDocumentPosition&&a.compareDocumentPosition(v)&16))};var ie=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function ue(a,d){return d?a==="\0"?"�":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a}p.escapeSelector=function(a){return(a+"").replace(ie,ue)};var te=T,he=l;(function(){var a,d,v,y,R,M=he,L,G,Q,ee,fe,xe=p.expando,ae=0,Me=0,lt=Hi(),xt=Hi(),ft=Hi(),Jt=Hi(),Ut=function(H,X){return H===X&&(R=!0),0},Rn="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Mn="(?:\\\\[\\da-fA-F]{1,6}"+V+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",gt="\\["+V+"*("+Mn+")(?:"+V+"*([*^$|!~]?=)"+V+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Mn+"))|)"+V+"*\\]",or=":("+Mn+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+gt+")*)|.*)\\)|)",St=new RegExp(V+"+","g"),Pt=new RegExp("^"+V+"*,"+V+"*"),oi=new RegExp("^"+V+"*([>+~]|"+V+")"+V+"*"),Xs=new RegExp(V+"|>"),Nn=new RegExp(or),li=new RegExp("^"+Mn+"$"),On={ID:new RegExp("^#("+Mn+")"),CLASS:new RegExp("^\\.("+Mn+")"),TAG:new RegExp("^("+Mn+"|[*])"),ATTR:new RegExp("^"+gt),PSEUDO:new RegExp("^"+or),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+V+"*(even|odd|(([+-]|)(\\d*)n|)"+V+"*(?:([+-]|)"+V+"*(\\d+)|))"+V+"*\\)|)","i"),bool:new RegExp("^(?:"+Rn+")$","i"),needsContext:new RegExp("^"+V+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+V+"*((?:-\\d)?\\d*)"+V+"*\\)|)(?=[^-]|$)","i")},Jn=/^(?:input|select|textarea|button)$/i,Yn=/^h\d$/i,mn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Zs=/[+~]/,zn=new RegExp("\\\\[\\da-fA-F]{1,6}"+V+"?|\\\\([^\\r\\n\\f])","g"),Vn=function(H,X){var se="0x"+H.slice(1)-65536;return X||(se<0?String.fromCharCode(se+65536):String.fromCharCode(se>>10|55296,se&1023|56320))},Pp=function(){Xn()},$p=qi(function(H){return H.disabled===!0&&_(H,"fieldset")},{dir:"parentNode",next:"legend"});function zp(){try{return L.activeElement}catch{}}try{M.apply(r=s.call(te.childNodes),te.childNodes),r[te.childNodes.length].nodeType}catch{M={apply:function(X,se){he.apply(X,s.call(se))},call:function(X){he.apply(X,s.call(arguments,1))}}}function _t(H,X,se,ce){var ye,Ve,We,Ze,Ue,ht,ot,ct=X&&X.ownerDocument,pt=X?X.nodeType:9;if(se=se||[],typeof H!="string"||!H||pt!==1&&pt!==9&&pt!==11)return se;if(!ce&&(Xn(X),X=X||L,Q)){if(pt!==11&&(Ue=mn.exec(H)))if(ye=Ue[1]){if(pt===9)if(We=X.getElementById(ye)){if(We.id===ye)return M.call(se,We),se}else return se;else if(ct&&(We=ct.getElementById(ye))&&_t.contains(X,We)&&We.id===ye)return M.call(se,We),se}else{if(Ue[2])return M.apply(se,X.getElementsByTagName(H)),se;if((ye=Ue[3])&&X.getElementsByClassName)return M.apply(se,X.getElementsByClassName(ye)),se}if(!Jt[H+" "]&&(!ee||!ee.test(H))){if(ot=H,ct=X,pt===1&&(Xs.test(H)||oi.test(H))){for(ct=Zs.test(H)&&ea(X.parentNode)||X,(ct!=X||!m.scope)&&((Ze=X.getAttribute("id"))?Ze=p.escapeSelector(Ze):X.setAttribute("id",Ze=xe)),ht=ci(H),Ve=ht.length;Ve--;)ht[Ve]=(Ze?"#"+Ze:":scope")+" "+Bi(ht[Ve]);ot=ht.join(",")}try{return M.apply(se,ct.querySelectorAll(ot)),se}catch{Jt(H,!0)}finally{Ze===xe&&X.removeAttribute("id")}}}return tc(H.replace(K,"$1"),X,se,ce)}function Hi(){var H=[];function X(se,ce){return H.push(se+" ")>d.cacheLength&&delete X[H.shift()],X[se+" "]=ce}return X}function En(H){return H[xe]=!0,H}function Rr(H){var X=L.createElement("fieldset");try{return!!H(X)}catch{return!1}finally{X.parentNode&&X.parentNode.removeChild(X),X=null}}function Vp(H){return function(X){return _(X,"input")&&X.type===H}}function Fp(H){return function(X){return(_(X,"input")||_(X,"button"))&&X.type===H}}function Zl(H){return function(X){return"form"in X?X.parentNode&&X.disabled===!1?"label"in X?"label"in X.parentNode?X.parentNode.disabled===H:X.disabled===H:X.isDisabled===H||X.isDisabled!==!H&&$p(X)===H:X.disabled===H:"label"in X?X.disabled===H:!1}}function lr(H){return En(function(X){return X=+X,En(function(se,ce){for(var ye,Ve=H([],se.length,X),We=Ve.length;We--;)se[ye=Ve[We]]&&(se[ye]=!(ce[ye]=se[ye]))})})}function ea(H){return H&&typeof H.getElementsByTagName<"u"&&H}function Xn(H){var X,se=H?H.ownerDocument||H:te;return se==L||se.nodeType!==9||!se.documentElement||(L=se,G=L.documentElement,Q=!p.isXMLDoc(L),fe=G.matches||G.webkitMatchesSelector||G.msMatchesSelector,G.msMatchesSelector&&te!=L&&(X=L.defaultView)&&X.top!==X&&X.addEventListener("unload",Pp),m.getById=Rr(function(ce){return G.appendChild(ce).id=p.expando,!L.getElementsByName||!L.getElementsByName(p.expando).length}),m.disconnectedMatch=Rr(function(ce){return fe.call(ce,"*")}),m.scope=Rr(function(){return L.querySelectorAll(":scope")}),m.cssHas=Rr(function(){try{return L.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),m.getById?(d.filter.ID=function(ce){var ye=ce.replace(zn,Vn);return function(Ve){return Ve.getAttribute("id")===ye}},d.find.ID=function(ce,ye){if(typeof ye.getElementById<"u"&&Q){var Ve=ye.getElementById(ce);return Ve?[Ve]:[]}}):(d.filter.ID=function(ce){var ye=ce.replace(zn,Vn);return function(Ve){var We=typeof Ve.getAttributeNode<"u"&&Ve.getAttributeNode("id");return We&&We.value===ye}},d.find.ID=function(ce,ye){if(typeof ye.getElementById<"u"&&Q){var Ve,We,Ze,Ue=ye.getElementById(ce);if(Ue){if(Ve=Ue.getAttributeNode("id"),Ve&&Ve.value===ce)return[Ue];for(Ze=ye.getElementsByName(ce),We=0;Ue=Ze[We++];)if(Ve=Ue.getAttributeNode("id"),Ve&&Ve.value===ce)return[Ue]}return[]}}),d.find.TAG=function(ce,ye){return typeof ye.getElementsByTagName<"u"?ye.getElementsByTagName(ce):ye.querySelectorAll(ce)},d.find.CLASS=function(ce,ye){if(typeof ye.getElementsByClassName<"u"&&Q)return ye.getElementsByClassName(ce)},ee=[],Rr(function(ce){var ye;G.appendChild(ce).innerHTML="<a id='"+xe+"' href='' disabled='disabled'></a><select id='"+xe+"-\r\\' disabled='disabled'><option selected=''></option></select>",ce.querySelectorAll("[selected]").length||ee.push("\\["+V+"*(?:value|"+Rn+")"),ce.querySelectorAll("[id~="+xe+"-]").length||ee.push("~="),ce.querySelectorAll("a#"+xe+"+*").length||ee.push(".#.+[+~]"),ce.querySelectorAll(":checked").length||ee.push(":checked"),ye=L.createElement("input"),ye.setAttribute("type","hidden"),ce.appendChild(ye).setAttribute("name","D"),G.appendChild(ce).disabled=!0,ce.querySelectorAll(":disabled").length!==2&&ee.push(":enabled",":disabled"),ye=L.createElement("input"),ye.setAttribute("name",""),ce.appendChild(ye),ce.querySelectorAll("[name='']").length||ee.push("\\["+V+"*name"+V+"*="+V+`*(?:''|"")`)}),m.cssHas||ee.push(":has"),ee=ee.length&&new RegExp(ee.join("|")),Ut=function(ce,ye){if(ce===ye)return R=!0,0;var Ve=!ce.compareDocumentPosition-!ye.compareDocumentPosition;return Ve||(Ve=(ce.ownerDocument||ce)==(ye.ownerDocument||ye)?ce.compareDocumentPosition(ye):1,Ve&1||!m.sortDetached&&ye.compareDocumentPosition(ce)===Ve?ce===L||ce.ownerDocument==te&&_t.contains(te,ce)?-1:ye===L||ye.ownerDocument==te&&_t.contains(te,ye)?1:y?c.call(y,ce)-c.call(y,ye):0:Ve&4?-1:1)}),L}_t.matches=function(H,X){return _t(H,null,null,X)},_t.matchesSelector=function(H,X){if(Xn(H),Q&&!Jt[X+" "]&&(!ee||!ee.test(X)))try{var se=fe.call(H,X);if(se||m.disconnectedMatch||H.document&&H.document.nodeType!==11)return se}catch{Jt(X,!0)}return _t(X,L,null,[H]).length>0},_t.contains=function(H,X){return(H.ownerDocument||H)!=L&&Xn(H),p.contains(H,X)},_t.attr=function(H,X){(H.ownerDocument||H)!=L&&Xn(H);var se=d.attrHandle[X.toLowerCase()],ce=se&&g.call(d.attrHandle,X.toLowerCase())?se(H,X,!Q):void 0;return ce!==void 0?ce:H.getAttribute(X)},_t.error=function(H){throw new Error("Syntax error, unrecognized expression: "+H)},p.uniqueSort=function(H){var X,se=[],ce=0,ye=0;if(R=!m.sortStable,y=!m.sortStable&&s.call(H,0),$.call(H,Ut),R){for(;X=H[ye++];)X===H[ye]&&(ce=se.push(ye));for(;ce--;)z.call(H,se[ce],1)}return y=null,H},p.fn.uniqueSort=function(){return this.pushStack(p.uniqueSort(s.apply(this)))},d=p.expr={cacheLength:50,createPseudo:En,match:On,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(H){return H[1]=H[1].replace(zn,Vn),H[3]=(H[3]||H[4]||H[5]||"").replace(zn,Vn),H[2]==="~="&&(H[3]=" "+H[3]+" "),H.slice(0,4)},CHILD:function(H){return H[1]=H[1].toLowerCase(),H[1].slice(0,3)==="nth"?(H[3]||_t.error(H[0]),H[4]=+(H[4]?H[5]+(H[6]||1):2*(H[3]==="even"||H[3]==="odd")),H[5]=+(H[7]+H[8]||H[3]==="odd")):H[3]&&_t.error(H[0]),H},PSEUDO:function(H){var X,se=!H[6]&&H[2];return On.CHILD.test(H[0])?null:(H[3]?H[2]=H[4]||H[5]||"":se&&Nn.test(se)&&(X=ci(se,!0))&&(X=se.indexOf(")",se.length-X)-se.length)&&(H[0]=H[0].slice(0,X),H[2]=se.slice(0,X)),H.slice(0,3))}},filter:{TAG:function(H){var X=H.replace(zn,Vn).toLowerCase();return H==="*"?function(){return!0}:function(se){return _(se,X)}},CLASS:function(H){var X=lt[H+" "];return X||(X=new RegExp("(^|"+V+")"+H+"("+V+"|$)"))&&lt(H,function(se){return X.test(typeof se.className=="string"&&se.className||typeof se.getAttribute<"u"&&se.getAttribute("class")||"")})},ATTR:function(H,X,se){return function(ce){var ye=_t.attr(ce,H);return ye==null?X==="!=":X?(ye+="",X==="="?ye===se:X==="!="?ye!==se:X==="^="?se&&ye.indexOf(se)===0:X==="*="?se&&ye.indexOf(se)>-1:X==="$="?se&&ye.slice(-se.length)===se:X==="~="?(" "+ye.replace(St," ")+" ").indexOf(se)>-1:X==="|="?ye===se||ye.slice(0,se.length+1)===se+"-":!1):!0}},CHILD:function(H,X,se,ce,ye){var Ve=H.slice(0,3)!=="nth",We=H.slice(-4)!=="last",Ze=X==="of-type";return ce===1&&ye===0?function(Ue){return!!Ue.parentNode}:function(Ue,ht,ot){var ct,pt,st,Ot,dn,Zt=Ve!==We?"nextSibling":"previousSibling",vn=Ue.parentNode,Ln=Ze&&Ue.nodeName.toLowerCase(),Mr=!ot&&!Ze,sn=!1;if(vn){if(Ve){for(;Zt;){for(st=Ue;st=st[Zt];)if(Ze?_(st,Ln):st.nodeType===1)return!1;dn=Zt=H==="only"&&!dn&&"nextSibling"}return!0}if(dn=[We?vn.firstChild:vn.lastChild],We&&Mr){for(pt=vn[xe]||(vn[xe]={}),ct=pt[H]||[],Ot=ct[0]===ae&&ct[1],sn=Ot&&ct[2],st=Ot&&vn.childNodes[Ot];st=++Ot&&st&&st[Zt]||(sn=Ot=0)||dn.pop();)if(st.nodeType===1&&++sn&&st===Ue){pt[H]=[ae,Ot,sn];break}}else if(Mr&&(pt=Ue[xe]||(Ue[xe]={}),ct=pt[H]||[],Ot=ct[0]===ae&&ct[1],sn=Ot),sn===!1)for(;(st=++Ot&&st&&st[Zt]||(sn=Ot=0)||dn.pop())&&!((Ze?_(st,Ln):st.nodeType===1)&&++sn&&(Mr&&(pt=st[xe]||(st[xe]={}),pt[H]=[ae,sn]),st===Ue)););return sn-=ye,sn===ce||sn%ce===0&&sn/ce>=0}}},PSEUDO:function(H,X){var se,ce=d.pseudos[H]||d.setFilters[H.toLowerCase()]||_t.error("unsupported pseudo: "+H);return ce[xe]?ce(X):ce.length>1?(se=[H,H,"",X],d.setFilters.hasOwnProperty(H.toLowerCase())?En(function(ye,Ve){for(var We,Ze=ce(ye,X),Ue=Ze.length;Ue--;)We=c.call(ye,Ze[Ue]),ye[We]=!(Ve[We]=Ze[Ue])}):function(ye){return ce(ye,0,se)}):ce}},pseudos:{not:En(function(H){var X=[],se=[],ce=ia(H.replace(K,"$1"));return ce[xe]?En(function(ye,Ve,We,Ze){for(var Ue,ht=ce(ye,null,Ze,[]),ot=ye.length;ot--;)(Ue=ht[ot])&&(ye[ot]=!(Ve[ot]=Ue))}):function(ye,Ve,We){return X[0]=ye,ce(X,null,We,se),X[0]=null,!se.pop()}}),has:En(function(H){return function(X){return _t(H,X).length>0}}),contains:En(function(H){return H=H.replace(zn,Vn),function(X){return(X.textContent||p.text(X)).indexOf(H)>-1}}),lang:En(function(H){return li.test(H||"")||_t.error("unsupported lang: "+H),H=H.replace(zn,Vn).toLowerCase(),function(X){var se;do if(se=Q?X.lang:X.getAttribute("xml:lang")||X.getAttribute("lang"))return se=se.toLowerCase(),se===H||se.indexOf(H+"-")===0;while((X=X.parentNode)&&X.nodeType===1);return!1}}),target:function(H){var X=t.location&&t.location.hash;return X&&X.slice(1)===H.id},root:function(H){return H===G},focus:function(H){return H===zp()&&L.hasFocus()&&!!(H.type||H.href||~H.tabIndex)},enabled:Zl(!1),disabled:Zl(!0),checked:function(H){return _(H,"input")&&!!H.checked||_(H,"option")&&!!H.selected},selected:function(H){return H.parentNode&&H.parentNode.selectedIndex,H.selected===!0},empty:function(H){for(H=H.firstChild;H;H=H.nextSibling)if(H.nodeType<6)return!1;return!0},parent:function(H){return!d.pseudos.empty(H)},header:function(H){return Yn.test(H.nodeName)},input:function(H){return Jn.test(H.nodeName)},button:function(H){return _(H,"input")&&H.type==="button"||_(H,"button")},text:function(H){var X;return _(H,"input")&&H.type==="text"&&((X=H.getAttribute("type"))==null||X.toLowerCase()==="text")},first:lr(function(){return[0]}),last:lr(function(H,X){return[X-1]}),eq:lr(function(H,X,se){return[se<0?se+X:se]}),even:lr(function(H,X){for(var se=0;se<X;se+=2)H.push(se);return H}),odd:lr(function(H,X){for(var se=1;se<X;se+=2)H.push(se);return H}),lt:lr(function(H,X,se){var ce;for(se<0?ce=se+X:se>X?ce=X:ce=se;--ce>=0;)H.push(ce);return H}),gt:lr(function(H,X,se){for(var ce=se<0?se+X:se;++ce<X;)H.push(ce);return H})}},d.pseudos.nth=d.pseudos.eq;for(a in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[a]=Vp(a);for(a in{submit:!0,reset:!0})d.pseudos[a]=Fp(a);function ec(){}ec.prototype=d.filters=d.pseudos,d.setFilters=new ec;function ci(H,X){var se,ce,ye,Ve,We,Ze,Ue,ht=xt[H+" "];if(ht)return X?0:ht.slice(0);for(We=H,Ze=[],Ue=d.preFilter;We;){(!se||(ce=Pt.exec(We)))&&(ce&&(We=We.slice(ce[0].length)||We),Ze.push(ye=[])),se=!1,(ce=oi.exec(We))&&(se=ce.shift(),ye.push({value:se,type:ce[0].replace(K," ")}),We=We.slice(se.length));for(Ve in d.filter)(ce=On[Ve].exec(We))&&(!Ue[Ve]||(ce=Ue[Ve](ce)))&&(se=ce.shift(),ye.push({value:se,type:Ve,matches:ce}),We=We.slice(se.length));if(!se)break}return X?We.length:We?_t.error(H):xt(H,Ze).slice(0)}function Bi(H){for(var X=0,se=H.length,ce="";X<se;X++)ce+=H[X].value;return ce}function qi(H,X,se){var ce=X.dir,ye=X.next,Ve=ye||ce,We=se&&Ve==="parentNode",Ze=Me++;return X.first?function(Ue,ht,ot){for(;Ue=Ue[ce];)if(Ue.nodeType===1||We)return H(Ue,ht,ot);return!1}:function(Ue,ht,ot){var ct,pt,st=[ae,Ze];if(ot){for(;Ue=Ue[ce];)if((Ue.nodeType===1||We)&&H(Ue,ht,ot))return!0}else for(;Ue=Ue[ce];)if(Ue.nodeType===1||We)if(pt=Ue[xe]||(Ue[xe]={}),ye&&_(Ue,ye))Ue=Ue[ce]||Ue;else{if((ct=pt[Ve])&&ct[0]===ae&&ct[1]===Ze)return st[2]=ct[2];if(pt[Ve]=st,st[2]=H(Ue,ht,ot))return!0}return!1}}function ta(H){return H.length>1?function(X,se,ce){for(var ye=H.length;ye--;)if(!H[ye](X,se,ce))return!1;return!0}:H[0]}function jp(H,X,se){for(var ce=0,ye=X.length;ce<ye;ce++)_t(H,X[ce],se);return se}function Wi(H,X,se,ce,ye){for(var Ve,We=[],Ze=0,Ue=H.length,ht=X!=null;Ze<Ue;Ze++)(Ve=H[Ze])&&(!se||se(Ve,ce,ye))&&(We.push(Ve),ht&&X.push(Ze));return We}function na(H,X,se,ce,ye,Ve){return ce&&!ce[xe]&&(ce=na(ce)),ye&&!ye[xe]&&(ye=na(ye,Ve)),En(function(We,Ze,Ue,ht){var ot,ct,pt,st,Ot=[],dn=[],Zt=Ze.length,vn=We||jp(X||"*",Ue.nodeType?[Ue]:Ue,[]),Ln=H&&(We||!X)?Wi(vn,Ot,H,Ue,ht):vn;if(se?(st=ye||(We?H:Zt||ce)?[]:Ze,se(Ln,st,Ue,ht)):st=Ln,ce)for(ot=Wi(st,dn),ce(ot,[],Ue,ht),ct=ot.length;ct--;)(pt=ot[ct])&&(st[dn[ct]]=!(Ln[dn[ct]]=pt));if(We){if(ye||H){if(ye){for(ot=[],ct=st.length;ct--;)(pt=st[ct])&&ot.push(Ln[ct]=pt);ye(null,st=[],ot,ht)}for(ct=st.length;ct--;)(pt=st[ct])&&(ot=ye?c.call(We,pt):Ot[ct])>-1&&(We[ot]=!(Ze[ot]=pt))}}else st=Wi(st===Ze?st.splice(Zt,st.length):st),ye?ye(null,Ze,st,ht):M.apply(Ze,st)})}function ra(H){for(var X,se,ce,ye=H.length,Ve=d.relative[H[0].type],We=Ve||d.relative[" "],Ze=Ve?1:0,Ue=qi(function(ct){return ct===X},We,!0),ht=qi(function(ct){return c.call(X,ct)>-1},We,!0),ot=[function(ct,pt,st){var Ot=!Ve&&(st||pt!=v)||((X=pt).nodeType?Ue(ct,pt,st):ht(ct,pt,st));return X=null,Ot}];Ze<ye;Ze++)if(se=d.relative[H[Ze].type])ot=[qi(ta(ot),se)];else{if(se=d.filter[H[Ze].type].apply(null,H[Ze].matches),se[xe]){for(ce=++Ze;ce<ye&&!d.relative[H[ce].type];ce++);return na(Ze>1&&ta(ot),Ze>1&&Bi(H.slice(0,Ze-1).concat({value:H[Ze-2].type===" "?"*":""})).replace(K,"$1"),se,Ze<ce&&ra(H.slice(Ze,ce)),ce<ye&&ra(H=H.slice(ce)),ce<ye&&Bi(H))}ot.push(se)}return ta(ot)}function Hp(H,X){var se=X.length>0,ce=H.length>0,ye=function(Ve,We,Ze,Ue,ht){var ot,ct,pt,st=0,Ot="0",dn=Ve&&[],Zt=[],vn=v,Ln=Ve||ce&&d.find.TAG("*",ht),Mr=ae+=vn==null?1:Math.random()||.1,sn=Ln.length;for(ht&&(v=We==L||We||ht);Ot!==sn&&(ot=Ln[Ot])!=null;Ot++){if(ce&&ot){for(ct=0,!We&&ot.ownerDocument!=L&&(Xn(ot),Ze=!Q);pt=H[ct++];)if(pt(ot,We||L,Ze)){M.call(Ue,ot);break}ht&&(ae=Mr)}se&&((ot=!pt&&ot)&&st--,Ve&&dn.push(ot))}if(st+=Ot,se&&Ot!==st){for(ct=0;pt=X[ct++];)pt(dn,Zt,We,Ze);if(Ve){if(st>0)for(;Ot--;)dn[Ot]||Zt[Ot]||(Zt[Ot]=A.call(Ue));Zt=Wi(Zt)}M.apply(Ue,Zt),ht&&!Ve&&Zt.length>0&&st+X.length>1&&p.uniqueSort(Ue)}return ht&&(ae=Mr,v=vn),dn};return se?En(ye):ye}function ia(H,X){var se,ce=[],ye=[],Ve=ft[H+" "];if(!Ve){for(X||(X=ci(H)),se=X.length;se--;)Ve=ra(X[se]),Ve[xe]?ce.push(Ve):ye.push(Ve);Ve=ft(H,Hp(ye,ce)),Ve.selector=H}return Ve}function tc(H,X,se,ce){var ye,Ve,We,Ze,Ue,ht=typeof H=="function"&&H,ot=!ce&&ci(H=ht.selector||H);if(se=se||[],ot.length===1){if(Ve=ot[0]=ot[0].slice(0),Ve.length>2&&(We=Ve[0]).type==="ID"&&X.nodeType===9&&Q&&d.relative[Ve[1].type]){if(X=(d.find.ID(We.matches[0].replace(zn,Vn),X)||[])[0],X)ht&&(X=X.parentNode);else return se;H=H.slice(Ve.shift().value.length)}for(ye=On.needsContext.test(H)?0:Ve.length;ye--&&(We=Ve[ye],!d.relative[Ze=We.type]);)if((Ue=d.find[Ze])&&(ce=Ue(We.matches[0].replace(zn,Vn),Zs.test(Ve[0].type)&&ea(X.parentNode)||X))){if(Ve.splice(ye,1),H=ce.length&&Bi(Ve),!H)return M.apply(se,ce),se;break}}return(ht||ia(H,ot))(ce,X,!Q,se,!X||Zs.test(H)&&ea(X.parentNode)||X),se}m.sortStable=xe.split("").sort(Ut).join("")===xe,Xn(),m.sortDetached=Rr(function(H){return H.compareDocumentPosition(L.createElement("fieldset"))&1}),p.find=_t,p.expr[":"]=p.expr.pseudos,p.unique=p.uniqueSort,_t.compile=ia,_t.select=tc,_t.setDocument=Xn,_t.tokenize=ci,_t.escape=p.escapeSelector,_t.getText=p.text,_t.isXML=p.isXMLDoc,_t.selectors=p.expr,_t.support=p.support,_t.uniqueSort=p.uniqueSort})();var Y=function(a,d,v){for(var y=[],R=v!==void 0;(a=a[d])&&a.nodeType!==9;)if(a.nodeType===1){if(R&&p(a).is(v))break;y.push(a)}return y},Fe=function(a,d){for(var v=[];a;a=a.nextSibling)a.nodeType===1&&a!==d&&v.push(a);return v},$e=p.expr.match.needsContext,me=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function ke(a,d,v){return C(d)?p.grep(a,function(y,R){return!!d.call(y,R,y)!==v}):d.nodeType?p.grep(a,function(y){return y===d!==v}):typeof d!="string"?p.grep(a,function(y){return c.call(d,y)>-1!==v}):p.filter(d,a,v)}p.filter=function(a,d,v){var y=d[0];return v&&(a=":not("+a+")"),d.length===1&&y.nodeType===1?p.find.matchesSelector(y,a)?[y]:[]:p.find.matches(a,p.grep(d,function(R){return R.nodeType===1}))},p.fn.extend({find:function(a){var d,v,y=this.length,R=this;if(typeof a!="string")return this.pushStack(p(a).filter(function(){for(d=0;d<y;d++)if(p.contains(R[d],this))return!0}));for(v=this.pushStack([]),d=0;d<y;d++)p.find(a,R[d],v);return y>1?p.uniqueSort(v):v},filter:function(a){return this.pushStack(ke(this,a||[],!1))},not:function(a){return this.pushStack(ke(this,a||[],!0))},is:function(a){return!!ke(this,typeof a=="string"&&$e.test(a)?p(a):a||[],!1).length}});var Oe,re=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ce=p.fn.init=function(a,d,v){var y,R;if(!a)return this;if(v=v||Oe,typeof a=="string")if(a[0]==="<"&&a[a.length-1]===">"&&a.length>=3?y=[null,a,null]:y=re.exec(a),y&&(y[1]||!d))if(y[1]){if(d=d instanceof p?d[0]:d,p.merge(this,p.parseHTML(y[1],d&&d.nodeType?d.ownerDocument||d:T,!0)),me.test(y[1])&&p.isPlainObject(d))for(y in d)C(this[y])?this[y](d[y]):this.attr(y,d[y]);return this}else return R=T.getElementById(y[2]),R&&(this[0]=R,this.length=1),this;else return!d||d.jquery?(d||v).find(a):this.constructor(d).find(a);else{if(a.nodeType)return this[0]=a,this.length=1,this;if(C(a))return v.ready!==void 0?v.ready(a):a(p)}return p.makeArray(a,this)};Ce.prototype=p.fn,Oe=p(T);var Ee=/^(?:parents|prev(?:Until|All))/,be={children:!0,contents:!0,next:!0,prev:!0};p.fn.extend({has:function(a){var d=p(a,this),v=d.length;return this.filter(function(){for(var y=0;y<v;y++)if(p.contains(this,d[y]))return!0})},closest:function(a,d){var v,y=0,R=this.length,M=[],L=typeof a!="string"&&p(a);if(!$e.test(a)){for(;y<R;y++)for(v=this[y];v&&v!==d;v=v.parentNode)if(v.nodeType<11&&(L?L.index(v)>-1:v.nodeType===1&&p.find.matchesSelector(v,a))){M.push(v);break}}return this.pushStack(M.length>1?p.uniqueSort(M):M)},index:function(a){return a?typeof a=="string"?c.call(p(a),this[0]):c.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,d){return this.pushStack(p.uniqueSort(p.merge(this.get(),p(a,d))))},addBack:function(a){return this.add(a==null?this.prevObject:this.prevObject.filter(a))}});function pe(a,d){for(;(a=a[d])&&a.nodeType!==1;);return a}p.each({parent:function(a){var d=a.parentNode;return d&&d.nodeType!==11?d:null},parents:function(a){return Y(a,"parentNode")},parentsUntil:function(a,d,v){return Y(a,"parentNode",v)},next:function(a){return pe(a,"nextSibling")},prev:function(a){return pe(a,"previousSibling")},nextAll:function(a){return Y(a,"nextSibling")},prevAll:function(a){return Y(a,"previousSibling")},nextUntil:function(a,d,v){return Y(a,"nextSibling",v)},prevUntil:function(a,d,v){return Y(a,"previousSibling",v)},siblings:function(a){return Fe((a.parentNode||{}).firstChild,a)},children:function(a){return Fe(a.firstChild)},contents:function(a){return a.contentDocument!=null&&i(a.contentDocument)?a.contentDocument:(_(a,"template")&&(a=a.content||a),p.merge([],a.childNodes))}},function(a,d){p.fn[a]=function(v,y){var R=p.map(this,d,v);return a.slice(-5)!=="Until"&&(y=v),y&&typeof y=="string"&&(R=p.filter(y,R)),this.length>1&&(be[a]||p.uniqueSort(R),Ee.test(a)&&R.reverse()),this.pushStack(R)}});var Te=/[^\x20\t\r\n\f]+/g;function Je(a){var d={};return p.each(a.match(Te)||[],function(v,y){d[y]=!0}),d}p.Callbacks=function(a){a=typeof a=="string"?Je(a):p.extend({},a);var d,v,y,R,M=[],L=[],G=-1,Q=function(){for(R=R||a.once,y=d=!0;L.length;G=-1)for(v=L.shift();++G<M.length;)M[G].apply(v[0],v[1])===!1&&a.stopOnFalse&&(G=M.length,v=!1);a.memory||(v=!1),d=!1,R&&(v?M=[]:M="")},ee={add:function(){return M&&(v&&!d&&(G=M.length-1,L.push(v)),function fe(xe){p.each(xe,function(ae,Me){C(Me)?(!a.unique||!ee.has(Me))&&M.push(Me):Me&&Me.length&&I(Me)!=="string"&&fe(Me)})}(arguments),v&&!d&&Q()),this},remove:function(){return p.each(arguments,function(fe,xe){for(var ae;(ae=p.inArray(xe,M,ae))>-1;)M.splice(ae,1),ae<=G&&G--}),this},has:function(fe){return fe?p.inArray(fe,M)>-1:M.length>0},empty:function(){return M&&(M=[]),this},disable:function(){return R=L=[],M=v="",this},disabled:function(){return!M},lock:function(){return R=L=[],!v&&!d&&(M=v=""),this},locked:function(){return!!R},fireWith:function(fe,xe){return R||(xe=xe||[],xe=[fe,xe.slice?xe.slice():xe],L.push(xe),d||Q()),this},fire:function(){return ee.fireWith(this,arguments),this},fired:function(){return!!y}};return ee};function et(a){return a}function De(a){throw a}function Ye(a,d,v,y){var R;try{a&&C(R=a.promise)?R.call(a).done(d).fail(v):a&&C(R=a.then)?R.call(a,d,v):d.apply(void 0,[a].slice(y))}catch(M){v.apply(void 0,[M])}}p.extend({Deferred:function(a){var d=[["notify","progress",p.Callbacks("memory"),p.Callbacks("memory"),2],["resolve","done",p.Callbacks("once memory"),p.Callbacks("once memory"),0,"resolved"],["reject","fail",p.Callbacks("once memory"),p.Callbacks("once memory"),1,"rejected"]],v="pending",y={state:function(){return v},always:function(){return R.done(arguments).fail(arguments),this},catch:function(M){return y.then(null,M)},pipe:function(){var M=arguments;return p.Deferred(function(L){p.each(d,function(G,Q){var ee=C(M[Q[4]])&&M[Q[4]];R[Q[1]](function(){var fe=ee&&ee.apply(this,arguments);fe&&C(fe.promise)?fe.promise().progress(L.notify).done(L.resolve).fail(L.reject):L[Q[0]+"With"](this,ee?[fe]:arguments)})}),M=null}).promise()},then:function(M,L,G){var Q=0;function ee(fe,xe,ae,Me){return function(){var lt=this,xt=arguments,ft=function(){var Ut,Rn;if(!(fe<Q)){if(Ut=ae.apply(lt,xt),Ut===xe.promise())throw new TypeError("Thenable self-resolution");Rn=Ut&&(typeof Ut=="object"||typeof Ut=="function")&&Ut.then,C(Rn)?Me?Rn.call(Ut,ee(Q,xe,et,Me),ee(Q,xe,De,Me)):(Q++,Rn.call(Ut,ee(Q,xe,et,Me),ee(Q,xe,De,Me),ee(Q,xe,et,xe.notifyWith))):(ae!==et&&(lt=void 0,xt=[Ut]),(Me||xe.resolveWith)(lt,xt))}},Jt=Me?ft:function(){try{ft()}catch(Ut){p.Deferred.exceptionHook&&p.Deferred.exceptionHook(Ut,Jt.error),fe+1>=Q&&(ae!==De&&(lt=void 0,xt=[Ut]),xe.rejectWith(lt,xt))}};fe?Jt():(p.Deferred.getErrorHook?Jt.error=p.Deferred.getErrorHook():p.Deferred.getStackHook&&(Jt.error=p.Deferred.getStackHook()),t.setTimeout(Jt))}}return p.Deferred(function(fe){d[0][3].add(ee(0,fe,C(G)?G:et,fe.notifyWith)),d[1][3].add(ee(0,fe,C(M)?M:et)),d[2][3].add(ee(0,fe,C(L)?L:De))}).promise()},promise:function(M){return M!=null?p.extend(M,y):y}},R={};return p.each(d,function(M,L){var G=L[2],Q=L[5];y[L[1]]=G.add,Q&&G.add(function(){v=Q},d[3-M][2].disable,d[3-M][3].disable,d[0][2].lock,d[0][3].lock),G.add(L[3].fire),R[L[0]]=function(){return R[L[0]+"With"](this===R?void 0:this,arguments),this},R[L[0]+"With"]=G.fireWith}),y.promise(R),a&&a.call(R,R),R},when:function(a){var d=arguments.length,v=d,y=Array(v),R=s.call(arguments),M=p.Deferred(),L=function(G){return function(Q){y[G]=this,R[G]=arguments.length>1?s.call(arguments):Q,--d||M.resolveWith(y,R)}};if(d<=1&&(Ye(a,M.done(L(v)).resolve,M.reject,!d),M.state()==="pending"||C(R[v]&&R[v].then)))return M.then();for(;v--;)Ye(R[v],L(v),M.reject);return M.promise()}});var Xe=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;p.Deferred.exceptionHook=function(a,d){t.console&&t.console.warn&&a&&Xe.test(a.name)&&t.console.warn("jQuery.Deferred exception: "+a.message,a.stack,d)},p.readyException=function(a){t.setTimeout(function(){throw a})};var it=p.Deferred();p.fn.ready=function(a){return it.then(a).catch(function(d){p.readyException(d)}),this},p.extend({isReady:!1,readyWait:1,ready:function(a){(a===!0?--p.readyWait:p.isReady)||(p.isReady=!0,!(a!==!0&&--p.readyWait>0)&&it.resolveWith(T,[p]))}}),p.ready.then=it.then;function rt(){T.removeEventListener("DOMContentLoaded",rt),t.removeEventListener("load",rt),p.ready()}T.readyState==="complete"||T.readyState!=="loading"&&!T.documentElement.doScroll?t.setTimeout(p.ready):(T.addEventListener("DOMContentLoaded",rt),t.addEventListener("load",rt));var Ke=function(a,d,v,y,R,M,L){var G=0,Q=a.length,ee=v==null;if(I(v)==="object"){R=!0;for(G in v)Ke(a,d,G,v[G],!0,M,L)}else if(y!==void 0&&(R=!0,C(y)||(L=!0),ee&&(L?(d.call(a,y),d=null):(ee=d,d=function(fe,xe,ae){return ee.call(p(fe),ae)})),d))for(;G<Q;G++)d(a[G],v,L?y:y.call(a[G],G,d(a[G],v)));return R?a:ee?d.call(a):Q?d(a[0],v):M},Et=/^-ms-/,Rt=/-([a-z])/g;function _e(a,d){return d.toUpperCase()}function je(a){return a.replace(Et,"ms-").replace(Rt,_e)}var Qe=function(a){return a.nodeType===1||a.nodeType===9||!+a.nodeType};function at(){this.expando=p.expando+at.uid++}at.uid=1,at.prototype={cache:function(a){var d=a[this.expando];return d||(d={},Qe(a)&&(a.nodeType?a[this.expando]=d:Object.defineProperty(a,this.expando,{value:d,configurable:!0}))),d},set:function(a,d,v){var y,R=this.cache(a);if(typeof d=="string")R[je(d)]=v;else for(y in d)R[je(y)]=d[y];return R},get:function(a,d){return d===void 0?this.cache(a):a[this.expando]&&a[this.expando][je(d)]},access:function(a,d,v){return d===void 0||d&&typeof d=="string"&&v===void 0?this.get(a,d):(this.set(a,d,v),v!==void 0?v:d)},remove:function(a,d){var v,y=a[this.expando];if(y!==void 0){if(d!==void 0)for(Array.isArray(d)?d=d.map(je):(d=je(d),d=d in y?[d]:d.match(Te)||[]),v=d.length;v--;)delete y[d[v]];(d===void 0||p.isEmptyObject(y))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var d=a[this.expando];return d!==void 0&&!p.isEmptyObject(d)}};var Ie=new at,ut=new at,Dt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,qt=/[A-Z]/g;function Gt(a){return a==="true"?!0:a==="false"?!1:a==="null"?null:a===+a+""?+a:Dt.test(a)?JSON.parse(a):a}function jt(a,d,v){var y;if(v===void 0&&a.nodeType===1)if(y="data-"+d.replace(qt,"-$&").toLowerCase(),v=a.getAttribute(y),typeof v=="string"){try{v=Gt(v)}catch{}ut.set(a,d,v)}else v=void 0;return v}p.extend({hasData:function(a){return ut.hasData(a)||Ie.hasData(a)},data:function(a,d,v){return ut.access(a,d,v)},removeData:function(a,d){ut.remove(a,d)},_data:function(a,d,v){return Ie.access(a,d,v)},_removeData:function(a,d){Ie.remove(a,d)}}),p.fn.extend({data:function(a,d){var v,y,R,M=this[0],L=M&&M.attributes;if(a===void 0){if(this.length&&(R=ut.get(M),M.nodeType===1&&!Ie.get(M,"hasDataAttrs"))){for(v=L.length;v--;)L[v]&&(y=L[v].name,y.indexOf("data-")===0&&(y=je(y.slice(5)),jt(M,y,R[y])));Ie.set(M,"hasDataAttrs",!0)}return R}return typeof a=="object"?this.each(function(){ut.set(this,a)}):Ke(this,function(G){var Q;if(M&&G===void 0)return Q=ut.get(M,a),Q!==void 0||(Q=jt(M,a),Q!==void 0)?Q:void 0;this.each(function(){ut.set(this,a,G)})},null,d,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){ut.remove(this,a)})}}),p.extend({queue:function(a,d,v){var y;if(a)return d=(d||"fx")+"queue",y=Ie.get(a,d),v&&(!y||Array.isArray(v)?y=Ie.access(a,d,p.makeArray(v)):y.push(v)),y||[]},dequeue:function(a,d){d=d||"fx";var v=p.queue(a,d),y=v.length,R=v.shift(),M=p._queueHooks(a,d),L=function(){p.dequeue(a,d)};R==="inprogress"&&(R=v.shift(),y--),R&&(d==="fx"&&v.unshift("inprogress"),delete M.stop,R.call(a,L,M)),!y&&M&&M.empty.fire()},_queueHooks:function(a,d){var v=d+"queueHooks";return Ie.get(a,v)||Ie.access(a,v,{empty:p.Callbacks("once memory").add(function(){Ie.remove(a,[d+"queue",v])})})}}),p.fn.extend({queue:function(a,d){var v=2;return typeof a!="string"&&(d=a,a="fx",v--),arguments.length<v?p.queue(this[0],a):d===void 0?this:this.each(function(){var y=p.queue(this,a,d);p._queueHooks(this,a),a==="fx"&&y[0]!=="inprogress"&&p.dequeue(this,a)})},dequeue:function(a){return this.each(function(){p.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,d){var v,y=1,R=p.Deferred(),M=this,L=this.length,G=function(){--y||R.resolveWith(M,[M])};for(typeof a!="string"&&(d=a,a=void 0),a=a||"fx";L--;)v=Ie.get(M[L],a+"queueHooks"),v&&v.empty&&(y++,v.empty.add(G));return G(),R.promise(d)}});var Mt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Nt=new RegExp("^(?:([+-])=|)("+Mt+")([a-z%]*)$","i"),At=["Top","Right","Bottom","Left"],kt=T.documentElement,Wt=function(a){return p.contains(a.ownerDocument,a)},Cn={composed:!0};kt.getRootNode&&(Wt=function(a){return p.contains(a.ownerDocument,a)||a.getRootNode(Cn)===a.ownerDocument});var In=function(a,d){return a=d||a,a.style.display==="none"||a.style.display===""&&Wt(a)&&p.css(a,"display")==="none"};function gn(a,d,v,y){var R,M,L=20,G=y?function(){return y.cur()}:function(){return p.css(a,d,"")},Q=G(),ee=v&&v[3]||(p.cssNumber[d]?"":"px"),fe=a.nodeType&&(p.cssNumber[d]||ee!=="px"&&+Q)&&Nt.exec(p.css(a,d));if(fe&&fe[3]!==ee){for(Q=Q/2,ee=ee||fe[3],fe=+Q||1;L--;)p.style(a,d,fe+ee),(1-M)*(1-(M=G()/Q||.5))<=0&&(L=0),fe=fe/M;fe=fe*2,p.style(a,d,fe+ee),v=v||[]}return v&&(fe=+fe||+Q||0,R=v[1]?fe+(v[1]+1)*v[2]:+v[2],y&&(y.unit=ee,y.start=fe,y.end=R)),R}var P={};function U(a){var d,v=a.ownerDocument,y=a.nodeName,R=P[y];return R||(d=v.body.appendChild(v.createElement(y)),R=p.css(d,"display"),d.parentNode.removeChild(d),R==="none"&&(R="block"),P[y]=R,R)}function j(a,d){for(var v,y,R=[],M=0,L=a.length;M<L;M++)y=a[M],y.style&&(v=y.style.display,d?(v==="none"&&(R[M]=Ie.get(y,"display")||null,R[M]||(y.style.display="")),y.style.display===""&&In(y)&&(R[M]=U(y))):v!=="none"&&(R[M]="none",Ie.set(y,"display",v)));for(M=0;M<L;M++)R[M]!=null&&(a[M].style.display=R[M]);return a}p.fn.extend({show:function(){return j(this,!0)},hide:function(){return j(this)},toggle:function(a){return typeof a=="boolean"?a?this.show():this.hide():this.each(function(){In(this)?p(this).show():p(this).hide()})}});var J=/^(?:checkbox|radio)$/i,B=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Z=/^$|^module$|\/(?:java|ecma)script/i;(function(){var a=T.createDocumentFragment(),d=a.appendChild(T.createElement("div")),v=T.createElement("input");v.setAttribute("type","radio"),v.setAttribute("checked","checked"),v.setAttribute("name","t"),d.appendChild(v),m.checkClone=d.cloneNode(!0).cloneNode(!0).lastChild.checked,d.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!d.cloneNode(!0).lastChild.defaultValue,d.innerHTML="<option></option>",m.option=!!d.lastChild})();var W={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};W.tbody=W.tfoot=W.colgroup=W.caption=W.thead,W.th=W.td,m.option||(W.optgroup=W.option=[1,"<select multiple='multiple'>","</select>"]);function q(a,d){var v;return typeof a.getElementsByTagName<"u"?v=a.getElementsByTagName(d||"*"):typeof a.querySelectorAll<"u"?v=a.querySelectorAll(d||"*"):v=[],d===void 0||d&&_(a,d)?p.merge([a],v):v}function ne(a,d){for(var v=0,y=a.length;v<y;v++)Ie.set(a[v],"globalEval",!d||Ie.get(d[v],"globalEval"))}var de=/<|&#?\w+;/;function le(a,d,v,y,R){for(var M,L,G,Q,ee,fe,xe=d.createDocumentFragment(),ae=[],Me=0,lt=a.length;Me<lt;Me++)if(M=a[Me],M||M===0)if(I(M)==="object")p.merge(ae,M.nodeType?[M]:M);else if(!de.test(M))ae.push(d.createTextNode(M));else{for(L=L||xe.appendChild(d.createElement("div")),G=(B.exec(M)||["",""])[1].toLowerCase(),Q=W[G]||W._default,L.innerHTML=Q[1]+p.htmlPrefilter(M)+Q[2],fe=Q[0];fe--;)L=L.lastChild;p.merge(ae,L.childNodes),L=xe.firstChild,L.textContent=""}for(xe.textContent="",Me=0;M=ae[Me++];){if(y&&p.inArray(M,y)>-1){R&&R.push(M);continue}if(ee=Wt(M),L=q(xe.appendChild(M),"script"),ee&&ne(L),v)for(fe=0;M=L[fe++];)Z.test(M.type||"")&&v.push(M)}return xe}var ge=/^([^.]*)(?:\.(.+)|)/;function ze(){return!0}function Se(){return!1}function Le(a,d,v,y,R,M){var L,G;if(typeof d=="object"){typeof v!="string"&&(y=y||v,v=void 0);for(G in d)Le(a,G,v,y,d[G],M);return a}if(y==null&&R==null?(R=v,y=v=void 0):R==null&&(typeof v=="string"?(R=y,y=void 0):(R=y,y=v,v=void 0)),R===!1)R=Se;else if(!R)return a;return M===1&&(L=R,R=function(Q){return p().off(Q),L.apply(this,arguments)},R.guid=L.guid||(L.guid=p.guid++)),a.each(function(){p.event.add(this,d,R,y,v)})}p.event={global:{},add:function(a,d,v,y,R){var M,L,G,Q,ee,fe,xe,ae,Me,lt,xt,ft=Ie.get(a);if(Qe(a))for(v.handler&&(M=v,v=M.handler,R=M.selector),R&&p.find.matchesSelector(kt,R),v.guid||(v.guid=p.guid++),(Q=ft.events)||(Q=ft.events=Object.create(null)),(L=ft.handle)||(L=ft.handle=function(Jt){return typeof p<"u"&&p.event.triggered!==Jt.type?p.event.dispatch.apply(a,arguments):void 0}),d=(d||"").match(Te)||[""],ee=d.length;ee--;)G=ge.exec(d[ee])||[],Me=xt=G[1],lt=(G[2]||"").split(".").sort(),Me&&(xe=p.event.special[Me]||{},Me=(R?xe.delegateType:xe.bindType)||Me,xe=p.event.special[Me]||{},fe=p.extend({type:Me,origType:xt,data:y,handler:v,guid:v.guid,selector:R,needsContext:R&&p.expr.match.needsContext.test(R),namespace:lt.join(".")},M),(ae=Q[Me])||(ae=Q[Me]=[],ae.delegateCount=0,(!xe.setup||xe.setup.call(a,y,lt,L)===!1)&&a.addEventListener&&a.addEventListener(Me,L)),xe.add&&(xe.add.call(a,fe),fe.handler.guid||(fe.handler.guid=v.guid)),R?ae.splice(ae.delegateCount++,0,fe):ae.push(fe),p.event.global[Me]=!0)},remove:function(a,d,v,y,R){var M,L,G,Q,ee,fe,xe,ae,Me,lt,xt,ft=Ie.hasData(a)&&Ie.get(a);if(!(!ft||!(Q=ft.events))){for(d=(d||"").match(Te)||[""],ee=d.length;ee--;){if(G=ge.exec(d[ee])||[],Me=xt=G[1],lt=(G[2]||"").split(".").sort(),!Me){for(Me in Q)p.event.remove(a,Me+d[ee],v,y,!0);continue}for(xe=p.event.special[Me]||{},Me=(y?xe.delegateType:xe.bindType)||Me,ae=Q[Me]||[],G=G[2]&&new RegExp("(^|\\.)"+lt.join("\\.(?:.*\\.|)")+"(\\.|$)"),L=M=ae.length;M--;)fe=ae[M],(R||xt===fe.origType)&&(!v||v.guid===fe.guid)&&(!G||G.test(fe.namespace))&&(!y||y===fe.selector||y==="**"&&fe.selector)&&(ae.splice(M,1),fe.selector&&ae.delegateCount--,xe.remove&&xe.remove.call(a,fe));L&&!ae.length&&((!xe.teardown||xe.teardown.call(a,lt,ft.handle)===!1)&&p.removeEvent(a,Me,ft.handle),delete Q[Me])}p.isEmptyObject(Q)&&Ie.remove(a,"handle events")}},dispatch:function(a){var d,v,y,R,M,L,G=new Array(arguments.length),Q=p.event.fix(a),ee=(Ie.get(this,"events")||Object.create(null))[Q.type]||[],fe=p.event.special[Q.type]||{};for(G[0]=Q,d=1;d<arguments.length;d++)G[d]=arguments[d];if(Q.delegateTarget=this,!(fe.preDispatch&&fe.preDispatch.call(this,Q)===!1)){for(L=p.event.handlers.call(this,Q,ee),d=0;(R=L[d++])&&!Q.isPropagationStopped();)for(Q.currentTarget=R.elem,v=0;(M=R.handlers[v++])&&!Q.isImmediatePropagationStopped();)(!Q.rnamespace||M.namespace===!1||Q.rnamespace.test(M.namespace))&&(Q.handleObj=M,Q.data=M.data,y=((p.event.special[M.origType]||{}).handle||M.handler).apply(R.elem,G),y!==void 0&&(Q.result=y)===!1&&(Q.preventDefault(),Q.stopPropagation()));return fe.postDispatch&&fe.postDispatch.call(this,Q),Q.result}},handlers:function(a,d){var v,y,R,M,L,G=[],Q=d.delegateCount,ee=a.target;if(Q&&ee.nodeType&&!(a.type==="click"&&a.button>=1)){for(;ee!==this;ee=ee.parentNode||this)if(ee.nodeType===1&&!(a.type==="click"&&ee.disabled===!0)){for(M=[],L={},v=0;v<Q;v++)y=d[v],R=y.selector+" ",L[R]===void 0&&(L[R]=y.needsContext?p(R,this).index(ee)>-1:p.find(R,this,null,[ee]).length),L[R]&&M.push(y);M.length&&G.push({elem:ee,handlers:M})}}return ee=this,Q<d.length&&G.push({elem:ee,handlers:d.slice(Q)}),G},addProp:function(a,d){Object.defineProperty(p.Event.prototype,a,{enumerable:!0,configurable:!0,get:C(d)?function(){if(this.originalEvent)return d(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(v){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:v})}})},fix:function(a){return a[p.expando]?a:new p.Event(a)},special:{load:{noBubble:!0},click:{setup:function(a){var d=this||a;return J.test(d.type)&&d.click&&_(d,"input")&&tt(d,"click",!0),!1},trigger:function(a){var d=this||a;return J.test(d.type)&&d.click&&_(d,"input")&&tt(d,"click"),!0},_default:function(a){var d=a.target;return J.test(d.type)&&d.click&&_(d,"input")&&Ie.get(d,"click")||_(d,"a")}},beforeunload:{postDispatch:function(a){a.result!==void 0&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}};function tt(a,d,v){if(!v){Ie.get(a,d)===void 0&&p.event.add(a,d,ze);return}Ie.set(a,d,!1),p.event.add(a,d,{namespace:!1,handler:function(y){var R,M=Ie.get(this,d);if(y.isTrigger&1&&this[d]){if(M)(p.event.special[d]||{}).delegateType&&y.stopPropagation();else if(M=s.call(arguments),Ie.set(this,d,M),this[d](),R=Ie.get(this,d),Ie.set(this,d,!1),M!==R)return y.stopImmediatePropagation(),y.preventDefault(),R}else M&&(Ie.set(this,d,p.event.trigger(M[0],M.slice(1),this)),y.stopPropagation(),y.isImmediatePropagationStopped=ze)}})}p.removeEvent=function(a,d,v){a.removeEventListener&&a.removeEventListener(d,v)},p.Event=function(a,d){if(!(this instanceof p.Event))return new p.Event(a,d);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.defaultPrevented===void 0&&a.returnValue===!1?ze:Se,this.target=a.target&&a.target.nodeType===3?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a,d&&p.extend(this,d),this.timeStamp=a&&a.timeStamp||Date.now(),this[p.expando]=!0},p.Event.prototype={constructor:p.Event,isDefaultPrevented:Se,isPropagationStopped:Se,isImmediatePropagationStopped:Se,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ze,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ze,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ze,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},p.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},p.event.addProp),p.each({focus:"focusin",blur:"focusout"},function(a,d){function v(y){if(T.documentMode){var R=Ie.get(this,"handle"),M=p.event.fix(y);M.type=y.type==="focusin"?"focus":"blur",M.isSimulated=!0,R(y),M.target===M.currentTarget&&R(M)}else p.event.simulate(d,y.target,p.event.fix(y))}p.event.special[a]={setup:function(){var y;if(tt(this,a,!0),T.documentMode)y=Ie.get(this,d),y||this.addEventListener(d,v),Ie.set(this,d,(y||0)+1);else return!1},trigger:function(){return tt(this,a),!0},teardown:function(){var y;if(T.documentMode)y=Ie.get(this,d)-1,y?Ie.set(this,d,y):(this.removeEventListener(d,v),Ie.remove(this,d));else return!1},_default:function(y){return Ie.get(y.target,a)},delegateType:d},p.event.special[d]={setup:function(){var y=this.ownerDocument||this.document||this,R=T.documentMode?this:y,M=Ie.get(R,d);M||(T.documentMode?this.addEventListener(d,v):y.addEventListener(a,v,!0)),Ie.set(R,d,(M||0)+1)},teardown:function(){var y=this.ownerDocument||this.document||this,R=T.documentMode?this:y,M=Ie.get(R,d)-1;M?Ie.set(R,d,M):(T.documentMode?this.removeEventListener(d,v):y.removeEventListener(a,v,!0),Ie.remove(R,d))}}}),p.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,d){p.event.special[a]={delegateType:d,bindType:d,handle:function(v){var y,R=this,M=v.relatedTarget,L=v.handleObj;return(!M||M!==R&&!p.contains(R,M))&&(v.type=L.origType,y=L.handler.apply(this,arguments),v.type=d),y}}}),p.fn.extend({on:function(a,d,v,y){return Le(this,a,d,v,y)},one:function(a,d,v,y){return Le(this,a,d,v,y,1)},off:function(a,d,v){var y,R;if(a&&a.preventDefault&&a.handleObj)return y=a.handleObj,p(a.delegateTarget).off(y.namespace?y.origType+"."+y.namespace:y.origType,y.selector,y.handler),this;if(typeof a=="object"){for(R in a)this.off(R,d,a[R]);return this}return(d===!1||typeof d=="function")&&(v=d,d=void 0),v===!1&&(v=Se),this.each(function(){p.event.remove(this,a,v,d)})}});var Ge=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,we=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ne(a,d){return _(a,"table")&&_(d.nodeType!==11?d:d.firstChild,"tr")&&p(a).children("tbody")[0]||a}function He(a){return a.type=(a.getAttribute("type")!==null)+"/"+a.type,a}function bt(a){return(a.type||"").slice(0,5)==="true/"?a.type=a.type.slice(5):a.removeAttribute("type"),a}function Kt(a,d){var v,y,R,M,L,G,Q;if(d.nodeType===1){if(Ie.hasData(a)&&(M=Ie.get(a),Q=M.events,Q)){Ie.remove(d,"handle events");for(R in Q)for(v=0,y=Q[R].length;v<y;v++)p.event.add(d,R,Q[R][v])}ut.hasData(a)&&(L=ut.access(a),G=p.extend({},L),ut.set(d,G))}}function Xt(a,d){var v=d.nodeName.toLowerCase();v==="input"&&J.test(a.type)?d.checked=a.checked:(v==="input"||v==="textarea")&&(d.defaultValue=a.defaultValue)}function Qt(a,d,v,y){d=o(d);var R,M,L,G,Q,ee,fe=0,xe=a.length,ae=xe-1,Me=d[0],lt=C(Me);if(lt||xe>1&&typeof Me=="string"&&!m.checkClone&&Ae.test(Me))return a.each(function(xt){var ft=a.eq(xt);lt&&(d[0]=Me.call(this,xt,ft.html())),Qt(ft,d,v,y)});if(xe&&(R=le(d,a[0].ownerDocument,!1,a,y),M=R.firstChild,R.childNodes.length===1&&(R=M),M||y)){for(L=p.map(q(R,"script"),He),G=L.length;fe<xe;fe++)Q=R,fe!==ae&&(Q=p.clone(Q,!0,!0),G&&p.merge(L,q(Q,"script"))),v.call(a[fe],Q,fe);if(G)for(ee=L[L.length-1].ownerDocument,p.map(L,bt),fe=0;fe<G;fe++)Q=L[fe],Z.test(Q.type||"")&&!Ie.access(Q,"globalEval")&&p.contains(ee,Q)&&(Q.src&&(Q.type||"").toLowerCase()!=="module"?p._evalUrl&&!Q.noModule&&p._evalUrl(Q.src,{nonce:Q.nonce||Q.getAttribute("nonce")},ee):N(Q.textContent.replace(we,""),Q,ee))}return a}function rn(a,d,v){for(var y,R=d?p.filter(d,a):a,M=0;(y=R[M])!=null;M++)!v&&y.nodeType===1&&p.cleanData(q(y)),y.parentNode&&(v&&Wt(y)&&ne(q(y,"script")),y.parentNode.removeChild(y));return a}p.extend({htmlPrefilter:function(a){return a},clone:function(a,d,v){var y,R,M,L,G=a.cloneNode(!0),Q=Wt(a);if(!m.noCloneChecked&&(a.nodeType===1||a.nodeType===11)&&!p.isXMLDoc(a))for(L=q(G),M=q(a),y=0,R=M.length;y<R;y++)Xt(M[y],L[y]);if(d)if(v)for(M=M||q(a),L=L||q(G),y=0,R=M.length;y<R;y++)Kt(M[y],L[y]);else Kt(a,G);return L=q(G,"script"),L.length>0&&ne(L,!Q&&q(a,"script")),G},cleanData:function(a){for(var d,v,y,R=p.event.special,M=0;(v=a[M])!==void 0;M++)if(Qe(v)){if(d=v[Ie.expando]){if(d.events)for(y in d.events)R[y]?p.event.remove(v,y):p.removeEvent(v,y,d.handle);v[Ie.expando]=void 0}v[ut.expando]&&(v[ut.expando]=void 0)}}}),p.fn.extend({detach:function(a){return rn(this,a,!0)},remove:function(a){return rn(this,a)},text:function(a){return Ke(this,function(d){return d===void 0?p.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=d)})},null,a,arguments.length)},append:function(){return Qt(this,arguments,function(a){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var d=Ne(this,a);d.appendChild(a)}})},prepend:function(){return Qt(this,arguments,function(a){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var d=Ne(this,a);d.insertBefore(a,d.firstChild)}})},before:function(){return Qt(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return Qt(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,d=0;(a=this[d])!=null;d++)a.nodeType===1&&(p.cleanData(q(a,!1)),a.textContent="");return this},clone:function(a,d){return a=a??!1,d=d??a,this.map(function(){return p.clone(this,a,d)})},html:function(a){return Ke(this,function(d){var v=this[0]||{},y=0,R=this.length;if(d===void 0&&v.nodeType===1)return v.innerHTML;if(typeof d=="string"&&!Ge.test(d)&&!W[(B.exec(d)||["",""])[1].toLowerCase()]){d=p.htmlPrefilter(d);try{for(;y<R;y++)v=this[y]||{},v.nodeType===1&&(p.cleanData(q(v,!1)),v.innerHTML=d);v=0}catch{}}v&&this.empty().append(d)},null,a,arguments.length)},replaceWith:function(){var a=[];return Qt(this,arguments,function(d){var v=this.parentNode;p.inArray(this,a)<0&&(p.cleanData(q(this)),v&&v.replaceChild(d,this))},a)}}),p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,d){p.fn[a]=function(v){for(var y,R=[],M=p(v),L=M.length-1,G=0;G<=L;G++)y=G===L?this:this.clone(!0),p(M[G])[d](y),l.apply(R,y.get());return this.pushStack(R)}});var ir=new RegExp("^("+Mt+")(?!px)[a-z%]+$","i"),js=/^--/,Vi=function(a){var d=a.ownerDocument.defaultView;return(!d||!d.opener)&&(d=t),d.getComputedStyle(a)},Ll=function(a,d,v){var y,R,M={};for(R in d)M[R]=a.style[R],a.style[R]=d[R];y=v.call(a);for(R in d)a.style[R]=M[R];return y},cp=new RegExp(At.join("|"),"i");(function(){function a(){if(ee){Q.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",ee.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",kt.appendChild(Q).appendChild(ee);var fe=t.getComputedStyle(ee);v=fe.top!=="1%",G=d(fe.marginLeft)===12,ee.style.right="60%",M=d(fe.right)===36,y=d(fe.width)===36,ee.style.position="absolute",R=d(ee.offsetWidth/3)===12,kt.removeChild(Q),ee=null}}function d(fe){return Math.round(parseFloat(fe))}var v,y,R,M,L,G,Q=T.createElement("div"),ee=T.createElement("div");ee.style&&(ee.style.backgroundClip="content-box",ee.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle=ee.style.backgroundClip==="content-box",p.extend(m,{boxSizingReliable:function(){return a(),y},pixelBoxStyles:function(){return a(),M},pixelPosition:function(){return a(),v},reliableMarginLeft:function(){return a(),G},scrollboxSize:function(){return a(),R},reliableTrDimensions:function(){var fe,xe,ae,Me;return L==null&&(fe=T.createElement("table"),xe=T.createElement("tr"),ae=T.createElement("div"),fe.style.cssText="position:absolute;left:-11111px;border-collapse:separate",xe.style.cssText="box-sizing:content-box;border:1px solid",xe.style.height="1px",ae.style.height="9px",ae.style.display="block",kt.appendChild(fe).appendChild(xe).appendChild(ae),Me=t.getComputedStyle(xe),L=parseInt(Me.height,10)+parseInt(Me.borderTopWidth,10)+parseInt(Me.borderBottomWidth,10)===xe.offsetHeight,kt.removeChild(fe)),L}}))})();function ri(a,d,v){var y,R,M,L,G=js.test(d),Q=a.style;return v=v||Vi(a),v&&(L=v.getPropertyValue(d)||v[d],G&&L&&(L=L.replace(K,"$1")||void 0),L===""&&!Wt(a)&&(L=p.style(a,d)),!m.pixelBoxStyles()&&ir.test(L)&&cp.test(d)&&(y=Q.width,R=Q.minWidth,M=Q.maxWidth,Q.minWidth=Q.maxWidth=Q.width=L,L=v.width,Q.width=y,Q.minWidth=R,Q.maxWidth=M)),L!==void 0?L+"":L}function Dl(a,d){return{get:function(){if(a()){delete this.get;return}return(this.get=d).apply(this,arguments)}}}var Al=["Webkit","Moz","ms"],Pl=T.createElement("div").style,$l={};function up(a){for(var d=a[0].toUpperCase()+a.slice(1),v=Al.length;v--;)if(a=Al[v]+d,a in Pl)return a}function Hs(a){var d=p.cssProps[a]||$l[a];return d||(a in Pl?a:$l[a]=up(a)||a)}var dp=/^(none|table(?!-c[ea]).+)/,fp={position:"absolute",visibility:"hidden",display:"block"},zl={letterSpacing:"0",fontWeight:"400"};function Vl(a,d,v){var y=Nt.exec(d);return y?Math.max(0,y[2]-(v||0))+(y[3]||"px"):d}function Bs(a,d,v,y,R,M){var L=d==="width"?1:0,G=0,Q=0,ee=0;if(v===(y?"border":"content"))return 0;for(;L<4;L+=2)v==="margin"&&(ee+=p.css(a,v+At[L],!0,R)),y?(v==="content"&&(Q-=p.css(a,"padding"+At[L],!0,R)),v!=="margin"&&(Q-=p.css(a,"border"+At[L]+"Width",!0,R))):(Q+=p.css(a,"padding"+At[L],!0,R),v!=="padding"?Q+=p.css(a,"border"+At[L]+"Width",!0,R):G+=p.css(a,"border"+At[L]+"Width",!0,R));return!y&&M>=0&&(Q+=Math.max(0,Math.ceil(a["offset"+d[0].toUpperCase()+d.slice(1)]-M-Q-G-.5))||0),Q+ee}function Fl(a,d,v){var y=Vi(a),R=!m.boxSizingReliable()||v,M=R&&p.css(a,"boxSizing",!1,y)==="border-box",L=M,G=ri(a,d,y),Q="offset"+d[0].toUpperCase()+d.slice(1);if(ir.test(G)){if(!v)return G;G="auto"}return(!m.boxSizingReliable()&&M||!m.reliableTrDimensions()&&_(a,"tr")||G==="auto"||!parseFloat(G)&&p.css(a,"display",!1,y)==="inline")&&a.getClientRects().length&&(M=p.css(a,"boxSizing",!1,y)==="border-box",L=Q in a,L&&(G=a[Q])),G=parseFloat(G)||0,G+Bs(a,d,v||(M?"border":"content"),L,y,G)+"px"}p.extend({cssHooks:{opacity:{get:function(a,d){if(d){var v=ri(a,"opacity");return v===""?"1":v}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(a,d,v,y){if(!(!a||a.nodeType===3||a.nodeType===8||!a.style)){var R,M,L,G=je(d),Q=js.test(d),ee=a.style;if(Q||(d=Hs(G)),L=p.cssHooks[d]||p.cssHooks[G],v!==void 0){if(M=typeof v,M==="string"&&(R=Nt.exec(v))&&R[1]&&(v=gn(a,d,R),M="number"),v==null||v!==v)return;M==="number"&&!Q&&(v+=R&&R[3]||(p.cssNumber[G]?"":"px")),!m.clearCloneStyle&&v===""&&d.indexOf("background")===0&&(ee[d]="inherit"),(!L||!("set"in L)||(v=L.set(a,v,y))!==void 0)&&(Q?ee.setProperty(d,v):ee[d]=v)}else return L&&"get"in L&&(R=L.get(a,!1,y))!==void 0?R:ee[d]}},css:function(a,d,v,y){var R,M,L,G=je(d),Q=js.test(d);return Q||(d=Hs(G)),L=p.cssHooks[d]||p.cssHooks[G],L&&"get"in L&&(R=L.get(a,!0,v)),R===void 0&&(R=ri(a,d,y)),R==="normal"&&d in zl&&(R=zl[d]),v===""||v?(M=parseFloat(R),v===!0||isFinite(M)?M||0:R):R}}),p.each(["height","width"],function(a,d){p.cssHooks[d]={get:function(v,y,R){if(y)return dp.test(p.css(v,"display"))&&(!v.getClientRects().length||!v.getBoundingClientRect().width)?Ll(v,fp,function(){return Fl(v,d,R)}):Fl(v,d,R)},set:function(v,y,R){var M,L=Vi(v),G=!m.scrollboxSize()&&L.position==="absolute",Q=G||R,ee=Q&&p.css(v,"boxSizing",!1,L)==="border-box",fe=R?Bs(v,d,R,ee,L):0;return ee&&G&&(fe-=Math.ceil(v["offset"+d[0].toUpperCase()+d.slice(1)]-parseFloat(L[d])-Bs(v,d,"border",!1,L)-.5)),fe&&(M=Nt.exec(y))&&(M[3]||"px")!=="px"&&(v.style[d]=y,y=p.css(v,d)),Vl(v,y,fe)}}}),p.cssHooks.marginLeft=Dl(m.reliableMarginLeft,function(a,d){if(d)return(parseFloat(ri(a,"marginLeft"))||a.getBoundingClientRect().left-Ll(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"}),p.each({margin:"",padding:"",border:"Width"},function(a,d){p.cssHooks[a+d]={expand:function(v){for(var y=0,R={},M=typeof v=="string"?v.split(" "):[v];y<4;y++)R[a+At[y]+d]=M[y]||M[y-2]||M[0];return R}},a!=="margin"&&(p.cssHooks[a+d].set=Vl)}),p.fn.extend({css:function(a,d){return Ke(this,function(v,y,R){var M,L,G={},Q=0;if(Array.isArray(y)){for(M=Vi(v),L=y.length;Q<L;Q++)G[y[Q]]=p.css(v,y[Q],!1,M);return G}return R!==void 0?p.style(v,y,R):p.css(v,y)},a,d,arguments.length>1)}});function un(a,d,v,y,R){return new un.prototype.init(a,d,v,y,R)}p.Tween=un,un.prototype={constructor:un,init:function(a,d,v,y,R,M){this.elem=a,this.prop=v,this.easing=R||p.easing._default,this.options=d,this.start=this.now=this.cur(),this.end=y,this.unit=M||(p.cssNumber[v]?"":"px")},cur:function(){var a=un.propHooks[this.prop];return a&&a.get?a.get(this):un.propHooks._default.get(this)},run:function(a){var d,v=un.propHooks[this.prop];return this.options.duration?this.pos=d=p.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=d=a,this.now=(this.end-this.start)*d+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),v&&v.set?v.set(this):un.propHooks._default.set(this),this}},un.prototype.init.prototype=un.prototype,un.propHooks={_default:{get:function(a){var d;return a.elem.nodeType!==1||a.elem[a.prop]!=null&&a.elem.style[a.prop]==null?a.elem[a.prop]:(d=p.css(a.elem,a.prop,""),!d||d==="auto"?0:d)},set:function(a){p.fx.step[a.prop]?p.fx.step[a.prop](a):a.elem.nodeType===1&&(p.cssHooks[a.prop]||a.elem.style[Hs(a.prop)]!=null)?p.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},un.propHooks.scrollTop=un.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},p.easing={linear:function(a){return a},swing:function(a){return .5-Math.cos(a*Math.PI)/2},_default:"swing"},p.fx=un.prototype.init,p.fx.step={};var Ir,Fi,hp=/^(?:toggle|show|hide)$/,pp=/queueHooks$/;function qs(){Fi&&(T.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(qs):t.setTimeout(qs,p.fx.interval),p.fx.tick())}function jl(){return t.setTimeout(function(){Ir=void 0}),Ir=Date.now()}function ji(a,d){var v,y=0,R={height:a};for(d=d?1:0;y<4;y+=2-d)v=At[y],R["margin"+v]=R["padding"+v]=a;return d&&(R.opacity=R.width=a),R}function Hl(a,d,v){for(var y,R=(kn.tweeners[d]||[]).concat(kn.tweeners["*"]),M=0,L=R.length;M<L;M++)if(y=R[M].call(v,d,a))return y}function gp(a,d,v){var y,R,M,L,G,Q,ee,fe,xe="width"in d||"height"in d,ae=this,Me={},lt=a.style,xt=a.nodeType&&In(a),ft=Ie.get(a,"fxshow");v.queue||(L=p._queueHooks(a,"fx"),L.unqueued==null&&(L.unqueued=0,G=L.empty.fire,L.empty.fire=function(){L.unqueued||G()}),L.unqueued++,ae.always(function(){ae.always(function(){L.unqueued--,p.queue(a,"fx").length||L.empty.fire()})}));for(y in d)if(R=d[y],hp.test(R)){if(delete d[y],M=M||R==="toggle",R===(xt?"hide":"show"))if(R==="show"&&ft&&ft[y]!==void 0)xt=!0;else continue;Me[y]=ft&&ft[y]||p.style(a,y)}if(Q=!p.isEmptyObject(d),!(!Q&&p.isEmptyObject(Me))){xe&&a.nodeType===1&&(v.overflow=[lt.overflow,lt.overflowX,lt.overflowY],ee=ft&&ft.display,ee==null&&(ee=Ie.get(a,"display")),fe=p.css(a,"display"),fe==="none"&&(ee?fe=ee:(j([a],!0),ee=a.style.display||ee,fe=p.css(a,"display"),j([a]))),(fe==="inline"||fe==="inline-block"&&ee!=null)&&p.css(a,"float")==="none"&&(Q||(ae.done(function(){lt.display=ee}),ee==null&&(fe=lt.display,ee=fe==="none"?"":fe)),lt.display="inline-block")),v.overflow&&(lt.overflow="hidden",ae.always(function(){lt.overflow=v.overflow[0],lt.overflowX=v.overflow[1],lt.overflowY=v.overflow[2]})),Q=!1;for(y in Me)Q||(ft?"hidden"in ft&&(xt=ft.hidden):ft=Ie.access(a,"fxshow",{display:ee}),M&&(ft.hidden=!xt),xt&&j([a],!0),ae.done(function(){xt||j([a]),Ie.remove(a,"fxshow");for(y in Me)p.style(a,y,Me[y])})),Q=Hl(xt?ft[y]:0,y,ae),y in ft||(ft[y]=Q.start,xt&&(Q.end=Q.start,Q.start=0))}}function mp(a,d){var v,y,R,M,L;for(v in a)if(y=je(v),R=d[y],M=a[v],Array.isArray(M)&&(R=M[1],M=a[v]=M[0]),v!==y&&(a[y]=M,delete a[v]),L=p.cssHooks[y],L&&"expand"in L){M=L.expand(M),delete a[y];for(v in M)v in a||(a[v]=M[v],d[v]=R)}else d[y]=R}function kn(a,d,v){var y,R,M=0,L=kn.prefilters.length,G=p.Deferred().always(function(){delete Q.elem}),Q=function(){if(R)return!1;for(var xe=Ir||jl(),ae=Math.max(0,ee.startTime+ee.duration-xe),Me=ae/ee.duration||0,lt=1-Me,xt=0,ft=ee.tweens.length;xt<ft;xt++)ee.tweens[xt].run(lt);return G.notifyWith(a,[ee,lt,ae]),lt<1&&ft?ae:(ft||G.notifyWith(a,[ee,1,0]),G.resolveWith(a,[ee]),!1)},ee=G.promise({elem:a,props:p.extend({},d),opts:p.extend(!0,{specialEasing:{},easing:p.easing._default},v),originalProperties:d,originalOptions:v,startTime:Ir||jl(),duration:v.duration,tweens:[],createTween:function(xe,ae){var Me=p.Tween(a,ee.opts,xe,ae,ee.opts.specialEasing[xe]||ee.opts.easing);return ee.tweens.push(Me),Me},stop:function(xe){var ae=0,Me=xe?ee.tweens.length:0;if(R)return this;for(R=!0;ae<Me;ae++)ee.tweens[ae].run(1);return xe?(G.notifyWith(a,[ee,1,0]),G.resolveWith(a,[ee,xe])):G.rejectWith(a,[ee,xe]),this}}),fe=ee.props;for(mp(fe,ee.opts.specialEasing);M<L;M++)if(y=kn.prefilters[M].call(ee,a,fe,ee.opts),y)return C(y.stop)&&(p._queueHooks(ee.elem,ee.opts.queue).stop=y.stop.bind(y)),y;return p.map(fe,Hl,ee),C(ee.opts.start)&&ee.opts.start.call(a,ee),ee.progress(ee.opts.progress).done(ee.opts.done,ee.opts.complete).fail(ee.opts.fail).always(ee.opts.always),p.fx.timer(p.extend(Q,{elem:a,anim:ee,queue:ee.opts.queue})),ee}p.Animation=p.extend(kn,{tweeners:{"*":[function(a,d){var v=this.createTween(a,d);return gn(v.elem,a,Nt.exec(d),v),v}]},tweener:function(a,d){C(a)?(d=a,a=["*"]):a=a.match(Te);for(var v,y=0,R=a.length;y<R;y++)v=a[y],kn.tweeners[v]=kn.tweeners[v]||[],kn.tweeners[v].unshift(d)},prefilters:[gp],prefilter:function(a,d){d?kn.prefilters.unshift(a):kn.prefilters.push(a)}}),p.speed=function(a,d,v){var y=a&&typeof a=="object"?p.extend({},a):{complete:v||!v&&d||C(a)&&a,duration:a,easing:v&&d||d&&!C(d)&&d};return p.fx.off?y.duration=0:typeof y.duration!="number"&&(y.duration in p.fx.speeds?y.duration=p.fx.speeds[y.duration]:y.duration=p.fx.speeds._default),(y.queue==null||y.queue===!0)&&(y.queue="fx"),y.old=y.complete,y.complete=function(){C(y.old)&&y.old.call(this),y.queue&&p.dequeue(this,y.queue)},y},p.fn.extend({fadeTo:function(a,d,v,y){return this.filter(In).css("opacity",0).show().end().animate({opacity:d},a,v,y)},animate:function(a,d,v,y){var R=p.isEmptyObject(a),M=p.speed(d,v,y),L=function(){var G=kn(this,p.extend({},a),M);(R||Ie.get(this,"finish"))&&G.stop(!0)};return L.finish=L,R||M.queue===!1?this.each(L):this.queue(M.queue,L)},stop:function(a,d,v){var y=function(R){var M=R.stop;delete R.stop,M(v)};return typeof a!="string"&&(v=d,d=a,a=void 0),d&&this.queue(a||"fx",[]),this.each(function(){var R=!0,M=a!=null&&a+"queueHooks",L=p.timers,G=Ie.get(this);if(M)G[M]&&G[M].stop&&y(G[M]);else for(M in G)G[M]&&G[M].stop&&pp.test(M)&&y(G[M]);for(M=L.length;M--;)L[M].elem===this&&(a==null||L[M].queue===a)&&(L[M].anim.stop(v),R=!1,L.splice(M,1));(R||!v)&&p.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var d,v=Ie.get(this),y=v[a+"queue"],R=v[a+"queueHooks"],M=p.timers,L=y?y.length:0;for(v.finish=!0,p.queue(this,a,[]),R&&R.stop&&R.stop.call(this,!0),d=M.length;d--;)M[d].elem===this&&M[d].queue===a&&(M[d].anim.stop(!0),M.splice(d,1));for(d=0;d<L;d++)y[d]&&y[d].finish&&y[d].finish.call(this);delete v.finish})}}),p.each(["toggle","show","hide"],function(a,d){var v=p.fn[d];p.fn[d]=function(y,R,M){return y==null||typeof y=="boolean"?v.apply(this,arguments):this.animate(ji(d,!0),y,R,M)}}),p.each({slideDown:ji("show"),slideUp:ji("hide"),slideToggle:ji("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,d){p.fn[a]=function(v,y,R){return this.animate(d,v,y,R)}}),p.timers=[],p.fx.tick=function(){var a,d=0,v=p.timers;for(Ir=Date.now();d<v.length;d++)a=v[d],!a()&&v[d]===a&&v.splice(d--,1);v.length||p.fx.stop(),Ir=void 0},p.fx.timer=function(a){p.timers.push(a),p.fx.start()},p.fx.interval=13,p.fx.start=function(){Fi||(Fi=!0,qs())},p.fx.stop=function(){Fi=null},p.fx.speeds={slow:600,fast:200,_default:400},p.fn.delay=function(a,d){return a=p.fx&&p.fx.speeds[a]||a,d=d||"fx",this.queue(d,function(v,y){var R=t.setTimeout(v,a);y.stop=function(){t.clearTimeout(R)}})},function(){var a=T.createElement("input"),d=T.createElement("select"),v=d.appendChild(T.createElement("option"));a.type="checkbox",m.checkOn=a.value!=="",m.optSelected=v.selected,a=T.createElement("input"),a.value="t",a.type="radio",m.radioValue=a.value==="t"}();var Bl,ii=p.expr.attrHandle;p.fn.extend({attr:function(a,d){return Ke(this,p.attr,a,d,arguments.length>1)},removeAttr:function(a){return this.each(function(){p.removeAttr(this,a)})}}),p.extend({attr:function(a,d,v){var y,R,M=a.nodeType;if(!(M===3||M===8||M===2)){if(typeof a.getAttribute>"u")return p.prop(a,d,v);if((M!==1||!p.isXMLDoc(a))&&(R=p.attrHooks[d.toLowerCase()]||(p.expr.match.bool.test(d)?Bl:void 0)),v!==void 0){if(v===null){p.removeAttr(a,d);return}return R&&"set"in R&&(y=R.set(a,v,d))!==void 0?y:(a.setAttribute(d,v+""),v)}return R&&"get"in R&&(y=R.get(a,d))!==null?y:(y=p.find.attr(a,d),y??void 0)}},attrHooks:{type:{set:function(a,d){if(!m.radioValue&&d==="radio"&&_(a,"input")){var v=a.value;return a.setAttribute("type",d),v&&(a.value=v),d}}}},removeAttr:function(a,d){var v,y=0,R=d&&d.match(Te);if(R&&a.nodeType===1)for(;v=R[y++];)a.removeAttribute(v)}}),Bl={set:function(a,d,v){return d===!1?p.removeAttr(a,v):a.setAttribute(v,v),v}},p.each(p.expr.match.bool.source.match(/\w+/g),function(a,d){var v=ii[d]||p.find.attr;ii[d]=function(y,R,M){var L,G,Q=R.toLowerCase();return M||(G=ii[Q],ii[Q]=L,L=v(y,R,M)!=null?Q:null,ii[Q]=G),L}});var vp=/^(?:input|select|textarea|button)$/i,bp=/^(?:a|area)$/i;p.fn.extend({prop:function(a,d){return Ke(this,p.prop,a,d,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[p.propFix[a]||a]})}}),p.extend({prop:function(a,d,v){var y,R,M=a.nodeType;if(!(M===3||M===8||M===2))return(M!==1||!p.isXMLDoc(a))&&(d=p.propFix[d]||d,R=p.propHooks[d]),v!==void 0?R&&"set"in R&&(y=R.set(a,v,d))!==void 0?y:a[d]=v:R&&"get"in R&&(y=R.get(a,d))!==null?y:a[d]},propHooks:{tabIndex:{get:function(a){var d=p.find.attr(a,"tabindex");return d?parseInt(d,10):vp.test(a.nodeName)||bp.test(a.nodeName)&&a.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(p.propHooks.selected={get:function(a){var d=a.parentNode;return d&&d.parentNode&&d.parentNode.selectedIndex,null},set:function(a){var d=a.parentNode;d&&(d.selectedIndex,d.parentNode&&d.parentNode.selectedIndex)}}),p.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){p.propFix[this.toLowerCase()]=this});function sr(a){var d=a.match(Te)||[];return d.join(" ")}function ar(a){return a.getAttribute&&a.getAttribute("class")||""}function Ws(a){return Array.isArray(a)?a:typeof a=="string"?a.match(Te)||[]:[]}p.fn.extend({addClass:function(a){var d,v,y,R,M,L;return C(a)?this.each(function(G){p(this).addClass(a.call(this,G,ar(this)))}):(d=Ws(a),d.length?this.each(function(){if(y=ar(this),v=this.nodeType===1&&" "+sr(y)+" ",v){for(M=0;M<d.length;M++)R=d[M],v.indexOf(" "+R+" ")<0&&(v+=R+" ");L=sr(v),y!==L&&this.setAttribute("class",L)}}):this)},removeClass:function(a){var d,v,y,R,M,L;return C(a)?this.each(function(G){p(this).removeClass(a.call(this,G,ar(this)))}):arguments.length?(d=Ws(a),d.length?this.each(function(){if(y=ar(this),v=this.nodeType===1&&" "+sr(y)+" ",v){for(M=0;M<d.length;M++)for(R=d[M];v.indexOf(" "+R+" ")>-1;)v=v.replace(" "+R+" "," ");L=sr(v),y!==L&&this.setAttribute("class",L)}}):this):this.attr("class","")},toggleClass:function(a,d){var v,y,R,M,L=typeof a,G=L==="string"||Array.isArray(a);return C(a)?this.each(function(Q){p(this).toggleClass(a.call(this,Q,ar(this),d),d)}):typeof d=="boolean"&&G?d?this.addClass(a):this.removeClass(a):(v=Ws(a),this.each(function(){if(G)for(M=p(this),R=0;R<v.length;R++)y=v[R],M.hasClass(y)?M.removeClass(y):M.addClass(y);else(a===void 0||L==="boolean")&&(y=ar(this),y&&Ie.set(this,"__className__",y),this.setAttribute&&this.setAttribute("class",y||a===!1?"":Ie.get(this,"__className__")||""))}))},hasClass:function(a){var d,v,y=0;for(d=" "+a+" ";v=this[y++];)if(v.nodeType===1&&(" "+sr(ar(v))+" ").indexOf(d)>-1)return!0;return!1}});var yp=/\r/g;p.fn.extend({val:function(a){var d,v,y,R=this[0];return arguments.length?(y=C(a),this.each(function(M){var L;this.nodeType===1&&(y?L=a.call(this,M,p(this).val()):L=a,L==null?L="":typeof L=="number"?L+="":Array.isArray(L)&&(L=p.map(L,function(G){return G==null?"":G+""})),d=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()],(!d||!("set"in d)||d.set(this,L,"value")===void 0)&&(this.value=L))})):R?(d=p.valHooks[R.type]||p.valHooks[R.nodeName.toLowerCase()],d&&"get"in d&&(v=d.get(R,"value"))!==void 0?v:(v=R.value,typeof v=="string"?v.replace(yp,""):v??"")):void 0}}),p.extend({valHooks:{option:{get:function(a){var d=p.find.attr(a,"value");return d??sr(p.text(a))}},select:{get:function(a){var d,v,y,R=a.options,M=a.selectedIndex,L=a.type==="select-one",G=L?null:[],Q=L?M+1:R.length;for(M<0?y=Q:y=L?M:0;y<Q;y++)if(v=R[y],(v.selected||y===M)&&!v.disabled&&(!v.parentNode.disabled||!_(v.parentNode,"optgroup"))){if(d=p(v).val(),L)return d;G.push(d)}return G},set:function(a,d){for(var v,y,R=a.options,M=p.makeArray(d),L=R.length;L--;)y=R[L],(y.selected=p.inArray(p.valHooks.option.get(y),M)>-1)&&(v=!0);return v||(a.selectedIndex=-1),M}}}}),p.each(["radio","checkbox"],function(){p.valHooks[this]={set:function(a,d){if(Array.isArray(d))return a.checked=p.inArray(p(a).val(),d)>-1}},m.checkOn||(p.valHooks[this].get=function(a){return a.getAttribute("value")===null?"on":a.value})});var si=t.location,ql={guid:Date.now()},Us=/\?/;p.parseXML=function(a){var d,v;if(!a||typeof a!="string")return null;try{d=new t.DOMParser().parseFromString(a,"text/xml")}catch{}return v=d&&d.getElementsByTagName("parsererror")[0],(!d||v)&&p.error("Invalid XML: "+(v?p.map(v.childNodes,function(y){return y.textContent}).join(`
`):a)),d};var Wl=/^(?:focusinfocus|focusoutblur)$/,Ul=function(a){a.stopPropagation()};p.extend(p.event,{trigger:function(a,d,v,y){var R,M,L,G,Q,ee,fe,xe,ae=[v||T],Me=g.call(a,"type")?a.type:a,lt=g.call(a,"namespace")?a.namespace.split("."):[];if(M=xe=L=v=v||T,!(v.nodeType===3||v.nodeType===8)&&!Wl.test(Me+p.event.triggered)&&(Me.indexOf(".")>-1&&(lt=Me.split("."),Me=lt.shift(),lt.sort()),Q=Me.indexOf(":")<0&&"on"+Me,a=a[p.expando]?a:new p.Event(Me,typeof a=="object"&&a),a.isTrigger=y?2:3,a.namespace=lt.join("."),a.rnamespace=a.namespace?new RegExp("(^|\\.)"+lt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=void 0,a.target||(a.target=v),d=d==null?[a]:p.makeArray(d,[a]),fe=p.event.special[Me]||{},!(!y&&fe.trigger&&fe.trigger.apply(v,d)===!1))){if(!y&&!fe.noBubble&&!k(v)){for(G=fe.delegateType||Me,Wl.test(G+Me)||(M=M.parentNode);M;M=M.parentNode)ae.push(M),L=M;L===(v.ownerDocument||T)&&ae.push(L.defaultView||L.parentWindow||t)}for(R=0;(M=ae[R++])&&!a.isPropagationStopped();)xe=M,a.type=R>1?G:fe.bindType||Me,ee=(Ie.get(M,"events")||Object.create(null))[a.type]&&Ie.get(M,"handle"),ee&&ee.apply(M,d),ee=Q&&M[Q],ee&&ee.apply&&Qe(M)&&(a.result=ee.apply(M,d),a.result===!1&&a.preventDefault());return a.type=Me,!y&&!a.isDefaultPrevented()&&(!fe._default||fe._default.apply(ae.pop(),d)===!1)&&Qe(v)&&Q&&C(v[Me])&&!k(v)&&(L=v[Q],L&&(v[Q]=null),p.event.triggered=Me,a.isPropagationStopped()&&xe.addEventListener(Me,Ul),v[Me](),a.isPropagationStopped()&&xe.removeEventListener(Me,Ul),p.event.triggered=void 0,L&&(v[Q]=L)),a.result}},simulate:function(a,d,v){var y=p.extend(new p.Event,v,{type:a,isSimulated:!0});p.event.trigger(y,null,d)}}),p.fn.extend({trigger:function(a,d){return this.each(function(){p.event.trigger(a,d,this)})},triggerHandler:function(a,d){var v=this[0];if(v)return p.event.trigger(a,d,v,!0)}});var xp=/\[\]$/,Ql=/\r?\n/g,Sp=/^(?:submit|button|image|reset|file)$/i,wp=/^(?:input|select|textarea|keygen)/i;function Qs(a,d,v,y){var R;if(Array.isArray(d))p.each(d,function(M,L){v||xp.test(a)?y(a,L):Qs(a+"["+(typeof L=="object"&&L!=null?M:"")+"]",L,v,y)});else if(!v&&I(d)==="object")for(R in d)Qs(a+"["+R+"]",d[R],v,y);else y(a,d)}p.param=function(a,d){var v,y=[],R=function(M,L){var G=C(L)?L():L;y[y.length]=encodeURIComponent(M)+"="+encodeURIComponent(G??"")};if(a==null)return"";if(Array.isArray(a)||a.jquery&&!p.isPlainObject(a))p.each(a,function(){R(this.name,this.value)});else for(v in a)Qs(v,a[v],d,R);return y.join("&")},p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=p.prop(this,"elements");return a?p.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!p(this).is(":disabled")&&wp.test(this.nodeName)&&!Sp.test(a)&&(this.checked||!J.test(a))}).map(function(a,d){var v=p(this).val();return v==null?null:Array.isArray(v)?p.map(v,function(y){return{name:d.name,value:y.replace(Ql,`\r
`)}}):{name:d.name,value:v.replace(Ql,`\r
`)}}).get()}});var Tp=/%20/g,Cp=/#.*$/,kp=/([?&])_=[^&]*/,Ep=/^(.*?):[ \t]*([^\r\n]*)$/mg,_p=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ip=/^(?:GET|HEAD)$/,Rp=/^\/\//,Gl={},Gs={},Kl="*/".concat("*"),Ks=T.createElement("a");Ks.href=si.href;function Jl(a){return function(d,v){typeof d!="string"&&(v=d,d="*");var y,R=0,M=d.toLowerCase().match(Te)||[];if(C(v))for(;y=M[R++];)y[0]==="+"?(y=y.slice(1)||"*",(a[y]=a[y]||[]).unshift(v)):(a[y]=a[y]||[]).push(v)}}function Yl(a,d,v,y){var R={},M=a===Gs;function L(G){var Q;return R[G]=!0,p.each(a[G]||[],function(ee,fe){var xe=fe(d,v,y);if(typeof xe=="string"&&!M&&!R[xe])return d.dataTypes.unshift(xe),L(xe),!1;if(M)return!(Q=xe)}),Q}return L(d.dataTypes[0])||!R["*"]&&L("*")}function Js(a,d){var v,y,R=p.ajaxSettings.flatOptions||{};for(v in d)d[v]!==void 0&&((R[v]?a:y||(y={}))[v]=d[v]);return y&&p.extend(!0,a,y),a}function Mp(a,d,v){for(var y,R,M,L,G=a.contents,Q=a.dataTypes;Q[0]==="*";)Q.shift(),y===void 0&&(y=a.mimeType||d.getResponseHeader("Content-Type"));if(y){for(R in G)if(G[R]&&G[R].test(y)){Q.unshift(R);break}}if(Q[0]in v)M=Q[0];else{for(R in v){if(!Q[0]||a.converters[R+" "+Q[0]]){M=R;break}L||(L=R)}M=M||L}if(M)return M!==Q[0]&&Q.unshift(M),v[M]}function Np(a,d,v,y){var R,M,L,G,Q,ee={},fe=a.dataTypes.slice();if(fe[1])for(L in a.converters)ee[L.toLowerCase()]=a.converters[L];for(M=fe.shift();M;)if(a.responseFields[M]&&(v[a.responseFields[M]]=d),!Q&&y&&a.dataFilter&&(d=a.dataFilter(d,a.dataType)),Q=M,M=fe.shift(),M){if(M==="*")M=Q;else if(Q!=="*"&&Q!==M){if(L=ee[Q+" "+M]||ee["* "+M],!L){for(R in ee)if(G=R.split(" "),G[1]===M&&(L=ee[Q+" "+G[0]]||ee["* "+G[0]],L)){L===!0?L=ee[R]:ee[R]!==!0&&(M=G[0],fe.unshift(G[1]));break}}if(L!==!0)if(L&&a.throws)d=L(d);else try{d=L(d)}catch(xe){return{state:"parsererror",error:L?xe:"No conversion from "+Q+" to "+M}}}}return{state:"success",data:d}}p.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:si.href,type:"GET",isLocal:_p.test(si.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Kl,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":p.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,d){return d?Js(Js(a,p.ajaxSettings),d):Js(p.ajaxSettings,a)},ajaxPrefilter:Jl(Gl),ajaxTransport:Jl(Gs),ajax:function(a,d){typeof a=="object"&&(d=a,a=void 0),d=d||{};var v,y,R,M,L,G,Q,ee,fe,xe,ae=p.ajaxSetup({},d),Me=ae.context||ae,lt=ae.context&&(Me.nodeType||Me.jquery)?p(Me):p.event,xt=p.Deferred(),ft=p.Callbacks("once memory"),Jt=ae.statusCode||{},Ut={},Rn={},Mn="canceled",gt={readyState:0,getResponseHeader:function(St){var Pt;if(Q){if(!M)for(M={};Pt=Ep.exec(R);)M[Pt[1].toLowerCase()+" "]=(M[Pt[1].toLowerCase()+" "]||[]).concat(Pt[2]);Pt=M[St.toLowerCase()+" "]}return Pt==null?null:Pt.join(", ")},getAllResponseHeaders:function(){return Q?R:null},setRequestHeader:function(St,Pt){return Q==null&&(St=Rn[St.toLowerCase()]=Rn[St.toLowerCase()]||St,Ut[St]=Pt),this},overrideMimeType:function(St){return Q==null&&(ae.mimeType=St),this},statusCode:function(St){var Pt;if(St)if(Q)gt.always(St[gt.status]);else for(Pt in St)Jt[Pt]=[Jt[Pt],St[Pt]];return this},abort:function(St){var Pt=St||Mn;return v&&v.abort(Pt),or(0,Pt),this}};if(xt.promise(gt),ae.url=((a||ae.url||si.href)+"").replace(Rp,si.protocol+"//"),ae.type=d.method||d.type||ae.method||ae.type,ae.dataTypes=(ae.dataType||"*").toLowerCase().match(Te)||[""],ae.crossDomain==null){G=T.createElement("a");try{G.href=ae.url,G.href=G.href,ae.crossDomain=Ks.protocol+"//"+Ks.host!=G.protocol+"//"+G.host}catch{ae.crossDomain=!0}}if(ae.data&&ae.processData&&typeof ae.data!="string"&&(ae.data=p.param(ae.data,ae.traditional)),Yl(Gl,ae,d,gt),Q)return gt;ee=p.event&&ae.global,ee&&p.active++===0&&p.event.trigger("ajaxStart"),ae.type=ae.type.toUpperCase(),ae.hasContent=!Ip.test(ae.type),y=ae.url.replace(Cp,""),ae.hasContent?ae.data&&ae.processData&&(ae.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(ae.data=ae.data.replace(Tp,"+")):(xe=ae.url.slice(y.length),ae.data&&(ae.processData||typeof ae.data=="string")&&(y+=(Us.test(y)?"&":"?")+ae.data,delete ae.data),ae.cache===!1&&(y=y.replace(kp,"$1"),xe=(Us.test(y)?"&":"?")+"_="+ql.guid+++xe),ae.url=y+xe),ae.ifModified&&(p.lastModified[y]&&gt.setRequestHeader("If-Modified-Since",p.lastModified[y]),p.etag[y]&&gt.setRequestHeader("If-None-Match",p.etag[y])),(ae.data&&ae.hasContent&&ae.contentType!==!1||d.contentType)&&gt.setRequestHeader("Content-Type",ae.contentType),gt.setRequestHeader("Accept",ae.dataTypes[0]&&ae.accepts[ae.dataTypes[0]]?ae.accepts[ae.dataTypes[0]]+(ae.dataTypes[0]!=="*"?", "+Kl+"; q=0.01":""):ae.accepts["*"]);for(fe in ae.headers)gt.setRequestHeader(fe,ae.headers[fe]);if(ae.beforeSend&&(ae.beforeSend.call(Me,gt,ae)===!1||Q))return gt.abort();if(Mn="abort",ft.add(ae.complete),gt.done(ae.success),gt.fail(ae.error),v=Yl(Gs,ae,d,gt),!v)or(-1,"No Transport");else{if(gt.readyState=1,ee&&lt.trigger("ajaxSend",[gt,ae]),Q)return gt;ae.async&&ae.timeout>0&&(L=t.setTimeout(function(){gt.abort("timeout")},ae.timeout));try{Q=!1,v.send(Ut,or)}catch(St){if(Q)throw St;or(-1,St)}}function or(St,Pt,oi,Xs){var Nn,li,On,Jn,Yn,mn=Pt;Q||(Q=!0,L&&t.clearTimeout(L),v=void 0,R=Xs||"",gt.readyState=St>0?4:0,Nn=St>=200&&St<300||St===304,oi&&(Jn=Mp(ae,gt,oi)),!Nn&&p.inArray("script",ae.dataTypes)>-1&&p.inArray("json",ae.dataTypes)<0&&(ae.converters["text script"]=function(){}),Jn=Np(ae,Jn,gt,Nn),Nn?(ae.ifModified&&(Yn=gt.getResponseHeader("Last-Modified"),Yn&&(p.lastModified[y]=Yn),Yn=gt.getResponseHeader("etag"),Yn&&(p.etag[y]=Yn)),St===204||ae.type==="HEAD"?mn="nocontent":St===304?mn="notmodified":(mn=Jn.state,li=Jn.data,On=Jn.error,Nn=!On)):(On=mn,(St||!mn)&&(mn="error",St<0&&(St=0))),gt.status=St,gt.statusText=(Pt||mn)+"",Nn?xt.resolveWith(Me,[li,mn,gt]):xt.rejectWith(Me,[gt,mn,On]),gt.statusCode(Jt),Jt=void 0,ee&&lt.trigger(Nn?"ajaxSuccess":"ajaxError",[gt,ae,Nn?li:On]),ft.fireWith(Me,[gt,mn]),ee&&(lt.trigger("ajaxComplete",[gt,ae]),--p.active||p.event.trigger("ajaxStop")))}return gt},getJSON:function(a,d,v){return p.get(a,d,v,"json")},getScript:function(a,d){return p.get(a,void 0,d,"script")}}),p.each(["get","post"],function(a,d){p[d]=function(v,y,R,M){return C(y)&&(M=M||R,R=y,y=void 0),p.ajax(p.extend({url:v,type:d,dataType:M,data:y,success:R},p.isPlainObject(v)&&v))}}),p.ajaxPrefilter(function(a){var d;for(d in a.headers)d.toLowerCase()==="content-type"&&(a.contentType=a.headers[d]||"")}),p._evalUrl=function(a,d,v){return p.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(y){p.globalEval(y,d,v)}})},p.fn.extend({wrapAll:function(a){var d;return this[0]&&(C(a)&&(a=a.call(this[0])),d=p(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&d.insertBefore(this[0]),d.map(function(){for(var v=this;v.firstElementChild;)v=v.firstElementChild;return v}).append(this)),this},wrapInner:function(a){return C(a)?this.each(function(d){p(this).wrapInner(a.call(this,d))}):this.each(function(){var d=p(this),v=d.contents();v.length?v.wrapAll(a):d.append(a)})},wrap:function(a){var d=C(a);return this.each(function(v){p(this).wrapAll(d?a.call(this,v):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){p(this).replaceWith(this.childNodes)}),this}}),p.expr.pseudos.hidden=function(a){return!p.expr.pseudos.visible(a)},p.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)},p.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var Op={0:200,1223:204},ai=p.ajaxSettings.xhr();m.cors=!!ai&&"withCredentials"in ai,m.ajax=ai=!!ai,p.ajaxTransport(function(a){var d,v;if(m.cors||ai&&!a.crossDomain)return{send:function(y,R){var M,L=a.xhr();if(L.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(M in a.xhrFields)L[M]=a.xhrFields[M];a.mimeType&&L.overrideMimeType&&L.overrideMimeType(a.mimeType),!a.crossDomain&&!y["X-Requested-With"]&&(y["X-Requested-With"]="XMLHttpRequest");for(M in y)L.setRequestHeader(M,y[M]);d=function(G){return function(){d&&(d=v=L.onload=L.onerror=L.onabort=L.ontimeout=L.onreadystatechange=null,G==="abort"?L.abort():G==="error"?typeof L.status!="number"?R(0,"error"):R(L.status,L.statusText):R(Op[L.status]||L.status,L.statusText,(L.responseType||"text")!=="text"||typeof L.responseText!="string"?{binary:L.response}:{text:L.responseText},L.getAllResponseHeaders()))}},L.onload=d(),v=L.onerror=L.ontimeout=d("error"),L.onabort!==void 0?L.onabort=v:L.onreadystatechange=function(){L.readyState===4&&t.setTimeout(function(){d&&v()})},d=d("abort");try{L.send(a.hasContent&&a.data||null)}catch(G){if(d)throw G}},abort:function(){d&&d()}}}),p.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)}),p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return p.globalEval(a),a}}}),p.ajaxPrefilter("script",function(a){a.cache===void 0&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),p.ajaxTransport("script",function(a){if(a.crossDomain||a.scriptAttrs){var d,v;return{send:function(y,R){d=p("<script>").attr(a.scriptAttrs||{}).prop({charset:a.scriptCharset,src:a.url}).on("load error",v=function(M){d.remove(),v=null,M&&R(M.type==="error"?404:200,M.type)}),T.head.appendChild(d[0])},abort:function(){v&&v()}}}});var Xl=[],Ys=/(=)\?(?=&|$)|\?\?/;p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Xl.pop()||p.expando+"_"+ql.guid++;return this[a]=!0,a}}),p.ajaxPrefilter("json jsonp",function(a,d,v){var y,R,M,L=a.jsonp!==!1&&(Ys.test(a.url)?"url":typeof a.data=="string"&&(a.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Ys.test(a.data)&&"data");if(L||a.dataTypes[0]==="jsonp")return y=a.jsonpCallback=C(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,L?a[L]=a[L].replace(Ys,"$1"+y):a.jsonp!==!1&&(a.url+=(Us.test(a.url)?"&":"?")+a.jsonp+"="+y),a.converters["script json"]=function(){return M||p.error(y+" was not called"),M[0]},a.dataTypes[0]="json",R=t[y],t[y]=function(){M=arguments},v.always(function(){R===void 0?p(t).removeProp(y):t[y]=R,a[y]&&(a.jsonpCallback=d.jsonpCallback,Xl.push(y)),M&&C(R)&&R(M[0]),M=R=void 0}),"script"}),m.createHTMLDocument=function(){var a=T.implementation.createHTMLDocument("").body;return a.innerHTML="<form></form><form></form>",a.childNodes.length===2}(),p.parseHTML=function(a,d,v){if(typeof a!="string")return[];typeof d=="boolean"&&(v=d,d=!1);var y,R,M;return d||(m.createHTMLDocument?(d=T.implementation.createHTMLDocument(""),y=d.createElement("base"),y.href=T.location.href,d.head.appendChild(y)):d=T),R=me.exec(a),M=!v&&[],R?[d.createElement(R[1])]:(R=le([a],d,M),M&&M.length&&p(M).remove(),p.merge([],R.childNodes))},p.fn.load=function(a,d,v){var y,R,M,L=this,G=a.indexOf(" ");return G>-1&&(y=sr(a.slice(G)),a=a.slice(0,G)),C(d)?(v=d,d=void 0):d&&typeof d=="object"&&(R="POST"),L.length>0&&p.ajax({url:a,type:R||"GET",dataType:"html",data:d}).done(function(Q){M=arguments,L.html(y?p("<div>").append(p.parseHTML(Q)).find(y):Q)}).always(v&&function(Q,ee){L.each(function(){v.apply(this,M||[Q.responseText,ee,Q])})}),this},p.expr.pseudos.animated=function(a){return p.grep(p.timers,function(d){return a===d.elem}).length},p.offset={setOffset:function(a,d,v){var y,R,M,L,G,Q,ee,fe=p.css(a,"position"),xe=p(a),ae={};fe==="static"&&(a.style.position="relative"),G=xe.offset(),M=p.css(a,"top"),Q=p.css(a,"left"),ee=(fe==="absolute"||fe==="fixed")&&(M+Q).indexOf("auto")>-1,ee?(y=xe.position(),L=y.top,R=y.left):(L=parseFloat(M)||0,R=parseFloat(Q)||0),C(d)&&(d=d.call(a,v,p.extend({},G))),d.top!=null&&(ae.top=d.top-G.top+L),d.left!=null&&(ae.left=d.left-G.left+R),"using"in d?d.using.call(a,ae):xe.css(ae)}},p.fn.extend({offset:function(a){if(arguments.length)return a===void 0?this:this.each(function(R){p.offset.setOffset(this,a,R)});var d,v,y=this[0];if(y)return y.getClientRects().length?(d=y.getBoundingClientRect(),v=y.ownerDocument.defaultView,{top:d.top+v.pageYOffset,left:d.left+v.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var a,d,v,y=this[0],R={top:0,left:0};if(p.css(y,"position")==="fixed")d=y.getBoundingClientRect();else{for(d=this.offset(),v=y.ownerDocument,a=y.offsetParent||v.documentElement;a&&(a===v.body||a===v.documentElement)&&p.css(a,"position")==="static";)a=a.parentNode;a&&a!==y&&a.nodeType===1&&(R=p(a).offset(),R.top+=p.css(a,"borderTopWidth",!0),R.left+=p.css(a,"borderLeftWidth",!0))}return{top:d.top-R.top-p.css(y,"marginTop",!0),left:d.left-R.left-p.css(y,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&p.css(a,"position")==="static";)a=a.offsetParent;return a||kt})}}),p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,d){var v=d==="pageYOffset";p.fn[a]=function(y){return Ke(this,function(R,M,L){var G;if(k(R)?G=R:R.nodeType===9&&(G=R.defaultView),L===void 0)return G?G[d]:R[M];G?G.scrollTo(v?G.pageXOffset:L,v?L:G.pageYOffset):R[M]=L},a,y,arguments.length)}}),p.each(["top","left"],function(a,d){p.cssHooks[d]=Dl(m.pixelPosition,function(v,y){if(y)return y=ri(v,d),ir.test(y)?p(v).position()[d]+"px":y})}),p.each({Height:"height",Width:"width"},function(a,d){p.each({padding:"inner"+a,content:d,"":"outer"+a},function(v,y){p.fn[y]=function(R,M){var L=arguments.length&&(v||typeof R!="boolean"),G=v||(R===!0||M===!0?"margin":"border");return Ke(this,function(Q,ee,fe){var xe;return k(Q)?y.indexOf("outer")===0?Q["inner"+a]:Q.document.documentElement["client"+a]:Q.nodeType===9?(xe=Q.documentElement,Math.max(Q.body["scroll"+a],xe["scroll"+a],Q.body["offset"+a],xe["offset"+a],xe["client"+a])):fe===void 0?p.css(Q,ee,G):p.style(Q,ee,fe,G)},d,L?R:void 0,L)}})}),p.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,d){p.fn[d]=function(v){return this.on(d,v)}}),p.fn.extend({bind:function(a,d,v){return this.on(a,null,d,v)},unbind:function(a,d){return this.off(a,null,d)},delegate:function(a,d,v,y){return this.on(d,a,v,y)},undelegate:function(a,d,v){return arguments.length===1?this.off(a,"**"):this.off(d,a||"**",v)},hover:function(a,d){return this.on("mouseenter",a).on("mouseleave",d||a)}}),p.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,d){p.fn[d]=function(v,y){return arguments.length>0?this.on(d,null,v,y):this.trigger(d)}});var Lp=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;p.proxy=function(a,d){var v,y,R;if(typeof d=="string"&&(v=a[d],d=a,a=v),!!C(a))return y=s.call(arguments,2),R=function(){return a.apply(d||this,y.concat(s.call(arguments)))},R.guid=a.guid=a.guid||p.guid++,R},p.holdReady=function(a){a?p.readyWait++:p.ready(!0)},p.isArray=Array.isArray,p.parseJSON=JSON.parse,p.nodeName=_,p.isFunction=C,p.isWindow=k,p.camelCase=je,p.type=I,p.now=Date.now,p.isNumeric=function(a){var d=p.type(a);return(d==="number"||d==="string")&&!isNaN(a-parseFloat(a))},p.trim=function(a){return a==null?"":(a+"").replace(Lp,"$1")};var Dp=t.jQuery,Ap=t.$;return p.noConflict=function(a){return t.$===p&&(t.$=Ap),a&&t.jQuery===p&&(t.jQuery=Dp),p},typeof n>"u"&&(t.jQuery=t.$=p),p})})(Cf);var tS=Cf.exports;const kf=Ni(tS),Ef=window;Ef.$=kf;Ef.jQuery=kf;(function(e){e.color={},e.color.make=function(n,r,i,s){var o={};return o.r=n||0,o.g=r||0,o.b=i||0,o.a=s??1,o.add=function(l,c){for(var h=0;h<l.length;++h)o[l.charAt(h)]+=c;return o.normalize()},o.scale=function(l,c){for(var h=0;h<l.length;++h)o[l.charAt(h)]*=c;return o.normalize()},o.toString=function(){return o.a>=1?"rgb("+[o.r,o.g,o.b].join(",")+")":"rgba("+[o.r,o.g,o.b,o.a].join(",")+")"},o.normalize=function(){function l(c,h,u){return h<c?c:h>u?u:h}return o.r=l(0,parseInt(o.r),255),o.g=l(0,parseInt(o.g),255),o.b=l(0,parseInt(o.b),255),o.a=l(0,o.a,1),o},o.clone=function(){return e.color.make(o.r,o.b,o.g,o.a)},o.normalize()},e.color.extract=function(n,r){var i;do{if(i=n.css(r).toLowerCase(),i!=""&&i!="transparent")break;n=n.parent()}while(n.length&&!e.nodeName(n.get(0),"body"));return i=="rgba(0, 0, 0, 0)"&&(i="transparent"),e.color.parse(i)},e.color.parse=function(n){var r,i=e.color.make;if(r=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(n))return i(parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10));if(r=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return i(parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10),parseFloat(r[4]));if(r=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(n))return i(parseFloat(r[1])*2.55,parseFloat(r[2])*2.55,parseFloat(r[3])*2.55);if(r=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return i(parseFloat(r[1])*2.55,parseFloat(r[2])*2.55,parseFloat(r[3])*2.55,parseFloat(r[4]));if(r=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(n))return i(parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16));if(r=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(n))return i(parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16),parseInt(r[3]+r[3],16));var s=e.trim(n).toLowerCase();return s=="transparent"?i(255,255,255,0):(r=t[s]||[0,0,0],i(r[0],r[1],r[2]))};var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);(function(e){var t=Object.prototype.hasOwnProperty;e.fn.detach||(e.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})});function n(s,o){var l=o.children("."+s)[0];if(l==null&&(l=document.createElement("canvas"),l.className=s,e(l).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(o),!l.getContext))if(window.G_vmlCanvasManager)l=window.G_vmlCanvasManager.initElement(l);else throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");this.element=l;var c=this.context=l.getContext("2d"),h=window.devicePixelRatio||1,u=c.webkitBackingStorePixelRatio||c.mozBackingStorePixelRatio||c.msBackingStorePixelRatio||c.oBackingStorePixelRatio||c.backingStorePixelRatio||1;this.pixelRatio=h/u,this.resize(o.width(),o.height()),this.textContainer=null,this.text={},this._textCache={}}n.prototype.resize=function(s,o){if(s<=0||o<=0)throw new Error("Invalid dimensions for plot, width = "+s+", height = "+o);var l=this.element,c=this.context,h=this.pixelRatio;this.width!=s&&(l.width=s*h,l.style.width=s+"px",this.width=s),this.height!=o&&(l.height=o*h,l.style.height=o+"px",this.height=o),c.restore(),c.save(),c.scale(h,h)},n.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},n.prototype.render=function(){var s=this._textCache;for(var o in s)if(t.call(s,o)){var l=this.getTextLayer(o),c=s[o];l.hide();for(var h in c)if(t.call(c,h)){var u=c[h];for(var g in u)if(t.call(u,g)){for(var S=u[g].positions,w=0,m;m=S[w];w++)m.active?m.rendered||(l.append(m.element),m.rendered=!0):(S.splice(w--,1),m.rendered&&m.element.detach());S.length==0&&delete u[g]}}l.show()}},n.prototype.getTextLayer=function(s){var o=this.text[s];return o==null&&(this.textContainer==null&&(this.textContainer=e("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),o=this.text[s]=e("<div></div>").addClass(s).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),o},n.prototype.getTextInfo=function(s,o,l,c,h){var u,g,S,w;if(o=""+o,typeof l=="object"?u=l.style+" "+l.variant+" "+l.weight+" "+l.size+"px/"+l.lineHeight+"px "+l.family:u=l,g=this._textCache[s],g==null&&(g=this._textCache[s]={}),S=g[u],S==null&&(S=g[u]={}),w=S[o],w==null){var m=e("<div></div>").html(o).css({position:"absolute","max-width":h,top:-9999}).appendTo(this.getTextLayer(s));typeof l=="object"?m.css({font:u,color:l.color}):typeof l=="string"&&m.addClass(l),w=S[o]={width:m.outerWidth(!0),height:m.outerHeight(!0),element:m,positions:[]},m.detach()}return w},n.prototype.addText=function(s,o,l,c,h,u,g,S,w){var m=this.getTextInfo(s,c,h,u,g),C=m.positions;S=="center"?o-=m.width/2:S=="right"&&(o-=m.width),w=="middle"?l-=m.height/2:w=="bottom"&&(l-=m.height);for(var k=0,T;T=C[k];k++)if(T.x==o&&T.y==l){T.active=!0;return}T={active:!0,rendered:!1,element:C.length?m.element.clone():m.element,x:o,y:l},C.push(T),T.element.css({top:Math.round(l),left:Math.round(o),"text-align":S})},n.prototype.removeText=function(s,o,l,c,h,u){if(c==null){var g=this._textCache[s];if(g!=null){for(var S in g)if(t.call(g,S)){var w=g[S];for(var m in w)if(t.call(w,m))for(var C=w[m].positions,k=0,T;T=C[k];k++)T.active=!1}}}else for(var C=this.getTextInfo(s,c,h,u).positions,k=0,T;T=C[k];k++)T.x==o&&T.y==l&&(T.active=!1)};function r(s,o,l,c){var h=[],u={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:16.666666666666668},hooks:{}},g=null,S=null,w=null,m=null,C=null,k=[],T=[],x={left:0,right:0,top:0,bottom:0},N=0,I=0,O={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},D=this;D.setData=A,D.setupGrid=Ee,D.draw=et,D.getPlaceholder=function(){return s},D.getCanvas=function(){return g.element},D.getPlotOffset=function(){return x},D.width=function(){return N},D.height=function(){return I},D.offset=function(){var P=w.offset();return P.left+=x.left,P.top+=x.top,P},D.getData=function(){return h},D.getAxes=function(){var P={};return e.each(k.concat(T),function(U,j){j&&(P[j.direction+(j.n!=1?j.n:"")+"axis"]=j)}),P},D.getXAxes=function(){return k},D.getYAxes=function(){return T},D.c2p=K,D.p2c=ie,D.getOptions=function(){return u},D.highlight=At,D.unhighlight=kt,D.triggerRedrawOverlay=Mt,D.pointOffset=function(P){return{left:parseInt(k[z(P,"x")-1].p2c(+P.x)+x.left,10),top:parseInt(T[z(P,"y")-1].p2c(+P.y)+x.top,10)}},D.shutdown=$e,D.destroy=function(){$e(),s.removeData("plot").empty(),h=[],u=null,g=null,S=null,w=null,m=null,C=null,k=[],T=[],O=null,at=[],D=null},D.resize=function(){var P=s.width(),U=s.height();g.resize(P,U),S.resize(P,U)},D.hooks=O,E(),_(l),Y(),A(o),Ee(),et(),Fe();function p(P,U){U=[D].concat(U);for(var j=0;j<P.length;++j)P[j].apply(this,U)}function E(){for(var P={Canvas:n},U=0;U<c.length;++U){var j=c[U];j.init(D,P),j.options&&e.extend(!0,u,j.options)}}function _(P){e.extend(!0,u,P),P&&P.colors&&(u.colors=P.colors),u.xaxis.color==null&&(u.xaxis.color=e.color.parse(u.grid.color).scale("a",.22).toString()),u.yaxis.color==null&&(u.yaxis.color=e.color.parse(u.grid.color).scale("a",.22).toString()),u.xaxis.tickColor==null&&(u.xaxis.tickColor=u.grid.tickColor||u.xaxis.color),u.yaxis.tickColor==null&&(u.yaxis.tickColor=u.grid.tickColor||u.yaxis.color),u.grid.borderColor==null&&(u.grid.borderColor=u.grid.color),u.grid.tickColor==null&&(u.grid.tickColor=e.color.parse(u.grid.color).scale("a",.22).toString());var U,j,J,B=s.css("font-size"),Z=B?+B.replace("px",""):13,W={style:s.css("font-style"),size:Math.round(.8*Z),variant:s.css("font-variant"),weight:s.css("font-weight"),family:s.css("font-family")};for(J=u.xaxes.length||1,U=0;U<J;++U)j=u.xaxes[U],j&&!j.tickColor&&(j.tickColor=j.color),j=e.extend(!0,{},u.xaxis,j),u.xaxes[U]=j,j.font&&(j.font=e.extend({},W,j.font),j.font.color||(j.font.color=j.color),j.font.lineHeight||(j.font.lineHeight=Math.round(j.font.size*1.15)));for(J=u.yaxes.length||1,U=0;U<J;++U)j=u.yaxes[U],j&&!j.tickColor&&(j.tickColor=j.color),j=e.extend(!0,{},u.yaxis,j),u.yaxes[U]=j,j.font&&(j.font=e.extend({},W,j.font),j.font.color||(j.font.color=j.color),j.font.lineHeight||(j.font.lineHeight=Math.round(j.font.size*1.15)));for(u.xaxis.noTicks&&u.xaxis.ticks==null&&(u.xaxis.ticks=u.xaxis.noTicks),u.yaxis.noTicks&&u.yaxis.ticks==null&&(u.yaxis.ticks=u.yaxis.noTicks),u.x2axis&&(u.xaxes[1]=e.extend(!0,{},u.xaxis,u.x2axis),u.xaxes[1].position="top",u.x2axis.min==null&&(u.xaxes[1].min=null),u.x2axis.max==null&&(u.xaxes[1].max=null)),u.y2axis&&(u.yaxes[1]=e.extend(!0,{},u.yaxis,u.y2axis),u.yaxes[1].position="right",u.y2axis.min==null&&(u.yaxes[1].min=null),u.y2axis.max==null&&(u.yaxes[1].max=null)),u.grid.coloredAreas&&(u.grid.markings=u.grid.coloredAreas),u.grid.coloredAreasColor&&(u.grid.markingsColor=u.grid.coloredAreasColor),u.lines&&e.extend(!0,u.series.lines,u.lines),u.points&&e.extend(!0,u.series.points,u.points),u.bars&&e.extend(!0,u.series.bars,u.bars),u.shadowSize!=null&&(u.series.shadowSize=u.shadowSize),u.highlightColor!=null&&(u.series.highlightColor=u.highlightColor),U=0;U<u.xaxes.length;++U)ue(k,U+1).options=u.xaxes[U];for(U=0;U<u.yaxes.length;++U)ue(T,U+1).options=u.yaxes[U];for(var q in O)u.hooks[q]&&u.hooks[q].length&&(O[q]=O[q].concat(u.hooks[q]));p(O.processOptions,[u])}function A(P){h=$(P),te(),he()}function $(P){for(var U=[],j=0;j<P.length;++j){var J=e.extend(!0,{},u.series);P[j].data!=null?(J.data=P[j].data,delete P[j].data,e.extend(!0,J,P[j]),P[j].data=J.data):J.data=P[j],U.push(J)}return U}function z(P,U){var j=P[U+"axis"];return typeof j=="object"&&(j=j.n),typeof j!="number"&&(j=1),j}function V(){return e.grep(k.concat(T),function(P){return P})}function K(P){var U={},j,J;for(j=0;j<k.length;++j)J=k[j],J&&J.used&&(U["x"+J.n]=J.c2p(P.left));for(j=0;j<T.length;++j)J=T[j],J&&J.used&&(U["y"+J.n]=J.c2p(P.top));return U.x1!==void 0&&(U.x=U.x1),U.y1!==void 0&&(U.y=U.y1),U}function ie(P){var U={},j,J,B;for(j=0;j<k.length;++j)if(J=k[j],J&&J.used&&(B="x"+J.n,P[B]==null&&J.n==1&&(B="x"),P[B]!=null)){U.left=J.p2c(P[B]);break}for(j=0;j<T.length;++j)if(J=T[j],J&&J.used&&(B="y"+J.n,P[B]==null&&J.n==1&&(B="y"),P[B]!=null)){U.top=J.p2c(P[B]);break}return U}function ue(P,U){return P[U-1]||(P[U-1]={n:U,direction:P==k?"x":"y",options:e.extend(!0,{},P==k?u.xaxis:u.yaxis)}),P[U-1]}function te(){var P=h.length,U=-1,j;for(j=0;j<h.length;++j){var J=h[j].color;J!=null&&(P--,typeof J=="number"&&J>U&&(U=J))}P<=U&&(P=U+1);var B,Z=[],W=u.colors,q=W.length,ne=0;for(j=0;j<P;j++)B=e.color.parse(W[j%q]||"#666"),j%q==0&&j&&(ne>=0?ne<.5?ne=-ne-.2:ne=0:ne=-ne),Z[j]=B.scale("rgb",1+ne);var de=0,le;for(j=0;j<h.length;++j){if(le=h[j],le.color==null?(le.color=Z[de].toString(),++de):typeof le.color=="number"&&(le.color=Z[le.color].toString()),le.lines.show==null){var ge,ze=!0;for(ge in le)if(le[ge]&&le[ge].show){ze=!1;break}ze&&(le.lines.show=!0)}le.lines.zero==null&&(le.lines.zero=!!le.lines.fill),le.xaxis=ue(k,z(le,"x")),le.yaxis=ue(T,z(le,"y"))}}function he(){var P=Number.POSITIVE_INFINITY,U=Number.NEGATIVE_INFINITY,j=Number.MAX_VALUE,J,B,Z,W,q,ne,de,le,ge,ze,Se,Le;function tt(Qt,rn,ir){rn<Qt.datamin&&rn!=-j&&(Qt.datamin=rn),ir>Qt.datamax&&ir!=j&&(Qt.datamax=ir)}for(e.each(V(),function(Qt,rn){rn.datamin=P,rn.datamax=U,rn.used=!1}),J=0;J<h.length;++J)q=h[J],q.datapoints={points:[]},p(O.processRawData,[q,q.data,q.datapoints]);for(J=0;J<h.length;++J){if(q=h[J],Se=q.data,Le=q.datapoints.format,!Le){if(Le=[],Le.push({x:!0,number:!0,required:!0}),Le.push({y:!0,number:!0,required:!0}),q.bars.show||q.lines.show&&q.lines.fill){var Ge=!!(q.bars.show&&q.bars.zero||q.lines.show&&q.lines.zero);Le.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:Ge}),q.bars.horizontal&&(delete Le[Le.length-1].y,Le[Le.length-1].x=!0)}q.datapoints.format=Le}if(q.datapoints.pointsize==null){q.datapoints.pointsize=Le.length,de=q.datapoints.pointsize,ne=q.datapoints.points;var Ae=q.lines.show&&q.lines.steps;for(q.xaxis.used=q.yaxis.used=!0,B=Z=0;B<Se.length;++B,Z+=de){ze=Se[B];var we=ze==null;if(!we)for(W=0;W<de;++W)le=ze[W],ge=Le[W],ge&&(ge.number&&le!=null&&(le=+le,isNaN(le)?le=null:le==1/0?le=j:le==-1/0&&(le=-j)),le==null&&(ge.required&&(we=!0),ge.defaultValue!=null&&(le=ge.defaultValue))),ne[Z+W]=le;if(we)for(W=0;W<de;++W)le=ne[Z+W],le!=null&&(ge=Le[W],ge.autoscale!==!1&&(ge.x&&tt(q.xaxis,le,le),ge.y&&tt(q.yaxis,le,le))),ne[Z+W]=null;else if(Ae&&Z>0&&ne[Z-de]!=null&&ne[Z-de]!=ne[Z]&&ne[Z-de+1]!=ne[Z+1]){for(W=0;W<de;++W)ne[Z+de+W]=ne[Z+W];ne[Z+1]=ne[Z-de+1],Z+=de}}}}for(J=0;J<h.length;++J)q=h[J],p(O.processDatapoints,[q,q.datapoints]);for(J=0;J<h.length;++J){q=h[J],ne=q.datapoints.points,de=q.datapoints.pointsize,Le=q.datapoints.format;var Ne=P,He=P,bt=U,Kt=U;for(B=0;B<ne.length;B+=de)if(ne[B]!=null)for(W=0;W<de;++W)le=ne[B+W],ge=Le[W],!(!ge||ge.autoscale===!1||le==j||le==-j)&&(ge.x&&(le<Ne&&(Ne=le),le>bt&&(bt=le)),ge.y&&(le<He&&(He=le),le>Kt&&(Kt=le)));if(q.bars.show){var Xt;switch(q.bars.align){case"left":Xt=0;break;case"right":Xt=-q.bars.barWidth;break;default:Xt=-q.bars.barWidth/2}q.bars.horizontal?(He+=Xt,Kt+=Xt+q.bars.barWidth):(Ne+=Xt,bt+=Xt+q.bars.barWidth)}tt(q.xaxis,Ne,bt),tt(q.yaxis,He,Kt)}e.each(V(),function(Qt,rn){rn.datamin==P&&(rn.datamin=null),rn.datamax==U&&(rn.datamax=null)})}function Y(){s.css("padding",0).children().filter(function(){return!e(this).hasClass("flot-overlay")&&!e(this).hasClass("flot-base")}).remove(),s.css("position")=="static"&&s.css("position","relative"),g=new n("flot-base",s),S=new n("flot-overlay",s),m=g.context,C=S.context,w=e(S.element).unbind();var P=s.data("plot");P&&(P.shutdown(),S.clear()),s.data("plot",D)}function Fe(){u.grid.hoverable&&(w.mousemove(Dt),w.bind("mouseleave",qt)),u.grid.clickable&&w.click(Gt),p(O.bindEvents,[w])}function $e(){Ie&&clearTimeout(Ie),w.unbind("mousemove",Dt),w.unbind("mouseleave",qt),w.unbind("click",Gt),p(O.shutdown,[w])}function me(P){function U(W){return W}var j,J,B=P.options.transform||U,Z=P.options.inverseTransform;P.direction=="x"?(j=P.scale=N/Math.abs(B(P.max)-B(P.min)),J=Math.min(B(P.max),B(P.min))):(j=P.scale=I/Math.abs(B(P.max)-B(P.min)),j=-j,J=Math.max(B(P.max),B(P.min))),B==U?P.p2c=function(W){return(W-J)*j}:P.p2c=function(W){return(B(W)-J)*j},Z?P.c2p=function(W){return Z(J+W/j)}:P.c2p=function(W){return J+W/j}}function ke(P){for(var U=P.options,j=P.ticks||[],J=U.labelWidth||0,B=U.labelHeight||0,Z=J||(P.direction=="x"?Math.floor(g.width/(j.length||1)):null),W=P.direction+"Axis "+P.direction+P.n+"Axis",q="flot-"+P.direction+"-axis flot-"+P.direction+P.n+"-axis "+W,ne=U.font||"flot-tick-label tickLabel",de=0;de<j.length;++de){var le=j[de];if(le.label){var ge=g.getTextInfo(q,le.label,ne,null,Z);J=Math.max(J,ge.width),B=Math.max(B,ge.height)}}P.labelWidth=U.labelWidth||J,P.labelHeight=U.labelHeight||B}function Oe(P){var U=P.labelWidth,j=P.labelHeight,J=P.options.position,B=P.direction==="x",Z=P.options.tickLength,W=u.grid.axisMargin,q=u.grid.labelMargin,ne=!0,de=!0,le=!0,ge=!1;e.each(B?k:T,function(ze,Se){Se&&(Se.show||Se.reserveSpace)&&(Se===P?ge=!0:Se.options.position===J&&(ge?de=!1:ne=!1),ge||(le=!1))}),de&&(W=0),Z==null&&(Z=le?"full":5),isNaN(+Z)||(q+=+Z),B?(j+=q,J=="bottom"?(x.bottom+=j+W,P.box={top:g.height-x.bottom,height:j}):(P.box={top:x.top+W,height:j},x.top+=j+W)):(U+=q,J=="left"?(P.box={left:x.left+W,width:U},x.left+=U+W):(x.right+=U+W,P.box={left:g.width-x.right,width:U})),P.position=J,P.tickLength=Z,P.box.padding=q,P.innermost=ne}function re(P){P.direction=="x"?(P.box.left=x.left-P.labelWidth/2,P.box.width=g.width-x.left-x.right+P.labelWidth):(P.box.top=x.top-P.labelHeight/2,P.box.height=g.height-x.bottom-x.top+P.labelHeight)}function Ce(){var P=u.grid.minBorderMargin,U;if(P==null)for(P=0,U=0;U<h.length;++U)P=Math.max(P,2*(h[U].points.radius+h[U].points.lineWidth/2));var j={left:P,right:P,top:P,bottom:P};e.each(V(),function(J,B){B.reserveSpace&&B.ticks&&B.ticks.length&&(B.direction==="x"?(j.left=Math.max(j.left,B.labelWidth/2),j.right=Math.max(j.right,B.labelWidth/2)):(j.bottom=Math.max(j.bottom,B.labelHeight/2),j.top=Math.max(j.top,B.labelHeight/2)))}),x.left=Math.ceil(Math.max(j.left,x.left)),x.right=Math.ceil(Math.max(j.right,x.right)),x.top=Math.ceil(Math.max(j.top,x.top)),x.bottom=Math.ceil(Math.max(j.bottom,x.bottom))}function Ee(){var P,U=V(),j=u.grid.show;for(var J in x){var B=u.grid.margin||0;x[J]=typeof B=="number"?B:B[J]||0}p(O.processOffset,[x]);for(var J in x)typeof u.grid.borderWidth=="object"?x[J]+=j?u.grid.borderWidth[J]:0:x[J]+=j?u.grid.borderWidth:0;if(e.each(U,function(W,q){var ne=q.options;q.show=ne.show==null?q.used:ne.show,q.reserveSpace=ne.reserveSpace==null?q.show:ne.reserveSpace,be(q)}),j){var Z=e.grep(U,function(W){return W.show||W.reserveSpace});for(e.each(Z,function(W,q){pe(q),Te(q),Je(q,q.ticks),ke(q)}),P=Z.length-1;P>=0;--P)Oe(Z[P]);Ce(),e.each(Z,function(W,q){re(q)})}N=g.width-x.left-x.right,I=g.height-x.bottom-x.top,e.each(U,function(W,q){me(q)}),j&&it(),Qe()}function be(P){var U=P.options,j=+(U.min!=null?U.min:P.datamin),J=+(U.max!=null?U.max:P.datamax),B=J-j;if(B==0){var Z=J==0?1:.01;U.min==null&&(j-=Z),(U.max==null||U.min!=null)&&(J+=Z)}else{var W=U.autoscaleMargin;W!=null&&(U.min==null&&(j-=B*W,j<0&&P.datamin!=null&&P.datamin>=0&&(j=0)),U.max==null&&(J+=B*W,J>0&&P.datamax!=null&&P.datamax<=0&&(J=0)))}P.min=j,P.max=J}function pe(P){var U=P.options,j;typeof U.ticks=="number"&&U.ticks>0?j=U.ticks:j=.3*Math.sqrt(P.direction=="x"?g.width:g.height);var J=(P.max-P.min)/j,B=-Math.floor(Math.log(J)/Math.LN10),Z=U.tickDecimals;Z!=null&&B>Z&&(B=Z);var W=Math.pow(10,-B),q=J/W,ne;if(q<1.5?ne=1:q<3?(ne=2,q>2.25&&(Z==null||B+1<=Z)&&(ne=2.5,++B)):q<7.5?ne=5:ne=10,ne*=W,U.minTickSize!=null&&ne<U.minTickSize&&(ne=U.minTickSize),P.delta=J,P.tickDecimals=Math.max(0,Z??B),P.tickSize=U.tickSize||ne,U.mode=="time"&&!P.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(P.tickGenerator||(P.tickGenerator=function(Se){var Le=[],tt=i(Se.min,Se.tickSize),Ge=0,Ae=Number.NaN,we;do we=Ae,Ae=tt+Ge*Se.tickSize,Le.push(Ae),++Ge;while(Ae<Se.max&&Ae!=we);return Le},P.tickFormatter=function(Se,Le){var tt=Le.tickDecimals?Math.pow(10,Le.tickDecimals):1,Ge=""+Math.round(Se*tt)/tt;if(Le.tickDecimals!=null){var Ae=Ge.indexOf("."),we=Ae==-1?0:Ge.length-Ae-1;if(we<Le.tickDecimals)return(we?Ge:Ge+".")+(""+tt).substr(1,Le.tickDecimals-we)}return Ge}),e.isFunction(U.tickFormatter)&&(P.tickFormatter=function(Se,Le){return""+U.tickFormatter(Se,Le)}),U.alignTicksWithAxis!=null){var de=(P.direction=="x"?k:T)[U.alignTicksWithAxis-1];if(de&&de.used&&de!=P){var le=P.tickGenerator(P);if(le.length>0&&(U.min==null&&(P.min=Math.min(P.min,le[0])),U.max==null&&le.length>1&&(P.max=Math.max(P.max,le[le.length-1]))),P.tickGenerator=function(Se){var Le=[],tt,Ge;for(Ge=0;Ge<de.ticks.length;++Ge)tt=(de.ticks[Ge].v-de.min)/(de.max-de.min),tt=Se.min+tt*(Se.max-Se.min),Le.push(tt);return Le},!P.mode&&U.tickDecimals==null){var ge=Math.max(0,-Math.floor(Math.log(P.delta)/Math.LN10)+1),ze=P.tickGenerator(P);ze.length>1&&/\..*0$/.test((ze[1]-ze[0]).toFixed(ge))||(P.tickDecimals=ge)}}}}function Te(P){var U=P.options.ticks,j=[];U==null||typeof U=="number"&&U>0?j=P.tickGenerator(P):U&&(e.isFunction(U)?j=U(P):j=U);var J,B;for(P.ticks=[],J=0;J<j.length;++J){var Z=null,W=j[J];typeof W=="object"?(B=+W[0],W.length>1&&(Z=W[1])):B=+W,Z==null&&(Z=P.tickFormatter(B,P)),isNaN(B)||P.ticks.push({v:B,label:Z})}}function Je(P,U){P.options.autoscaleMargin&&U.length>0&&(P.options.min==null&&(P.min=Math.min(P.min,U[0].v)),P.options.max==null&&U.length>1&&(P.max=Math.max(P.max,U[U.length-1].v)))}function et(){g.clear(),p(O.drawBackground,[m]);var P=u.grid;P.show&&P.backgroundColor&&Ye(),P.show&&!P.aboveData&&Xe();for(var U=0;U<h.length;++U)p(O.drawSeries,[m,h[U]]),rt(h[U]);p(O.draw,[m]),P.show&&P.aboveData&&Xe(),g.render(),Mt()}function De(P,U){for(var j,J,B,Z,W=V(),q=0;q<W.length;++q)if(j=W[q],j.direction==U&&(Z=U+j.n+"axis",!P[Z]&&j.n==1&&(Z=U+"axis"),P[Z])){J=P[Z].from,B=P[Z].to;break}if(P[Z]||(j=U=="x"?k[0]:T[0],J=P[U+"1"],B=P[U+"2"]),J!=null&&B!=null&&J>B){var ne=J;J=B,B=ne}return{from:J,to:B,axis:j}}function Ye(){m.save(),m.translate(x.left,x.top),m.fillStyle=gn(u.grid.backgroundColor,I,0,"rgba(255, 255, 255, 0)"),m.fillRect(0,0,N,I),m.restore()}function Xe(){var P,U,j,J;m.save(),m.translate(x.left,x.top);var B=u.grid.markings;if(B)for(e.isFunction(B)&&(U=D.getAxes(),U.xmin=U.xaxis.min,U.xmax=U.xaxis.max,U.ymin=U.yaxis.min,U.ymax=U.yaxis.max,B=B(U)),P=0;P<B.length;++P){var Z=B[P],W=De(Z,"x"),q=De(Z,"y");if(W.from==null&&(W.from=W.axis.min),W.to==null&&(W.to=W.axis.max),q.from==null&&(q.from=q.axis.min),q.to==null&&(q.to=q.axis.max),!(W.to<W.axis.min||W.from>W.axis.max||q.to<q.axis.min||q.from>q.axis.max)){W.from=Math.max(W.from,W.axis.min),W.to=Math.min(W.to,W.axis.max),q.from=Math.max(q.from,q.axis.min),q.to=Math.min(q.to,q.axis.max);var ne=W.from===W.to,de=q.from===q.to;if(!(ne&&de))if(W.from=Math.floor(W.axis.p2c(W.from)),W.to=Math.floor(W.axis.p2c(W.to)),q.from=Math.floor(q.axis.p2c(q.from)),q.to=Math.floor(q.axis.p2c(q.to)),ne||de){var le=Z.lineWidth||u.grid.markingsLineWidth,ge=le%2?.5:0;m.beginPath(),m.strokeStyle=Z.color||u.grid.markingsColor,m.lineWidth=le,ne?(m.moveTo(W.to+ge,q.from),m.lineTo(W.to+ge,q.to)):(m.moveTo(W.from,q.to+ge),m.lineTo(W.to,q.to+ge)),m.stroke()}else m.fillStyle=Z.color||u.grid.markingsColor,m.fillRect(W.from,q.to,W.to-W.from,q.from-q.to)}}U=V(),j=u.grid.borderWidth;for(var ze=0;ze<U.length;++ze){var Se=U[ze],Le=Se.box,tt=Se.tickLength,Ge,Ae,we,Ne;if(!(!Se.show||Se.ticks.length==0)){for(m.lineWidth=1,Se.direction=="x"?(Ge=0,tt=="full"?Ae=Se.position=="top"?0:I:Ae=Le.top-x.top+(Se.position=="top"?Le.height:0)):(Ae=0,tt=="full"?Ge=Se.position=="left"?0:N:Ge=Le.left-x.left+(Se.position=="left"?Le.width:0)),Se.innermost||(m.strokeStyle=Se.options.color,m.beginPath(),we=Ne=0,Se.direction=="x"?we=N+1:Ne=I+1,m.lineWidth==1&&(Se.direction=="x"?Ae=Math.floor(Ae)+.5:Ge=Math.floor(Ge)+.5),m.moveTo(Ge,Ae),m.lineTo(Ge+we,Ae+Ne),m.stroke()),m.strokeStyle=Se.options.tickColor,m.beginPath(),P=0;P<Se.ticks.length;++P){var He=Se.ticks[P].v;we=Ne=0,!(isNaN(He)||He<Se.min||He>Se.max||tt=="full"&&(typeof j=="object"&&j[Se.position]>0||j>0)&&(He==Se.min||He==Se.max))&&(Se.direction=="x"?(Ge=Se.p2c(He),Ne=tt=="full"?-I:tt,Se.position=="top"&&(Ne=-Ne)):(Ae=Se.p2c(He),we=tt=="full"?-N:tt,Se.position=="left"&&(we=-we)),m.lineWidth==1&&(Se.direction=="x"?Ge=Math.floor(Ge)+.5:Ae=Math.floor(Ae)+.5),m.moveTo(Ge,Ae),m.lineTo(Ge+we,Ae+Ne))}m.stroke()}}j&&(J=u.grid.borderColor,typeof j=="object"||typeof J=="object"?(typeof j!="object"&&(j={top:j,right:j,bottom:j,left:j}),typeof J!="object"&&(J={top:J,right:J,bottom:J,left:J}),j.top>0&&(m.strokeStyle=J.top,m.lineWidth=j.top,m.beginPath(),m.moveTo(0-j.left,0-j.top/2),m.lineTo(N,0-j.top/2),m.stroke()),j.right>0&&(m.strokeStyle=J.right,m.lineWidth=j.right,m.beginPath(),m.moveTo(N+j.right/2,0-j.top),m.lineTo(N+j.right/2,I),m.stroke()),j.bottom>0&&(m.strokeStyle=J.bottom,m.lineWidth=j.bottom,m.beginPath(),m.moveTo(N+j.right,I+j.bottom/2),m.lineTo(0,I+j.bottom/2),m.stroke()),j.left>0&&(m.strokeStyle=J.left,m.lineWidth=j.left,m.beginPath(),m.moveTo(0-j.left/2,I+j.bottom),m.lineTo(0-j.left/2,0),m.stroke())):(m.lineWidth=j,m.strokeStyle=u.grid.borderColor,m.strokeRect(-j/2,-j/2,N+j,I+j))),m.restore()}function it(){e.each(V(),function(P,U){var j=U.box,J=U.direction+"Axis "+U.direction+U.n+"Axis",B="flot-"+U.direction+"-axis flot-"+U.direction+U.n+"-axis "+J,Z=U.options.font||"flot-tick-label tickLabel",W,q,ne,de,le;if(g.removeText(B),!(!U.show||U.ticks.length==0))for(var ge=0;ge<U.ticks.length;++ge)W=U.ticks[ge],!(!W.label||W.v<U.min||W.v>U.max)&&(U.direction=="x"?(de="center",q=x.left+U.p2c(W.v),U.position=="bottom"?ne=j.top+j.padding:(ne=j.top+j.height-j.padding,le="bottom")):(le="middle",ne=x.top+U.p2c(W.v),U.position=="left"?(q=j.left+j.width-j.padding,de="right"):q=j.left+j.padding),g.addText(B,q,ne,W.label,Z,null,null,de,le))})}function rt(P){P.lines.show&&Ke(P),P.bars.show&&_e(P),P.points.show&&Et(P)}function Ke(P){function U(q,ne,de,le,ge){var ze=q.points,Se=q.pointsize,Le=null,tt=null;m.beginPath();for(var Ge=Se;Ge<ze.length;Ge+=Se){var Ae=ze[Ge-Se],we=ze[Ge-Se+1],Ne=ze[Ge],He=ze[Ge+1];if(!(Ae==null||Ne==null)){if(we<=He&&we<ge.min){if(He<ge.min)continue;Ae=(ge.min-we)/(He-we)*(Ne-Ae)+Ae,we=ge.min}else if(He<=we&&He<ge.min){if(we<ge.min)continue;Ne=(ge.min-we)/(He-we)*(Ne-Ae)+Ae,He=ge.min}if(we>=He&&we>ge.max){if(He>ge.max)continue;Ae=(ge.max-we)/(He-we)*(Ne-Ae)+Ae,we=ge.max}else if(He>=we&&He>ge.max){if(we>ge.max)continue;Ne=(ge.max-we)/(He-we)*(Ne-Ae)+Ae,He=ge.max}if(Ae<=Ne&&Ae<le.min){if(Ne<le.min)continue;we=(le.min-Ae)/(Ne-Ae)*(He-we)+we,Ae=le.min}else if(Ne<=Ae&&Ne<le.min){if(Ae<le.min)continue;He=(le.min-Ae)/(Ne-Ae)*(He-we)+we,Ne=le.min}if(Ae>=Ne&&Ae>le.max){if(Ne>le.max)continue;we=(le.max-Ae)/(Ne-Ae)*(He-we)+we,Ae=le.max}else if(Ne>=Ae&&Ne>le.max){if(Ae>le.max)continue;He=(le.max-Ae)/(Ne-Ae)*(He-we)+we,Ne=le.max}(Ae!=Le||we!=tt)&&m.moveTo(le.p2c(Ae)+ne,ge.p2c(we)+de),Le=Ne,tt=He,m.lineTo(le.p2c(Ne)+ne,ge.p2c(He)+de)}}m.stroke()}function j(q,ne,de){for(var le=q.points,ge=q.pointsize,ze=Math.min(Math.max(0,de.min),de.max),Se=0,Le=!1,tt=1,Ge=0,Ae=0;!(ge>0&&Se>le.length+ge);){Se+=ge;var we=le[Se-ge],Ne=le[Se-ge+tt],He=le[Se],bt=le[Se+tt];if(Le){if(ge>0&&we!=null&&He==null){Ae=Se,ge=-ge,tt=2;continue}if(ge<0&&Se==Ge+ge){m.fill(),Le=!1,ge=-ge,tt=1,Se=Ge=Ae+ge;continue}}if(!(we==null||He==null)){if(we<=He&&we<ne.min){if(He<ne.min)continue;Ne=(ne.min-we)/(He-we)*(bt-Ne)+Ne,we=ne.min}else if(He<=we&&He<ne.min){if(we<ne.min)continue;bt=(ne.min-we)/(He-we)*(bt-Ne)+Ne,He=ne.min}if(we>=He&&we>ne.max){if(He>ne.max)continue;Ne=(ne.max-we)/(He-we)*(bt-Ne)+Ne,we=ne.max}else if(He>=we&&He>ne.max){if(we>ne.max)continue;bt=(ne.max-we)/(He-we)*(bt-Ne)+Ne,He=ne.max}if(Le||(m.beginPath(),m.moveTo(ne.p2c(we),de.p2c(ze)),Le=!0),Ne>=de.max&&bt>=de.max){m.lineTo(ne.p2c(we),de.p2c(de.max)),m.lineTo(ne.p2c(He),de.p2c(de.max));continue}else if(Ne<=de.min&&bt<=de.min){m.lineTo(ne.p2c(we),de.p2c(de.min)),m.lineTo(ne.p2c(He),de.p2c(de.min));continue}var Kt=we,Xt=He;Ne<=bt&&Ne<de.min&&bt>=de.min?(we=(de.min-Ne)/(bt-Ne)*(He-we)+we,Ne=de.min):bt<=Ne&&bt<de.min&&Ne>=de.min&&(He=(de.min-Ne)/(bt-Ne)*(He-we)+we,bt=de.min),Ne>=bt&&Ne>de.max&&bt<=de.max?(we=(de.max-Ne)/(bt-Ne)*(He-we)+we,Ne=de.max):bt>=Ne&&bt>de.max&&Ne<=de.max&&(He=(de.max-Ne)/(bt-Ne)*(He-we)+we,bt=de.max),we!=Kt&&m.lineTo(ne.p2c(Kt),de.p2c(Ne)),m.lineTo(ne.p2c(we),de.p2c(Ne)),m.lineTo(ne.p2c(He),de.p2c(bt)),He!=Xt&&(m.lineTo(ne.p2c(He),de.p2c(bt)),m.lineTo(ne.p2c(Xt),de.p2c(bt)))}}}m.save(),m.translate(x.left,x.top),m.lineJoin="round";var J=P.lines.lineWidth,B=P.shadowSize;if(J>0&&B>0){m.lineWidth=B,m.strokeStyle="rgba(0,0,0,0.1)";var Z=Math.PI/18;U(P.datapoints,Math.sin(Z)*(J/2+B/2),Math.cos(Z)*(J/2+B/2),P.xaxis,P.yaxis),m.lineWidth=B/2,U(P.datapoints,Math.sin(Z)*(J/2+B/4),Math.cos(Z)*(J/2+B/4),P.xaxis,P.yaxis)}m.lineWidth=J,m.strokeStyle=P.color;var W=je(P.lines,P.color,0,I);W&&(m.fillStyle=W,j(P.datapoints,P.xaxis,P.yaxis)),J>0&&U(P.datapoints,0,0,P.xaxis,P.yaxis),m.restore()}function Et(P){function U(q,ne,de,le,ge,ze,Se,Le){for(var tt=q.points,Ge=q.pointsize,Ae=0;Ae<tt.length;Ae+=Ge){var we=tt[Ae],Ne=tt[Ae+1];we==null||we<ze.min||we>ze.max||Ne<Se.min||Ne>Se.max||(m.beginPath(),we=ze.p2c(we),Ne=Se.p2c(Ne)+le,Le=="circle"?m.arc(we,Ne,ne,0,ge?Math.PI:Math.PI*2,!1):Le(m,we,Ne,ne,ge),m.closePath(),de&&(m.fillStyle=de,m.fill()),m.stroke())}}m.save(),m.translate(x.left,x.top);var j=P.points.lineWidth,J=P.shadowSize,B=P.points.radius,Z=P.points.symbol;if(j==0&&(j=1e-4),j>0&&J>0){var W=J/2;m.lineWidth=W,m.strokeStyle="rgba(0,0,0,0.1)",U(P.datapoints,B,null,W+W/2,!0,P.xaxis,P.yaxis,Z),m.strokeStyle="rgba(0,0,0,0.2)",U(P.datapoints,B,null,W/2,!0,P.xaxis,P.yaxis,Z)}m.lineWidth=j,m.strokeStyle=P.color,U(P.datapoints,B,je(P.points,P.color),0,!1,P.xaxis,P.yaxis,Z),m.restore()}function Rt(P,U,j,J,B,Z,W,q,ne,de,le){var ge,ze,Se,Le,tt,Ge,Ae,we,Ne;de?(we=Ge=Ae=!0,tt=!1,ge=j,ze=P,Le=U+J,Se=U+B,ze<ge&&(Ne=ze,ze=ge,ge=Ne,tt=!0,Ge=!1)):(tt=Ge=Ae=!0,we=!1,ge=P+J,ze=P+B,Se=j,Le=U,Le<Se&&(Ne=Le,Le=Se,Se=Ne,we=!0,Ae=!1)),!(ze<W.min||ge>W.max||Le<q.min||Se>q.max)&&(ge<W.min&&(ge=W.min,tt=!1),ze>W.max&&(ze=W.max,Ge=!1),Se<q.min&&(Se=q.min,we=!1),Le>q.max&&(Le=q.max,Ae=!1),ge=W.p2c(ge),Se=q.p2c(Se),ze=W.p2c(ze),Le=q.p2c(Le),Z&&(ne.fillStyle=Z(Se,Le),ne.fillRect(ge,Le,ze-ge,Se-Le)),le>0&&(tt||Ge||Ae||we)&&(ne.beginPath(),ne.moveTo(ge,Se),tt?ne.lineTo(ge,Le):ne.moveTo(ge,Le),Ae?ne.lineTo(ze,Le):ne.moveTo(ze,Le),Ge?ne.lineTo(ze,Se):ne.moveTo(ze,Se),we?ne.lineTo(ge,Se):ne.moveTo(ge,Se),ne.stroke()))}function _e(P){function U(B,Z,W,q,ne,de){for(var le=B.points,ge=B.pointsize,ze=0;ze<le.length;ze+=ge)le[ze]!=null&&Rt(le[ze],le[ze+1],le[ze+2],Z,W,q,ne,de,m,P.bars.horizontal,P.bars.lineWidth)}m.save(),m.translate(x.left,x.top),m.lineWidth=P.bars.lineWidth,m.strokeStyle=P.color;var j;switch(P.bars.align){case"left":j=0;break;case"right":j=-P.bars.barWidth;break;default:j=-P.bars.barWidth/2}var J=P.bars.fill?function(B,Z){return je(P.bars,P.color,B,Z)}:null;U(P.datapoints,j,j+P.bars.barWidth,J,P.xaxis,P.yaxis),m.restore()}function je(P,U,j,J){var B=P.fill;if(!B)return null;if(P.fillColor)return gn(P.fillColor,j,J,U);var Z=e.color.parse(U);return Z.a=typeof B=="number"?B:.4,Z.normalize(),Z.toString()}function Qe(){if(u.legend.container!=null?e(u.legend.container).html(""):s.find(".legend").remove(),!!u.legend.show){for(var P=[],U=[],j=!1,J=u.legend.labelFormatter,B,Z,W=0;W<h.length;++W)B=h[W],B.label&&(Z=J?J(B.label,B):B.label,Z&&U.push({label:Z,color:B.color}));if(u.legend.sorted)if(e.isFunction(u.legend.sorted))U.sort(u.legend.sorted);else if(u.legend.sorted=="reverse")U.reverse();else{var q=u.legend.sorted!="descending";U.sort(function(Ge,Ae){return Ge.label==Ae.label?0:Ge.label<Ae.label!=q?1:-1})}for(var W=0;W<U.length;++W){var ne=U[W];W%u.legend.noColumns==0&&(j&&P.push("</tr>"),P.push("<tr>"),j=!0),P.push('<td class="legendColorBox"><div style="border:1px solid '+u.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+ne.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+ne.label+"</td>")}if(j&&P.push("</tr>"),P.length!=0){var de='<table style="font-size:smaller;color:'+u.grid.color+'">'+P.join("")+"</table>";if(u.legend.container!=null)e(u.legend.container).html(de);else{var le="",ge=u.legend.position,ze=u.legend.margin;ze[0]==null&&(ze=[ze,ze]),ge.charAt(0)=="n"?le+="top:"+(ze[1]+x.top)+"px;":ge.charAt(0)=="s"&&(le+="bottom:"+(ze[1]+x.bottom)+"px;"),ge.charAt(1)=="e"?le+="right:"+(ze[0]+x.right)+"px;":ge.charAt(1)=="w"&&(le+="left:"+(ze[0]+x.left)+"px;");var Se=e('<div class="legend">'+de.replace('style="','style="position:absolute;'+le+";")+"</div>").appendTo(s);if(u.legend.backgroundOpacity!=0){var Le=u.legend.backgroundColor;Le==null&&(Le=u.grid.backgroundColor,Le&&typeof Le=="string"?Le=e.color.parse(Le):Le=e.color.extract(Se,"background-color"),Le.a=1,Le=Le.toString());var tt=Se.children();e('<div style="position:absolute;width:'+tt.width()+"px;height:"+tt.height()+"px;"+le+"background-color:"+Le+';"> </div>').prependTo(Se).css("opacity",u.legend.backgroundOpacity)}}}}}var at=[],Ie=null;function ut(P,U,j){var J=u.grid.mouseActiveRadius,B=J*J+1,Z=null,W,q,ne;for(W=h.length-1;W>=0;--W)if(j(h[W])){var de=h[W],le=de.xaxis,ge=de.yaxis,ze=de.datapoints.points,Se=le.c2p(P),Le=ge.c2p(U),tt=J/le.scale,Ge=J/ge.scale;if(ne=de.datapoints.pointsize,le.options.inverseTransform&&(tt=Number.MAX_VALUE),ge.options.inverseTransform&&(Ge=Number.MAX_VALUE),de.lines.show||de.points.show)for(q=0;q<ze.length;q+=ne){var Ae=ze[q],we=ze[q+1];if(Ae!=null&&!(Ae-Se>tt||Ae-Se<-tt||we-Le>Ge||we-Le<-Ge)){var Ne=Math.abs(le.p2c(Ae)-P),He=Math.abs(ge.p2c(we)-U),bt=Ne*Ne+He*He;bt<B&&(B=bt,Z=[W,q/ne])}}if(de.bars.show&&!Z){var Kt,Xt;switch(de.bars.align){case"left":Kt=0;break;case"right":Kt=-de.bars.barWidth;break;default:Kt=-de.bars.barWidth/2}for(Xt=Kt+de.bars.barWidth,q=0;q<ze.length;q+=ne){var Ae=ze[q],we=ze[q+1],Qt=ze[q+2];Ae!=null&&(h[W].bars.horizontal?Se<=Math.max(Qt,Ae)&&Se>=Math.min(Qt,Ae)&&Le>=we+Kt&&Le<=we+Xt:Se>=Ae+Kt&&Se<=Ae+Xt&&Le>=Math.min(Qt,we)&&Le<=Math.max(Qt,we))&&(Z=[W,q/ne])}}}return Z?(W=Z[0],q=Z[1],ne=h[W].datapoints.pointsize,{datapoint:h[W].datapoints.points.slice(q*ne,(q+1)*ne),dataIndex:q,series:h[W],seriesIndex:W}):null}function Dt(P){u.grid.hoverable&&jt("plothover",P,function(U){return U.hoverable!=!1})}function qt(P){u.grid.hoverable&&jt("plothover",P,function(U){return!1})}function Gt(P){jt("plotclick",P,function(U){return U.clickable!=!1})}function jt(P,U,j){var J=w.offset(),B=U.pageX-J.left-x.left,Z=U.pageY-J.top-x.top,W=K({left:B,top:Z});W.pageX=U.pageX,W.pageY=U.pageY;var q=ut(B,Z,j);if(q&&(q.pageX=parseInt(q.series.xaxis.p2c(q.datapoint[0])+J.left+x.left,10),q.pageY=parseInt(q.series.yaxis.p2c(q.datapoint[1])+J.top+x.top,10)),u.grid.autoHighlight){for(var ne=0;ne<at.length;++ne){var de=at[ne];de.auto==P&&!(q&&de.series==q.series&&de.point[0]==q.datapoint[0]&&de.point[1]==q.datapoint[1])&&kt(de.series,de.point)}q&&At(q.series,q.datapoint,P)}s.trigger(P,[W,q])}function Mt(){var P=u.interaction.redrawOverlayInterval;if(P==-1){Nt();return}Ie||(Ie=setTimeout(Nt,P))}function Nt(){Ie=null,C.save(),S.clear(),C.translate(x.left,x.top);var P,U;for(P=0;P<at.length;++P)U=at[P],U.series.bars.show?In(U.series,U.point):Cn(U.series,U.point);C.restore(),p(O.drawOverlay,[C])}function At(P,U,j){if(typeof P=="number"&&(P=h[P]),typeof U=="number"){var J=P.datapoints.pointsize;U=P.datapoints.points.slice(J*U,J*(U+1))}var B=Wt(P,U);B==-1?(at.push({series:P,point:U,auto:j}),Mt()):j||(at[B].auto=!1)}function kt(P,U){if(P==null&&U==null){at=[],Mt();return}if(typeof P=="number"&&(P=h[P]),typeof U=="number"){var j=P.datapoints.pointsize;U=P.datapoints.points.slice(j*U,j*(U+1))}var J=Wt(P,U);J!=-1&&(at.splice(J,1),Mt())}function Wt(P,U){for(var j=0;j<at.length;++j){var J=at[j];if(J.series==P&&J.point[0]==U[0]&&J.point[1]==U[1])return j}return-1}function Cn(P,U){var j=U[0],J=U[1],B=P.xaxis,Z=P.yaxis,W=typeof P.highlightColor=="string"?P.highlightColor:e.color.parse(P.color).scale("a",.5).toString();if(!(j<B.min||j>B.max||J<Z.min||J>Z.max)){var q=P.points.radius+P.points.lineWidth/2;C.lineWidth=q,C.strokeStyle=W;var ne=1.5*q;j=B.p2c(j),J=Z.p2c(J),C.beginPath(),P.points.symbol=="circle"?C.arc(j,J,ne,0,2*Math.PI,!1):P.points.symbol(C,j,J,ne,!1),C.closePath(),C.stroke()}}function In(P,U){var j=typeof P.highlightColor=="string"?P.highlightColor:e.color.parse(P.color).scale("a",.5).toString(),J=j,B;switch(P.bars.align){case"left":B=0;break;case"right":B=-P.bars.barWidth;break;default:B=-P.bars.barWidth/2}C.lineWidth=P.bars.lineWidth,C.strokeStyle=j,Rt(U[0],U[1],U[2]||0,B,B+P.bars.barWidth,function(){return J},P.xaxis,P.yaxis,C,P.bars.horizontal,P.bars.lineWidth)}function gn(P,U,j,J){if(typeof P=="string")return P;for(var B=m.createLinearGradient(0,j,0,U),Z=0,W=P.colors.length;Z<W;++Z){var q=P.colors[Z];if(typeof q!="string"){var ne=e.color.parse(J);q.brightness!=null&&(ne=ne.scale("rgb",q.brightness)),q.opacity!=null&&(ne.a*=q.opacity),q=ne.toString()}B.addColorStop(Z/(W-1),q)}return B}}e.plot=function(s,o,l){var c=new r(e(s),o,l,e.plot.plugins);return c},e.plot.version="0.8.3",e.plot.plugins=[],e.fn.plot=function(s,o){return this.each(function(){e.plot(this,s,o)})};function i(s,o){return o*Math.floor(s/o)}})(jQuery);(function(e){var t={xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}};function n(g,S){return S*Math.floor(g/S)}function r(g,S,w,m){if(typeof g.strftime=="function")return g.strftime(S);var C=function(p,E){return p=""+p,E=""+(E??"0"),p.length==1?E+p:p},k=[],T=!1,x=g.getHours(),N=x<12;w==null&&(w=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),m==null&&(m=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);var I;x>12?I=x-12:x==0?I=12:I=x;for(var O=0;O<S.length;++O){var D=S.charAt(O);if(T){switch(D){case"a":D=""+m[g.getDay()];break;case"b":D=""+w[g.getMonth()];break;case"d":D=C(g.getDate());break;case"e":D=C(g.getDate()," ");break;case"h":case"H":D=C(x);break;case"I":D=C(I);break;case"l":D=C(I," ");break;case"m":D=C(g.getMonth()+1);break;case"M":D=C(g.getMinutes());break;case"q":D=""+(Math.floor(g.getMonth()/3)+1);break;case"S":D=C(g.getSeconds());break;case"y":D=C(g.getFullYear()%100);break;case"Y":D=""+g.getFullYear();break;case"p":D=N?"am":"pm";break;case"P":D=N?"AM":"PM";break;case"w":D=""+g.getDay();break}k.push(D),T=!1}else D=="%"?T=!0:k.push(D)}return k.join("")}function i(g){function S(k,T,x,N){k[T]=function(){return x[N].apply(x,arguments)}}var w={date:g};g.strftime!=null&&S(w,"strftime",g,"strftime"),S(w,"getTime",g,"getTime"),S(w,"setTime",g,"setTime");for(var m=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],C=0;C<m.length;C++)S(w,"get"+m[C],g,"getUTC"+m[C]),S(w,"set"+m[C],g,"setUTC"+m[C]);return w}function s(g,S){if(S.timezone=="browser")return new Date(g);if(!S.timezone||S.timezone=="utc")return i(new Date(g));if(typeof timezoneJS<"u"&&typeof timezoneJS.Date<"u"){var w=new timezoneJS.Date;return w.setTimezone(S.timezone),w.setTime(g),w}else return i(new Date(g))}var o={second:1e3,minute:60*1e3,hour:60*60*1e3,day:24*60*60*1e3,month:30*24*60*60*1e3,quarter:3*30*24*60*60*1e3,year:365.2425*24*60*60*1e3},l=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],c=l.concat([[3,"month"],[6,"month"],[1,"year"]]),h=l.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);function u(g){g.hooks.processOptions.push(function(S,w){e.each(S.getAxes(),function(m,C){var k=C.options;k.mode=="time"&&(C.tickGenerator=function(T){var x=[],N=s(T.min,k),I=0,O=k.tickSize&&k.tickSize[1]==="quarter"||k.minTickSize&&k.minTickSize[1]==="quarter"?h:c;k.minTickSize!=null&&(typeof k.tickSize=="number"?I=k.tickSize:I=k.minTickSize[0]*o[k.minTickSize[1]]);for(var D=0;D<O.length-1&&!(T.delta<(O[D][0]*o[O[D][1]]+O[D+1][0]*o[O[D+1][1]])/2&&O[D][0]*o[O[D][1]]>=I);++D);var p=O[D][0],E=O[D][1];if(E=="year"){if(k.minTickSize!=null&&k.minTickSize[1]=="year")p=Math.floor(k.minTickSize[0]);else{var _=Math.pow(10,Math.floor(Math.log(T.delta/o.year)/Math.LN10)),A=T.delta/o.year/_;A<1.5?p=1:A<3?p=2:A<7.5?p=5:p=10,p*=_}p<1&&(p=1)}T.tickSize=k.tickSize||[p,E];var $=T.tickSize[0];E=T.tickSize[1];var z=$*o[E];E=="second"?N.setSeconds(n(N.getSeconds(),$)):E=="minute"?N.setMinutes(n(N.getMinutes(),$)):E=="hour"?N.setHours(n(N.getHours(),$)):E=="month"?N.setMonth(n(N.getMonth(),$)):E=="quarter"?N.setMonth(3*n(N.getMonth()/3,$)):E=="year"&&N.setFullYear(n(N.getFullYear(),$)),N.setMilliseconds(0),z>=o.minute&&N.setSeconds(0),z>=o.hour&&N.setMinutes(0),z>=o.day&&N.setHours(0),z>=o.day*4&&N.setDate(1),z>=o.month*2&&N.setMonth(n(N.getMonth(),3)),z>=o.quarter*2&&N.setMonth(n(N.getMonth(),6)),z>=o.year&&N.setMonth(0);var V=0,K=Number.NaN,ie;do if(ie=K,K=N.getTime(),x.push(K),E=="month"||E=="quarter")if($<1){N.setDate(1);var ue=N.getTime();N.setMonth(N.getMonth()+(E=="quarter"?3:1));var te=N.getTime();N.setTime(K+V*o.hour+(te-ue)*$),V=N.getHours(),N.setHours(0)}else N.setMonth(N.getMonth()+$*(E=="quarter"?3:1));else E=="year"?N.setFullYear(N.getFullYear()+$):N.setTime(K+z);while(K<T.max&&K!=ie);return x},C.tickFormatter=function(T,x){var N=s(T,x.options);if(k.timeformat!=null)return r(N,k.timeformat,k.monthNames,k.dayNames);var I=x.options.tickSize&&x.options.tickSize[1]=="quarter"||x.options.minTickSize&&x.options.minTickSize[1]=="quarter",O=x.tickSize[0]*o[x.tickSize[1]],D=x.max-x.min,p=k.twelveHourClock?" %p":"",E=k.twelveHourClock?"%I":"%H",_;O<o.minute?_=E+":%M:%S"+p:O<o.day?D<2*o.day?_=E+":%M"+p:_="%b %d "+E+":%M"+p:O<o.month?_="%b %d":I&&O<o.quarter||!I&&O<o.year?D<o.year?_="%b":_="%b %Y":I&&O<o.year?D<o.year?_="Q%q":_="Q%q %Y":_="%Y";var A=r(N,_,k.monthNames,k.dayNames);return A})})})}e.plot.plugins.push({init:u,options:t,name:"time",version:"1.0"}),e.plot.formatDate=r,e.plot.dateGenerator=s})(jQuery);(function(e){function t(n){var r={first:{x:-1,y:-1},second:{x:-1,y:-1},show:!1,active:!1},i={},s=null;function o(x){r.active&&(w(x),n.getPlaceholder().trigger("plotselecting",[h()]))}function l(x){x.which==1&&(document.body.focus(),document.onselectstart!==void 0&&i.onselectstart==null&&(i.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),document.ondrag!==void 0&&i.ondrag==null&&(i.ondrag=document.ondrag,document.ondrag=function(){return!1}),S(r.first,x),r.active=!0,s=function(N){c(N)},e(document).one("mouseup",s))}function c(x){return s=null,document.onselectstart!==void 0&&(document.onselectstart=i.onselectstart),document.ondrag!==void 0&&(document.ondrag=i.ondrag),r.active=!1,w(x),T()?u():(n.getPlaceholder().trigger("plotunselected",[]),n.getPlaceholder().trigger("plotselecting",[null])),!1}function h(){if(!T()||!r.show)return null;var x={},N=r.first,I=r.second;return e.each(n.getAxes(),function(O,D){if(D.used){var p=D.c2p(N[D.direction]),E=D.c2p(I[D.direction]);x[O]={from:Math.min(p,E),to:Math.max(p,E)}}}),x}function u(){var x=h();n.getPlaceholder().trigger("plotselected",[x]),x.xaxis&&x.yaxis&&n.getPlaceholder().trigger("selected",[{x1:x.xaxis.from,y1:x.yaxis.from,x2:x.xaxis.to,y2:x.yaxis.to}])}function g(x,N,I){return N<x?x:N>I?I:N}function S(x,N){var I=n.getOptions(),O=n.getPlaceholder().offset(),D=n.getPlotOffset();x.x=g(0,N.pageX-O.left-D.left,n.width()),x.y=g(0,N.pageY-O.top-D.top,n.height()),I.selection.mode=="y"&&(x.x=x==r.first?0:n.width()),I.selection.mode=="x"&&(x.y=x==r.first?0:n.height())}function w(x){x.pageX!=null&&(S(r.second,x),T()?(r.show=!0,n.triggerRedrawOverlay()):m(!0))}function m(x){r.show&&(r.show=!1,n.triggerRedrawOverlay(),x||n.getPlaceholder().trigger("plotunselected",[]))}function C(x,N){var I,O,D,p,E=n.getAxes();for(var _ in E)if(I=E[_],I.direction==N&&(p=N+I.n+"axis",!x[p]&&I.n==1&&(p=N+"axis"),x[p])){O=x[p].from,D=x[p].to;break}if(x[p]||(I=N=="x"?n.getXAxes()[0]:n.getYAxes()[0],O=x[N+"1"],D=x[N+"2"]),O!=null&&D!=null&&O>D){var A=O;O=D,D=A}return{from:O,to:D,axis:I}}function k(x,N){var I,O=n.getOptions();O.selection.mode=="y"?(r.first.x=0,r.second.x=n.width()):(I=C(x,"x"),r.first.x=I.axis.p2c(I.from),r.second.x=I.axis.p2c(I.to)),O.selection.mode=="x"?(r.first.y=0,r.second.y=n.height()):(I=C(x,"y"),r.first.y=I.axis.p2c(I.from),r.second.y=I.axis.p2c(I.to)),r.show=!0,n.triggerRedrawOverlay(),!N&&T()&&u()}function T(){var x=n.getOptions().selection.minSize;return Math.abs(r.second.x-r.first.x)>=x&&Math.abs(r.second.y-r.first.y)>=x}n.clearSelection=m,n.setSelection=k,n.getSelection=h,n.hooks.bindEvents.push(function(x,N){var I=x.getOptions();I.selection.mode!=null&&(N.mousemove(o),N.mousedown(l))}),n.hooks.drawOverlay.push(function(x,N){if(r.show&&T()){var I=x.getPlotOffset(),O=x.getOptions();N.save(),N.translate(I.left,I.top);var D=e.color.parse(O.selection.color);N.strokeStyle=D.scale("a",.8).toString(),N.lineWidth=1,N.lineJoin=O.selection.shape,N.fillStyle=D.scale("a",.4).toString();var p=Math.min(r.first.x,r.second.x)+.5,E=Math.min(r.first.y,r.second.y)+.5,_=Math.abs(r.second.x-r.first.x)-1,A=Math.abs(r.second.y-r.first.y)-1;N.fillRect(p,E,_,A),N.strokeRect(p,E,_,A),N.restore()}}),n.hooks.shutdown.push(function(x,N){N.unbind("mousemove",o),N.unbind("mousedown",l),s&&e(document).unbind("mouseup",s)})}e.plot.plugins.push({init:t,options:{selection:{mode:null,color:"#e8cfac",shape:"round",minSize:5}},name:"selection",version:"1.1"})})(jQuery);(function(e){var t={crosshair:{mode:null,color:"rgba(170, 0, 0, 0.80)",lineWidth:1}};function n(r){var i={x:-1,y:-1,locked:!1};r.setCrosshair=function(c){if(!c)i.x=-1;else{var h=r.p2c(c);i.x=Math.max(0,Math.min(h.left,r.width())),i.y=Math.max(0,Math.min(h.top,r.height()))}r.triggerRedrawOverlay()},r.clearCrosshair=r.setCrosshair,r.lockCrosshair=function(c){c&&r.setCrosshair(c),i.locked=!0},r.unlockCrosshair=function(){i.locked=!1};function s(l){i.locked||i.x!=-1&&(i.x=-1,r.triggerRedrawOverlay())}function o(l){if(!i.locked){if(r.getSelection&&r.getSelection()){i.x=-1;return}var c=r.offset();i.x=Math.max(0,Math.min(l.pageX-c.left,r.width())),i.y=Math.max(0,Math.min(l.pageY-c.top,r.height())),r.triggerRedrawOverlay()}}r.hooks.bindEvents.push(function(l,c){l.getOptions().crosshair.mode&&(c.mouseout(s),c.mousemove(o))}),r.hooks.drawOverlay.push(function(l,c){var h=l.getOptions().crosshair;if(h.mode){var u=l.getPlotOffset();if(c.save(),c.translate(u.left,u.top),i.x!=-1){var g=l.getOptions().crosshair.lineWidth%2?.5:0;if(c.strokeStyle=h.color,c.lineWidth=h.lineWidth,c.lineJoin="round",c.beginPath(),h.mode.indexOf("x")!=-1){var S=Math.floor(i.x)+g;c.moveTo(S,0),c.lineTo(S,l.height())}if(h.mode.indexOf("y")!=-1){var w=Math.floor(i.y)+g;c.moveTo(0,w),c.lineTo(l.width(),w)}c.stroke()}c.restore()}}),r.hooks.shutdown.push(function(l,c){c.unbind("mouseout",s),c.unbind("mousemove",o)})}e.plot.plugins.push({init:n,options:t,name:"crosshair",version:"1.0"})})(jQuery);(function(e,t,n){"$:nomunge";var r=[],i=e.resize=e.extend(e.resize,{}),s,o=!1,l="setTimeout",c="resize",h=c+"-special-event",u="pendingDelay",g="activeDelay",S="throttleWindow";i[u]=200,i[g]=20,i[S]=!0,e.event.special[c]={setup:function(){if(!i[S]&&this[l])return!1;var m=e(this);r.push(this),m.data(h,{w:m.width(),h:m.height()}),r.length===1&&(s=n,w())},teardown:function(){if(!i[S]&&this[l])return!1;for(var m=e(this),C=r.length-1;C>=0;C--)if(r[C]==this){r.splice(C,1);break}m.removeData(h),r.length||(o?cancelAnimationFrame(s):clearTimeout(s),s=null)},add:function(m){if(!i[S]&&this[l])return!1;var C;function k(T,x,N){var I=e(this),O=I.data(h)||{};O.w=x!==n?x:I.width(),O.h=N!==n?N:I.height(),C.apply(this,arguments)}if(e.isFunction(m))return C=m,k;C=m.handler,m.handler=k}};function w(m){o===!0&&(o=m||1);for(var C=r.length-1;C>=0;C--){var k=e(r[C]);if(k[0]==t||k.is(":visible")){var T=k.width(),x=k.height(),N=k.data(h);N&&(T!==N.w||x!==N.h)&&(k.trigger(c,[N.w=T,N.h=x]),o=m||!0)}else N=k.data(h),N.w=0,N.h=0}s!==null&&(o&&(m==null||m-o<1e3)?s=t.requestAnimationFrame(w):(s=setTimeout(w,i[u]),o=!1))}t.requestAnimationFrame||(t.requestAnimationFrame=function(){return t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(m,C){return t.setTimeout(function(){m(new Date().getTime())},i[g])}}()),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(){return t.webkitCancelRequestAnimationFrame||t.mozCancelRequestAnimationFrame||t.oCancelRequestAnimationFrame||t.msCancelRequestAnimationFrame||clearTimeout}())})(jQuery,window);(function(e){var t={};function n(r){function i(){var l=r.getPlaceholder();l.width()==0||l.height()==0||(r.resize(),r.setupGrid(),r.draw())}function s(l,c){l.getPlaceholder().resize(i)}function o(l,c){l.getPlaceholder().unbind("resize",i)}r.hooks.bindEvents.push(s),r.hooks.shutdown.push(o)}e.plot.plugins.push({init:n,options:t,name:"resize",version:"1.0"})})(jQuery);(function(e){var t={series:{stack:null}};function n(r){function i(o,l){for(var c=null,h=0;h<l.length&&o!=l[h];++h)l[h].stack==o.stack&&(c=l[h]);return c}function s(o,l,c){if(!(l.stack==null||l.stack===!1)){var h=i(l,o.getData());if(h){for(var u=c.pointsize,g=c.points,S=h.datapoints.pointsize,w=h.datapoints.points,m=[],C,k,T,x,N,I,O=l.lines.show,D=l.bars.horizontal,p=u>2&&(D?c.format[2].x:c.format[2].y),E=O&&l.lines.steps,_=!0,A=D?1:0,$=D?0:1,z=0,V=0,K,ie;!(z>=g.length);){if(K=m.length,g[z]==null){for(ie=0;ie<u;++ie)m.push(g[z+ie]);z+=u}else if(V>=w.length){if(!O)for(ie=0;ie<u;++ie)m.push(g[z+ie]);z+=u}else if(w[V]==null){for(ie=0;ie<u;++ie)m.push(null);_=!0,V+=S}else{if(C=g[z+A],k=g[z+$],x=w[V+A],N=w[V+$],I=0,C==x){for(ie=0;ie<u;++ie)m.push(g[z+ie]);m[K+$]+=N,I=N,z+=u,V+=S}else if(C>x){if(O&&z>0&&g[z-u]!=null){for(T=k+(g[z-u+$]-k)*(x-C)/(g[z-u+A]-C),m.push(x),m.push(T+N),ie=2;ie<u;++ie)m.push(g[z+ie]);I=N}V+=S}else{if(_&&O){z+=u;continue}for(ie=0;ie<u;++ie)m.push(g[z+ie]);O&&V>0&&w[V-S]!=null&&(I=N+(w[V-S+$]-N)*(C-x)/(w[V-S+A]-x)),m[K+$]+=I,z+=u}_=!1,K!=m.length&&p&&(m[K+2]+=I)}if(E&&K!=m.length&&K>0&&m[K]!=null&&m[K]!=m[K-u]&&m[K+1]!=m[K-u+1]){for(ie=0;ie<u;++ie)m[K+u+ie]=m[K+ie];m[K+1]=m[K-u+1]}}c.points=m}}}r.hooks.processDatapoints.push(s)}e.plot.plugins.push({init:n,options:t,name:"stack",version:"1.2"})})(jQuery);const nS="qryn_view",_f=`${nS}_chart_type`,Gc=(e=!1)=>({xaxis:{show:!0,mode:"time",timezone:"local",timeformat:"%Y-%m-%d %H:%M:%S",reserveSpace:!1,shadowSize:0},yaxis:{tickFormatter:vS},grid:{show:!0,aboveData:!1,color:"#999",clickable:!0,hoverable:!0,autoHighlight:!1,highlightColor:"blue",mouseActiveRadius:30,borderWidth:0,minBorderMargin:0,labelMarginX:0,labelMarginY:0,shadowSize:0,margin:{left:5,right:5}},legend:{noColumns:0,position:"nw",show:!1},interaction:{redrawOverlayInterval:1},series:{stack:e,lines:{show:!0,lineWidth:1.5,shadowSize:0,zero:!1},bars:{align:"center",show:!1,barWidth:5e3,shadowSize:0,zero:!1},points:{show:!0,radius:1,shadowSize:0,zero:!1}},markings:{clickable:!1},crosshair:{color:"#88888855",mode:"xy",linewidth:1},selection:{mode:"x"}}),If=(e=0,t=!1)=>({stack:t,lines:{show:!1,lineWidth:1.5,shadowSize:0,fill:t},bars:{show:!0,barWidth:e!==0?e:5e3,shadowSize:0},points:{show:!0,radius:.25,shadowSize:0}}),fs=(e=!1)=>({stack:e,lines:{show:!0,lineWidth:1,shadowSize:0,stack:e,fill:e},bars:{show:!1,barWidth:0,shadowSize:0},points:{show:!1,radius:1,shadowSize:0}}),Rf=(e=!1)=>({stack:e,lines:{show:!1,lineWidth:1.5,shadowSize:0},bars:{show:!1,barWidth:0,shadowSize:0},points:{show:!0,radius:2,shadowSize:0}});function rS(e){e.forEach(t=>{t.plot.highlight(t.i,t.plotIndex)})}function iS(e){return!!(e%1)}const sS=e=>(e==null?void 0:e.length)===2?e[1]:e[1]-e[2];function Mf(e){return(e==null?void 0:e.length)>0?(e==null?void 0:e.filter(t=>parseFloat(t.value)===parseFloat(sS(t.item.datapoint))))||[]:[]}function aS(e){return(e==null?void 0:e.map(t=>en.sanitize(` <div style="display:flex;justify-content:space-between">
                           <div style="display:flex;margin-right:10px;">
                               <span style="background:${t.color};
                               height:6px;width:24px;pading:3px;
                               border-radius:1px;margin:4px;"></span> 
                               <p style="display:flex;flex-wrap:wrap; justify-content:space-between;
                               line-height:1.25">${t.label}</p> 
                            </div>
                        <div>
                    </div>
                </div>
    `)).join(""))||[]}function oS(e){const t=Mf(e);return aS(t)}function lS(e){var n,r;const t=Mf(e);if((t==null?void 0:t.length)>0){const i=t==null?void 0:t.sort((s,o)=>s.label.length>o.label.length?0:1);return i&&i.length>0?(r=(n=i[0])==null?void 0:n.label)==null?void 0:r.length:0}return 0}function $r(e){const t=e.map(o=>{var l;return(l=o==null?void 0:o.data)==null?void 0:l.map(([c,h])=>c)}).flat().sort(),n=t[0],r=t[t.length-1],i=r-n,s=i/1e3/107e3;return{first:n,last:r,timeSpan:s,length:t.length,timeDiff:i,seriesLength:e.length}}const pi=(e,t)=>{const{length:n,timeDiff:r,seriesLength:i}=e,s=()=>i===1?1/2:i-1;return Math.round(r/t/n*s()*1e3)};function gi(e){const{timeSpan:t,first:n,last:r}=$r(e);return{timeformat:t>1?"%m/%d %H:%M":t>30?"%y/%m/%d %H:%M":"%H:%M:%S",min:n,max:r}}function cS(e){return(e==null?void 0:e.map(([t,n])=>[t*1e3,n]))||[]}function dr(e,t,n=!1){switch(e){case"bar":return If(t,n);case"line":return fs(n);case"points":return Rf(n);default:return fs(n)}}function uS(e,t=0,n=!1){switch(e){case"bar":return{series:If(t,n)};case"line":return{series:fs(n)};case"points":return{series:Rf(n)};default:return{series:fs(n)}}}function dS(){return localStorage.getItem(_f)}function fS(e){localStorage.setItem(_f,e)}function Kc(e,t=!1,n){var i,s;let r={...e};return e&&((i=Object.keys(e))==null?void 0:i.length)===0&&(r={level:"unknown"},n===1&&t&&(r={level:"logs"})),t&&r?(s=Object.entries(r))==null?void 0:s.map(([o,l])=>l):!t&&r?"{ "+Object.entries(r).map(([o,l])=>`${o}="${l}"`).join(", ")+" }":""}function hS(e){return{...e,lines:{...e.lines,show:!1},bars:{...e.bars,show:!1},points:{...e.points,show:!1},isVisible:!1}}function pS(e,t,n=!1){const{lines:r,bars:i,points:s}=dr(t,0,n);return{...e,stack:n,bars:i,lines:r,points:s,isVisible:!0}}function gS(e){return e==null?void 0:e.map(t=>t.id)}function Nf(){let e=[];try{const t=localStorage.getItem("labelsSelected");return typeof t=="string"&&(e=JSON.parse(t)),e}catch(t){return console.log(t),e}}function mS({label:{id:e}}){let t=Nf();return(t==null?void 0:t.length)>0?t.some(n=>n.id===e):!1}function Jc(e,t){const n=Nf();if(n.length>0){const r=gS(n);return e==null?void 0:e.map(s=>r!=null&&r.includes(s.id)?pS(s,t):hS(s))}else return e}function Yc(e,t){let n=0;return t==="M"&&(n=1e6),t==="K"&&(n=1e3),e%n===0?0:1}function vS(e,t){return e>999999?(e/1e6).toFixed(Yc(e,"M"))+" M":e>999?(e/1e3).toFixed(Yc(e,"K"))+" K":e.toFixed(t.tickDecimals)}function bS(){try{const e=localStorage.getItem("labelsSelected");if(typeof e=="string")return JSON.parse(e)}catch(e){return console.log(e),[]}}const xi=window.jQuery;function yS(e){let t=null;xi("#tooltip").remove(),t=null,xi(this).on("plothover",function(n,r,i){if(e.unhighlight(),i){let s=e.getData();const[o,l]=i.datapoint,c=JSON.parse(localStorage.getItem("labelsSelected")||"null"),h=m=>(m==null?void 0:m.length)===2?m[1]:m[1]-m[2],u=iS(parseFloat(i.datapoint[1]))?parseFloat(h(i.datapoint)).toFixed(3):h(i.datapoint),g=c.length>0,S=[];for(let m=0;m<s.length;m++){const C=g?mS(s[m]):!0,k=s[m].data.map(x=>x).map(x=>x[0]),T=s[m].data.map(x=>x);if(k.includes(o)&&C){const x=k.indexOf(o),[N,I]=T.find(([O,D])=>O===o);S.push({color:s[m].color,label:s[m].label,value:I,plot:e,plotIndex:x,item:i,i:m})}}rS(S);const w=oS(S);if(t!==i.datapoint){t=i.datapoint;let m=en.sanitize(`<div style="display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #666;padding:6px;flex:1">
                <p>${nn(i.datapoint[0]).format("YYYY-MM-DDTHH:mm:ss.SSSZ")}</p>
      
                <p style="margin-left:10px">
              Value: ${u}</p>
                </div>
               <div style="padding:3px">
                ${w}
                </div>`);xi("#tooltip").remove();const C=m;if((S==null?void 0:S.length)>0){const k=lS(S);xS(i.pageX,i.pageY,C,k)}}}else xi("#tooltip").remove(),t=null})}function xS(e,t,n,r){let s=window.innerWidth/2,o;const l=window.event.clientX;o=l,l>s&&(o-=r<125?r*6+15:505),xi(en.sanitize(`<div id="tooltip">${n}</div>`)).css({position:"absolute",display:"none",top:t,left:o,padding:"6px","font-size":"12px","flex-direction":"column","max-width":"500px","border-radius":"6px 6px 6px 6px","background-color":"#333",color:"#aaa"}).appendTo("body").fadeIn(125)}const SS={critical:"purple",error:"red",warning:"orange",info:"green",debug:"blue",trace:"lightblue",unknown:"gray"},wS=e=>SS[e[0]]||"gray",Xc=(e,t,n)=>b.useMemo(()=>{let r=[{data:[],label:[],isVisible:!0,shadowSize:0,id:""}];return(t==null?void 0:t.length)>0?(r=[...t].map(i=>{let s={data:cS(i==null?void 0:i.values),label:Kc(i==null?void 0:i.metric,n,t.length),isVisible:!0,shadowSize:0,id:i.id};if(n){let o=wS(Kc(i==null?void 0:i.metric,n,t.length)||"");s.color=o}return s}),e?r==null?void 0:r.splice(0,20):r):r},[e,t]),TS=({tWidth:e},t=!1)=>b.useMemo(()=>{if(e){const n={...Gc(t)};return n.xaxis.ticks=Math.round(e/125),n}else return Gc},[e]);function CS(){return b.useMemo(()=>bS(),[])}const kS=ve("div",{target:"e1l2k4n66"})("display:flex;flex-wrap:wrap;max-height:60px;overflow-y:auto;margin:5px;&::-webkit-scrollbar{width:5px;height:5px;}&::-webkit-scrollbar-corner{background:transparent;}&::-webkit-scrollbar-thumb{border-radius:5px;background:",({theme:e})=>e.alphaPlusNeutral,";}"),ES=ve("div",{target:"e1l2k4n65"})("font-size:12px;color:",({theme:e})=>e.contrast,";font-family:sans-serif;display:flex;align-items:center;line-height:1.5;padding-right:10px;cursor:pointer;opacity:",e=>e.isVisible?"1":".5",";border-radius:3px;&:hover{background:",({theme:e})=>e.lightNeutral,";}"),_S=ve("div",{target:"e1l2k4n64"})("height:4px;width:16px;margin-right:8px;background:",e=>e.color,';content:" ";'),ha=ve("button",{target:"e1l2k4n63"})("background:",e=>e.isActive?e.theme.neutral:e.theme.lightNeutral,";color:",({theme:e})=>e.contrast,";padding:3px 12px;border:1px solid ",({theme:e})=>e.accentNeutral,";border-radius:",e=>e.rightBtn?"0px 3px 3px 0px":e.leftBtn?"3px 0px 0px 3px":"none",";cursor:pointer;font-size:12px;line-height:20px;white-space:nowrap;flex:1;"),IS=ve("div",{target:"e1l2k4n62"})("display:flex;align-items:center;flex-direction:",e=>e.isMobile?"column":"row",";margin:10px 25px;justify-content:space-between;.limit-cont{display:flex;align-items:center;justify-content:space-between;flex:1;margin-bottom:",e=>e.isMobile?"10px":"0px",";width:",e=>e.isMobile?"100%":"auto",";div{flex:",e=>e.isMobile?"1":"0",";text-align:",e=>e.isMobile?"center":"left",";}}.chart-buttons-cont{display:flex;align-items:center;justify-content:center;flex:",e=>e.isMobile?"1":"0",";width:",e=>e.isMobile?"100%":"auto",";}"),Zc=ve("div",{target:"e1l2k4n61"})("font-size:12px;line-height:20px;padding:3px 12px;white-space:nowrap;color:",({theme:e})=>e.contrast,";background:",({theme:e})=>e.neutral,";border:1px solid ",({theme:e})=>e.accentNeutral,";border-radius:3px;cursor:pointer;transition:0.2s all;&:hover{background:",({theme:e})=>e.lightNeutral,";}"),RS=ve("div",{target:"e1l2k4n60"})("height:inherit;display:flex;flex-direction:column;flex:1;background:",({theme:e})=>e.ultraDeep,";.chart-cont{flex:1;}");function MS({onLabelClick:e,labels:t}){const n=CS(),r=b.useMemo(()=>(n==null?void 0:n.length)>0,[n]);function i({id:o}){return n==null?void 0:n.some(l=>l.id===o)}const s=o=>{o.isVisible=!o.isVisible,e(t,o)};return f(kS,{children:(t==null?void 0:t.length)&&(t==null?void 0:t.map((o,l)=>F(ES,{isVisible:r?i(o):!0,onClick:()=>s(o),children:[f(_S,{color:o.color}),o.label]},l)))})}function NS({isSpliced:e,handleNoLimitData:t,handleLimitData:n,matrixData:r}){return e?F(Zc,{onClick:t,children:[r.length>20?"Showing: 20 Series, Show All ":"Showing: ",r.length," Series"]}):F(Zc,{onClick:n,children:["Showing: ",r.length," Series, Show Only 20 Series"]})}function OS({matrixData:e,chartType:t,handleNoLimitData:n,handleLimitData:r,isSpliced:i,onSetChartType:s}){const o=qe(),l=wn.useMediaQuery({query:"(max-width: 565px)"});function c(){s("bar")}function h(){s("line")}function u(){s("points")}return f(vt,{theme:o,children:F(IS,{isMobile:l,children:[f("div",{className:"limit-cont",children:f(NS,{isSpliced:i,handleNoLimitData:n,handleLimitData:r,matrixData:e})}),F("div",{className:"chart-buttons-cont",children:[f(ha,{isActive:t==="bar",onClick:c,leftBtn:!0,children:"bar chart"}),f(ha,{onClick:h,isActive:t==="line",children:"line chart"}),f(ha,{onClick:u,isActive:t==="points",rightBtn:!0,children:"points chart"})]})]})})}function LS(e){const{theme:t,matrixData:n,chartType:r,handleLimitData:i,handleNoLimitData:s,isSpliced:o,onSetChartType:l,chartRef:c,onLabelClick:h,labels:u,isLogsVolume:g}=e;return f(vt,{theme:t,children:F(RS,{children:[g?f("div",{style:{display:"flex",justifyContent:"center",fontSize:"12px",color:t.contrast},children:"Logs Volume"}):f(OS,{matrixData:n,chartType:r,handleNoLimitData:s,handleLimitData:i,isSpliced:o,onSetChartType:l}),f("div",{className:"chart-cont",children:f("div",{ref:c,id:"chart-container",style:{flex:"1",minHeight:"97px",height:"100%",display:"block",position:"relative",paddingTop:"10px"}})}),f(MS,{onLabelClick:h,labels:u})]})})}function nl(e){const{matrixData:t,actualQuery:n,type:r}=e,{tWidth:i}=e,{expr:s,dataSourceType:o,queryType:l,limit:c,panel:h,id:u,isLogsVolume:g}=n,S=b.useRef(null),w=qe(),m=window.jQuery;m.fn.UseTooltip=yS;const C=Xc(!0,t,g&&r==="stream"),k=zt(),[T,x]=b.useState(!0),[N,I]=b.useState(C),[O]=b.useState(Xc(!1,t,g&&r==="stream")),[D,p]=b.useState([]),[E,_]=b.useState(S.current),A=TS({tWidth:i},g&&r==="stream"||!1),[$,z]=b.useState(A),V=b.useMemo(()=>{let ke=dS();return g&&r==="stream"?"bar":ke!==""?ke:"line"},[g]),[K,ie]=b.useState(V);function ue(ke,Oe,re){let Ce=0;g&&Oe==="stream"&&(Ce=pi($r(ke),i));const Ee=uS(Oe,Ce),{timeformat:be,min:pe,max:Te}=gi(ke);return m.plot(re,ke,m.extend(!0,{},$,{...Ee,xaxis:{timeformat:be,min:pe,max:Te}}))}function te(ke){const Oe=m(S.current),re=T?N:O,Ce=Jc(re,ke);try{let Ee=ue(Ce,ke,Oe);const be=Ee.getData();p(be),m(S.current).UseTooltip(Ee),ie(ke),fS(ke)}catch(Ee){console.log(re,Ee)}}function he(ke,Oe){const re=m(S.current),Ce=T?N:O;ke.preventDefault();let Ee=[];const be=JSON.parse(localStorage.getItem("labelsSelected")||"null")||[];if((be==null?void 0:be.length)>0){let pe=0;g&&r==="stream"&&(pe=pi($r(Ce),i));const{lines:Te,bars:Je,points:et}=dr(K,pe,g&&r==="stream"),De=be==null?void 0:be.map(Xe=>Xe.id);Ee=Ce==null?void 0:Ce.map(Xe=>De.includes(Xe.id)?{...Xe,stack:g&&r==="stream",bars:Je,lines:Te,points:et,isVisible:!0,shadowSize:0}:{...Xe,lines:{...Xe.lines,show:!1},bars:{...Xe.bars,show:!1},points:{...Xe.points,show:!1},isVisible:!1,shadowSize:0})}else Ee=Ce;try{let pe=m.plot(re,Ee,m.extend(!0,{},$,{xaxis:{min:Oe.xaxis.from-1e5,max:Oe.xaxis.to+1e5,timeformat:gi(Ee).timeformat}}));m(S.current).UseTooltip(pe),setTimeout(()=>{const Te=Oe.xaxis.from,Je=Oe.xaxis.to,et=new Date(nn(parseInt(Te)).format("YYYY-MM-DDTHH:mm:ss.SSSZ")),De=new Date(nn(parseInt(Je)).format("YYYY-MM-DDTHH:mm:ss.SSSZ")),Ye=Pn(et,"yyyy/MM/dd HH:mm:ss"),Xe=Pn(De,"yyyy/MM/dd HH:mm:ss"),it=`${Ye}-${Xe}`;k(So(De)),k(xo(et)),k(wo(it)),k(An(o,s,l,c,h,u))},400)}catch(pe){console.log("error on chart redraw",pe)}}function Y(ke,Oe){let re=[];const Ce=JSON.parse(localStorage.getItem("labelsSelected")||"null")||[];if(Ce.some(({id:Ee})=>Ee===Oe.id)){const Ee=Ce.filter(be=>be.id!==Oe.id);localStorage.setItem("labelsSelected",JSON.stringify(Ee)),re=Ee}else re=Ce.concat(Oe),localStorage.setItem("labelsSelected",JSON.stringify(re));if(re.length>0){const Ee=re==null?void 0:re.map(Ke=>Ke.id),{lines:be,bars:pe,points:Te}=dr(K,0);let Je=ke==null?void 0:ke.map(Ke=>Ee.includes(Ke.id)?{...Ke,stack:g&&r==="stream",bars:pe,lines:be,points:Te}:{...Ke,lines:{...Ke.lines,show:!1},bars:{...Ke.bars,show:!1},points:{...Ke.points,show:!1}});const{timeformat:et,min:De,max:Ye}=gi(Je);let Xe=0;g&&r==="stream"&&(Xe=pi($r(Je),i));let it=m.plot(E,Je,m.extend(!0,{},$,{series:dr(K,Xe),xaxis:{timeformat:et,min:De,max:Ye}}));const rt=it.getData();p(rt),m(S.current).UseTooltip(it)}else{const Ee=T?N:O;let be=0;g&&r==="stream"&&(be=pi($r(Ee),i));const{lines:pe,bars:Te,points:Je}=dr(K,be),et=Ee==null?void 0:Ee.map(Ke=>({...Ke,bars:Te,lines:pe,points:Je,isVisible:!0,shadowSize:0})),{timeformat:De,min:Ye,max:Xe}=gi(et);let it=m.plot(E,et,m.extend(!0,{},$,{series:dr(K,be||0,g&&r==="stream"),xaxis:{timeformat:De,min:Ye,max:Xe}}));const rt=it.getData();p(rt),m(S.current).UseTooltip(it)}}b.useEffect(()=>{_(S.current),p(N==null?void 0:N.map(({label:ke})=>ke)),m(S.current).bind("plotselected",he),I(C),localStorage.setItem("labelsSelected",JSON.stringify([]))},[]),b.useEffect(()=>{z($),_(S.current),Fe()},[t,T]);function Fe(){const ke=T?N:O,Oe=m(S.current);let re=Jc(ke,null);try{let Ce=0;g&&r==="stream"&&(Ce=pi($r(re),i));const{timeformat:Ee,min:be,max:pe}=gi(re);let{bars:Te,lines:Je,points:et,stack:De}=dr(K,Ce,g&&r==="stream"),Ye=m.plot(Oe,re,m.extend(!0,{},$,{series:{stack:De,bars:Te,lines:Je,points:et},xaxis:{timeformat:Ee,min:be,max:pe}}));const Xe=Ye.getData();p(Xe),m(S.current).UseTooltip(Ye)}catch(Ce){console.log(Ce)}}const $e=ke=>{x(!1)},me=ke=>{x(!0)};if(t){const ke={height:e.vHeight,theme:w,matrixData:t,chartType:K,handleLimitData:me,handleNoLimitData:$e,isSpliced:T,onSetChartType:te,chartRef:S,onLabelClick:Y,labels:D,isLogsVolume:g&&r==="stream"},Oe=new Set;return t.forEach(re=>{var Ce;(Ce=re==null?void 0:re.values)==null||Ce.forEach(Ee=>Oe.add(Ee==null?void 0:Ee[0]))}),Oe.size===1&&K!=="bar"&&te("bar"),f(LS,{...ke})}return null}const eu={critical:["emerg","fatal","alert","crit","critical"],error:["err","eror","error"],warning:["warn","warning"],info:["info","information","notice"],debug:["dbug","debug"],trace:["trace"]},tu={critical:"purple",error:"red",warning:"orange",info:"green",debug:"blue",trace:"lightblue",unknown:"gray"},DS=ti((e,t)=>({items:e,toggleItemActive:t}));function AS(e){return nn(parseInt(e)).format("YYYY-MM-DD HH:mm:ss.SSS UTC")}function PS(e){const t=(e==null?void 0:e.severity)||(e==null?void 0:e.level);if(t){const n=Object.keys(eu).find(r=>eu[r].includes(t.toLowerCase()));return tu[n]}else return tu.unknown}function $S(e,t){return b.useMemo(()=>{var n;if(((n=t==null?void 0:t.linkedFields)==null?void 0:n.length)>0&&e){const r=t.linkedFields.map(s=>{const{id:o,regex:l,name:c,internalLink:h}=s,u=new RegExp(l,"i"),g=e.match(u);return g&&(g==null?void 0:g.length)>0?{name:c,internalLink:h,id:o,tagGroups:g.groups}:{}});let i={tags:{},fields:[]};for(let s of r)i.tags={...i.tags,...s.tagGroups},i.fields.push(s);return i}else return{}},[t,e])}function zS(e){return b.useMemo(()=>{const t=e==null?void 0:e.linkedFields,n=e==null?void 0:e.id,r=e==null?void 0:e.name,i=e==null?void 0:e.url;if(e)return{linkedFields:t,id:n,name:r,url:i}},[e])}const VS=oe({name:"11ugrxg",styles:"display:flex;flex-wrap:wrap;margin-top:3px"}),FS=ve("div",{target:"e13uat153"})("color:",({theme:e})=>e.contrast,";font-size:12px;cursor:pointer;padding-left:0.5rem;margin-left:0.25rem;display:flex;flex-direction:column;margin-bottom:2px;margin-top:2px;font-family:monospace;&:hover{background:",({theme:e})=>e.activeBg,";}p{display:inline-block;overflow-wrap:anywhere;margin-left:3px;}border-left:4px solid ",({rowColor:e})=>e,";.log-ts-row{display:flex;}"),jS=ve("span",{target:"e13uat152"})("font-size:12px;color:",({theme:e})=>e.hardContrast,";line-height:1.5;"),HS=ve("span",{target:"e13uat151"})("position:relative;color:",({theme:e})=>e.contrast,";margin-right:0.25rem;white-space:nowrap;font-size:12px;line-height:1.5;"),BS=ve("div",{target:"e13uat150"})({name:"73mkv6",styles:"overflow:hidden;overflow-y:auto;height:calc(100% - 20px)"});function qS({text:e,dateFormated:t,isMobile:n,isSplit:r,isShowTs:i}){const s=()=>i&&!n&&!r,o=()=>(n||r)&&i;return F("div",{className:"log-ts-row",children:[s()&&f(HS,{children:t}),F(jS,{children:[o()&&f("p",{children:t}),f("p",{children:e})]})]})}const WS=ve("div",{target:"er7kxpa1"})("color:",({theme:e})=>e.maxContrast,";flex:0;background-color:hsl(220, 67%, 55%);display:flex;margin-left:5px;padding:0 4px;border-radius:2px;font-size:12px;align-items:center;white-space:nowrap;"),US=ve("div",{target:"er7kxpa0"})("color:",({theme:e})=>e.hardContrast,";flex:1;display:flex;&:hover{background:",({theme:e})=>e.shadow,";}"),nu={width:"18px",height:"18px"};var rl={},QS=Ct;Object.defineProperty(rl,"__esModule",{value:!0});var Is=rl.default=void 0,GS=QS(Tt()),KS=Be,JS=(0,GS.default)((0,KS.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}),"OpenInNew");Is=rl.default=JS;const YS=["json","regexp","logfmt","pattern","~","="],XS=/{[^}]*}/,$t={newQuery:(e,t,n)=>{const[r,i]=e;return`${n[0]||""}{${r}${t}"${i}"}${n[2]||""}`},equalLabels:(e,t,n)=>t==="!="?$t.newQuery(e,t,n):"{}",formatQuery:(e,t)=>`${t[0]||""}{${e||""}}${t[2]||""}`,splitLabels:e=>{var t,n;return((n=(t=e==null?void 0:e.match(/[^{}]+(?=})/g))==null?void 0:t.map(r=>r.split(",")))==null?void 0:n.flat())||[]},addLabel:(e,t,n)=>e==="!="?t:n,rmValueFromLabel:(e,t)=>{var c,h;const[n,r]=e==null?void 0:e.split("=~");let i=r==null?void 0:r.split(/[""]/)[1],s=i==null?void 0:i.split("|"),o=s==null?void 0:s.filter(u=>u.trim()!==(t==null?void 0:t.trim()));if((o==null?void 0:o.length)>1){const u=(c=o==null?void 0:o.join("|"))==null?void 0:c.trim();return(n==null?void 0:n.trim())+'=~"'+u+'"'}const l=(h=o==null?void 0:o.join(""))==null?void 0:h.trim();return(n==null?void 0:n.trim())+'="'+l+'"'},rmNonEqValueFromLabel:(e,t)=>{var c,h;const[n,r]=e==null?void 0:e.split("!~");let i=r==null?void 0:r.split(/[""]/)[1],s=i==null?void 0:i.split("|"),o=s==null?void 0:s.filter(u=>u.trim()!==(t==null?void 0:t.trim()));if((o==null?void 0:o.length)>1){const u=(c=o==null?void 0:o.join("|"))==null?void 0:c.trim();return(n==null?void 0:n.trim())+'!~"'+u+'"'}const l=(h=o==null?void 0:o.join(""))==null?void 0:h.trim();return(n==null?void 0:n.trim())+'!="'+l+'"'},addValueToLabel:(e,t,n)=>{let r=n?"=":"=~";const[i,s]=e==null?void 0:e.split(r),o=s==null?void 0:s.split(/[""]/)[1];return`${i}=~"${o==null?void 0:o.trim()}|${t==null?void 0:t.trim()}"`},addNonEqValueToLabel:(e,t,n)=>{let r=n?"!=":"!~";const[i,s]=e==null?void 0:e.split(r),o=s==null?void 0:s.split(/[""]/)[1];return`${i}!~"${o==null?void 0:o.trim()}|${t==null?void 0:t.trim()}"`},isEqualsQuery:(e,t)=>{const[n,r]=t;return e===`{${n}="${r}"}`},editQuery:(e,t,n,r)=>$t.isEqualsQuery(e,t)&&t!==null?$t.equalLabels(t,n,r):ZS.fromLabels(e,t,n,r)},ZS={fromLabels:(e,t,n,r)=>{const i=ew(t,e,n);return $t.formatQuery(i,r)}};function ew(e,t,n){var c,h,u,g,S,w,m,C,k,T,x,N,I,O,D,p,E,_,A,$,z,V,K,ie,ue,te,he;const[r,i]=e,s=`${r}="${i}"`,o=`${r}!="${i}"`;let l=$t.splitLabels(t);if(!l)return"";for(let Y of l){const Fe=Y.match(/([^{}=,~!]+)/gm),$e=$t.splitLabels(t);if(!Fe)return"";if(i!==null&&!Y.includes(r==null?void 0:r.trim())&&!($e!=null&&$e.some(me=>me.includes(r)))){let me=n==="!="?o:Y;const ke=$t.addLabel(n,me,s);return $t.splitLabels(t).concat(ke).join(",")}if(i!==null&&(Y!=null&&Y.includes("="))&&((h=(c=Y==null?void 0:Y.split("="))==null?void 0:c[0])==null?void 0:h.trim())===(r==null?void 0:r.trim())&&!(Y!=null&&Y.includes(i))){let me=$t.addValueToLabel(Y,i,!0),ke=new RegExp(`${Y}`);return(g=(u=$t==null?void 0:$t.splitLabels(t))==null?void 0:u.join(","))==null?void 0:g.replace(ke,me)}if(i!==null&&(Y!=null&&Y.includes("=~"))&&((w=(S=Y==null?void 0:Y.split("=~"))==null?void 0:S[0])==null?void 0:w.trim())===(r==null?void 0:r.trim())&&(Y!=null&&Y.includes(i))){const me=$t.rmValueFromLabel(Y,i);let ke=new RegExp(`${Y}`);return(C=(m=$t==null?void 0:$t.splitLabels(t))==null?void 0:m.join(","))==null?void 0:C.replace(ke,me)}if(i!==null&&(Y!=null&&Y.includes("=~"))&&((T=(k=Y==null?void 0:Y.split("=~"))==null?void 0:k[0])==null?void 0:T.trim())===(r==null?void 0:r.trim())&&!(Y!=null&&Y.includes(i==null?void 0:i.trim())))return $t.addValueToLabel(Y,i,!1);if(Y!=null&&Y.includes("=")&&((N=(x=Y==null?void 0:Y.split("="))==null?void 0:x[0])==null?void 0:N.trim())===(r==null?void 0:r.trim())&&(((O=(I=Y==null?void 0:Y.split('"'))==null?void 0:I[1])==null?void 0:O.trim())===(i==null?void 0:i.trim())||i===null)&&($e!=null&&$e.some(me=>me===Y))){const me=$e==null?void 0:$e.filter(ke=>ke!==Y);return me==null?void 0:me.join(",")}if(Y!=null&&Y.includes("!=")&&((p=(D=Y==null?void 0:Y.split("!="))==null?void 0:D[0])==null?void 0:p.trim())===(r==null?void 0:r.trim())&&(((_=(E=Y==null?void 0:Y.split('"'))==null?void 0:E[1])==null?void 0:_.trim())===(i==null?void 0:i.trim())||i===null)&&($e!=null&&$e.some(me=>me===Y))){const me=$e==null?void 0:$e.filter(ke=>ke!==Y);return me==null?void 0:me.join(",")}if(Y!=null&&Y.includes("!=")&&((A=Y==null?void 0:Y.split("!=")[0])==null?void 0:A.trim())===(r==null?void 0:r.trim())){let me=$t.addNonEqValueToLabel(Y,i,!0),ke=new RegExp(`${Y}`);return(z=($=$t.splitLabels(t))==null?void 0:$.join(","))==null?void 0:z.replace(ke,me)}if(i!==null&&(Y!=null&&Y.includes("!~"))&&((K=(V=Y==null?void 0:Y.split("!~"))==null?void 0:V[0])==null?void 0:K.trim())===(r==null?void 0:r.trim())&&(Y!=null&&Y.includes(i))){const me=$t.rmNonEqValueFromLabel(Y,i);let ke=new RegExp(`${Y}`);return $t.splitLabels(t).join(",").replace(ke,me)}if(Y!=null&&Y.includes("!=")&&((ue=(ie=Y==null?void 0:Y.split("!="))==null?void 0:ie[0])==null?void 0:ue.trim())===(r==null?void 0:r.trim())&&(((he=(te=Y==null?void 0:Y.split('"'))==null?void 0:te[1])==null?void 0:he.trim())===(i==null?void 0:i.trim())||i===null)&&($e!=null&&$e.some(me=>me===Y))){const me=$e==null?void 0:$e.filter(ke=>ke!==Y);return me==null?void 0:me.join(",")}}return""}function Of(e,t,n,r,i){var u,g;const{newQuery:s,editQuery:o}=$t;let l=[t,n],c=e==null?void 0:e.split(/[{}]/);const h=(e==null?void 0:e.match(XS))&&c[1].length>7;return((u=c[1])==null?void 0:u.length)<1&&i==="metrics"?`${n}{}`:((g=c[1])==null?void 0:g.length)>1&&i==="metrics"?`${n}{${c[1]}}`:!h&&t!=="__name__"?s(l,r,c):o(e,l,r,c)}function tw(e,t,n=!1,r=[]){const i=t,s=i.split("{")[0];let o="";if(n){o=i.split("}")[1];const c=/[|json]/,h=i.split(c);if(YS.some(u=>h[1].includes(u))){const u=` | ${r}`;o=o.toString().concat(u.toString())}}else o=i.split("}")[1];const l=[];for(const c of e)if(c.selected&&c.values&&c.values.length>0){const h=c.values.filter(g=>g.selected&&!g.inverted).map(g=>g.name),u=c.values.filter(g=>g.selected&&g.inverted).map(g=>g.name);h.length>1?l.push(`${c.name}=~"${h.join("|")}"`):h.length===1&&l.push(`${c.name}="${h[0]}"`),u.forEach(g=>{l.push(`${c.name}!="${g}"`)})}return[s,"{",l.join(","),"}",o].join("")}function nw(e,t,n,r,i=!1,s="logs",o=!1,l=[]){const[c,h]=r,u=It.dispatch,S=(()=>i?"!=":"=")(),{left:w,right:m}=It.getState(),C=Of(e,c,h,S,s);if(t==="left"){const k=[...w];k.forEach(T=>{T.id===n&&(T.expr=C)}),u(cn(k))}if(t==="right"){const k=[...m];k.forEach(T=>{T.id===n&&(T.expr=C)}),u(Yt(k))}}function ru(e,t,n,r){return e.includes(`${n}${t}"${r}"`)}async function iu(e,t,n,r=!1,i){e.preventDefault(),e.stopPropagation();const{expr:s,panel:o,id:l,dataSourceType:c}=i,h=ru(s,"!=",t,n),u=ru(s,"=",t,n);h&&r||u&&!r||nw(s,o,l,[t,n],r,c)}function rw(e){var t,n;return((n=(t=e==null?void 0:e.fields)==null?void 0:t.map(r=>{if(r!=null&&r.tagGroups){const i=Object.entries(r==null?void 0:r.tagGroups);return i==null?void 0:i.map(([o,l])=>({name:o,value:l}))}return[]}))==null?void 0:n.flat())||[]}const iw=({dataSourceData:e,linkedFieldTags:t,buttonKey:n,value:r,openTraces:i})=>{const s=Re(o=>o.dataSources);if(e!=null&&e.linkedFields){const{linkedFields:o}=e,l=rw(t),c=l==null?void 0:l.map(h=>h.name);if((o==null?void 0:o.length)>0){const{dataSourceId:h,linkType:u,internalLink:g}=o[0],S=s==null?void 0:s.find(m=>m.id===h),w=S==null?void 0:S.url;if(c.includes(n)&&r&&g===!0)return F(WS,{onClick:m=>{i(m,n,r,h,w,u)},children:[f(Is,{style:{width:"14px",height:"14px"}}),f("span",{children:u})]})}}return null};var il={},sw=Ct;Object.defineProperty(il,"__esModule",{value:!0});var Lf=il.default=void 0,aw=sw(Tt()),su=Be,ow=(0,aw.default)([(0,su.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"},"0"),(0,su.jsx)("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"},"1")],"ZoomIn");Lf=il.default=ow;var sl={},lw=Ct;Object.defineProperty(sl,"__esModule",{value:!0});var Df=sl.default=void 0,cw=lw(Tt()),uw=Be,dw=(0,cw.default)((0,uw.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"}),"ZoomOut");Df=sl.default=dw;function fw({label:e,value:t,actQuery:n}){return F(mt,{children:[f("span",{"aria-label":"Filter for value",title:"Filter for value",onClick:r=>iu(r,e,t,!1,n),className:"icon",children:f(Lf,{color:"primary",style:nu})}),f("span",{"aria-label":"Filter out value",title:"Filter out value",onClick:r=>iu(r,e,t,!0,n),className:"icon",children:f(Df,{color:"primary",style:nu})})]})}function hw(e){const{tags:t,actQuery:n,dataSourceData:r,linkedFieldTags:i}=e,s=wn.useMediaQuery({query:"(max-width: 1013px)"}),o=qe(),l=Re(g=>g.isEmbed),c=zt(),h=Re(g=>g.right),u=(g,S,w,m,C,k)=>{var N;g.stopPropagation(),((N=e==null?void 0:e.actQuery)==null?void 0:N.panel)==="left"&&!s&&c(Qr(!0));let T=JSON.parse(JSON.stringify(h));const x=JSON.parse(JSON.stringify(e.actQuery));try{const I={...T[0],id:T[0].id,idRef:k+"="+w,panel:"right",queryType:"range",dataSourceType:k.toLowerCase()||"traces",dataSourceId:m||"32D16h5uYBqUUzhD",dataSourceURL:C,expr:w,limit:100,step:100,tableView:!1,chartView:!1,isShowTs:!1,browserOpen:!1,labels:[],values:[],direction:"forward",loading:!1,open:!0};c(An(k.toLowerCase()||"traces",w,"range",x.limit||100,"right",I.id,"forward",m||"32D16h5uYBqUUzhD",C)),c(Yt([I]))}catch(I){console.log(I)}};return f(vt,{theme:o,children:Object.entries(t).map(([g,S],w)=>f(US,{children:F("div",{className:"value-tags",children:[!l&&f(fw,{label:g,value:S,actQuery:n}),f("span",{children:g}),F("span",{style:{flex:1},children:[S,f(iw,{...e,dataSourceData:r,linkedFieldTags:i,buttonKey:g,value:S,openTraces:u})]})]},w)},w))})}function pw(e){const{showLabels:t,tags:n,actQuery:r}=e;return t?f("div",{className:"value-tags-container",children:f(hw,{...e,tags:n,actQuery:r})}):null}function gw(e){const{toggleItemActive:t,index:n,log:r,actQuery:i,isMobile:s,isSplit:o,dataSourceData:l}=e,{tags:c,timestamp:h,text:u,showLabels:g}=r,S=$S(u,l),w=b.useMemo(()=>PS(c),[c]),m=b.useMemo(()=>AS(h),[h]),C={actQuery:i,tags:{...c,...S.tags},linkedFieldTags:S,showLabels:g,dataSourceData:l};return F(FS,{...{rowColor:w,onClick:()=>{t(n)}},children:[f(qS,{...{dateFormated:m,text:u,isMobile:s,isSplit:o,dataSourceData:l},isShowTs:i.isShowTs}),f(pw,{...C})]})}function mw(e){var u;const{items:t,toggleItemActive:n,actQuery:r,dataSourceId:i}=e,{splitted:s}=r,o=DS(t,n),l=wn.useMediaQuery({query:"(max-width: 1013px)"}),c=Re(({dataSources:g})=>g==null?void 0:g.find(S=>S.id===i)),h=zS(c);return(u=o==null?void 0:o.items)==null?void 0:u.map((g,S)=>f(gw,{index:S,dataSourceId:i,dataSourceData:h,actQuery:r,log:g,isSplit:s,isMobile:l,toggleItemActive:n},S))}const vw=e=>{const{actualQuery:t}=e,{dataSourceId:n}=t,[r,i]=b.useState(e.messages),s=o=>{i(l=>{const c=l[o],h=l.concat();return h[o]={...c,showLabels:!c.showLabels},h})};return b.useEffect(()=>{i(e.messages)},[e.messages]),f(BS,{children:f(mw,{...e,dataSourceId:n,actQuery:t,items:r,toggleItemActive:s})})},bw=e=>{var A;const{viewRef:t,panelSize:n,viewHeight:r,setStreamClose:i,setMaxHeight:s,setMinimize:o,actualQuery:l,total:c,type:h,theight:u,viewWidth:g,tableData:S,streamData:w,logsVolumeData:m}=e,{isLogsVolume:C,loading:k}=l,{limit:T}=l,[x,N]=b.useState(Un(l)[l.id]||0),[I,O]=b.useState(e.streamData),D=b.useMemo(()=>{var $;return JSON.parse(JSON.stringify(($=e==null?void 0:e.dataView)==null?void 0:$.raw))||[]},[(A=e==null?void 0:e.dataView)==null?void 0:A.raw]),p=Re($=>$.theme),E=b.useMemo(()=>p==="light"?"rjv-default":"tomorrow",[p]),_=($,z)=>{const V={...Un(l),[l.id]:z};localStorage.setItem("tabsState",JSON.stringify(V)),typeof z=="number"&&N(()=>z)};return b.useEffect(()=>{k||O(e.streamData)},[e.streamData]),F(_s,{ref:t,size:n,vheight:r,children:[f(Pi,{onClose:i,setMinimize:o,setMaxHeight:s,actualQuery:l,total:c,type:h,...e}),C&&(m==null?void 0:m.length)>0&&g>0&&f("div",{children:!k&&f(nl,{...e,tWidth:g,chartLimit:T,matrixData:m,actualQuery:l})}),F(Oi,{defaultValue:Un(l)[l.id]||0,value:x,onChange:_,children:[F(Go,{panelsize:e.panelSize,children:[f(Wn,{children:"Logs"}),S&&f(Wn,{children:"Table"}),f(Wn,{children:"Raw"})]}),f(qn,{value:0,children:f("div",{className:"view-content",children:!k&&f(vw,{...e,onClose:i,messages:I,actualQuery:l})})}),f(qn,{value:1,children:f("div",{className:"view-content",children:!k&&f(tl,{...e,height:u,data:S,actualQuery:l})})}),f(qn,{value:2,children:f("div",{className:"view-content",children:f("div",{style:{padding:"20px"},children:!k&&f(uo,{theme:E,src:D})})})})]})]})},yw=e=>{var E,_;const{viewRef:t,panelSize:n,viewHeight:r,setStreamClose:i,setMaxHeight:s,setMinimize:o,actualQuery:l,total:c,type:h,theight:u,tableData:g,viewWidth:S,limit:w,streamData:m}=e,{loading:C}=l,k=Re(A=>A.theme),[T,x]=b.useState([]),N=b.useMemo(()=>k==="light"?"rjv-default":"tomorrow",[k]),[I,O]=b.useState(Un(l)[l.id]||0),D=b.useMemo(()=>{var A;return JSON.parse(JSON.stringify((A=e==null?void 0:e.dataView)==null?void 0:A.raw))||[]},[(E=e==null?void 0:e.dataView)==null?void 0:E.raw]),p=(A,$)=>{const z={...Un(l),[l.id]:$};localStorage.setItem("tabsState",JSON.stringify(z)),typeof $=="number"&&O(()=>$)};return b.useEffect(()=>{var A;!C&&((A=m==null?void 0:m[0])!=null&&A.metric)&&x(m)},[m]),F(_s,{ref:t,size:n,vheight:r,children:[f(Pi,{onClose:i,setMinimize:o,setMaxHeight:s,actualQuery:l,total:c,type:h,...e}),F(Oi,{style:{display:"flex",flex:1,flexDirection:"column"},defaultValue:Un(l)[l.id]||0,value:I,onChange:p,children:[F(Go,{panelsize:e.panelSize,children:[f(Wn,{children:"Chart"}),f(Wn,{children:"Table"}),f(Wn,{children:"Raw"})]}),f(qn,{value:0,children:f("div",{className:"view-content",style:{height:"100%"},children:!C&&((_=T==null?void 0:T[0])==null?void 0:_.metric)&&f(nl,{...e,tWidth:S,chartLimit:w,matrixData:T,actualQuery:l})})}),f(qn,{value:1,children:f("div",{className:"view-content",children:!C&&f(tl,{...e,height:u,data:g,actualQuery:l})})}),f(qn,{value:2,children:f("div",{className:"view-content",children:f("div",{style:{padding:"20px"},children:!C&&f(uo,{theme:N,src:D})})})})]})]})},xw=e=>{var D;const{viewRef:t,panelSize:n,viewHeight:r,setStreamClose:i,setMinimize:s,setMaxHeight:o,actualQuery:l,total:c,type:h,theight:u,streamData:g,viewWidth:S,limit:w}=e,{loading:m}=l,C=Re(p=>p.theme),k=b.useMemo(()=>C==="light"?"rjv-default":"tomorrow",[C]),T=b.useRef(null),x=b.useMemo(()=>{var p;return JSON.parse(JSON.stringify((p=e==null?void 0:e.dataView)==null?void 0:p.raw))||[]},[(D=e==null?void 0:e.dataView)==null?void 0:D.raw]),[N,I]=b.useState(Un(l)[l.id]||0),O=(p,E)=>{const _={...Un(l),[l.id]:E};localStorage.setItem("tabsState",JSON.stringify(_)),typeof E=="number"&&I(()=>E)};return F(_s,{ref:t,size:n,vheight:r,children:[f(Pi,{onClose:i,setMinimize:s,setMaxHeight:o,actualQuery:l,total:c,type:h,...e}),F(Oi,{defaultValue:Un(l)[l.id]||0,value:N,onChange:O,children:[F(Go,{panelsize:e.panelSize,children:[f(Wn,{children:"Table"}),f(Wn,{children:"Raw"}),(g==null?void 0:g.chartData)&&f(Wn,{children:"Chart"})]}),f(qn,{value:0,children:f("div",{className:"view-content",ref:T,id:en.sanitize(`${l==null?void 0:l.id}-view`),children:!m&&f(tl,{...e,height:u,data:g.tableData,actualQuery:l})})}),f(qn,{value:1,children:f("div",{className:"view-content",children:f("div",{style:{padding:"20px"},children:!m&&f(uo,{theme:k,src:x})})})}),(g==null?void 0:g.chartData)&&f(qn,{value:2,children:f("div",{className:"view-content",children:!m&&f(nl,{...e,tWidth:S,chartLimit:w,matrixData:g.chartData,actualQuery:l})})})]})]})};var al={exports:{}},Sw=function(e,t,n){var r=this;return e=e instanceof Array?e:[e],r.bindMultiple(e,t,n),r},ww=function(e,t,n){for(var r=this,i=0;i<e.length;++i)r.bindSingle(e[i],t,n)},Tw=function(e,t){var n=this;return n.bind(e,function(){},t)},Cw=function(e,t){var n=this;return n.directMap[e+":"+t]&&n.directMap[e+":"+t]({},e),this},kw=function(){var e=this;return e.callbacks={},e.directMap={},this},Ew=function(e,t){if((" "+t.className+" ").indexOf(" combokeys ")>-1)return!1;var n=t.tagName.toLowerCase();return n==="input"||n==="select"||n==="textarea"||t.isContentEditable},pa,au;function ol(){return au||(au=1,pa=function(e){return e==="shift"||e==="ctrl"||e==="alt"||e==="meta"}),pa}var _w=function(e,t,n){var r=this,i,s,o={},l=0,c=!1,h,u;for(i=r.getMatches(e,t,n),s=0;s<i.length;++s)i[s].seq&&(l=Math.max(l,i[s].level));for(s=0;s<i.length;++s){if(i[s].seq){if(i[s].level!==l)continue;c=!0,o[i[s].seq]=1,r.fireCallback(i[s].callback,n,i[s].combo,i[s].seq);continue}c||r.fireCallback(i[s].callback,n,i[s].combo)}u=n.type==="keypress"&&r.ignoreNextKeypress,h=ol(),n.type===r.nextExpectedAction&&!h(e)&&!u&&r.resetSequences(o),r.ignoreNextKeypress=c&&n.type==="keydown"},Rs={exports:{}};Rs.exports=Af;Rs.exports.on=Af;Rs.exports.off=Iw;function Af(e,t,n,r){return!e.addEventListener&&(t="on"+t),(e.addEventListener||e.attachEvent).call(e,t,n,r),n}function Iw(e,t,n,r){return!e.removeEventListener&&(t="on"+t),(e.removeEventListener||e.detachEvent).call(e,t,n,r),n}var Pf=Rs.exports,ga={exports:{}},ou;function $f(){return ou||(ou=1,function(e){e.exports={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",173:"minus",187:"plus",189:"minus",224:"meta"};for(var t=1;t<20;++t)e.exports[111+t]="f"+t;for(t=0;t<=9;++t)e.exports[t+96]=t}(ga)),ga.exports}var ma,lu;function Rw(){return lu||(lu=1,ma={106:"*",107:"plus",109:"minus",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}),ma}var va,cu;function zf(){return cu||(cu=1,va=function(e){var t,n;if(t=$f(),n=Rw(),e.type==="keypress"){var r=String.fromCharCode(e.which);return e.shiftKey||(r=r.toLowerCase()),r}return t[e.which]!==void 0?t[e.which]:n[e.which]!==void 0?n[e.which]:String.fromCharCode(e.which).toLowerCase()}),va}var ba,uu;function Mw(){return uu||(uu=1,ba=function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}),ba}var ya,du;function Nw(){return du||(du=1,ya=function(e){var t=this,n,r;typeof e.which!="number"&&(e.which=e.keyCode),n=zf();var i=n(e);if(i!==void 0){if(e.type==="keyup"&&t.ignoreNextKeyup===i){t.ignoreNextKeyup=!1;return}r=Mw(),t.handleKey(i,r(e),e)}}),ya}var Ow=function(){var e=this,t=Pf,n=e.element;e.eventHandler=Nw().bind(e),t(n,"keypress",e.eventHandler),t(n,"keydown",e.eventHandler),t(n,"keyup",e.eventHandler)},Lw=function(e,t,n,r,i){var s=this;s.directMap[e+":"+n]=t,e=e.replace(/\s+/g," ");var o=e.split(" "),l;if(o.length>1){s.bindSequence(e,o,t,n);return}l=s.getKeyInfo(e,n),s.callbacks[l.key]=s.callbacks[l.key]||[],s.getMatches(l.key,l.modifiers,{type:l.action},r,e,i),s.callbacks[l.key][r?"unshift":"push"]({callback:t,modifiers:l.modifiers,action:l.action,seq:r,level:i,combo:e})},xa,fu;function Dw(){return fu||(fu=1,xa=function(e){return e==="+"?["+"]:e.split("+")}),xa}var Sa,hu;function Aw(){return hu||(hu=1,Sa={option:"alt",command:"meta",return:"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"}),Sa}var wa,pu;function Pw(){return pu||(pu=1,wa={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"}),wa}var $w=function(e,t){var n=this,r,i,s,o,l=[],c,h,u;for(r=Dw(),i=r(e),c=Aw(),h=Pw(),u=ol(),o=0;o<i.length;++o)s=i[o],c[s]&&(s=c[s]),t&&t!=="keypress"&&h[s]&&(s=h[s],l.push("shift")),u(s)&&l.push(s);return t=n.pickBestAction(s,l,t),{key:s,modifiers:l,action:t}},zw=function(e,t,n){var r=this;return n||(n=r.getReverseMap()[e]?"keydown":"keypress"),n==="keypress"&&t.length&&(n="keydown"),n},Vw=function(){var e=this,t=e.constructor,n;if(!t.REVERSE_MAP){t.REVERSE_MAP={},n=$f();for(var r in n)r>95&&r<112||n.hasOwnProperty(r)&&(t.REVERSE_MAP[n[r]]=r)}return t.REVERSE_MAP},Ta,gu;function Fw(){return gu||(gu=1,Ta=function(e,t){return e.sort().join(",")===t.sort().join(",")}),Ta}var jw=function(e,t,n,r,i,s){var o=this,l,c,h=[],u=n.type,g,S;if(u==="keypress"&&!(n.code&&n.code.slice(0,5)==="Arrow")){var w=o.callbacks["any-character"]||[];w.forEach(function(k){h.push(k)})}if(!o.callbacks[e])return h;for(g=ol(),u==="keyup"&&g(e)&&(t=[e]),l=0;l<o.callbacks[e].length;++l)if(c=o.callbacks[e][l],!(!r&&c.seq&&o.sequenceLevels[c.seq]!==c.level)&&u===c.action&&(S=Fw(),u==="keypress"&&!n.metaKey&&!n.ctrlKey||S(t,c.modifiers))){var m=!r&&c.combo===i,C=r&&c.seq===r&&c.level===s;(m||C)&&o.callbacks[e].splice(l,1),h.push(c)}return h},Hw=function(e){var t=this;e=e||{};var n=!1,r;for(r in t.sequenceLevels){if(e[r]){n=!0;continue}t.sequenceLevels[r]=0}n||(t.nextExpectedAction=!1)},Ca,mu;function Bw(){return mu||(mu=1,Ca=function(e){if(e.preventDefault){e.preventDefault();return}e.returnValue=!1}),Ca}var ka,vu;function qw(){return vu||(vu=1,ka=function(e){if(e.stopPropagation){e.stopPropagation();return}e.cancelBubble=!0}),ka}var Ww=function(e,t,n,r){var i=this,s,o;i.stopCallback(t,t.target||t.srcElement,n,r)||e(t,n)===!1&&(s=Bw(),s(t),o=qw(),o(t))},Uw=function(e,t,n,r){var i=this;i.sequenceLevels[e]=0;function s(u){return function(){i.nextExpectedAction=u,++i.sequenceLevels[e],i.resetSequenceTimer()}}function o(u){var g;i.fireCallback(n,u,e),r!=="keyup"&&(g=zf(),i.ignoreNextKeyup=g(u)),setTimeout(function(){i.resetSequences()},10)}for(var l=0;l<t.length;++l){var c=l+1===t.length,h=c?o:s(r||i.getKeyInfo(t[l+1]).action);i.bindSingle(t[l],h,r,e,l)}},Qw=function(){var e=this;clearTimeout(e.resetTimer),e.resetTimer=setTimeout(function(){e.resetSequences()},1e3)},Ea=Pf.off,Gw=function(){var e=this,t=e.element;Ea(t,"keypress",e.eventHandler),Ea(t,"keydown",e.eventHandler),Ea(t,"keyup",e.eventHandler)},Kw=function(){var e=this;e.instances.forEach(function(t){t.reset()})};al.exports;(function(e){e.exports=function(t,n){var r=this,i=r.constructor;return r.options=Object.assign({storeInstancesGlobally:!0},n||{}),r.callbacks={},r.directMap={},r.sequenceLevels={},r.resetTimer=null,r.ignoreNextKeyup=!1,r.ignoreNextKeypress=!1,r.nextExpectedAction=!1,r.element=t,r.addEvents(),r.options.storeInstancesGlobally&&i.instances.push(r),r},e.exports.prototype.bind=Sw,e.exports.prototype.bindMultiple=ww,e.exports.prototype.unbind=Tw,e.exports.prototype.trigger=Cw,e.exports.prototype.reset=kw,e.exports.prototype.stopCallback=Ew,e.exports.prototype.handleKey=_w,e.exports.prototype.addEvents=Ow,e.exports.prototype.bindSingle=Lw,e.exports.prototype.getKeyInfo=$w,e.exports.prototype.pickBestAction=zw,e.exports.prototype.getReverseMap=Vw,e.exports.prototype.getMatches=jw,e.exports.prototype.resetSequences=Hw,e.exports.prototype.fireCallback=Ww,e.exports.prototype.bindSequence=Uw,e.exports.prototype.resetSequenceTimer=Qw,e.exports.prototype.detach=Gw,e.exports.instances=[],e.exports.reset=Kw,e.exports.REVERSE_MAP=null})(al);var Jw=al.exports;const Yw=Ni(Jw),Xw={scrollPageDown:{binding:"s",label:"Scroll down"},scrollPageUp:{binding:"w",label:"Scroll up"},scrollToNextVisibleSpan:{binding:"f",label:"Scroll to the next visible span"},scrollToPrevVisibleSpan:{binding:"b",label:"Scroll to the previous visible span"},panLeft:{binding:["a","left"],label:"Pan left"},panLeftFast:{binding:["shift+a","shift+left"],label:"Pan left — Large"},panRight:{binding:["d","right"],label:"Pan right"},panRightFast:{binding:["shift+d","shift+right"],label:"Pan right — Large"},zoomIn:{binding:"up",label:"Zoom in"},zoomInFast:{binding:"shift+up",label:"Zoom in — Large"},zoomOut:{binding:"down",label:"Zoom out"},zoomOutFast:{binding:"shift+down",label:"Zoom out — Large"},collapseAll:{binding:"]",label:"Collapse All"},expandAll:{binding:"[",label:"Expand All"},collapseOne:{binding:"p",label:"Collapse One Level"},expandOne:{binding:"o",label:"Expand One Level"},searchSpans:{binding:"ctrl+b",label:"Search Spans"},clearSearch:{binding:"escape",label:"Clear Search"}};let _a;function Zw(){if(_a)return _a;const e=new Yw(document.body);return _a=e,e}function e1(e){const t=Zw();Object.keys(e).forEach(n=>{const r=e[n];r&&t.bind(Xw[n].binding,r)})}var Vf={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var l=n.apply(null,s);l&&r.push(l)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var c in s)t.call(s,c)&&s[c]&&r.push(c)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(Vf);var t1=Vf.exports;const wt=Ni(t1),Ff=oe({name:"bjn8wh",styles:"position:relative"}),n1=e=>oe("color:",e.contrast,";",""),ll=oe({name:"6l27w5",styles:"margin-bottom:0.25rem"}),r1=oe({name:"1scg9ky",styles:"margin-top:0.25rem;margin-bottom:0.25rem"}),i1=oe({name:"bb3mxj",styles:"margin:0;font-size:12px;font-weight:bold;font-family:monospace"}),jf=oe({name:"171wbv4",styles:"padding-left:0.5rem;padding-right:0.5rem"}),s1=oe({name:"l5x7cd",styles:"padding-bottom:0.5rem"}),a1=oe({name:"zjik7",styles:"display:flex"}),o1=oe({name:"2qga7i",styles:"text-align:right"}),l1=oe({name:"1r5gb7q",styles:"display:inline-block"}),Ei=oe("",""),c1=oe({name:"rkw162",styles:"text-overflow:ellipsis"}),u1=oe({name:"1d3w5wq",styles:"width:100%"}),d1=oe({name:"1ehr1it",styles:"color:#aaa"});function f1(e,t){const n=Math.floor(Math.log10(Math.abs(e)))+1,r=t+n;return r<=0?Math.trunc(e):Number(e.toPrecision(r))}const Yr=1e3,Ms=1e3*Yr,Hf=60*Ms,Bf=60*Hf,h1=24*Bf,qf=Math.log10(Yr),bu=[{unit:"d",microseconds:h1,ofPrevious:24},{unit:"h",microseconds:Bf,ofPrevious:60},{unit:"m",microseconds:Hf,ofPrevious:60},{unit:"s",microseconds:Ms,ofPrevious:1e3},{unit:"ms",microseconds:Yr,ofPrevious:1e3},{unit:"μs",microseconds:1,ofPrevious:1e3}],Wf=(e,t,n)=>f1(e/n,t)*n;function p1(e){const t=Wf(e,qf,Yr);return`${Hd.duration(t/Yr).asMilliseconds()}ms`}function g1(e){const t=Wf(e,qf,Ms);return`${Hd.duration(t/Yr).asSeconds()}s`}function vr(e){const[t,n]=Ft.dropWhile(bu,({microseconds:l},c)=>c<bu.length-1&&l>e);if(t.ofPrevious===1e3)return`${Ft.round(e/t.microseconds,2)}${t.unit}`;const i=`${Math.floor(e/t.microseconds)}${t.unit}`,s=Math.round(e/n.microseconds%t.ofPrevious),o=`${s}${n.unit}`;return s===0?i:`${i} ${o}`}function m1(e){const{min:t,max:n,viewStart:r,viewEnd:i}=e,s=n-t,o=t+r*s,c=n-(1-i)*s-o;return(h,u)=>({start:(h-o)/c,end:(u-o)/c})}function Ns(e,t,n){return!Array.isArray(n.tags)||!n.tags.length?!1:n.tags.some(r=>r.key===e&&r.value===t)}const v1=Ns.bind(null,"span.kind","client"),b1=Ns.bind(null,"span.kind","server"),y1=Ns.bind(null,"error",!0),x1=Ns.bind(null,"error","true"),Uf=e=>y1(e)||x1(e);function S1(e,t){const{depth:n}=e[t];let r=t+1;for(;r<e.length&&e[r].depth>n;r++)if(Uf(e[r]))return!0;return!1}function w1(e){if(e.length<=1||!v1(e[0]))return!1;const n=e[0].depth+1;let r=1;for(;r<e.length&&e[r].depth===n;){if(b1(e[r]))return e[r];r++}return null}const T1=e=>e.tags.some(({key:t,value:n})=>t==="span.kind"&&n==="client"),C1=ve("div",{target:"e1yzoe5t1"})({name:"je8g23",styles:"pointer-events:none"}),k1=ve("div",{target:"e1yzoe5t0"})("position:absolute;height:100%;width:1px;background:",({theme:e})=>e.accentNeutral,";&:last-child{width:0;}"),E1=oe({name:"58ivyi",styles:"left:0.25rem;position:absolute"}),_1=oe({name:"x507yg",styles:"left:initial;right:0.25rem"});function cl(e){const{endTime:t,numTicks:n,showLabels:r,startTime:i}=e;let s;if(r){s=[];const l=(t||0)-(i||0);for(let c=0;c<n;c++){const h=(i||0)+c/(n-1)*l;s.push(vr(h))}}const o=[];for(let l=0;l<n;l++){const c=l/(n-1);o.push(f(k1,{theme:e.theme,"data-testid":"TicksID",style:{left:`${c*100}%`},children:s&&f("span",{className:wt(E1,{[_1]:c>=1}),children:s[l]})},c))}return f(C1,{children:o})}cl.defaultProps={endTime:null,showLabels:null,startTime:null};const I1=e=>oe("color:",e==null?void 0:e.contrast,";display:flex;flex:0 1 auto;flex-direction:row;","");function _n(e){const{children:t,className:n="",...r}=e;return f("div",{className:wt(I1(e.theme),n),...r,children:t})}_n.defaultProps={className:""};function Qf(e){const{children:t,className:n="",width:r,style:i,theme:s,...o}=e,l=`${r*100}%`,c={...i,flexBasis:l,maxWidth:l};return f("div",{className:wt(Ff,n,n1(s)),style:c,"data-testid":"TimelineRowCell",...o,children:t})}Qf.defaultProps={className:"",style:{}};_n.Cell=Qf;var ul={},R1=Ct;Object.defineProperty(ul,"__esModule",{value:!0});var Gf=ul.default=void 0,M1=R1(Tt()),yu=Be,N1=(0,M1.default)([(0,yu.jsx)("path",{d:"M18 6.41 16.59 5 12 9.58 7.41 5 6 6.41l6 6z"},"0"),(0,yu.jsx)("path",{d:"m18 13-1.41-1.41L12 16.17l-4.59-4.58L6 13l6 6z"},"1")],"KeyboardDoubleArrowDown");Gf=ul.default=N1;var dl={},O1=Ct;Object.defineProperty(dl,"__esModule",{value:!0});var Kf=dl.default=void 0,L1=O1(Tt()),xu=Be,D1=(0,L1.default)([(0,xu.jsx)("path",{d:"M6.41 6 5 7.41 9.58 12 5 16.59 6.41 18l6-6z"},"0"),(0,xu.jsx)("path",{d:"m13 6-1.41 1.41L16.17 12l-4.58 4.59L13 18l6-6z"},"1")],"KeyboardDoubleArrowRight");Kf=dl.default=D1;const A1=oe({name:"1wdmsdx",styles:"align-items:center;display:flex;flex:none;gap:2px;justify-content:center;margin-right:0.5rem"});function P1(e){const{onExpandAll:t,onExpandOne:n,onCollapseAll:r,onCollapseOne:i}=e;return F("div",{className:A1,"data-testid":"TimelineCollapser",children:[f(Lt,{title:"Expand +1",children:f($n,{fontSize:"small",style:{cursor:"pointer",color:e.theme.contrast},onClick:n})}),f(Lt,{title:"Collapse +1",children:f(Kn,{fontSize:"small",style:{cursor:"pointer",color:e.theme.contrast},onClick:i})}),f(Lt,{title:"Expand All",children:f(Gf,{fontSize:"small",style:{cursor:"pointer",color:e.theme.contrast},onClick:t})}),f(Lt,{title:"Collapse All",children:f(Kf,{fontSize:"small",style:{cursor:"pointer",color:e.theme.contrast},onClick:r})})]})}var Hn=(e=>(e.DragEnd="DragEnd",e.DragMove="DragMove",e.DragStart="DragStart",e.MouseEnter="MouseEnter",e.MouseLeave="MouseLeave",e.MouseMove="MouseMove",e))(Hn||{});const Su=0;class wi{constructor({getBounds:t,tag:n,resetBoundsOnResize:r=!0,...i}){this.resetBounds=()=>{this._bounds=void 0},this._handleMinorMouseEvent=s=>{const{button:o,clientX:l,type:c}=s;if(this._isDragging||o!==Su)return;let h=null,u;if(c==="mouseenter")h=Hn.MouseEnter,u=this._onMouseEnter;else if(c==="mouseleave")h=Hn.MouseLeave,u=this._onMouseLeave;else if(c==="mousemove")h=Hn.MouseMove,u=this._onMouseMove;else throw new Error(`invalid event type: ${c}`);if(!u)return;const{value:g,x:S}=this._getPosition(l);u({event:s,type:h,value:g,x:S,manager:this,tag:this.tag})},this._handleDragEvent=s=>{const{button:o,clientX:l,type:c}=s;let h=null,u;if(c==="mousedown"){if(this._isDragging||o!==Su)return;window.addEventListener("mousemove",this._handleDragEvent),window.addEventListener("mouseup",this._handleDragEvent);const w=Ft.get(document,"body.style");w&&(w.userSelect="none"),this._isDragging=!0,h=Hn.DragStart,u=this._onDragStart}else if(c==="mousemove"){if(!this._isDragging)return;h=Hn.DragMove,u=this._onDragMove}else if(c==="mouseup"){if(!this._isDragging)return;this._stopDragging(),h=Hn.DragEnd,u=this._onDragEnd}else throw new Error(`invalid event type: ${c}`);if(!u)return;const{value:g,x:S}=this._getPosition(l);u({event:s,type:h,value:g,x:S,manager:this,tag:this.tag})},this.handleMouseDown=this._handleDragEvent,this.handleMouseEnter=this._handleMinorMouseEvent,this.handleMouseMove=this._handleMinorMouseEvent,this.handleMouseLeave=this._handleMinorMouseEvent,this.getBounds=t,this.tag=n,this._isDragging=!1,this._bounds=void 0,this._resetBoundsOnResize=!!r,this._resetBoundsOnResize&&window.addEventListener("resize",this.resetBounds),this._onMouseEnter=i.onMouseEnter,this._onMouseLeave=i.onMouseLeave,this._onMouseMove=i.onMouseMove,this._onDragStart=i.onDragStart,this._onDragMove=i.onDragMove,this._onDragEnd=i.onDragEnd}_getBounds(){return this._bounds||(this._bounds=this.getBounds(this.tag)),this._bounds}_getPosition(t){const{clientXLeft:n,maxValue:r,minValue:i,width:s}=this._getBounds();let o=t-n,l=o/s;return i!=null&&l<i?(l=i,o=i*s):r!=null&&l>r&&(l=r,o=r*s),{value:l,x:o}}_stopDragging(){window.removeEventListener("mousemove",this._handleDragEvent),window.removeEventListener("mouseup",this._handleDragEvent);const t=Ft.get(document,"body.style");t&&(t.userSelect=null),this._isDragging=!1}isDragging(){return this._isDragging}dispose(){this._isDragging&&this._stopDragging(),this._resetBoundsOnResize&&window.removeEventListener("resize",this.resetBounds),this._bounds=void 0,this._onMouseEnter=void 0,this._onMouseLeave=void 0,this._onMouseMove=void 0,this._onDragStart=void 0,this._onDragMove=void 0,this._onDragEnd=void 0}}const $1=ve("div",{target:"e1jlivkg0"})({name:"zigtzn",styles:"left:0;position:absolute;right:0;top:0"}),z1=oe({name:"1vwsdhr",styles:'border-left:2px solid transparent;cursor:col-resize;height:5000px;margin-left:-1px;position:absolute;top:0;width:1px;z-index:10;&:hover{border-left:2px solid rgba(0, 0, 0, 0.3);}&::before{position:absolute;top:0;bottom:0;left:-8px;right:0;content:" ";}'}),V1=oe({name:"1cmvdwg",styles:"background:rgba(136, 0, 136, 0.05);width:unset;&::before{left:-2000px;right:-2000px;}"}),F1=oe({name:"1njfg9m",styles:"border-left:2px solid #808;border-right:1px solid #999"}),j1=oe({name:"131nr17",styles:"border-left:1px solid #999;border-right:2px solid #808"}),H1=oe({name:"1byn60z",styles:'position:absolute;top:0;bottom:0;&::before,&::after{border-right:1px solid #ccc;content:" ";height:9px;position:absolute;right:9px;top:25px;}&::after{right:5px;}'}),B1=oe({name:"yvovfk",styles:"&::before,&::after{border-right:1px solid rgba(136, 0, 136, 0.5);}"});class q1 extends ln.PureComponent{constructor(t){super(t),this._setRootElm=n=>{this._rootElm=n},this._getDraggingBounds=()=>{if(!this._rootElm)throw new Error("invalid state");const{left:n,width:r}=this._rootElm.getBoundingClientRect(),{min:i,max:s}=this.props;return{clientXLeft:n,width:r,maxValue:s,minValue:i}},this._handleDragUpdate=({value:n})=>{this.setState({dragPosition:n})},this._handleDragEnd=({manager:n,value:r})=>{n.resetBounds(),this.setState({dragPosition:null}),this.props.onChange(r)},this._dragManager=new wi({getBounds:this._getDraggingBounds,onDragEnd:this._handleDragEnd,onDragMove:this._handleDragUpdate,onDragStart:this._handleDragUpdate}),this._rootElm=void 0,this.state={dragPosition:null}}componentWillUnmount(){this._dragManager.dispose()}render(){let t,n;const{position:r,columnResizeHandleHeight:i}=this.props,{dragPosition:s}=this.state;t=`${r*100}%`;const o={left:t};let l=!1,c=!1;if(this._dragManager.isDragging()&&this._rootElm&&s!=null){l=s<r,c=s>r,t=`${s*100}%`;const u=`${Math.min(r,s)*100}%`,g=`calc(${(1-Math.max(r,s))*100}% - 1px)`;n={left:u,right:g}}else n=o;n.height=i;const h=l||c;return F($1,{ref:this._setRootElm,"data-testid":"TimelineColumnResizer",children:[f("div",{className:wt(H1,h&&B1),style:o,"data-testid":"TimelineColumnResizer--gripIcon"}),f("div",{"aria-hidden":!0,className:wt(z1,h&&V1,c&&j1,l&&F1),onMouseDown:this._dragManager.handleMouseDown,style:n,"data-testid":"TimelineColumnResizer--dragger"})]})}}const W1=ve("div",{target:"e11gyo5p1"})({name:"1vtnfa",styles:"bottom:0;cursor:vertical-text;left:0;position:absolute;right:0;top:0;font-size:12px"}),U1=ve("div",{target:"e11gyo5p0"})({name:"w0nmqh",styles:"position:absolute;top:0;bottom:0;left:0;width:1px;background-color:red"}),Q1=oe({name:"71fr29",styles:"position:absolute;top:0;bottom:0"}),G1=oe({name:"1ae8ag1",styles:"border-left:1px solid"}),K1=oe({name:"1viz3rc",styles:"border-right:1px solid"}),J1=oe({name:"119b89",styles:"background-color:rgba(68, 68, 255, 0.2);border-color:#44f"}),Y1=oe({name:"11eaajw",styles:"background-color:rgba(255, 68, 68, 0.2);border-color:#f44"});function X1(e){return Reflect.has(e,"isOutOfView")}function Ia(e,t,n){return e+n*(t-e)}function Ga(e,t,n){return(n-e)/(t-e)}function Z1(e,t){let[n,r]=e<t?[e,t]:[t,e];return n>=1||r<=0?{isOutOfView:!0}:(n<0&&(n=0),r>1&&(r=1),{isDraggingLeft:e>t,left:`${n*100}%`,width:`${(r-n)*100}%`})}function Ra(e,t,n,r,i){const s=Ga(e,t,n),o=Ga(e,t,r),l=Z1(s,o);if(X1(l))return null;const{isDraggingLeft:c,left:h,width:u}=l,g=Pe({[K1]:!c,[Y1]:!i,[J1]:i});return f("div",{className:Pe(Q1,G1,g),style:{left:h,width:u},"data-testid":"Dragged"})}class eT extends ln.PureComponent{constructor(t){super(t),this._setRoot=n=>{this._root=n},this._getDraggingBounds=()=>{if(!this._root)throw new Error("invalid state");const{left:n,width:r}=this._root.getBoundingClientRect();return{clientXLeft:n,width:r}},this._handleReframeMouseMove=({value:n})=>{const[r,i]=this.props.viewRangeTime.current,s=Ia(r,i,n);this.props.updateNextViewRangeTime({cursor:s})},this._handleReframeMouseLeave=()=>{this.props.updateNextViewRangeTime({cursor:void 0})},this._handleReframeDragUpdate=({value:n})=>{const{current:r,reframe:i}=this.props.viewRangeTime,[s,o]=r,l=Ia(s,o,n),h={reframe:{anchor:i?i.anchor:l,shift:l}};this.props.updateNextViewRangeTime(h)},this._handleReframeDragEnd=({manager:n,value:r})=>{const{current:i,reframe:s}=this.props.viewRangeTime,[o,l]=i,c=Ia(o,l,r),h=s?s.anchor:c,[u,g]=c<h?[c,h]:[h,c];n.resetBounds(),this.props.updateViewRangeTime(u,g,"timeline-header")},this._draggerReframe=new wi({getBounds:this._getDraggingBounds,onDragEnd:this._handleReframeDragEnd,onDragMove:this._handleReframeDragUpdate,onDragStart:this._handleReframeDragUpdate,onMouseLeave:this._handleReframeMouseLeave,onMouseMove:this._handleReframeMouseMove}),this._root=void 0}componentDidUpdate(t,n,r){const{boundsInvalidator:i}=this.props;i!==t.boundsInvalidator&&this._draggerReframe.resetBounds()}componentWillUnmount(){this._draggerReframe.dispose()}render(){const{viewRangeTime:t}=this.props,{current:n,cursor:r,reframe:i,shiftEnd:s,shiftStart:o}=t,[l,c]=n,h=i!=null||s!=null||o!=null;let u;return!h&&r!=null&&r>=l&&r<=c&&(u=`${Ga(l,c,r)*100}%`),F(W1,{"aria-hidden":!0,ref:this._setRoot,onMouseDown:this._draggerReframe.handleMouseDown,onMouseLeave:this._draggerReframe.handleMouseLeave,onMouseMove:this._draggerReframe.handleMouseMove,"data-testid":"TimelineViewingLayer",children:[u!=null&&f(U1,{style:{left:u},"data-testid":"TimelineViewingLayer--cursorGuide"}),i!=null&&Ra(l,c,i.anchor,i.shift,!1),s!=null&&Ra(l,c,c,s,!0),o!=null&&Ra(l,c,l,o,!0)]})}}const tT=e=>oe("background:",e.background,";border-bottom:1px solid ",e.accentNeutral,";color:",e.contrast," height:38px;line-height:38px;width:100%;z-index:4;position:relative;font-size:12px;",""),nT=oe({name:"1h3rtzg",styles:"align-items:center"}),rT=oe({name:"x7as9m",styles:"flex:1;overflow:hidden;margin:0;text-overflow:ellipsis;white-space:nowrap"});function iT(e){const{duration:t,nameColumnWidth:n,numTicks:r,onCollapseAll:i,onCollapseOne:s,onColummWidthChange:o,onExpandAll:l,onExpandOne:c,updateViewRangeTime:h,updateNextViewRangeTime:u,viewRangeTime:g,columnResizeHandleHeight:S}=e,[w,m]=g.current;return F(_n,{theme:e.theme,className:tT(e.theme),"data-testid":"TimelineHeaderRow",children:[F(_n.Cell,{theme:e.theme,className:wt(a1,jf,nT),width:n,id:"collapser",children:[f("h4",{className:rT,children:"Service & Operation"}),f(P1,{theme:e.theme,onCollapseAll:i,onExpandAll:l,onCollapseOne:s,onExpandOne:c})]}),F(_n.Cell,{theme:e.theme,id:"ticker",width:1-n,children:[f(eT,{boundsInvalidator:n,updateNextViewRangeTime:u,updateViewRangeTime:h,viewRangeTime:g}),f(cl,{theme:e.theme,numTicks:r,startTime:w*t,endTime:m*t,showLabels:!0})]}),f(q1,{columnResizeHandleHeight:S,position:n,onChange:o,min:.2,max:.85})]})}const sT="peer.service",fl=["#7db26c","#eab839","#6cd0e0","#ef853e","#e14c41","#1f78c1","#bb44a9","#715ea1","#4f8542","#cca300","#447ebb","#c05a16","#880f02","#0a427b","#6b1e61","#594578","#b6daa9","#f4d699","#6edaed","#f9ba90","#f29191","#83b6d8","#e5a9e2","#afa3e0","#629e51","#e6ad0f","#64b1c9","#e0752e","#bd1900","#0a52a3","#952d82","#614d93","#99c388","#f2cb6e","#66c6db","#f9924e","#ea6661","#5095ce","#d685ce","#7f6cb7","#3f6732","#977402","#30585f","#99430a","#5a140c","#052b51","#501648","#3e2a5a","#e0f9d7","#fceaca","#d1faff","#f9e2d2","#fce2de","#b8def4","#f9d7f9","#ddd9f7"];function aT(e){if(e.length!==7)return[0,0,0];const t=e.slice(1,3),n=e.slice(3,5),r=e.slice(5);return[parseInt(t,16),parseInt(n,16),parseInt(r,16)]}class oT{constructor(t,n){const r=cT(t,n);this.colorsHex=r,this.colorsRgb=r.map(aT),this.cache=new Map}_getColorIndex(t){let n=this.cache.get(t);if(n==null){const r=this.hashCode(t.toLowerCase()),i=Math.abs(r%this.colorsHex.length);n=i===4?i+1:i,this.cache.set(t,n)}return n}hashCode(t){let n=0,r,i;for(r=0;r<t.length;r++)i=t.charCodeAt(r),n=(n<<5)-n+i;return n}getColorByKey(t){const n=this._getColorIndex(t);return this.colorsHex[n]}getRgbColorByKey(t){const n=this._getColorIndex(t);return this.colorsRgb[n]}clear(){this.cache.clear()}}const Jf=ti((e,t)=>new oT(e,t));function Zi(e,t){return Jf(fl,t).getColorByKey(e)}function lT(e,t){return Jf(fl,t).getRgbColorByKey(e)}function cT(e,t){if(!t)return fl;const n=e.indexOf("#e14c41");n>-1&&e.splice(n,1);let r=[];for(const i of e)r.push(i);return r}class uT{constructor(t){this.ys=[],this.heights=[],this.bufferLen=t,this.dataLen=-1,this.lastI=-1}profileData(t){t!==this.dataLen&&(this.dataLen=t,this.ys.length=t,this.heights.length=t,this.lastI>=t&&(this.lastI=t-1))}calcHeights(t,n,r){r!=null&&(this.lastI=r);let i=t+this.bufferLen;if(i<=this.lastI)return;i>=this.heights.length&&(i=this.heights.length-1);let s=this.lastI;for(this.lastI===-1&&(s=0,this.ys[0]=0);s<=i;){const o=this.heights[s]=n(s);this.ys[s+1]=this.ys[s]+o,s++}this.lastI=i}calcYs(t,n){for(;(this.ys[this.lastI]==null||t>this.ys[this.lastI])&&this.lastI<this.dataLen-1;)this.calcHeights(this.lastI,n)}confirmHeight(t,n){let r=t;if(r>this.lastI){this.calcHeights(r,n);return}const i=n(r);if(i===this.heights[r])return;const s=i-this.heights[r];for(this.heights[r]=i;++r<=this.lastI;)this.ys[r]+=s;this.ys[this.lastI+1]!=null&&(this.ys[this.lastI+1]+=s)}findFloorIndex(t,n){this.calcYs(t,n);let r=0,i=this.lastI;if(this.ys.length<2||t<this.ys[1])return 0;if(t>this.ys[i])return i;let s;for(;r<i;)if(s=r+.5*(i-r)|0,t>this.ys[s]){if(t<=this.ys[s+1])return s;r=s}else if(t<this.ys[s]){if(t>=this.ys[s-1])return s-1;i=s}else return s;throw new Error(`unable to find floor index for y=${t}`)}getRowPosition(t,n){return this.confirmHeight(t,n),{height:this.heights[t],y:this.ys[t]}}getEstimatedHeight(){const t=this.ys[this.lastI]+this.heights[this.lastI];return this.lastI>=this.dataLen-1?t|0:t/(this.lastI+1)*this.heights.length|0}}const Yf=100;class Xf extends ln.Component{constructor(t){super(t),this.getViewHeight=()=>this._viewHeight,this.getBottomVisibleIndex=()=>{const n=this._scrollTop+this._viewHeight;return this._yPositions.findFloorIndex(n,this._getHeight)},this.getTopVisibleIndex=()=>this._yPositions.findFloorIndex(this._scrollTop,this._getHeight),this.getRowPosition=n=>this._yPositions.getRowPosition(n,this._getHeight),this.scrollToIndex=n=>{var c,h;const{scrollElement:r}=this.props,i=(r==null?void 0:r.getBoundingClientRect().top)||0,o=((r==null?void 0:r.scrollTop)||0)+(((c=this._itemHolderElm)==null?void 0:c.getBoundingClientRect().top)||0)-i,l=this.getRowPosition(n).y;(h=this.props.scrollElement)==null||h.scrollTo({top:l+o-80})},this._onScroll=()=>{this._isScrolledOrResized||(this._isScrolledOrResized=!0,window.requestAnimationFrame(this._positionList))},this._positionList=()=>{if(this._isScrolledOrResized=!1,!this._wrapperElm)return;this._calcViewIndexes();const n=this.props.viewBufferMin>this._startIndex?0:this._startIndex-this.props.viewBufferMin,r=this.props.viewBufferMin<this.props.dataLength-this._endIndex?this._endIndex+this.props.viewBufferMin:this.props.dataLength-1;(n<this._startIndexDrawn||r>this._endIndexDrawn)&&this.forceUpdate()},this._initWrapper=n=>{this.props.windowScroller&&(this._wrapperElm=n,n&&(this._viewHeight=n.clientHeight))},this._initItemHolder=n=>{this._itemHolderElm=n,this._scanItemHeights()},this._scanItemHeights=()=>{const n=this.props.getIndexFromKey;if(!this._itemHolderElm)return;let r=null,i=null,s=!1;const o=this._itemHolderElm.childNodes,l=o.length;for(let c=0;c<l;c++){const h=o[c],u=h.getAttribute("data-item-key");if(!u){console.warn("itemKey not found");continue}const S=(h.firstElementChild||h).clientHeight,w=this._knownHeights.get(u);S!==w&&(this._knownHeights.set(u,S),s?i=u:(s=!0,r=i=u))}if(r!=null&&i!=null){const c=n(r),h=i===r?c:n(i);this._yPositions.calcHeights(h,this._getHeight,c),this.forceUpdate()}},this._getHeight=n=>{const r=this.props.getKeyFromIndex(n),i=this._knownHeights.get(r);return i!=null&&i===i?i:this.props.itemHeightGetter(n,r)},this._yPositions=new uT(200),this._knownHeights=new Map,this._startIndexDrawn=2**20,this._endIndexDrawn=-(2**20),this._startIndex=0,this._endIndex=0,this._viewHeight=-1,this._scrollTop=-1,this._isScrolledOrResized=!1,this._htmlTopOffset=-1,this._windowScrollListenerAdded=!1,this._htmlElm=document.documentElement,this._wrapperElm=void 0,this._itemHolderElm=void 0}componentDidMount(){var t;if(this.props.windowScroller){if(this._wrapperElm){const{top:n}=this._wrapperElm.getBoundingClientRect();this._htmlTopOffset=n+this._htmlElm.scrollTop}window.addEventListener("scroll",this._onScroll),this._windowScrollListenerAdded=!0}else this._wrapperElm=this.props.scrollElement,(t=this._wrapperElm)==null||t.addEventListener("scroll",this._onScroll)}componentDidUpdate(){this._itemHolderElm&&this._scanItemHeights()}componentWillUnmount(){var t;this._windowScrollListenerAdded?window.removeEventListener("scroll",this._onScroll):(t=this._wrapperElm)==null||t.removeEventListener("scroll",this._onScroll)}_isViewChanged(){if(!this._wrapperElm)return!1;const t=this.props.windowScroller,n=t?this._htmlElm.clientHeight:this._wrapperElm.clientHeight,r=t?this._htmlElm.scrollTop:this._wrapperElm.scrollTop;return n!==this._viewHeight||r!==this._scrollTop}_calcViewIndexes(){if(this.props.windowScroller)this._viewHeight=window.innerHeight-this._htmlTopOffset,this._scrollTop=window.scrollY;else{if(!this._wrapperElm){this._viewHeight=-1,this._startIndex=0,this._endIndex=0;return}this._viewHeight=this._wrapperElm.clientHeight,this._scrollTop=this._wrapperElm.scrollTop}const n=this._scrollTop,r=this._scrollTop+this._viewHeight;this._startIndex=this._yPositions.findFloorIndex(n,this._getHeight),this._endIndex=this._yPositions.findFloorIndex(r,this._getHeight)}render(){const{dataLength:t,getKeyFromIndex:n,initialDraw:r=Yf,itemRenderer:i,viewBuffer:s,viewBufferMin:o}=this.props,l=this._getHeight,c=[];let h,u;if(this._yPositions.profileData(t),!this._wrapperElm)h=0,u=(r<t?r:t)-1;else{this._isViewChanged()&&this._calcViewIndexes();const w=o>this._startIndex?0:this._startIndex-o,m=o<t-this._endIndex?this._endIndex+o:t-1;w<this._startIndexDrawn||m>this._endIndexDrawn?(h=s>this._startIndex?0:this._startIndex-s,u=this._endIndex+s,u>=t&&(u=t-1)):(h=this._startIndexDrawn,u=this._endIndexDrawn>t-1?t-1:this._endIndexDrawn)}this._yPositions.calcHeights(u,l,h||-1),this._startIndexDrawn=h,this._endIndexDrawn=u,c.length=u-h+1;for(let w=h;w<=u;w++){const{y:m,height:C}=this._yPositions.getRowPosition(w,l),k={height:C,top:m,position:"absolute"},T=n(w),x={"data-item-key":T};c.push(i(T,k,w,x))}const g={style:{position:"inherit"},ref:this._initWrapper};this.props.windowScroller||(g.onScroll=this._onScroll,g.style.height="100%",g.style.overflowY="auto");const S={position:"relative",height:this._yPositions.getEstimatedHeight()};return f("div",{...g,children:f("div",{style:S,children:f("div",{style:{position:"absolute",top:0,margin:0,padding:0},className:this.props.itemsWrapperClassName,ref:this._initItemHolder,children:c})})})}}Xf.defaultProps={initialDraw:Yf,itemsWrapperClassName:"",windowScroller:!1};var hl={},dT=Ct;Object.defineProperty(hl,"__esModule",{value:!0});var Zf=hl.default=void 0,fT=dT(Tt()),hT=Be,pT=(0,fT.default)((0,hT.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"}),"Error");Zf=hl.default=pT;var pl={},gT=Ct;Object.defineProperty(pl,"__esModule",{value:!0});var Ka=pl.default=void 0,mT=gT(Tt()),vT=Be,bT=(0,mT.default)((0,vT.jsx)("path",{d:"M16.01 11H4v2h12.01v3L20 12l-3.99-4z"}),"ArrowRightAlt");Ka=pl.default=bT;const yT="None",xT="Duration",ST="Tag",wT=oe({name:"1s3epx",styles:"bottom:0;left:0;position:absolute;right:0;top:0;overflow:hidden;z-index:0"}),TT=oe({name:"1k90chh",styles:"border-radius:3px;min-width:2px;position:absolute;height:36%;top:32%"}),CT=oe({name:"dwm5fv",styles:'color:#aaa;font-size:12px;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;line-height:1em;white-space:nowrap;padding:0 0.5em;position:absolute'});function es(e){return`${(e*100).toFixed(1)}%`}function kT({viewEnd:e,viewStart:t,color:n,shortLabel:r,longLabel:i,onClick:s,rpc:o,className:l,labelClassName:c}){const[h,u]=b.useState(r),g=()=>u(r),S=()=>u(i),w=qe();return f(vt,{theme:w,children:F("div",{className:wt(wT,l),onClick:s,onMouseLeave:g,onMouseOver:S,"aria-hidden":!0,children:[f("div",{"aria-label":h,className:TT,style:{background:n,left:es(t),width:es(e-t)},children:f("div",{className:wt(CT,c),"data-testid":"SpanBar--label",children:h})}),f("div",{}),o&&f("div",{style:{background:o.color,left:es(o.viewStart),width:es(o.viewEnd-o.viewStart)}})]})})}const ET=ln.memo(kT);function wu(e){return Ft.get(Ft.find(e.references,({span:t,refType:n})=>t&&t.spanID&&(n==="CHILD_OF"||n==="FOLLOWS_FROM")),"span")}function _T(e){const t=[];if(!e)return t;let n=wu(e);for(;n;)t.push(n.spanID),n=wu(n);return t}const IT=e=>oe("color:",e.background,";position:relative;",""),RT=oe({name:"1p3qk0r",styles:"&:hover{cursor:pointer;}"}),MT=e=>oe('padding-right:calc(0.5rem + 12px);height:100%;border-left:1px solid transparent;display:inline-flex;&::before{content:"";padding-left:1px;background-color:',e.accentNeutral,";}",""),NT=e=>oe("border-color:",e.shadow,";&::before{background-color:transparent;}",""),OT=ve("span",{target:"em1k31n0"})({name:"1ej441y",styles:"position:absolute;right:0.25rem"});class Os extends ln.PureComponent{constructor(t){super(t),this.handleMouseLeave=(n,r)=>{(!(n.relatedTarget instanceof HTMLSpanElement)||Ft.get(n,"relatedTarget.dataset.ancestorId")!==r)&&this.props.removeHoverIndentGuideId(r)},this.handleMouseEnter=(n,r)=>{(!(n.relatedTarget instanceof HTMLSpanElement)||Ft.get(n,"relatedTarget.dataset.ancestorId")!==r)&&this.props.addHoverIndentGuideId(r)},this.ancestorIds=_T(t.span),this.ancestorIds.push("root"),this.ancestorIds.reverse()}render(){const{childrenVisible:t,onClick:n,showChildrenIcon:r,span:i}=this.props,{hasChildren:s,spanID:o}=i,l=s?{onClick:n,role:"switch","aria-checked":t}:null,c=r&&s&&(t?f($n,{style:{color:this.props.theme.contrast}}):f(Kn,{style:{color:this.props.theme.contrast}}));return F("span",{className:wt(IT(this.props.theme),{[RT]:s}),...l,children:[this.ancestorIds.map(h=>f("span",{className:wt(MT(this.props.theme),{[NT(this.props.theme)]:this.props.hoverIndentGuideIds.has(h)}),"data-ancestor-id":h,"data-testid":"SpanTreeOffset--indentGuide",onMouseEnter:u=>this.handleMouseEnter(u,h),onMouseLeave:u=>this.handleMouseLeave(u,h)},h)),c&&f(OT,{onMouseEnter:h=>this.handleMouseEnter(h,o),onMouseLeave:h=>this.handleMouseLeave(h,o),"data-testid":"icon-wrapper",children:c})]})}}Os.displayName="UnthemedSpanTreeOffset";Os.defaultProps={childrenVisible:!1,showChildrenIcon:!0};const Ls="spanBar",Ds="spanBarLabel",br="nameWrapper",eh="nameWrapperMatchingFilter",yr="jaegerView",LT="nameColumn",Tu=oo({name:"1ggtp7d",styles:"from{background-color:#68b9ff;}to{background-color:default;}"}),DT=oe({name:"oapv1g",styles:"line-height:27px;overflow:hidden;display:flex"}),AT=oe({name:"m5858l",styles:"background-color:#fffce4"}),PT=oe({name:"1icyexn",styles:"position:relative;white-space:nowrap;z-index:1;&:hover{z-index:1;}"}),Cu=ve("small",{target:"eclumqi1"})({name:"wws2e6",styles:"color:#808080;font-size:80%"}),$T=oe({name:"bjn8wh",styles:"position:relative"}),zT=e=>oe("background:",e.background,";outline:1px solid ",e.background,";",""),VT=e=>oe("background:#fff3d7;outline:1px solid ",e.background,";",""),FT=e=>oe("&:hover .",Ls,"{opacity:1;}&:hover .",Ds,"{color:",e.contrast,";}&:hover .",br,"{background:",e.background,`;background:linear-gradient(
            90deg,
            `,e.shadow,`,
            `,e.background,` 75%,
            #eee
        );}&:hover .`,yr,"{background-color:#f5f5f5;outline:1px solid ",e.background,";}",""),jT=oe({name:"7840j2",styles:`& .nameColumn::before{content:" ";height:100%;position:absolute;width:6px;background-image:linear-gradient(
            to right,
            rgba(25, 25, 25, 0.25),
            rgba(32, 32, 32, 0)
        );left:100%;z-index:-1;}`}),HT=oe({name:"1lubjoz",styles:`& .jaegerView::before{content:" ";height:100%;position:absolute;width:6px;background-image:linear-gradient(
            to left,
            rgba(25, 25, 25, 0.25),
            rgba(25, 25, 25, 0.25)
        );right:0%;z-index:1;}`}),BT=e=>oe("color:",e.contrast,";& .",Ls,"{opacity:1;}& .",Ds,"{color:",e.contrast,";}& .",br,",&:hover .",br,"{background:",e.background,";box-shadow:0 1px 0 ",e.deep,";}& .",eh,"{background:",e.shadow,";}&:hover .",yr,"{background:",e.shadow,";}",""),qT=e=>oe("background-color:",e.shadow,";&:hover .",br,"{background:",e.shadow,";}&:hover .",yr,"{background-color:#f7f1c6;outline:1px solid ",e.background,";}",""),WT=e=>oe("background-color:",e.shadow,";animation:",Tu," 1s cubic-bezier(0.12, 0, 0.39, 0);& .",br,",.",yr,",.",eh,"{background-color:",e.shadow,";animation:",Tu," 1s cubic-bezier(0.12, 0, 0.39, 0);}& .",Ls,"{opacity:1;}& .",Ds,"{color:",e.contrast,";}&:hover .",br,",:hover .",yr,"{background:#d5ebff;box-shadow:0 1px 0 ",e.background,";}",""),UT=e=>oe("&:hover .",yr,"{background:#ffeccf;}",""),QT=e=>oe("color:",e.contrast,';cursor:pointer;flex:1 1 auto;outline:none;overflow-y:hidden;overflow-x:auto;margin-right:8px;padding-left:4px;padding-right:0.25em;position:relative;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}&::before{content:" ";position:absolute;top:4px;bottom:4px;left:0;border-left:4px solid;border-left-color:inherit;}&:focus{text-decoration:none;}&:hover>small{color:',e.contrast,";}text-align:left;background:transparent;border:none;",""),GT=oe({name:"1cvi6zq",styles:"&::before{bottom:0;}"}),KT=oe({name:"16zb2y",styles:"padding:0 0.25rem 0 0.5rem"}),JT=oe({name:"1xwgrp",styles:"font-weight:bold;font-style:italic"}),YT=oe({name:"1k3bps6",styles:"border-radius:6.5px;color:#fff;font-size:0.85em;margin-right:0.25rem;padding:1px"}),ku=ve("i",{target:"eclumqi0"})({name:"1nkkyu1",styles:"border-radius:6.5px;display:inline-block;font-size:0.85em;height:1em;margin-right:0.25rem;padding:1px;width:1em;vertical-align:middle"}),XT=oe({name:"m99r4y",styles:"left:100%"}),ZT=oe({name:"azivvm",styles:"right:100%"});class gl extends ln.PureComponent{constructor(){super(...arguments),this._detailToggle=()=>{this.props.onDetailToggled(this.props.span.spanID)},this._childrenToggle=()=>{this.props.onChildrenToggled(this.props.span.spanID)},this.getSpanBarLabel=(t,n,r)=>{var s,o,l,c;const i=(n==null?void 0:n.type)??"";if(i===yT)return"";if(i===""||i===xT)return`(${r})`;if(i===ST){const h=((s=n==null?void 0:n.tag)==null?void 0:s.trim())??"";if(h!==""&&t.tags){const u=(o=t.tags)==null?void 0:o.find(S=>S.key===h),g=(c=(l=t.process)==null?void 0:l.tags)==null?void 0:c.find(S=>S.key===h);if(u)return`(${u.value})`;if(g)return`(${g.value})`}}return""}}render(){const{className:t,color:n,spanBarOptions:r,columnDivision:i,isChildrenExpanded:s,isDetailExpanded:o,isMatchingFilter:l,isFocused:c,numTicks:h,rpc:u,noInstrumentedServer:g,showErrorIcon:S,getViewedBounds:w,traceStartTime:m,span:C,hoverIndentGuideIds:k,addHoverIndentGuideId:T,removeHoverIndentGuideId:x,clippingLeft:N,clippingRight:I,createSpanLink:O}=this.props,{duration:D,hasChildren:p,operationName:E,process:{serviceName:_}}=C,A=vr(D),$=w(C.startTime,C.startTime+C.duration),z=$.start,V=$.end,K=`${_}::${E}`;let ie,ue;z>1-V?(ie=`${K} | ${A}`,ue=ZT):(ie=`${A} | ${K}`,ue=XT);const te=he=>he?Object.values(he).reduce((Y,Fe)=>Y+Fe.length,0):0;return F(_n,{theme:this.props.theme,className:wt(FT,{[BT(this.props.theme)]:o,[qT(this.props.theme)]:l,[UT(this.props.theme)]:l&&o,[WT(this.props.theme)]:c,[jT]:N,[HT]:I},t),children:[f(_n.Cell,{theme:this.props.theme,className:wt(PT,LT),width:i,children:F("div",{className:wt(DT,br,{[AT]:l,nameWrapperMatchingFilter:l}),children:[f(Os,{theme:this.props.theme,onClick:p?this._childrenToggle:void 0,childrenVisible:s,span:C,hoverIndentGuideIds:k,addHoverIndentGuideId:T,removeHoverIndentGuideId:x}),F("button",{type:"button",className:wt(QT(this.props.theme),{[GT]:o}),"aria-checked":o,title:K,onClick:this._detailToggle,role:"switch",style:{borderColor:n},tabIndex:0,children:[F("span",{className:wt(KT,{[JT]:p&&!s}),children:[S&&f(Zf,{style:{backgroundColor:C.errorIconColor?C.errorIconColor:"#db2828"},className:YT}),_," ",u&&F("span",{children:[f(Ka,{})," ",f(ku,{style:{background:u.color}}),u.serviceName]}),g&&F("span",{children:[f(Ka,{})," ",f(ku,{style:{background:g.color}}),g.serviceName]})]}),f(Cu,{children:u?u.operationName:E}),F(Cu,{children:[" ",this.getSpanBarLabel(C,r,A)]})]}),O&&(()=>{var Fe,$e,me;const he=O(C),Y=te(he);if(he&&Y===1){const ke=((Fe=he.logLinks)==null?void 0:Fe[0])??(($e=he.metricLinks)==null?void 0:$e[0])??((me=he.traceLinks)==null?void 0:me[0])??void 0;return ke?f("a",{href:ke.href,target:"_blank",style:{marginRight:"5px"},rel:"noopener noreferrer",onClick:ke.onClick?Oe=>{!(Oe.ctrlKey||Oe.metaKey||Oe.shiftKey)&&ke.onClick&&(Oe.preventDefault(),ke.onClick(Oe))}:void 0,children:ke.content}):null}else return he&&Y>1,null})()]})}),F(_n.Cell,{theme:this.props.theme,className:wt($T,yr,{[zT(this.props.theme)]:o,[VT(this.props.theme)]:l&&o}),"data-testid":"span-view",style:{cursor:"pointer"},width:1-i,onClick:this._detailToggle,children:[f(cl,{theme:this.props.theme,numTicks:h}),f(ET,{rpc:u,viewStart:z,viewEnd:V,getViewedBounds:w,color:n,shortLabel:A,longLabel:ie,traceStartTime:m,span:C,labelClassName:`${Ds} ${ue}`,className:Ls})]})]})}}gl.displayName="UnthemedSpanBarRow";gl.defaultProps={className:"",rpc:null};const eC=oe({name:"1wwkrqs",styles:"background:#ddd"}),tC=oe({name:"84lccc",styles:"display:inline-block;width:1px;height:0.9em;margin:0 8px;vertical-align:middle"}),nC=oe({name:"1mbw2d9",styles:"display:block;height:1px;width:100%;margin:24px 0;clear:both;position:relative;top:-0.06em"});function rC({className:e,style:t,type:n}){return f("div",{style:t,className:Pe(eC,n==="horizontal"?nC:tC,e)})}const iC=oe({name:"z06qs",styles:"list-style:none;margin:0;padding:0"}),sC=oe({name:"1x6ka8p",styles:"margin-right:-8px;display:flex;flex-wrap:wrap;justify-content:flex-end"}),aC=oe({name:"1r5gb7q",styles:"display:inline-block"}),oC=e=>oe("border-right:1px solid ",e,";padding:0 8px;",""),lC=ve("span",{target:"e1ja4gzb1"})("color:",({theme:e})=>e.contrast,";margin-right:0.25rem;font-size:12px;"),cC=ve("strong",{target:"e1ja4gzb0"})("color:",({theme:e})=>e.contrast,";margin-right:0.55rem;font-size:12px;");function th(e){const{className:t,divider:n=!1,items:r}=e;return f("ul",{className:wt(iC,t,n?sC:""),children:r.map(({key:i,label:s,value:o})=>F("li",{className:wt(aC,n?oC(e.theme.accentNeutral):""),children:[f(lC,{theme:e.theme,children:s}),f(cC,{theme:e.theme,children:o})]},`${i}`))})}const uC="label";function nh(e){const[t,n]=b.useState(!1),r=()=>{n(!0)};return f(Lt,{title:t?"Copied":e.tooltipTitle,children:f(Qd,{type:"button",onClick:r})})}nh.defaultProps={icon:"copy",className:void 0};const rh="copyIcon",dC=ve("div",{target:"efvy564"})("background:",({theme:e})=>e.background,";border:1px solid ",({theme:e})=>e.accentNeutral,";margin-bottom:0.5rem;max-height:450px;overflow:auto;"),fC=ve("tbody",{target:"efvy563"})({name:"1yq3syn",styles:"vertical-align:baseline"}),hC=ve("tr",{target:"efvy562"})("color:",({theme:e})=>e.contrast,";&>td{padding:0rem 0.5rem;height:30px;line-height:30px;box-sizing:border-box;font-size:12px;color:",({theme:e})=>e.contrast,";}&:nth-of-type(2n)>td{background:",({theme:e})=>e.shadow,";}&:not(:hover) .",rh,"{visibility:hidden;}"),pC=ve("td",{target:"efvy561"})("color:",({theme:e})=>e.contrast,"!important;white-space:pre;width:125px;"),gC=ve("td",{target:"efvy560"})({name:"2qga7i",styles:"text-align:right"}),mC=/^(\[|\{)/;function vC(e){if(typeof e=="string"&&mC.test(e))try{return JSON.parse(e)}catch{}return e}const ih=e=>F("a",{href:e.href,title:e.title,target:"_blank",rel:"noopener noreferrer",children:[e.children," ",f(Is,{})]});ih.defaultProps={title:""};function bC(e){const{data:t,linksGetter:n,theme:r}=e;return f(dC,{theme:r,"data-testid":"KeyValueTable",children:f("table",{className:u1,children:f(fC,{children:t.map((i,s)=>{const o={__html:pg(vC(i.value))},l=f("div",{className:l1,dangerouslySetInnerHTML:o}),c=n?n(t,s):null;let h;return c&&c.length?h=f("div",{children:f(ih,{href:c[0].url,title:c[0].text,children:l})}):h=l,F(hC,{theme:r,children:[f(pC,{theme:r,"data-testid":"KeyValueTable--keyColumn",children:i.key}),f("td",{children:h}),f(gC,{children:f(nh,{className:rh,copyText:JSON.stringify(i,null,2),tooltipTitle:"Copy JSON"})})]},`${i.key}-${s}`)})})})})}const yC=oe({name:"1n1b5lu",styles:"cursor:pointer;overflow:hidden;display:flex;align-items:center;padding:0.25em 0.1em;font-size:12px;text-overflow:ellipsis;white-space:nowrap;&:hover{}"}),xC=oe({name:"qc2u2j",styles:"background:none;cursor:initial"}),SC=oe({name:"p5qggn",styles:"&:hover{}"}),wC=oe("",""),TC=ve("ul",{target:"ehdza0o3"})({name:"qock2",styles:"display:inline;list-style:none;padding:0"}),CC=ve("li",{target:"ehdza0o2"})({name:"1uj10ny",styles:"display:inline;margin-left:0.7em;padding-right:0.5rem;border-right:1px solid #ddd;&:last-child{padding-right:0;border-right:none;}"}),kC=ve("span",{target:"ehdza0o1"})({name:"1e64wdl",styles:"color:#777"}),EC=ve("span",{target:"ehdza0o0"})({name:"12cl9nh",styles:"color:#bbb;padding:0 0.2em"});function sh(e){const{data:t}=e;return!Array.isArray(t)||!t.length?null:f(TC,{children:t.map((n,r)=>F(CC,{children:[f(kC,{children:n.key}),f(EC,{children:"="}),String(n.value)]},`${n.key}-${r}`))})}sh.defaultProps={data:null};function _i(e){const{className:t,data:n,highContrast:r,interactive:i,isOpen:s,label:o,linksGetter:l,onToggle:c}=e,h=!Array.isArray(n)||!n.length;let u=null,g=null;return i&&(u=s?f($n,{fontSize:"small",style:{height:"13px",width:"13px"}}):f(Kn,{fontSize:"small",style:{height:"13px",width:"13px"}}),g={"aria-checked":s,onClick:h?null:c,role:"switch"}),F("div",{className:wt(t,c1),children:[F("div",{className:wt(yC,{[xC]:h,[SC]:r&&!h}),...g,"data-testid":"AccordianKeyValues--header",children:[u,F("strong",{"data-test":uC,children:[o,s||":"]}),!s&&f(sh,{data:n})]}),s&&f(bC,{theme:e.theme,data:n,linksGetter:l})]})}_i.defaultProps={className:null,highContrast:!1,interactive:!0,onToggle:null};const _C=ve("div",{target:"ez022cq2"})({name:"3ouqx7",styles:"position:relative;margin-bottom:0.25rem"}),IC=ve("small",{target:"ez022cq1"})({name:"1ew8yt4",styles:"font-size:80%"}),RC=ve("div",{target:"ez022cq0"})(""),MC=oe({name:"1ruuvzr",styles:"display:flex;align-items:center;color:inherit;font-size:12px;padding:0.25rem 0.5rem;&:hover{}"});function Ja(e){const{interactive:t,isOpen:n,linksGetter:r,logs:i,openedItems:s,onItemToggle:o,onToggle:l,timestamp:c}=e;let h=null,u="span",g=null;t&&(h=n?f($n,{style:{height:"13px",width:"12px"},className:Ei}):f(Es,{style:{height:"13px",width:"12px"},className:Ei}),u="a",g={"aria-checked":n,onClick:l,role:"switch"});const S=ln.useMemo(()=>i.map(w=>{var C;const m=(C=Object.keys(w))==null?void 0:C.filter(k=>k!=="timeUnixNano");return{timestamp:parseInt(w.timeUnixNano)/1e3,fields:m.map(k=>({key:k,value:w[k]}))}}),[i]);return F(_C,{children:[F(u,{className:MC,...g,children:[h," ",F("strong",{children:["Events (",S.length,")"]})]}),n&&F(RC,{children:[Ft.sortBy(S,"timestamp").map((w,m)=>f(_i,{className:m<S.length-1?ll:null,data:w.fields||[],highContrast:!0,interactive:t,isOpen:s?s.has(w):!1,label:`${vr(w.timestamp-c)}`,linksGetter:r,onToggle:t&&o?()=>o(w):null},`${w.timestamp}-${m}`)),f(IC,{children:"Log timestamps are relative to the start time of the full trace."})]})]})}Ja.defaultProps={interactive:!0,linksGetter:void 0,onItemToggle:void 0,onToggle:void 0,openedItems:void 0};function NC(e){const{data:t,openedItems:n,onItemToggle:r,interactive:i}=e;return f("div",{children:t.map((s,o)=>{var l;return F("div",{children:[f("div",{},`${s.spanID}`),!!((l=s.tags)!=null&&l.length)&&f("div",{children:f(_i,{className:o<t.length-1?ll:null,data:s.tags||[],highContrast:!0,interactive:i,isOpen:n?n.has(s):!1,label:"attributes",linksGetter:null,onToggle:i&&r?()=>r(s):null})})]},o)})})}const OC=({data:e,interactive:t=!0,isOpen:n,onToggle:r,onItemToggle:i,openedItems:s})=>{const o=!Array.isArray(e)||!e.length;let l=null,c="span",h=null;return t&&(l=n?f($n,{className:Ei}):f(Es,{className:Ei}),c="a",h={"aria-checked":n,onClick:o?null:r,role:"switch"}),F("div",{children:[F(c,{...h,children:[l,f("strong",{children:f("span",{children:"References"})})," ","(",e.length,")"]}),n&&f(NC,{data:e,openedItems:s,onItemToggle:i,interactive:t})]})},LC=ln.memo(OC),DC=ve("div",{target:"eadj5d22"})({name:"3tuv09",styles:"max-height:450px;overflow:auto"}),AC=ve("ul",{target:"eadj5d21"})({name:"19n6eah",styles:"width:100%;list-style:none;padding:0;margin:0"}),PC=ve("li",{target:"eadj5d20"})({name:"378bp4",styles:"padding:0.25rem 0.5rem;vertical-align:top;&:nth-of-type(2n){background:#f5f5f5;}"});function $C(e){const{data:t}=e;return f(DC,{"data-testid":"TextList",children:f(AC,{children:t.map((n,r)=>f(PC,{children:n},`${r}`))})})}const zC=oe({name:"1szkuk8",styles:"cursor:pointer;overflow:hidden;padding:0.25em 0.1em;text-overflow:ellipsis;font-size:12px;white-space:nowrap;&:hover{background:#e8e8e8;}"});function VC({data:e}){return f($C,{data:e})}function Ya(e){const{className:t,data:n,headerClassName:r,interactive:i,isOpen:s,label:o,onToggle:l,TextComponent:c=VC}=e,h=!Array.isArray(n)||!n.length,u=wt(Ei,{[wC]:h});let g=null,S=null;return i&&(g=s?f($n,{className:u,fontSize:"small"}):f(Kn,{className:u,fontSize:"small"}),S={"aria-checked":s,onClick:h?null:l,role:"switch"}),F("div",{className:t||"",children:[F("div",{className:wt(zC,r),...S,"data-testid":"AccordianText--header",children:[g,f("strong",{children:o})," (",n.length,")"]}),s&&f(c,{data:n})]})}Ya.defaultProps={className:null,highContrast:!1,interactive:!0,onToggle:null};const FC=ve("div",{target:"ehivu7p5"})({name:"6actrf",styles:"display:flex;align-items:flex-start;justify-content:space-between;gap:0 1rem;margin-bottom:0.25rem"}),jC=ve("div",{target:"ehivu7p4"})({name:"d3v9zr",styles:"overflow:hidden"}),HC=ve("small",{target:"ehivu7p3"})({name:"1pqeq2z",styles:"display:block;letter-spacing:0.25px;margin:0.5em 0 -0.75em;text-align:right;font-size:80%"}),BC=ve("span",{target:"ehivu7p2"})({name:"1id9zsx",styles:"&::before{color:#bbb;content:attr(data-label);}"}),qC=oe({name:"1tfdntu",styles:"background:#fafafa;border:1px solid #e4e4e4;margin-bottom:0.25rem"}),WC=oe({name:"lkfof",styles:"background:#fff7e6;padding:0.25rem 0.5rem;&:hover{background:#ffe7ba;}"}),UC=ve("span",{target:"ehivu7p1"})({name:"abo73h",styles:"color:#d36c08"}),QC=ve("textarea",{target:"ehivu7p0"})({name:"67ljor",styles:"word-break:break-all;white-space:pre"});function GC(e){var ie;const{detailState:t,linksGetter:n,logItemToggle:r,logsToggle:i,processToggle:s,span:o,tagsToggle:l,traceStartTime:c,warningsToggle:h,stackTracesToggle:u,referencesToggle:g,referenceItemToggle:S}=e,{isTagsOpen:w,isProcessOpen:m,logs:C,isWarningsOpen:k,references:T,isStackTracesOpen:x}=t,{operationName:N,process:I,duration:O,relativeStartTime:D,startTime:p,spanID:E,logs:_,tags:A,warnings:$,references:z,stackTraces:V}=o,K=[{key:"svc",label:"Service:",value:I.serviceName},{key:"duration",label:"Duration:",value:vr(O)},{key:"start",label:"Start Time:",value:vr(D)+KC(p)},...o.childSpanCount>0?[{key:"child_count",label:"Child Count:",value:o.childSpanCount}]:[]];return F("div",{"data-testid":"span-detail-component",children:[F(FC,{children:[f("h2",{className:wt(i1),children:N}),f(jC,{children:f(th,{theme:e.theme,className:o1,divider:!0,items:K})})]}),f(rC,{className:r1,type:"horizontal"}),F("div",{children:[F("div",{children:[f(_i,{theme:e.theme,data:A,label:"Attributes",linksGetter:n,isOpen:w,onToggle:()=>l(E)}),I.tags&&f(_i,{theme:e.theme,className:ll,data:I.tags,label:"Resource",linksGetter:n,isOpen:m,onToggle:()=>s(E)})]}),((ie=o==null?void 0:o.events)==null?void 0:ie.length)>0&&f(Ja,{linksGetter:n,logs:o.events,isOpen:C.isOpen,openedItems:C.openedItems,onToggle:()=>i(E),onItemToggle:ue=>r(E,ue),timestamp:c}),_&&_.length>0&&f(Ja,{linksGetter:n,logs:_,isOpen:C.isOpen,openedItems:C.openedItems,onToggle:()=>i(E),onItemToggle:ue=>r(E,ue),timestamp:c}),$&&$.length>0&&f(Ya,{className:qC,headerClassName:WC,label:f(UC,{children:"Warnings"}),data:$,isOpen:k,onToggle:()=>h(E)}),V&&V.length&&f(Ya,{label:"Stack trace",data:V,isOpen:x,TextComponent:ue=>{var he,Y;let te;return((he=ue.data)==null?void 0:he.length)>1?te=ue.data.map((Fe,$e)=>`StackTrace ${$e+1}:
${Fe}`).join(`
`):te=(Y=ue.data)==null?void 0:Y[0],f(QC,{style:{cursor:"unset"},readOnly:!0,cols:10,rows:10,value:te})},onToggle:()=>u(E)}),z&&z.length>0&&(z.length>1||z[0].refType!=="CHILD_OF")&&f(LC,{data:z,isOpen:T.isOpen,openedItems:T.openedItems,onToggle:()=>g(E),onItemToggle:ue=>S(E,ue)}),F(HC,{children:[f(BC,{"data-label":"SpanID:"})," ",E]})]})]})}const KC=e=>{var t;return` (${(t=nn(e/1e3))==null?void 0:t.format("HH:mm:ss.SSS")})`},JC=ve("span",{target:"e1w4zxyt1"})({name:"1xaxe76",styles:'cursor:pointer;height:100%;overflow:hidden;position:absolute;width:100%;&::before{border-left:4px solid;pointer-events:none;width:1000px;}&::after{border-right:1000px solid;border-color:inherit;cursor:pointer;opacity:0.2;}&::before,&::after{border-color:inherit;content:" ";position:absolute;height:100%;}&:hover::after{opacity:0.35;}'}),YC=ve("div",{target:"e1w4zxyt0"})("border:1px solid ",({theme:e})=>e.accentNeutral,";border-top:3px solid;padding:0.75rem;");class XC extends ln.PureComponent{constructor(){super(...arguments),this._detailToggle=()=>{this.props.onDetailToggled(this.props.span.spanID)},this._linksGetter=(t,n)=>{const{linksGetter:r,span:i}=this.props;return r(i,t,n)}}render(){const{color:t,columnDivision:n,detailState:r,logItemToggle:i,logsToggle:s,eventsToggle:o,processToggle:l,referenceItemToggle:c,referencesToggle:h,warningsToggle:u,stackTracesToggle:g,span:S,tagsToggle:w,traceStartTime:m,hoverIndentGuideIds:C,addHoverIndentGuideId:k,removeHoverIndentGuideId:T,createSpanLink:x,focusedSpanId:N,topOfViewRefType:I}=this.props;return F(_n,{theme:this.props.theme,children:[F(_n.Cell,{theme:this.props.theme,width:n,style:{overflow:"hidden"},children:[f(Os,{theme:this.props.theme,span:S,showChildrenIcon:!1,hoverIndentGuideIds:C,addHoverIndentGuideId:k,removeHoverIndentGuideId:T}),f("span",{children:f(JC,{onClick:this._detailToggle,style:{borderColor:t},"data-testid":"detail-row-expanded-accent"})})]}),f(_n.Cell,{theme:this.props.theme,width:1-n,children:f(YC,{theme:this.props.theme,style:{borderTopColor:t},children:f(GC,{theme:this.props.theme,detailState:r,linksGetter:this._linksGetter,logItemToggle:i,logsToggle:s,eventsToggle:o,processToggle:l,referenceItemToggle:c,referencesToggle:h,warningsToggle:u,stackTracesToggle:g,span:S,tagsToggle:w,traceStartTime:m,createSpanLink:x,focusedSpanId:N,topOfViewRefType:I})})})]})}}var ml={},ZC=Ct;Object.defineProperty(ml,"__esModule",{value:!0});var ah=ml.default=void 0,ek=ZC(Tt()),tk=Be,nk=(0,ek.default)((0,tk.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");ah=ml.default=nk;const rk=oe({name:"j9e210",styles:"display:flex;flex-direction:column;justify-content:center;align-items:center;width:40px;height:40px;position:fixed;bottom:30px;right:30px;z-index:1"}),ik=oe({name:"1d3w5wq",styles:"width:100%"}),Eu=ve("div",{target:"eepu6h50"})("color:",({theme:e})=>e.contrast,";width:100%;"),Ma={bar:28,detail:161,detailWithLogs:197},sk=5;function ak(e,t,n){if(!e)return[];let r=null;const i=[];for(let s=0;s<e.length;s++){const o=e[s],{spanID:l,depth:c}=o;let h=!1;r!=null&&(c>=r?h=!0:r=null),!h&&(t.has(l)&&(r=c+1),i.push({span:o,isDetail:!1,spanIndex:s}),n.has(l)&&i.push({span:o,isDetail:!0,spanIndex:s}))}return i}function ok(e){const[t,n]=e;return{left:t>0,right:n<1}}function lk(e,t,n){return e?ak(e.spans,t,n):[]}const ck=ti(lk),uk=ti(m1,Ft.isEqual),dk=ti(ok,Ft.isEqual);class fk extends ln.Component{constructor(t){super(t),this.topTraceViewRef=b.createRef(),this.getViewRange=()=>this.props.currentViewRangeTime,this.getSearchedSpanIDs=()=>this.props.findMatchesIDs,this.getCollapsedChildren=()=>this.props.childrenHiddenIDs,this.mapRowIndexToSpanIndex=s=>this.getRowStates()[s].spanIndex,this.mapSpanIndexToRowIndex=s=>{const o=this.getRowStates().length;for(let l=0;l<o;l++){const{spanIndex:c}=this.getRowStates()[l];if(c===s)return l}throw new Error(`unable to find row for span index: ${s}`)},this.setListView=s=>{const o=this.listView!==s;this.listView=s,s&&o&&this.props.registerAccessors(this.getAccessors())},this.getKeyFromIndex=s=>{const{isDetail:o,span:l}=this.getRowStates()[s];return`${l.traceID}--${l.spanID}--${o?"detail":"bar"}`},this.getIndexFromKey=s=>{const o=s.split("--"),l=o[0],c=o[1],h=o[2]==="detail",u=this.getRowStates().length;for(let g=0;g<u;g++){const{span:S,isDetail:w}=this.getRowStates()[g];if(S.spanID===c&&S.traceID===l&&w===h)return g}return-1},this.getRowHeight=s=>{const{span:o,isDetail:l}=this.getRowStates()[s];return l?Array.isArray(o.logs)&&o.logs.length?Ma.detailWithLogs:Ma.detail:Ma.bar},this.renderRow=(s,o,l,c)=>{const{isDetail:h,span:u,spanIndex:g}=this.getRowStates()[l];return h?this.renderSpanDetailRow(u,s,o,c):this.renderSpanBarRow(u,g,s,o,c)},this.scrollToSpan=s=>{var l;if(s==null)return;const o=this.getRowStates().findIndex(c=>c.span.spanID===s);o>=0&&((l=this.listView)==null||l.scrollToIndex(o))},this.scrollToTop=()=>{var o;const{topOfViewRef:s}=this.props;(o=s==null?void 0:s.current)==null||o.scrollIntoView({behavior:"smooth"})};const{setTrace:n,trace:r,uiFind:i}=t;n(r,i)}componentDidMount(){this.scrollToSpan(this.props.focusedSpanId)}shouldComponentUpdate(t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(t[n[r]]!==this.props[n[r]])if(n[r]==="shouldScrollToFirstUiFindMatch"){if(t[n[r]])return!0}else return!0;return!1}componentDidUpdate(t){const{registerAccessors:n,trace:r}=t,{shouldScrollToFirstUiFindMatch:i,clearShouldScrollToFirstUiFindMatch:s,scrollToFirstVisibleSpan:o,registerAccessors:l,setTrace:c,trace:h,uiFind:u,focusedSpanId:g,focusedSpanIdForSearch:S}=this.props;r!==h&&c(h,u),this.listView&&n!==l&&l(this.getAccessors()),i&&(o(),s()),g!==t.focusedSpanId&&this.scrollToSpan(g),S!==t.focusedSpanIdForSearch&&this.scrollToSpan(S)}getRowStates(){const{childrenHiddenIDs:t,detailStates:n,trace:r}=this.props;return ck(r,t,n)}getClipping(){const{currentViewRangeTime:t}=this.props;return dk(t)}getViewedBounds(){const{currentViewRangeTime:t,trace:n}=this.props,[r,i]=t;return uk({min:n.startTime,max:n.endTime,viewStart:r,viewEnd:i})}getAccessors(){const t=this.listView;if(!t)throw new Error("ListView unavailable");return{getViewRange:this.getViewRange,getSearchedSpanIDs:this.getSearchedSpanIDs,getCollapsedChildren:this.getCollapsedChildren,getViewHeight:t.getViewHeight,getBottomRowIndexVisible:t.getBottomVisibleIndex,getTopRowIndexVisible:t.getTopVisibleIndex,getRowPosition:t.getRowPosition,mapRowIndexToSpanIndex:this.mapRowIndexToSpanIndex,mapSpanIndexToRowIndex:this.mapSpanIndexToRowIndex}}renderSpanBarRow(t,n,r,i,s){const{spanID:o}=t,{serviceName:l}=t.process,{childrenHiddenIDs:c,childrenToggle:h,detailStates:u,detailToggle:g,findMatchesIDs:S,spanNameColumnWidth:w,trace:m,spanBarOptions:C,hoverIndentGuideIds:k,addHoverIndentGuideId:T,removeHoverIndentGuideId:x,createSpanLink:N,focusedSpanId:I,focusedSpanIdForSearch:O,theme:D}=this.props;if(!m)return null;const p=Zi(l,D),E=c.has(o),_=u.has(o),A=S?S.has(o):!1,$=o===I||o===O,z=Uf(t)||E&&S1(m.spans,n);let V=null;if(E){const ue=w1(m.spans.slice(n));if(ue){const te=this.getViewedBounds()(ue.startTime,ue.startTime+ue.duration);V={color:Zi(ue.process.serviceName,D),operationName:ue.operationName,serviceName:ue.process.serviceName,viewEnd:te.end,viewStart:te.start}}}const K=t.tags.find(ue=>ue.key===sT);let ie=null;return!t.hasChildren&&K&&T1(t)&&(ie={serviceName:K.value,color:Zi(K.value,D)}),f(Eu,{theme:this.props.theme,style:i,...s,children:f(gl,{theme:this.props.theme,clippingLeft:this.getClipping().left,clippingRight:this.getClipping().right,color:p,spanBarOptions:C,columnDivision:w,isChildrenExpanded:!E,isDetailExpanded:_,isMatchingFilter:A,isFocused:$,numTicks:sk,onDetailToggled:g,onChildrenToggled:h,rpc:V,noInstrumentedServer:ie,showErrorIcon:z,getViewedBounds:this.getViewedBounds(),traceStartTime:m.startTime,span:t,hoverIndentGuideIds:k,addHoverIndentGuideId:T,removeHoverIndentGuideId:x,createSpanLink:N})},r)}renderSpanDetailRow(t,n,r,i){const{spanID:s}=t,{serviceName:o}=t.process,{detailLogItemToggle:l,detailLogsToggle:c,detailEventsToggle:h,detailProcessToggle:u,detailReferencesToggle:g,detailReferenceItemToggle:S,detailWarningsToggle:w,detailStackTracesToggle:m,detailStates:C,detailTagsToggle:k,detailToggle:T,spanNameColumnWidth:x,trace:N,hoverIndentGuideIds:I,addHoverIndentGuideId:O,removeHoverIndentGuideId:D,linksGetter:p,createSpanLink:E,focusedSpanId:_,topOfViewRefType:A}=this.props,$=C.get(s);if(!N||!$)return null;const z=Zi(o,this.props.theme);return f(Eu,{theme:this.props.theme,style:{...r,zIndex:1},...i,children:f(XC,{theme:this.props.theme,color:z,columnDivision:x,onDetailToggled:T,detailState:$,linksGetter:p,logItemToggle:l,logsToggle:c,eventsToggle:h,processToggle:u,referenceItemToggle:S,referencesToggle:g,warningsToggle:w,stackTracesToggle:m,span:t,tagsToggle:k,traceStartTime:N.startTime,hoverIndentGuideIds:I,addHoverIndentGuideId:O,removeHoverIndentGuideId:D,createSpanLink:E,focusedSpanId:_,topOfViewRefType:A})},n)}render(){const{scrollElement:t}=this.props;return F(mt,{children:[f(Xf,{ref:this.setListView,dataLength:this.getRowStates().length,itemHeightGetter:this.getRowHeight,itemRenderer:this.renderRow,viewBuffer:50,viewBufferMin:50,itemsWrapperClassName:ik,getKeyFromIndex:this.getKeyFromIndex,getIndexFromKey:this.getIndexFromKey,windowScroller:!1,scrollElement:t}),f(ah,{className:rk,onClick:this.scrollToTop})]})}}const hk=ve("div",{target:"e1uxf6l90"})("border-bottom:1px solid ",({theme:e})=>e.accentNeutral,";& .json-markup{line-height:17px;font-size:13px;font-family:monospace;white-space:pre-wrap;}& .json-markup-key{font-weight:bold;}& .json-markup-bool{color:",({theme:e})=>e.contrast,";}& .json-markup-string{color:",({theme:e})=>e.contrast,";font-size:12px;font-family:monospace;}& .json-markup-null{color:",({theme:e})=>e.contrast,";}& .json-markup-number{color:",({theme:e})=>e.contrast,";}"),pk=5;class gk extends ln.PureComponent{constructor(t){super(t),this.collapseAll=()=>{this.props.collapseAll(this.props.trace.spans)},this.collapseOne=()=>{this.props.collapseOne(this.props.trace.spans)},this.expandAll=()=>{this.props.expandAll()},this.expandOne=()=>{this.props.expandOne(this.props.trace.spans)},this.state={height:0}}componentDidMount(){e1({collapseAll:this.collapseAll,expandAll:this.expandAll,collapseOne:this.collapseOne,expandOne:this.expandOne})}render(){const{setSpanNameColumnWidth:t,updateNextViewRangeTime:n,updateViewRangeTime:r,viewRange:i,traceTimeline:s,topOfViewRef:o,focusedSpanIdForSearch:l,...c}=this.props,{trace:h}=c;return F(hk,{theme:this.props.theme,ref:u=>u&&this.setState({height:u.getBoundingClientRect().height}),children:[f(iT,{theme:this.props.theme,duration:h.duration,nameColumnWidth:s.spanNameColumnWidth,numTicks:pk,onCollapseAll:this.collapseAll,onCollapseOne:this.collapseOne,onColummWidthChange:t,onExpandAll:this.expandAll,onExpandOne:this.expandOne,viewRangeTime:i.time,updateNextViewRangeTime:n,updateViewRangeTime:r,columnResizeHandleHeight:this.state.height}),f(fk,{...c,...s,setSpanNameColumnWidth:t,currentViewRangeTime:i.time.current,topOfViewRef:o,focusedSpanIdForSearch:l})]})}}function oh(e){const{isLarge:t,className:n,...r}=e;return f(Is,{...r})}oh.defaultProps={isLarge:!1};const mk=e=>F("a",{href:e.href,title:e.title,target:"_blank",rel:"noopener noreferrer",className:e.className,children:[e.children," ",f(oh,{})]});function vk(e){const{links:t}=e;return f(mk,{href:t[0].url,title:t[0].text,className:e.className})}const bk=100,yk="<trace-without-root-span>",xk=oe({name:"1x0ro3f",styles:"display:inline-block;white-space:pre"}),lh=/\W*\w+\W*/g;function ch(e){const{className:t,text:n,wordRegexp:r=lh}=e;if(!n)return typeof n=="string"?n:null;const i=[];r.exec("");let s=r.exec(n)||[n];for(;s;)i.push(f("span",{className:t||xk,children:s[0]},`${n}-${i.length}`)),s=r.exec(n);return i}ch.defaultProps={wordRegexp:lh};function Sk(e){const{className:t,traceName:n}=e,r=String(n||yk);return f("span",{className:t,children:f(ch,{text:r})})}const wk=um(Object.defineProperty({archiveEnabled:!1,dependencies:{dagMaxNumServices:bk,menuEnabled:!0},linkPatterns:[],menu:[],search:{maxLookback:{label:"2 Days",value:"2d"},maxLimit:1500},tracking:{gaID:null,trackErrors:!0}},"__mergeFields",{value:["dependencies","search","tracking"]}));function Tk(){return wk}function Ck(e){return Ft.get(Tk(),e)}const uh=/#\{([^{}]*)\}/g;function kk(e){const t=new Set;return e.replace(uh,(n,r)=>(t.add(r),n)),Array.from(t)}function Ek(e,t,n){return e.replace(uh,(r,i)=>{const s=n[i];return s==null?"":t(s)})}function _u(e,t){if(typeof e!="string")throw new Error("Invalid template");return{parameters:kk(e),template:Ek.bind(null,e,t)}}function Na(e){if(typeof e=="string")return t=>t===e;if(Array.isArray(e))return t=>e.indexOf(t)>-1;if(e==null)return()=>!0;throw new Error(`Invalid value: ${e}`)}const _k=e=>e;function Ik(e){try{const t=_u(e.url,encodeURIComponent),n=_u(e.text,_k);return{object:e,type:Na(e.type),key:Na(e.key),value:Na(e.value),url:t,text:n,parameters:Ft.uniq(t.parameters.concat(n.parameters))}}catch(t){return console.error(`Ignoring invalid link pattern: ${t}`,e),null}}function Iu(e,t){return e.template(t)}function Rk(e,t){const n=[],r=Object.keys(t).filter(i=>typeof t[i]=="string"||t[i]==="number");return e.filter(i=>i.type("traces")).forEach(i=>{const s={};i.parameters.every(l=>{const c=l;return r.includes(c)?(s[l]=t[c],!0):!1})&&n.push({url:Iu(i.url,s),text:Iu(i.text,s)})}),n}const Mk=(Ck("linkPatterns")||[]).map(Ik).filter(Boolean),Nk=dm(10)(e=>{const t=[];return e?Rk(Mk,e):t});function Ok(e){let t;const n=new Set(e.map(({spanID:r})=>r));for(let r=0;r<e.length;r++){if(e[r].references&&e[r].references.some(({traceID:l,spanID:c})=>l===e[r].traceID&&n.has(c)))continue;if(!t){t=e[r];continue}const s=e[r].references&&e[r].references.length||0,o=t.references&&t.references.length||0;(s<o||s===o&&e[r].startTime<t.startTime)&&(t=e[r])}return t?`${t.process.serviceName}: ${t.operationName}`:""}const Lk=Ft.memoize(Ok,e=>e.length?e[0].traceID:0),Dk=.9,Ak=2,Pk=200,Ru=10,Mu=60,$k=6;function zk(e,t,n,r,i){const s=new Map,o=t.length<Mu?Mu:Math.min(t.length,Pk),l=window.innerWidth*2;e.width=l,e.height=o;const c=Math.min($k,Math.max(Ak,o/t.length)),h=o/t.length,u=e.getContext("2d",{alpha:!1});u.fillStyle=i,u.fillRect(0,0,l,o);for(let g=0;g<t.length;g++){const{valueWidth:S,valueOffset:w,serviceName:m}=t[g],C=w/n*l;let k=S/n*l;k<Ru&&(k=Ru);let T=s.get(m);T||(T=`rgba(${r(m).concat(Dk).join()})`,s.set(m,T)),u.fillStyle=T,u.fillRect(C,g*h,k,c)}}const Vk=ve("canvas",{target:"ez4gzed0"})({name:"1vmf2ne",styles:"height:60px;position:absolute;width:100%"});class Fk extends ln.PureComponent{constructor(t){super(t),this.getColor=n=>lT(n,this.props.theme),this._setCanvasRef=n=>{this._canvasElm=n},this._canvasElm=void 0}componentDidMount(){this._draw()}componentDidUpdate(){this._draw()}_draw(){if(this._canvasElm){const{valueWidth:t,items:n}=this.props;zk(this._canvasElm,n,t,this.getColor,this.props.theme.activeBg)}}render(){return f(Vk,{theme:this.props.theme,ref:this._setCanvasRef})}}const jk=ve("div",{target:"epf5owc1"})({name:"1dyap05",styles:"height:1.25rem;position:relative;display:flex;align-items:center"}),Hk=ve("div",{target:"epf5owc0"})("color:",({theme:e})=>e.contrast,";font-size:0.75rem;position:absolute;user-select:none;");function Bk(e){const{numTicks:t,duration:n}=e,r=[];for(let i=0;i<t+1;i++){const s=i/t,o=s===1?{right:"0%"}:{left:`${s*100}%`};r.push(f(Hk,{theme:e.theme,style:o,"data-testid":"tick",children:vr(n*s)},s))}return f(jk,{children:r})}const qk=ve("line",{target:"exd6frg0"})({name:"1yroh0b",styles:"stroke:#aaa;stroke-width:1px"});function Wk(e){const{numTicks:t}=e,n=[];for(let r=1;r<t;r++){const i=`${r/t*100}%`;n.push(f(qk,{x1:i,y1:"0%",x2:i,y2:"100%"},r/t))}return f("g",{"data-testid":"ticks","aria-hidden":"true",children:n})}const Uk=ve("g",{target:"ervekmk0"})({name:"1sphlrg",styles:"&:hover>.scrubber-handle-expansion{fill-opacity:1;}&:hover>.scrubber-handle{fill:#44f;}&:hover+.scrubber.line{stroke:#44f;}"}),Qk=wt(oe({name:"wifcyl",styles:"cursor:col-resize;fill:#555"}),"scrubber-handle"),Gk=oe({name:"eay7q9",styles:"& .scrubber-handle-expansion{fill-opacity:1;}& .scrubber-handle{fill:#44f;}&>.scrubber-line{stroke:#44f;}"}),Kk=wt(oe({name:"1b8wb1y",styles:"cursor:col-resize;fill-opacity:0;fill:#44f"}),"scrubber-handle-expansion"),Jk=wt(oe({name:"1tn2qwu",styles:"pointer-events:none;stroke:#555"}),"scrubber-line");function Nu({isDragging:e,onMouseDown:t,onMouseEnter:n,onMouseLeave:r,position:i}){const s=`${i*100}%`,o=wt({[Gk]:e});return F("g",{className:o,"data-testid":"scrubber-component",children:[F(Uk,{"data-testid":"scrubber-component-g",onMouseDown:t,onMouseEnter:n,onMouseLeave:r,children:[f("rect",{"data-testid":"scrubber-component-rect-1",x:s,className:Kk,style:{transform:"translate(-4.5px)"},width:"9",height:"20"}),f("rect",{"data-testid":"scrubber-component-rect-2",x:s,className:Qk,style:{transform:"translate(-1.5px)"},width:"3",height:"20"})]}),f("line",{className:Jk,y2:"100%",x1:s,x2:s,"data-testid":"scrubber-component-line"})]})}const dh="JaegerUiComponents__ViewingLayerResetZoomHoverClassName",Yk={name:"7s9exk",styles:"display:none;position:absolute;right:1%;top:10%;z-index:1;background-color:hsla(210, 12%, 16%, 16%);color:hsl(210, 12%, 16%);&:hover{background-color:hsla(210, 12%, 16%, 20%);color:hsl(210, 12%, 16%);}"},Xk=ve("div",{target:"e18iz0xu6"})("cursor:vertical-text;position:relative;z-index:1;&:hover>.",dh,"{display:unset;}"),Zk=ve("svg",{target:"e18iz0xu5"})("border:1px solid ",({theme:e})=>e.accentNeutral,";overflow:visible!important;position:relative;transform-origin:0 0;width:100%;"),eE=ve("div",{target:"e18iz0xu4"})({name:"1of9epz",styles:"bottom:0;cursor:col-resize;left:0;position:fixed;right:0;top:0;user-select:none"}),Ou=ve("rect",{target:"e18iz0xu3"})({name:"prw1ow",styles:"fill:rgba(214, 214, 214, 0.5)"}),tE=ve("line",{target:"e18iz0xu2"})({name:"13ch26q",styles:"stroke:#f44;stroke-width:1"}),nE=ve("rect",{target:"e18iz0xu1"})({name:"1jlemno",styles:"fill:#44f"}),rE=ve("rect",{target:"e18iz0xu0"})({name:"22r79o",styles:"fill-opacity:0.2;fill:#44f"}),Fn={SHIFT_END:"SHIFT_END",SHIFT_START:"SHIFT_START",REFRAME:"REFRAME"};function iE(e,t){const[n,r]=e<t?[e,t]:[t,e];return{x:`${n*100}%`,width:`${(r-n)*100}%`,leadingX:`${t*100}%`}}class sE extends ln.PureComponent{constructor(t){super(t),this._setRoot=n=>{this._root=n},this._getDraggingBounds=n=>{if(!this._root)throw new Error("invalid state");const{left:r,width:i}=this._root.getBoundingClientRect(),[s,o]=this.props.viewRange.time.current;let l=1,c=0;return n===Fn.SHIFT_START?l=o:n===Fn.SHIFT_END&&(c=s),{clientXLeft:r,maxValue:l,minValue:c,width:i}},this._handleReframeMouseMove=({value:n})=>{this.props.updateNextViewRangeTime({cursor:n})},this._handleReframeMouseLeave=()=>{this.props.updateNextViewRangeTime({cursor:null})},this._handleReframeDragUpdate=({value:n})=>{const r=n,{time:i}=this.props.viewRange,o={reframe:{anchor:i.reframe?i.reframe.anchor:r,shift:r}};this.props.updateNextViewRangeTime(o)},this._handleReframeDragEnd=({manager:n,value:r})=>{const{time:i}=this.props.viewRange,s=i.reframe?i.reframe.anchor:r,[o,l]=r<s?[r,s]:[s,r];n.resetBounds(),this.props.updateViewRangeTime(o,l,"minimap")},this._handleScrubberEnterLeave=({type:n})=>{const r=n===Hn.MouseEnter;this.setState({preventCursorLine:r})},this._handleScrubberDragUpdate=({event:n,tag:r,type:i,value:s})=>{i===Hn.DragStart&&n.stopPropagation(),r===Fn.SHIFT_START?this.props.updateNextViewRangeTime({shiftStart:s}):r===Fn.SHIFT_END&&this.props.updateNextViewRangeTime({shiftEnd:s})},this._handleScrubberDragEnd=({manager:n,tag:r,value:i})=>{const[s,o]=this.props.viewRange.time.current;let l;if(r===Fn.SHIFT_START)l=[i,o];else if(r===Fn.SHIFT_END)l=[s,i];else throw new Error("bad state");n.resetBounds(),this.setState({preventCursorLine:!1}),this.props.updateViewRangeTime(l[0],l[1],"minimap")},this._resetTimeZoomClickHandler=()=>{this.props.updateViewRangeTime(0,1)},this._draggerReframe=new wi({getBounds:this._getDraggingBounds,onDragEnd:this._handleReframeDragEnd,onDragMove:this._handleReframeDragUpdate,onDragStart:this._handleReframeDragUpdate,onMouseMove:this._handleReframeMouseMove,onMouseLeave:this._handleReframeMouseLeave,tag:Fn.REFRAME}),this._draggerStart=new wi({getBounds:this._getDraggingBounds,onDragEnd:this._handleScrubberDragEnd,onDragMove:this._handleScrubberDragUpdate,onDragStart:this._handleScrubberDragUpdate,onMouseEnter:this._handleScrubberEnterLeave,onMouseLeave:this._handleScrubberEnterLeave,tag:Fn.SHIFT_START}),this._draggerEnd=new wi({getBounds:this._getDraggingBounds,onDragEnd:this._handleScrubberDragEnd,onDragMove:this._handleScrubberDragUpdate,onDragStart:this._handleScrubberDragUpdate,onMouseEnter:this._handleScrubberEnterLeave,onMouseLeave:this._handleScrubberEnterLeave,tag:Fn.SHIFT_END}),this._root=void 0,this.state={preventCursorLine:!1}}componentWillUnmount(){this._draggerReframe.dispose(),this._draggerEnd.dispose(),this._draggerStart.dispose()}_getMarkers(t,n){const r=iE(t,n);return[f(rE,{x:r.x,y:"0",width:r.width,height:this.props.height-2},"fill"),f(nE,{x:r.leadingX,y:"0",width:"1",height:this.props.height-2},"edge")]}render(){const{height:t,viewRange:n,numTicks:r}=this.props,{preventCursorLine:i}=this.state,{current:s,cursor:o,shiftStart:l,shiftEnd:c,reframe:h}=n.time,u=l!=null||c!=null||h!=null,[g,S]=s;let w=0;g&&(w=g*100);let m=100;S&&(m=100-S*100);let C;return!u&&o!=null&&!i&&(C=`${o*100}%`),F(Xk,{"aria-hidden":!0,style:{height:t},children:[(g!==0||S!==1)&&f(Qd,{onClick:this._resetTimeZoomClickHandler,css:Yk,className:dh,type:"button",variant:"contained",children:"Reset Selection"}),F(Zk,{theme:this.props.theme,height:t,ref:this._setRoot,onMouseDown:this._draggerReframe.handleMouseDown,onMouseLeave:this._draggerReframe.handleMouseLeave,onMouseMove:this._draggerReframe.handleMouseMove,children:[w>0&&f(Ou,{x:0,y:0,height:"100%",width:`${w}%`}),m>0&&f(Ou,{x:`${100-m}%`,y:0,height:"100%",width:`${m}%`}),f(Wk,{numTicks:r}),C&&f(tE,{x1:C,y1:"0",x2:C,y2:t-2,strokeWidth:"1"}),l!=null&&this._getMarkers(g,l),c!=null&&this._getMarkers(S,c),f(Nu,{isDragging:l!=null,onMouseDown:this._draggerStart.handleMouseDown,onMouseEnter:this._draggerStart.handleMouseEnter,onMouseLeave:this._draggerStart.handleMouseLeave,position:g||0}),f(Nu,{isDragging:c!=null,position:S||1,onMouseDown:this._draggerEnd.handleMouseDown,onMouseEnter:this._draggerEnd.handleMouseEnter,onMouseLeave:this._draggerEnd.handleMouseLeave}),h!=null&&this._getMarkers(h.anchor,h.shift)]}),u&&f(eE,{})]})}}const fh=60,Lu=4;function aE(e){return{valueOffset:e.relativeStartTime,valueWidth:e.duration,serviceName:e.process.serviceName}}function oE(e){return e.spans.map(aE)}const lE=ti(oE);class hh extends ln.PureComponent{render(){const{height:t,trace:n,viewRange:r,updateNextViewRangeTime:i,updateViewRangeTime:s}=this.props;if(!n)return f("div",{});const o=lE(n);return F("div",{className:wt(s1,jf),children:[f(Bk,{theme:this.props.theme,numTicks:Lu,duration:n.duration}),F("div",{className:Ff,children:[f(Fk,{...this.props,valueWidth:n.duration,items:o}),f(sE,{theme:this.props.theme,viewRange:r,numTicks:Lu,height:t||fh,updateViewRangeTime:s,updateNextViewRangeTime:i})]})]})}}hh.defaultProps={height:fh};const cE=ve("header",{target:"etrfo5z2"})("&>:first-of-type{border-bottom:1px solid ",({theme:e})=>e==null?void 0:e.accentNeutral,";}&>:nth-of-type(2){background-color:",e=>{var t;return(t=e==null?void 0:e.theme)==null?void 0:t.shadow},";border-bottom:1px solid ",e=>{var t;return(t=e==null?void 0:e.theme)==null?void 0:t.accentNeutral},";}&>:last-child{border-bottom:1px solid ",e=>{var t;return(t=e==null?void 0:e.theme)==null?void 0:t.shadow},";}"),uE=ve("div",{target:"etrfo5z1"})({name:"1vr7vmn",styles:"align-items:center;display:flex"}),dE=oe({name:"1tcdcez",styles:"align-items:center;align-self:stretch;background:inherit;background-color:#fafafa;border-bottom:1px solid #ddd;border-right:1px solid #ddd;color:inherit;display:flex;font-size:1.4rem;padding:0 1rem;margin-bottom:-1px;&:hover{background-color:#f0f0f0;border-color:#ccc;}"}),fE=oe({name:"1sdfuo6",styles:"align-items:center;display:flex;flex:1;&:hover *{text-decoration:underline;}&:hover>*,&:hover small{text-decoration:none;}background:transparent;text-align:left;border:none"}),hE=oe({name:"1dvwl0",styles:"font-size:2.5rem;transition:transform 0.07s ease-out"}),pE=oe({name:"jbgpyq",styles:"transform:rotate(90deg)"}),gE=e=>oe("color:",e,";flex:1;font-size:14px;font-weight:bold;line-height:1em;margin:0 0 0 0.5em;padding:10px 0px;",""),mE=oe({name:"1gz4j9a",styles:"margin-left:0"}),vE=oe({name:"kuw45i",styles:"border-bottom:1px solid #e4e4e4;padding:0.25rem 0.5rem!important"}),bE=ve("small",{target:"etrfo5z0"})({name:"1jpmgj5",styles:"white-space:nowrap;font-size:80%"}),yE=[{key:"timestamp",label:"Trace Start:",renderer(e){return nn((e==null?void 0:e.startTime)/1e3).format("YYYY-MM-DDTHH:mm:ss.SSSZ")}},{key:"duration",label:"Duration:",renderer:e=>vr(e.duration)},{key:"service-count",label:"Services:",renderer(e){return new Set(Ft.values(e.services).map(t=>t.name)).size}},{key:"depth",label:"Depth:",renderer:e=>Ft.get(Ft.maxBy(e.spans,"depth"),"depth",0)+1},{key:"span-count",label:"Total Spans:",renderer:e=>{var t;return(t=e==null?void 0:e.spans)==null?void 0:t.length}}];function xE(e){var m,C;const{canCollapse:t,hideMap:n,hideSummary:r,onSlimViewClicked:i,slimView:s,trace:o,updateNextViewRangeTime:l,updateViewRangeTime:c,viewRange:h}=e,u=qe(),g=b.useMemo(()=>o?Nk(o):[],[o]);if(!o)return null;const S=!r&&!s&&yE.map(k=>{const{renderer:T,...x}=k;return{...x,value:T(o)}}),w=F("h1",{style:{color:(m=e==null?void 0:e.theme)==null?void 0:m.contrast},className:wt(gE((C=e==null?void 0:e.theme)==null?void 0:C.contrast),t&&mE),children:[f(Sk,{traceName:Lk(o.spans)})," ",f(bE,{className:d1,children:o.traceID})]});return F(cE,{theme:e.theme,children:[F(uE,{children:[g&&g.length>0&&f(vk,{links:g,className:dE}),t?F("button",{type:"button",className:fE,onClick:i,role:"switch","aria-checked":!s,children:[f(Kn,{className:wt(hE,!s&&pE)}),w]}):w]}),S&&f(th,{theme:e.theme,className:vE,items:S}),!n&&!s&&f(hh,{...e,theme:u,trace:o,viewRange:h,updateNextViewRangeTime:l,updateViewRangeTime:c})]})}class bn{constructor(t){const{isTagsOpen:n,isEventsOpen:r,isProcessOpen:i,isReferencesOpen:s,isWarningsOpen:o,isStackTracesOpen:l,logs:c,references:h,events:u}=t||{};this.isTagsOpen=!!n,this.isEventsOpen=!!r,this.isProcessOpen=!!i,this.isReferencesOpen=!!s,this.isWarningsOpen=!!o,this.isStackTracesOpen=!!l,this.logs={isOpen:!!(c&&c.isOpen),openedItems:c&&c.openedItems?new Set(c.openedItems):new Set},this.events={isOpen:!!(u&&u.isOpen),openedItems:u&&u.openedItems?new Set(u.openedItems):new Set},this.references={isOpen:!!(h&&h.isOpen),openedItems:h&&h.openedItems?new Set(h.openedItems):new Set}}toggleTags(){const t=new bn(this);return t.isTagsOpen=!this.isTagsOpen,t}toggleEvents(){const t=new bn(this);return t.isEventsOpen=!this.isEventsOpen,t}toggleEventItem(t){const n=new bn(this);return n.events.openedItems.has(t)?n.events.openedItems.delete(t):n.events.openedItems.add(t),n}toggleProcess(){const t=new bn(this);return t.isProcessOpen=!this.isProcessOpen,t}toggleReferences(){const t=new bn(this);return t.references.isOpen=!this.references.isOpen,t}toggleReferenceItem(t){const n=new bn(this);return n.references.openedItems.has(t)?n.references.openedItems.delete(t):n.references.openedItems.add(t),n}toggleWarnings(){const t=new bn(this);return t.isWarningsOpen=!this.isWarningsOpen,t}toggleStackTraces(){const t=new bn(this);return t.isStackTracesOpen=!this.isStackTracesOpen,t}toggleLogs(){const t=new bn(this);return t.logs.isOpen=!this.logs.isOpen,t}toggleLogItem(t){const n=new bn(this);return n.logs.openedItems.has(t)?n.logs.openedItems.delete(t):n.logs.openedItems.add(t),n}}var hs="NOT_FOUND";function SE(e){var t;return{get:function(r){return t&&e(t.key,r)?t.value:hs},put:function(r,i){t={key:r,value:i}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}function wE(e,t){var n=[];function r(l){var c=n.findIndex(function(u){return t(l,u.key)});if(c>-1){var h=n[c];return c>0&&(n.splice(c,1),n.unshift(h)),h.value}return hs}function i(l,c){r(l)===hs&&(n.unshift({key:l,value:c}),n.length>e&&n.pop())}function s(){return n}function o(){n=[]}return{get:r,put:i,getEntries:s,clear:o}}var TE=function(t,n){return t===n};function CE(e){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;for(var i=n.length,s=0;s<i;s++)if(!e(n[s],r[s]))return!1;return!0}}function kE(e,t){var n=typeof t=="object"?t:{equalityCheck:t},r=n.equalityCheck,i=r===void 0?TE:r,s=n.maxSize,o=s===void 0?1:s,l=n.resultEqualityCheck,c=CE(i),h=o===1?SE(c):wE(o,c);function u(){var g=h.get(arguments);if(g===hs){if(g=e.apply(null,arguments),l){var S=h.getEntries(),w=S.find(function(m){return l(m.value,g)});w&&(g=w.value)}h.put(arguments,g)}return g}return u.clearCache=function(){return h.clear()},u}function EE(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(r){return typeof r=="function"})){var n=t.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function _E(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var h=0,u,g={memoizeOptions:void 0},S=l.pop();if(typeof S=="object"&&(g=S,S=l.pop()),typeof S!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof S+"]");var w=g,m=w.memoizeOptions,C=m===void 0?n:m,k=Array.isArray(C)?C:[C],T=EE(l),x=e.apply(void 0,[function(){return h++,S.apply(null,arguments)}].concat(k)),N=e(function(){for(var O=[],D=T.length,p=0;p<D;p++)O.push(T[p].apply(null,arguments));return u=x.apply(null,O),u});return Object.assign(N,{resultFunc:S,memoizedResultFunc:x,dependencies:T,lastResult:function(){return u},recomputations:function(){return h},resetRecomputations:function(){return h=0}}),N};return i}var dt=_E(kE),IE=function(t,n){if(n===void 0&&(n=dt),typeof t!="object")throw new Error("createStructuredSelector expects first argument to be an object "+("where each property is a selector, instead received a "+typeof t));var r=Object.keys(t),i=n(r.map(function(s){return t[s]}),function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];return o.reduce(function(c,h,u){return c[r[u]]=h,c},{})});return i};class Dn{static iterFunction(t,n=0){return r=>t(r.value,r,n)}static searchFunction(t){return typeof t=="function"?t:(n,r)=>t instanceof Dn?r===t:n===t}constructor(t,n=[]){this.value=t,this.children=n}get depth(){return this.children.reduce((t,n)=>Math.max(n.depth+1,t),1)}get size(){let t=0;return this.walk(()=>t++),t}addChild(t){return this.children.push(t instanceof Dn?t:new Dn(t)),this}find(t){if(Dn.iterFunction(Dn.searchFunction(t))(this))return this;for(let r=0;r<this.children.length;r++){const i=this.children[r].find(t);if(i)return i}return null}getPath(t){const n=Dn.iterFunction(Dn.searchFunction(t)),r=(i,s)=>{const o=s.concat([i]);if(n(i))return o;for(let l=0;l<i.children.length;l++){const c=i.children[l],h=r(c,o);if(h)return h}return null};return r(this,[])}walk(t,n=0){const r=[];let i=n;for(r.push({node:this,depth:i});r.length;){const{node:s,depth:o}=r.pop();t(s.value,s,o),i=o+1;let l=s.children.length-1;for(;l>=0;)r.push({node:s.children[l],depth:i}),l--}}}function RE(e,t){return e-t}const ph=e=>e.serviceName;var gh={exports:{}};(function(e,t){(function(){var n={};e.exports=n,n.simpleFilter=function(r,i){return i.filter(function(s){return n.test(r,s)})},n.test=function(r,i){return n.match(r,i)!==null},n.match=function(r,i,s){s=s||{};var o=0,l=[],c=i.length,h=0,u=0,g=s.pre||"",S=s.post||"",w=s.caseSensitive&&i||i.toLowerCase(),m;r=s.caseSensitive&&r||r.toLowerCase();for(var C=0;C<c;C++)m=i[C],w[C]===r[o]?(m=g+m+S,o+=1,u+=1+u):u=0,h+=u,l[l.length]=m;return o===r.length?(h=w===r?1/0:h,{rendered:l.join(""),score:h}):null},n.filter=function(r,i,s){return!i||i.length===0?[]:typeof r!="string"?i:(s=s||{},i.reduce(function(o,l,c,h){var u=l;s.extract&&(u=s.extract(l));var g=n.match(r,u,s);return g!=null&&(o[o.length]={string:g.rendered,score:g.score,index:c,original:l}),o},[]).sort(function(o,l){var c=l.score-o.score;return c||o.index-l.index}))}})()})(gh);var ME=gh.exports;const NE=Ni(ME),an=e=>e.spanID,mh=e=>e.operationName,Du=e=>e.duration,rr=e=>e.startTime,OE=e=>e.processID,LE=e=>e.references||[],DE=dt(dt(({span:e})=>e,LE),({type:e})=>e,(e,t)=>e.find(n=>n.refType===t));dt(e=>DE({span:e,type:"CHILD_OF"}),e=>e?e.spanID:null);const AE=e=>{if(!e.process)throw new Error(`
      you must hydrate the spans with the processes, perhaps
      using hydrateSpansWithProcesses(), before accessing a span's process
    `);return e.process},vh=dt(AE,ph);dt(({spans:e})=>e,({leftBound:e})=>e,({rightBound:e})=>e,(e,t,n)=>e.filter(r=>rr(r)>=t&&rr(r)<=n));const PE=dt(({spans:e})=>e,({text:e})=>e,(e,t)=>NE.filter(t,e,{extract:n=>`${vh(n)} ${mh(n)}`}).map(({original:n})=>n)),$E=dt(PE,e=>e.reduce((t,n)=>({...t,[an(n)]:n}),{}));dt(({spans:e})=>e,$E,(e,t)=>e.map(n=>({...n,muted:!t[an(n)]})));const _r=e=>e.spans,bh=e=>e.processes,zE=dt(e=>e.span,e=>e.processes,(e,t)=>({...e,process:t[OE(e)]})),VE=dt(_r,e=>e.reduce((t,n)=>t.set(an(n),n),new Map)),FE="__root__";function ni(e){const t=new Map(e.spans.map(s=>[s.spanID,new Dn(s.spanID)])),n=new Map(e.spans.map(s=>[s.spanID,s])),r=new Dn(FE);e.spans.forEach(s=>{const o=t.get(s.spanID);if(Array.isArray(s.references)&&s.references.length){const{refType:l,spanID:c}=s.references[0];if(l==="CHILD_OF"||l==="FOLLOWS_FROM")(t.get(c)||r).children.push(o);else throw new Error(`Unrecognized ref type: ${l}`)}else r.children.push(o)});const i=(s,o)=>{const l=n.get(s.value),c=n.get(o.value);return+(l.startTime>c.startTime)||+(l.startTime===c.startTime)-1};return e.spans.forEach(s=>{const o=t.get(s.spanID);o.children.length>1&&o.children.sort(i)}),r.children.sort(i),r}const jE=e=>{const t=_r(e),n=bh(e);return{...e,spans:t.map(r=>zE({span:r,processes:n}))}};dt(_r,e=>e.length);const vl=dt(_r,e=>e.reduce((t,n)=>t?Math.min(t,rr(n)):rr(n),null)),bl=dt(_r,vl,(e,t)=>e.reduce((n,r)=>n?Math.max(rr(r)-t+Du(r),n):Du(r),null));dt(vl,bl,(e,t)=>e+t);const HE=dt(ni,VE,(e,t)=>e.children.map(n=>t.get(n.value)).sort((n,r)=>RE(rr(n),rr(r)))[0]);dt(ni,e=>e.depth-1);dt(dt(e=>e.trace,ni),dt(e=>e.span,an),(e,t)=>e.getPath(t).length-1);const BE=dt(bh,e=>Object.keys(e).reduce((t,n)=>t.add(ph(e[n])),new Set));dt(BE,e=>e.size);const Xa={ms:p1,s:g1},qE=dt(bl,e=>e>=Ms?Xa.s:Xa.ms);dt(({duration:e})=>e,({unit:e})=>Xa[e],(e,t)=>t(e));dt(({duration:e})=>e,dt(({trace:e})=>e,qE),(e,t)=>t(e));dt(({trace:e})=>e,({spans:e})=>e,({sort:e})=>e,(e,t,{dir:n,comparator:r,selector:i})=>[...t].sort((s,o)=>n*r(i(s,e),i(o,e))));const WE=dt(ni,e=>{const t=new Map;let n=0;return e.walk(r=>t.set(r,n++)),t});dt(dt(e=>e.trace,ni),dt(e=>e.span,an),(e,t)=>{const n=e.find(t);return n?n.size-1:-1});dt(dt(({trace:e})=>e,WE),({span:e})=>e,(e,t)=>e.get(an(t)));dt(dt(dt(jE,HE),IE({name:mh,serviceName:vh})),({name:e,serviceName:t})=>`${t}: ${e}`);dt(({spans:e})=>e,dt(({trace:e})=>e,ni),({collapsed:e})=>e,(e,t,n)=>{const r=n.reduce((i,s)=>(t.find(s).walk(o=>o!==s&&i.add(o)),i),new Set);return r.size>0?e.filter(i=>!r.has(an(i))):e});const UE=4,QE=3;dt(({trace:e})=>e,({interval:e=UE})=>e,({width:e=QE})=>e,(e,t,n)=>[...(t+1).keys()].map(r=>({timestamp:vl(e)+bl(e)*(r/t),width:n})));dt(e=>e,_r,(e,t)=>{const n=new Map;return{...e,spans:t.reduce((r,i)=>{const s=n.has(an(i))?`${an(i)}_${n.get(an(i))}`:an(i),o={...i,spanID:s};return s!==an(i)&&console.warn("duplicate spanID in trace replaced",an(i),"new:",s),n.set(an(i),(n.get(an(i))||0)+1),r.concat([o])},[])}});dt(e=>e,_r,(e,t)=>({...e,spans:t.filter(n=>!!rr(n))}));function GE(e){const[t,n]=b.useState(new Map),r=b.useCallback(function(c){const h=new Map(t);h.has(c)?h.delete(c):h.set(c,new bn),n(h)},[t]),i=b.useCallback(function(c,h){const u=t.get(c);if(!u)return;const g=u.toggleEventItem(h),S=new Map(t);return S.set(c,g),n(S)},[t]),s=b.useCallback(function(c,h){const u=t.get(c);if(!u)return;const g=u.toggleLogItem(h),S=new Map(t);return S.set(c,g),n(S)},[t]),o=b.useCallback(function(c,h){const u=t.get(c);if(!u)return;const g=u.toggleReferenceItem(h),S=new Map(t);return S.set(c,g),n(S)},[t]);return{detailStates:t,toggleDetail:r,detailLogItemToggle:s,detailLogsToggle:b.useCallback(l=>cr("logs",t,n)(l),[t]),detailEventsItemToggle:i,detailEventsToggle:b.useCallback(l=>cr("events",t,n)(l),[t]),detailWarningsToggle:b.useCallback(l=>cr("warnings",t,n)(l),[t]),detailStackTracesToggle:b.useCallback(l=>cr("stackTraces",t,n)(l),[t]),detailReferenceItemToggle:o,detailReferencesToggle:b.useCallback(l=>cr("references",t,n)(l),[t]),detailProcessToggle:b.useCallback(l=>cr("process",t,n)(l),[t]),detailTagsToggle:b.useCallback(l=>cr("tags",t,n)(l),[t])}}function cr(e,t,n){return r=>{const i=t.get(r);if(!i)return;let s;e==="tags"?s=i.toggleTags():e==="process"?s=i.toggleProcess():e==="events"?s=i.toggleEvents():e==="warnings"?s=i.toggleWarnings():e==="references"?s=i.toggleReferences():e==="stackTraces"?s=i.toggleStackTraces():s=i.toggleLogs();const o=new Map(t);o.set(r,s),n(o)}}function KE(){const[e,t]=b.useState({time:{current:[0,1]}}),n=b.useCallback(function(s){t(o=>{const l={...o.time,...s};return{...o,time:l}})},[]),r=b.useCallback(function(s,o){const c={current:[s,o]};t(h=>({...h,time:c}))},[]);return{viewRange:e,updateViewRangeTime:r,updateNextViewRangeTime:n}}function JE(){const[e,t]=b.useState(new Set),n=b.useCallback(function(c){if(e.size===0)return;let h=-1,u=!0;const g=c.reduce((S,w)=>(w.depth<=h&&(u=!0),u&&S.has(w.spanID)&&(S.delete(w.spanID),u=!1,h=w.depth),S),new Set(e));t(g)},[e]),r=b.useCallback(function(c){if(Au(c,e))return;let h;const u=c.reduce((g,S)=>(h&&S.depth<=h.depth?(g.add(h.spanID),S.hasChildren&&(h=S)):S.hasChildren&&!g.has(S.spanID)&&(h=S),g),new Set(e));h&&u.add(h.spanID),t(u)},[e]),i=b.useCallback(function(){t(new Set)},[]),s=b.useCallback(function(c){if(Au(c,e))return;const h=c.reduce((u,g)=>(g.hasChildren&&u.add(g.spanID),u),new Set);t(h)},[e]),o=b.useCallback(function(c){const h=new Set(e);e.has(c)?h.delete(c):h.add(c),t(h)},[e]);return{childrenHiddenIDs:e,expandOne:n,collapseOne:r,expandAll:i,collapseAll:s,childrenToggle:o}}function Au(e,t){return e.filter(r=>r.hasChildren).length===t.size}function YE(){const[e,t]=b.useState(new Set),n=b.useCallback(function(s){t(o=>{const l=new Set(o);return l.add(s),l})},[]),r=b.useCallback(function(s){t(o=>{const l=new Set(o);return l.delete(s),l})},[]);return{hoverIndentGuideIds:e,addHoverIndentGuideId:n,removeHoverIndentGuideId:r}}function XE(e){return[{name:"traceID",type:"string",typeInfo:{frame:"string"}},{name:"spanID",type:"string",typeInfo:{frame:"string"}},{name:"parentSpanID",type:"string",typeInfo:{frame:"string"}},{name:"operationName",type:"string",typeInfo:{frame:"string"}},{name:"serviceName",type:"string",typeInfo:{frame:"string"}},{name:"serviceTags",type:"other",typeInfo:{frame:"json.RawMessage"}},{name:"startTime",type:"number",typeInfo:{frame:"float64"}},{name:"duration",type:"number",typeInfo:{frame:"float64"}},{name:"logs",type:"other",typeInfo:{frame:"json.RawMessage"}},{name:"references",type:"other",typeInfo:{frame:"json.RawMessage"}},{name:"tags",type:"other",typeInfo:{frame:"json.RawMessage"}}].map(({name:n,type:r,typeInfo:i})=>({name:n,type:r,typeInfo:i,config:{},values:e==null?void 0:e.map(s=>s[n]),entities:{},state:null}))}function yh(e,t=0){e.forEach(n=>{var r;n.depth=t,((r=n.children)==null?void 0:r.length)>0&&(t+=1,n.children.forEach(i=>{n.spanID===i&&yh(e,t)}))})}function ZE(e){var n;return((n=e.resourceSpans)==null?void 0:n.map(r=>{const i=r.resource;return r.instrumentationLibrarySpans.map(s=>s.spans.map(o=>({...o,resource:i})))})).flat(2)}function e_(e){var r;const t=ZE(e);return(r=e==null?void 0:e.resourceSpans)==null?void 0:r.map(i=>{var C,k,T;const{instrumentationLibrarySpans:s}=i,o=t.find(x=>x.parentSpanId===void 0),l=[...t],c=l==null?void 0:l.sort((x,N)=>parseInt(x.startTimeUnixNano)-parseInt(N.startTimeUnixNano)),h=((C=c[0])==null?void 0:C.startTimeUnixNano)/1e3,g=((T=(k=c.map(x=>x.endTimeUnixNano))==null?void 0:k.sort())==null?void 0:T.reverse())[0]/1e3,S=l.map((x,N)=>{var _,A,$;const I=(_=x.attributes)==null?void 0:_.map(z=>{var V;return{key:z==null?void 0:z.key,value:(V=z==null?void 0:z.value)==null?void 0:V.stringValue}}),O=($=(A=x==null?void 0:x.resource)==null?void 0:A.attributes)==null?void 0:$.map(z=>{var V;return{key:z==null?void 0:z.key,value:(V=z==null?void 0:z.value)==null?void 0:V.stringValue}}),D=Math.round((x==null?void 0:x.endTimeUnixNano)/1e3)-Math.round((x==null?void 0:x.startTimeUnixNano)/1e3),p=(x==null?void 0:x.startTimeUnixNano)/1e3,E={serviceName:x==null?void 0:x.serviceName,tags:O};return{traceID:(x==null?void 0:x.traceID)||(x==null?void 0:x.traceId),spanID:(x==null?void 0:x.spanID)||x.spanId,parentSpanID:(x==null?void 0:x.parentSpanID)||(x==null?void 0:x.parentSpanId)||"",operationName:x==null?void 0:x.name,serviceName:x==null?void 0:x.serviceName,serviceTags:O,startTime:p,duration:D,relativeStartTime:0,events:(x==null?void 0:x.events)||[],logs:(x==null?void 0:x.logs)||[],references:(x==null?void 0:x.references)||[],tags:I,processID:x==null?void 0:x.spanID,flags:0,dataFrameRowIndex:N,process:E,children:(x==null?void 0:x.children)||[]}});if((S==null?void 0:S.length)>0)try{const x=Object.create(null),N=S[0].startTime;for(const I of S){const{spanID:O,parentSpanID:D,startTime:p,references:E,children:_}=I;D!==""&&x[D]&&(x[D].children.push(O),E.push({refType:"CHILD_OF",spanID:D,traceID:x[D].traceID,span:{...x[D]}})),_.length>0&&(I.hasChildren=!0,I.childSpanCount=_.length),I.relativeStartTime=p-N,x[O]=I}}catch(x){console.log(x)}yh(S);let w={services:[],spans:[],traceID:"",traceName:"",processes:{},duration:0,startTime:0,endTime:0};const m=S==null?void 0:S[0];if(s&&g&&h){const{serviceName:x,name:N,traceID:I}=m;w={services:S.map(O=>({name:O.serviceName,numberOfSpans:S.length})),spans:S,traceID:o?o==null?void 0:o.traceID:I,traceName:o?`${o==null?void 0:o.serviceName}: ${o==null?void 0:o.name}`:`${x}: ${N}`,processes:{},duration:g-h,startTime:h,endTime:g}}return w})}const t_=ve("div",{target:"eyh4i720"})("margin:4px;padding:5px;margin-top:0px;border:1px solid ",e=>{var t;return(t=e.theme)==null?void 0:t.accentNeutral},";border-radius:3px;display:flex;flex-direction:column;flex:",({size:e})=>e==="min"?0:1,";height:",e=>{var t,n;return e.size==="regular"?(t=e==null?void 0:e.vheight)==null?void 0:t.regularCont:(e==null?void 0:e.size)==="max"?(n=e==null?void 0:e.vheight)==null?void 0:n.maxCont:"20px"},";.view-content{margin:3px;height:",e=>{var t,n;return e.size==="regular"?(t=e==null?void 0:e.vheight)==null?void 0:t.regularView:(e==null?void 0:e.size)==="max"?(n=e==null?void 0:e.vheight)==null?void 0:n.maxView:"0px"},";display:",e=>e.size==="min"?"none":((e==null?void 0:e.size)==="regular","flex"),";flex-direction:",e=>((e==null?void 0:e.size)==="regular","column"),";flex:1;}");function Or(){return{}}function n_(e){const{viewRef:t,panelSize:n,viewHeight:r,setStreamClose:i,setMaxHeight:s,setMinimize:o,actualQuery:l,total:c,type:h}=e,{dataView:u}=e,{data:g}=u,S=b.useMemo(()=>e_(g)[0],[g]),w=qe(),m=b.useMemo(()=>{var pe;if(((pe=S==null?void 0:S.spans)==null?void 0:pe.length)>0){const Te=XE(S.spans);return{name:"Trace",refId:(l==null?void 0:l.idRef)||"Traces",fields:Te,length:Te==null?void 0:Te.length}}return null},[S,l]),{traceProp:C}={traceProp:{...S}},{removeHoverIndentGuideId:k,addHoverIndentGuideId:T,hoverIndentGuideIds:x}=YE(),{viewRange:N,updateViewRangeTime:I,updateNextViewRangeTime:O}=KE(),{expandOne:D,collapseOne:p,childrenToggle:E,collapseAll:_,childrenHiddenIDs:A,expandAll:$}=JE(),{detailStates:z,toggleDetail:V,detailLogItemToggle:K,detailLogsToggle:ie,detailEventsToggle:ue,detailProcessToggle:te,detailReferencesToggle:he,detailReferenceItemToggle:Y,detailTagsToggle:Fe,detailWarningsToggle:$e,detailStackTracesToggle:me}=GE(),[ke,Oe]=b.useState(!1),[re,Ce]=b.useState(.25),Ee=b.useMemo(()=>({childrenHiddenIDs:A,detailStates:z,hoverIndentGuideIds:x,shouldScrollToFirstUiFindMatch:!1,spanNameColumnWidth:re,traceID:C==null?void 0:C.traceID}),[A,z,x,re,C==null?void 0:C.traceID]),be=b.useCallback(()=>Oe(!ke),[ke]);if(m&&S){const pe={ref:t,size:n,vheight:r,...e};return f(vt,{theme:w,children:F(t_,{...pe,children:[f(Pi,{...e,onClose:i,setMinimize:o,setMaxHeight:s,actualQuery:l,total:c,type:h}),F("div",{className:"view-content",children:[f(xE,{...e,canCollapse:!1,hideMap:!1,hideSummary:!1,theme:w,onSlimViewClicked:be,onTraceGraphViewClicked:Or,slimView:ke,trace:C,updateNextViewRangeTime:O,updateViewRangeTime:I,viewRange:N}),f(gk,{...e,theme:w,registerAccessors:Or,scrollToFirstVisibleSpan:Or,trace:C,traceTimeline:Ee,updateNextViewRangeTime:O,updateViewRangeTime:I,viewRange:N,setSpanNameColumnWidth:Ce,collapseAll:_,collapseOne:p,expandAll:$,expandOne:D,childrenToggle:E,clearShouldScrollToFirstUiFindMatch:Or,detailLogItemToggle:K,detailLogsToggle:ie,detailEventsToggle:ue,detailWarningsToggle:$e,detailStackTracesToggle:me,detailReferencesToggle:he,detailReferenceItemToggle:Y,detailProcessToggle:te,detailTagsToggle:Fe,detailToggle:V,setTrace:Or,addHoverIndentGuideId:T,removeHoverIndentGuideId:k,linksGetter:Or,uiFind:e.search,scrollElement:e.scrollElement})]})]})})}return null}function r_(e){var p,E,_,A,$;const{dataView:t,name:n}=e,{type:r,total:i,loading:s}=t,o=Re(z=>z.isSplit),l=b.useRef(null),c=Re(z=>z[n]),[h,u]=b.useState("max"),g=J0({panel:c,dataView:t}),[S,w]=b.useState(0);b.useEffect(()=>{var z,V;(z=l==null?void 0:l.current)!=null&&z.clientWidth&&w((V=l.current)==null?void 0:V.clientWidth)},[(p=l==null?void 0:l.current)==null?void 0:p.clientWidth]);const[m,C]=b.useState(t.data),[k,T]=b.useState(t.tableData||{});b.useEffect(()=>{C(t.data)},[t.data,C,o]),b.useEffect(()=>{T(t.tableData||{})},[t.tableData,T]);const x=()=>{C([]),T([])},N=()=>{u(z=>z!=="min"?"min":"regular")},I=()=>{u(z=>z!=="max"?"max":"regular")},O=K0({total:i,panelSize:h,dataView:t}),D=G0({type:r,actualQuery:g,total:i,dataView:t});if(r==="traces"){const z={viewRef:l,panelSize:h,viewHeight:D,setStreamClose:x,setMaxHeight:I,setMinimize:N,actualQuery:g,total:i,type:r,theight:O,tableData:k,viewWidth:S,streamData:m,theme:e.theme,...e};return f(n_,{...z})}if(g&&r==="matrix"&&(m==null?void 0:m.length)>0){const{limit:z}=g,V={viewRef:l,panelSize:h,viewHeight:D,setStreamClose:x,setMaxHeight:I,setMinimize:N,actualQuery:g,total:i,type:r,theight:O,tableData:k,viewWidth:S,limit:z,streamData:m,...e};return f(yw,{...V})}if(g&&r==="stream"&&(m==null?void 0:m.length)>0){const z={viewRef:l,panelSize:h,viewHeight:D,viewWidth:S,setStreamClose:x,setMaxHeight:I,logsVolumeData:t.logsVolumeData,setMinimize:N,actualQuery:g,total:i,type:r,theight:O,tableData:k,streamData:m,...e};return f(bw,{...z})}if(g&&r==="vector"&&((E=m==null?void 0:m.chartData)==null?void 0:E.length)>0||g&&r==="vector"&&((A=(_=m==null?void 0:m.tableData)==null?void 0:_.dataRows)==null?void 0:A.length)>0){const{limit:z}=g,V={viewRef:l,panelSize:h,viewHeight:D,setStreamClose:x,setMinimize:N,setMaxHeight:I,actualQuery:g,total:i,type:r,theight:O,streamData:m,viewWidth:S,limit:z,...e};return f(xw,{...V})}if(g&&!(($=m==null?void 0:m.dataRows)!=null&&$.length)&&!(m!=null&&m.length)){const z={viewRef:l,panelSize:h,setStreamClose:x,setMinimize:N,setMaxHeight:I,actualQuery:g,total:i,loading:s,...e};return f(fx,{...z})}else return null}function i_(e){const{name:t,open:n}=e,r=qe(),i=Re(h=>h.isCardinality),[s]=b.useState(t),o=Re(h=>h[`${s}DataView`]),l=Re(h=>h[s]),c=b.useMemo(()=>o.sort((h,u)=>l.findIndex(g=>g.id===h.id)-l.findIndex(g=>g.id===u.id)),[o,l]);return c.length>0?f(vt,{theme:r,children:F(X0,{children:[f(Li,{section:"Data Views",localProps:e}),!i&&(c==null?void 0:c.map((h,u)=>f(r_,{...e,splitted:n,dataView:h},u)))]})}):null}const s_=e=>oe("color:",e.contrast,";display:flex;flex:1;flex-direction:column;border:1px solid ",e.accentNeutral,";margin-top:5px;border-radius:5px;",""),a_=e=>oe("font-size:14px;background:",e.shadow,";padding:5px;border-bottom:1px solid ",e.accentNeutral,";",""),o_=e=>oe({name:"1ogeil0",styles:"display:table"}),l_=oe({name:"eafeqf",styles:"display:table-row;font-size:13px"}),Pu=(e,t)=>oe("display:table-cell;padding:5px;border-top:1px solid ",e.accentNeutral,";",t==="key"?`color:${e.hardContrast};`:"",";",""),c_=oe({name:"1ityoz",styles:"font-weight:lighter"}),u_=oe({name:"1n7r223",styles:"font-family:monospace"});function d_(e){const{data:{hasStats:t,statsData:n}}=e,r=qe(),i=b.useMemo(()=>{var s;return typeof n!="object"&&n!==void 0&&((s=Object.keys(n))==null?void 0:s.length)<1?[["key","val"]]:Object.entries(n)},[n]);return(i==null?void 0:i.length)>0&&t?F("div",{className:Pe(s_(r)),children:[f("div",{className:Pe(a_(r)),children:"Stats"}),f("div",{className:Pe(o_()),children:i==null?void 0:i.map(([s,o],l)=>F("div",{className:Pe(l_),children:[f("div",{className:Pe(Pu(r,"key"),c_),children:s}),f("div",{className:Pe(Pu(r,"value"),u_),children:o||""})]},l))})]}):null}const $i=vo,f_=ve(jg,{target:"ebjgwxc15"})("height:18px;color:",({color:e})=>e,";width:18px;"),xh=ve($i,{target:"ebjgwxc14"})("background:none;margin-left:5px;color:",e=>e.theme.contrast,";background:",e=>e.theme.neutral,";border:1px solid ",e=>e.theme.accentNeutral,";height:28px;span{margin-left:5px;}@media screen and (max-width: 1070px){display:flex;gap:2px;}"),h_=ve($i,{target:"ebjgwxc13"})("background:",({theme:e})=>e.neutral,";border:1px solid ",e=>e.theme.accentNeutral,";text-overflow:ellipsis;transition:0.25s all;padding-left:6px;justify-content:flex-start;color:",({theme:e})=>e.contrast,";height:28px;&:hover{background:",({theme:e})=>e.lightNeutral,";}@media screen and (max-width: 1070px){display:",({isMobile:e})=>e?"flex":"none",";margin:0;gap:2px;}"),p_=ve("div",{target:"ebjgwxc12"})({name:"1eqhg5b",styles:"display:flex;margin-left:0px;flex-wrap:wrap;border-radius:3px;gap:2px"}),g_=ve($i,{shouldForwardProp:e=>Xp(e)&&e!=="loading",target:"ebjgwxc11"})("background:",e=>e.loading?"#44bcd8":e.theme.primary,";border:1px solid ",e=>e.theme.primaryAccent,";color:",e=>e.theme.maxContrast,";transition:0.25s all;justify-content:center;height:28px;margin:0px 4px;&:hover{background:",e=>e.theme.primaryLight,";}&:disabled{background:",e=>e.theme.neutral,";border:1px solid ",e=>e.theme.accentNeutral,";cursor:not-allowed;color:",e=>e.theme.contrast,";}@media screen and (max-width: 1070px){display:flex;margin:0;gap:2px;}"),m_=ve($i,{target:"ebjgwxc10"})("background:none;margin-left:5px;color:",e=>e.theme.contrast,";background:",e=>e.theme.neutral,";border:1px solid ",e=>e.theme.accentNeutral,";height:28px;span{margin-left:5px;}display:",e=>e.isMobile||e.isSplit?"flex":"none",";"),v_=ve("div",{target:"ebjgwxc9"})({name:"9xhvp4",styles:"display:flex;flex-wrap:wrap;margin-bottom:4px;@media screen and (max-width: 1070px){display:flex;gap:2px;}"}),$u=ve("div",{target:"ebjgwxc8"})({name:"16wen2w",styles:"display:flex;flex:1;align-items:center;justify-content:space-between;margin-bottom:20px;margin-right:10px;margin:2px"}),b_=ve("div",{target:"ebjgwxc6"})("display:flex;flex:1;flex-direction:column;background:",({theme:e})=>e.shadow,";"),y_=ve("div",{target:"ebjgwxc5"})({name:"1hrwwa8",styles:"margin:20px;display:flex;flex-direction:column;flex:1;.options-input{margin:10px;display:flex;justify-content:space-between;}"}),pr=ve("label",{target:"ebjgwxc2"})("font-size:12px;color:",({theme:e})=>e.alphaNeutral,";margin-left:10px;"),x_=ve("div",{target:"ebjgwxc1"})("display:flex;justify-content:space-between;align-items:center;margin:10px;h3{margin-left:10px;font-size:1em;color:",({theme:e})=>e.contrast,";}"),S_=ve($i,{target:"ebjgwxc0"})("background:none;padding:0;color:",({theme:e})=>e.contrast,";");function Xr(e){const{isDisabled:t,onClick:n,isMobile:r,alterText:i,loading:s=!1}=e,o="Show Results",l=qe();return f(vt,{theme:l,children:f(g_,{disabled:t,type:"submit",onClick:n,isMobile:r,loading:s||!1,children:s?f(mt,{children:"Loading..."}):f(mt,{children:i||o})})})}function ps({isDisabled:e,onClick:t,isMobile:n,alterText:r}){const i="Show Logs Rate",s=qe();return f(vt,{theme:s,children:f(xh,{disabled:e,type:"submit",onClick:t,isMobile:n,children:r||i})})}function Ii(e){return e.split(/[  ]+/).map(t=>({children:[{text:en.sanitize(t)}]}))||[{children:[{text:en.sanitize("Enter a cLoki Query")}]}]}function Oa(e){return e&&e!=="{"&&e!=="}"}const w_=e=>{const t=JSON.stringify(e);return JSON.parse(t)},T_=(e,t)=>{let n=[];for(let r of e)r.name===t?n.push({...r,selected:!r.selected}):n.push(r);return n},C_=(e,t)=>e.some(n=>n===t)?e.filter(n=>n!==t):e.concat(t),k_={JSONClone:w_,updateLabel:T_,updateLabelSelected:C_},E_=(e,t)=>{let n={expr:"",dataSourceId:e,queryId:t};try{const r=JSON.parse(localStorage.getItem("queryData")||"[]")||[];if(r&&(r==null?void 0:r.length)>0){const i=r==null?void 0:r.find(s=>s.dataSourceId===e&&s.queryId===t);return i&&(n={...i}),n}else return n}catch(r){return console.error(r),n}},__=()=>{try{return JSON.parse(localStorage.getItem("queryData")||"[]")}catch{return[]}},I_=e=>{try{const t=JSON.parse(localStorage.getItem("dataSources")||"[]");return t==null?void 0:t.find(n=>n.id===e)}catch{return{}}},R_=(e,t,n)=>{const r={expr:e,queryId:t,dataSourceId:n},i=__();let s=[];i&&i.length>0&&Array.isArray(i)&&i.some(o=>o.dataSourceId===n&&o.queryId===t)?s=i.map(o=>o.queryId===t&&o.dataSourceId===n?{...r}:o):s=[...i,r],localStorage.setItem("queryData",JSON.stringify(s))},M_={getLocalQueryItem:E_,getLocalDataSources:I_,setLocalQueryData:R_},ts=ve("div",{target:"eybkfr64"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),mi=ve("label",{target:"eybkfr60"})("font-size:11px;white-space:nowrap;color:",({theme:e})=>e.hardContrast,";margin-left:10px;"),N_=ve("div",{target:"e1gdq68v2"})({name:"1rjl5oi",styles:"display:flex;margin-right:10px"}),O_=ve("div",{target:"e1gdq68v1"})("color:",e=>e.theme.contrast,";background:",e=>e.theme.shadow,";display:flex;align-items:center;justify-content:center;font-size:11px;white-space:nowrap;padding:0px 10px;"),L_=ve("input",{target:"e1gdq68v0"})("flex:1;background:",e=>e.theme.deep,";color:",e=>e.theme.contrast,";border:1px solid ",e=>e.theme.accentNeutral,";border-radius:3px;max-width:60px;padding-left:8px;");function D_(e,t){return e==="left"?cn(t):Yt(t)}function Sh(e){const t=zt(),{id:n}=e.data,{name:r}=e,i=Re(h=>h[r]),[s,o]=b.useState(e.data.limit),l=b.useMemo(()=>e.data.limit,[e.data.limit]);b.useEffect(()=>{o(l)},[l,o]);function c(h){let u=h.target.value;u>2e4&&(u=2e4);const g=[...i];g.forEach(S=>{S.id===n&&(S.limit=u)}),t(D_(r,g))}return F(N_,{children:[f(O_,{children:"Query Limit"}),f(Lt,{title:"max 20000",children:f(L_,{type:"number",value:s,onChange:c})})]})}const A_=ve("div",{target:"ews3q4j2"})("color:",e=>e.theme.contrast,";background:",e=>e.theme.shadow,";display:flex;align-items:center;justify-content:center;font-size:11px;white-space:nowrap;padding:0px 10px;"),P_=ve("div",{target:"ews3q4j1"})("display:flex;align-items:center;font-size:12px;background-color:",e=>e.theme.shadow,";border:1px solid ",e=>e.theme.accentNeutral,";color:",e=>e.theme.contrast,";border-radius:3px;margin-right:10px;"),$_=ve("div",{target:"ews3q4j0"})("cursor:pointer;display:flex;align-items:center;background:",e=>e.selected?e.theme.neutral:e.theme.shadow,";border-left:",e=>e.position==="last"?`1px solid ${e.theme.accentNeutral}`:"none",";border-right:",e=>e.position==="first"?`1px solid ${e.theme.accentNeutral}`:"none",";border-radius:",({position:e})=>e==="first"?"3px 0px 0px 3px":e==="last"?"0px 3px 3px 0px":"0px",";flex:1;height:90%;padding:0px 12px;font-size:12px;line-height:20px;"),z_=(e,t)=>{const n=t.length;return e===0?"first":e===n-1?"last":"center"};function Br(e){const{options:t,defaultActive:n,label:r,onChange:i}=e,s=b.useMemo(()=>n,[n]),[o,l]=b.useState(s);b.useEffect(()=>{l(n)},[n]);function c(h){l(h),i(h)}return F(mt,{children:[f(A_,{children:r}),f(P_,{children:t&&t.map((h,u,g)=>f($_,{selected:h.value===o,defaultActive:n,position:z_(u,g),onClick:S=>c(h.value),children:h.label},u))})]})}const V_=ve("div",{target:"e1okmxzw0"})("display:flex;padding:4px;color:",e=>e.color,";height:26px;");function er(e,t){return e==="left"?cn(t):Yt(t)}const F_=[{value:"range",label:"Range"},{value:"instant",label:"Instant"}],j_=[{value:"forward",label:"Forward"},{value:"backwards",label:"Backwards"}];function H_(e){const t=zt(),{name:n,data:r}=e,i=qe(),s=Re(Oe=>Oe[n]),o=Re(Oe=>Oe.responseType),{hash:l}=ei(),{id:c,queryType:h,tableView:u,idRef:g,isShowTs:S,isBuilder:w,isLogsVolume:m,direction:C,dataSourceType:k,isShowStats:T,hasStats:x}=r,[N,I]=b.useState(u),[O,D]=b.useState(S||!1),[p,E]=b.useState(w||!1),[_,A]=b.useState(m||!1),[$,z]=b.useState(T||!1),[V,K]=b.useState(h),[ie,ue]=b.useState(C||"forward");b.useEffect(()=>{const re=new URLSearchParams(l.replace(/#/,"")).get(n),Ce=JSON.parse(decodeURIComponent(re)||"[]");if((Ce==null?void 0:Ce.length)>0){const Ee=Ce.find(be=>be.idRef===g);if(Ee){const be=[...s];be.forEach(pe=>{pe.idRef===g&&(pe.queryType=Ee.queryType,pe.direction=Ee.direction)}),t(er(n,be))}}},[]),b.useEffect(()=>{I(e.data.tableView)},[I,e.data.tableView]),b.useEffect(()=>{D(e.data.isShowTs)},[D,e.data.isShowTs]),b.useEffect(()=>{E(e.data.isBuilder)},[E,e.data.isBuilder]),b.useEffect(()=>{A(e.data.isLogsVolume)},[A,e.data.isLogsVolume]);function te(Oe){const re=[...s];re.forEach(Ce=>{Ce.id===c&&(Ce.queryType=Oe)}),t(er(n,re)),K(Oe)}function he(Oe){const re=[...s];re.forEach(Ce=>{Ce.id===c&&(Ce.direction=Oe)}),t(er(n,re)),ue(Oe)}function Y(){const Oe=[...s];Oe.forEach(re=>{re.id===c&&(re.tableView=!N)}),t(er(n,Oe))}function Fe(){const Oe=[...s];Oe.forEach(re=>{re.id===c&&(re.isShowTs=!O)}),t(er(n,Oe))}function $e(){const Oe=[...s];Oe.forEach(re=>{re.id===c&&(re.isBuilder=!p)}),t(er(n,Oe))}function me(){const Oe=[...s];Oe.forEach(re=>{re.id===c&&(re.isLogsVolume=!_)}),t(er(n,Oe))}function ke(Oe){const re=Oe.target.checked;z(()=>re);const Ce=[...s];Ce.forEach(Ee=>{Ee.id===c&&(Ee.isShowStats=!$)}),t(er(n,Ce))}return f(vt,{theme:i,children:F(V_,{children:[f(Li,{section:"Query Options",localProps:e}),f(Br,{label:"Query Type",options:F_,onChange:te,defaultActive:V}),f(Br,{label:"Direction",options:j_,onChange:he,defaultActive:ie}),f(Sh,{...e}),k==="flux"&&F("div",{className:"options-input",children:[f(mi,{children:"Chart View"}),f(xn,{checked:N,size:"small",onChange:Y,inputProps:{"aria-label":"controlled"}})]}),o!=="vector"&&F(mt,{children:[F(ts,{children:[f(mi,{children:"Timestamp"}),f(xn,{checked:O,size:"small",onChange:Fe,inputProps:{"aria-label":"controlled-ts"}})]}),F(ts,{children:[f(mi,{children:"Query Builder"}),f(xn,{checked:p,size:"small",onChange:$e,inputProps:{"aria-label":"controlled-ts"}})]}),F(ts,{children:[f(mi,{children:"Logs Volume"}),f(xn,{checked:_,size:"small",onChange:me,inputProps:{"aria-label":"controlled-ts"}})]}),x&&F(ts,{children:[f(mi,{children:"Stats Info"}),f(xn,{checked:$,size:"small",onChange:ke,inputProps:{"aria-label":"controlled-ts"}})]})]})]})})}const B_=e=>{const t=zt(),n=Re(te=>te.responseType),{hash:r}=ei(),{id:i,idRef:s,dataSourceType:o,isBuilder:l}=e.data,{open:c,handleClose:h,actPanel:u,name:g}=e,[S,w]=b.useState(e.data.tableView),[m,C]=b.useState(e.data.isShowTs),[k,T]=b.useState(l||!1),[x,N]=b.useState(e.data.queryType),[I,O]=b.useState(e.data.traceQueryType||"traceId"),[D,p]=b.useState(e.data.direction);b.useEffect(()=>{const he=new URLSearchParams(r.replace(/#/,"")).get(g);try{const Y=JSON.parse(decodeURIComponent(he));if((Y==null?void 0:Y.length)>0){const Fe=Y.find($e=>$e.idRef===s);if(Fe){const $e=[...u],me=_($e,s);typeof me<"u"&&(me.queryType=Fe.queryType,me.direction=Fe.direction,t(fn(g,$e)))}}}catch(Y){console.log(Y)}},[]);const E=(te,he)=>te.find(Y=>Y.id===he),_=(te,he)=>te.find(Y=>Y.id===he);b.useEffect(()=>{w(e.data.tableView)},[w,e.data.tableView]),b.useEffect(()=>{C(e.data.isShowTs)},[C,e.data.isShowTs]),b.useEffect(()=>{T(e.data.isBuilder)},[T,e.data.isBuilder]);function A(te){const he=[...u],Y=E(he,i);typeof Y<"u"&&(Y.queryType=te,t(fn(g,he))),N(te)}function $(te){const he=[...u],Y=E(he,i);typeof Y<"u"&&(Y.traceQueryType=te,t(fn(g,he))),O(Fe=>te)}function z(te){const he=[...u],Y=E(he,i);typeof Y<"u"&&(Y.direction=te,t(fn(g,he))),p(te)}function V(){const te=[...u],he=E(te,i);typeof he<"u"&&(he.tableView=!S,t(fn(g,te)))}const K=()=>f(Br,{label:"Trace Type",options:jN,onChange:$,defaultActive:I});function ie(){const te=[...u];te.forEach(he=>{he.id===i&&(he.isShowTs=!m)}),t(fn(g,te))}function ue(){const te=[...u];te.forEach(he=>{he.id===i&&(he.isBuilder=!k)}),t(fn(g,te))}return f(ho,{open:c,onClose:h,PaperProps:{classes:{root:po}},children:F(b_,{children:[F(x_,{children:[f("h3",{children:"Query Options"}),F(S_,{onClick:h,children:[" ",f(go,{})," "]})]}),F(y_,{children:[f("div",{className:"options-input",children:K()}),f("div",{className:"options-input",children:f(Br,{label:"Query Type",options:VN,onChange:A,defaultActive:x})}),f("div",{className:"options-input",children:f(Br,{label:"Direction",options:FN,onChange:z,defaultActive:D})}),f("div",{className:"options-input",children:f(Sh,{...e})}),o==="flux"&&F("div",{className:"options-input",children:[f(pr,{children:"Chart View"}),f(xn,{checked:S,size:"small",onChange:V,inputProps:{"aria-label":"controlled"}})]}),n!=="vector"&&F("div",{className:"options-input",children:[F($u,{children:[f(pr,{children:"Timestamp"}),f(xn,{checked:m,size:"small",onChange:ie,inputProps:{"aria-label":"controlled-ts"}})]}),F($u,{children:[f(pr,{children:"Query Builder"}),f(xn,{checked:k,size:"small",onChange:ue,inputProps:{"aria-label":"controlled-ts"}})]})]})]})]})})};function q_(e,t){return e==="left"?cn(t):Yt(t)}const zu=oe({name:"or93hj",styles:"height:18px!important;width:18px!important"});function wh(e){const t=zt(),{name:n}=e,{id:r,browserOpen:i}=e.data,s=b.useMemo(()=>i,[i]),o=qe();Re(w=>w.labels);const l=Re(w=>w[n]),[c,h]=b.useState(s);b.useEffect(()=>{h(s)},[s]);function u(){const w=[...l];w.forEach(m=>{m.id===r&&(m.browserOpen=!c)}),t(q_(n,w)),h(s)}const g=w=>{var m;return((m=e.labels)==null?void 0:m.length)>0?"Show / Hide Labels":"Labels Not Available"},S=w=>w?f($n,{className:Pe(zu)}):f(Kn,{className:Pe(zu)});return f(vt,{theme:o,children:f(Lt,{title:g(),children:F(h_,{onClick:u,browserActive:c,isMobile:e.isMobile,children:[S(c),"Labels"]})})})}function W_({disabled:e,onClick:t,isMobile:n}){const r="Options",i=qe();return f(vt,{theme:i,children:f(m_,{disabled:e,type:"submit",onClick:t,isMobile:n,children:r})})}function Th({queryLength:e,handleHistoryClick:t,isMobile:n}){const[r,i]=b.useState(!1),s=qe();return b.useEffect(()=>{e>0?i(!0):i(!1)},[e]),f(vt,{theme:s,children:f(Lt,{title:"Query History ("+e+")",children:F(xh,{isMobile:n,onClick:t,children:[f(f_,{color:r?s.contrast:s.lightContrast}),n&&f("span",{children:"History"})]})})})}const U_=e=>{const t=zt(),{isSplit:n,onShowQuerySettings:r,queryHistory:i,handleHistoryClick:s,queryValid:o,onSubmit:l,onSubmitRate:c,data:h,name:u,loading:g,hasStats:S,showStatsOpen:w,handleStatsOpen:m,...C}=e,{id:k,dataSourceType:T}=h,[x,N]=b.useState(e.data.chartView);b.useEffect(()=>{N(e.data.chartView)},[N,e.data.chartView]);const I=Re(E=>E[u]),O=E=>E!=="flux"&&E!=="metrics"&&E!=="traces"?F(mt,{children:[f(wh,{...e,isMobile:!0}),f(W_,{...C,isSplit:n,isMobile:!0,onClick:r})]}):null,D=(E,_)=>E.find(A=>A.id===_),p=()=>{const E=[...I],_=D(E,k);typeof _<"u"&&(_.chartView=!x,t(fn(u,E)))};return F(v_,{children:[O(T),f(Th,{queryLength:i==null?void 0:i.length,handleHistoryClick:s,isMobile:!0}),T==="logs"&&f(ps,{disabled:!o,onClick:c,isMobile:!1}),T==="logs"&&S&&n&&F("div",{className:"options-input",children:[f(pr,{children:"Show Stats"}),f(xn,{checked:w,size:"small",onChange:m,inputProps:{"aria-label":"controlled-switch"}})]}),f(Xr,{disabled:!o,onClick:l,isMobile:!0,loading:g||!1}),T==="flux"&&F("div",{className:"options-input",children:[f(pr,{children:"Chart View"}),f(xn,{checked:x,size:"small",onChange:p,inputProps:{"aria-label":"controlled"}})]})]})};(function(e){var t=["sum","min","max","avg","group","stddev","stdvar","count","count_values","bottomk","topk","quantile"],n=["on","ignoring","group_right","group_left","by","without"],r=["offset"],i=t.concat(n,r);e.languages.promql={comment:{pattern:/(^[ \t]*)#.*/m,lookbehind:!0},"vector-match":{pattern:new RegExp("((?:"+n.join("|")+")\\s*)\\([^)]*\\)"),lookbehind:!0,inside:{"label-key":{pattern:/\b[^,]+\b/,alias:"attr-name"},punctuation:/[(),]/}},"context-labels":{pattern:/\{[^{}]*\}/,inside:{"label-key":{pattern:/\b[a-z_]\w*(?=\s*(?:=|![=~]))/,alias:"attr-name"},"label-value":{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0,alias:"attr-value"},punctuation:/\{|\}|=~?|![=~]|,/}},"context-range":[{pattern:/\[[\w\s:]+\]/,inside:{punctuation:/\[|\]|:/,"range-duration":{pattern:/\b(?:\d+(?:[smhdwy]|ms))+\b/i,alias:"number"}}},{pattern:/(\boffset\s+)\w+/,lookbehind:!0,inside:{"range-duration":{pattern:/\b(?:\d+(?:[smhdwy]|ms))+\b/i,alias:"number"}}}],keyword:new RegExp("\\b(?:"+i.join("|")+")\\b","i"),function:/\b[a-z_]\w*(?=\s*\()/i,number:/[-+]?(?:(?:\b\d+(?:\.\d+)?|\B\.\d+)(?:e[-+]?\d+)?\b|\b(?:0x[0-9a-f]+|nan|inf)\b)/i,operator:/[\^*/%+-]|==|!=|<=|<|>=|>|\b(?:and|or|unless)\b/i,punctuation:/[{};()`,.[\]]/}})(Prism);Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/};const Q_=ve(mm,{target:"erz5ess1"})("flex:1;background:",({theme:e})=>e.deep,";border:1px solid ",({theme:e})=>e.accentNeutral,";color:",({theme:e})=>e.contrast,";padding:4px 8px;font-size:12px;font-family:monospace;margin:0px 5px;border-radius:3px;line-height:1.5;line-break:anywhere;overflow-y:scroll;"),G_=ve("div",{target:"erz5ess0"})({name:"torj63",styles:"display:flex;align-items:center;flex:1;max-width:100%"});function K_({attributes:e,children:t,leaf:n}){const r=qe();return f("span",{...e,className:oe("font-family:monospace;",n.comment&&oe({name:"117wnve",styles:"color:blue"})," ",(n.operator||n.url)&&oe("color:",r.lightContrast,";","")," ",n.keyword&&oe({name:"18visop",styles:"color:#57aed4"})," ",(n.variable||n.regex)&&oe({name:"177l7gg",styles:"color:#e90"})," ",(n.number||n.boolean||n.tag||n.constant||n.symbol||n["attr-name"]||n.selector)&&oe({name:"1w5fh66",styles:"color:#dd4a68"})," ",n.punctuation&&oe({name:"10ufnnq",styles:"color:orange"})," ",(n.string||n.char)&&oe({name:"v98kxt",styles:"color:green"})," ",(n.function||n["class-name"]||n["attr-name"])&&oe({name:"1w5fh66",styles:"color:#dd4a68"})," ",n["context-labels"]&&oe({name:"10ufnnq",styles:"color:orange"})," ",n["label-key"]&&oe({name:"v98kxt",styles:"color:green"}),";",""),children:t})}function Ch(e){var t;return typeof e=="string"?e==null?void 0:e.length:typeof(e==null?void 0:e.content)=="string"?e==null?void 0:e.content.length:(t=e==null?void 0:e.content)==null?void 0:t.reduce((n,r)=>n+Ch(r),0)}function yl({onQueryChange:e,value:t,onKeyDown:n}){const r=qe(),i=b.useCallback(g=>f(K_,{...g}),[]),s=b.useMemo(()=>fm(hm(vm())),[]),o=b.useRef(null),[l]=b.useState("sql"),c=b.useCallback(([g,S])=>{const w=[];if(!pm.isText(g)||(g==null?void 0:g.length)<1)return w;const m=lc.tokenize(g.text,lc.languages[l]);let C=0;for(const k of m){const T=Ch(k),x=C+T;typeof k!="string"&&w.push({[k.type]:!0,anchor:{path:S,offset:C},focus:{path:S,offset:x}}),C=x}return w},[l]),[h,u]=b.useState(t);return b.useEffect(()=>{u(t)},[]),b.useEffect(()=>{u(t),s.children=t},[t,u]),f(vt,{theme:r,children:f(G_,{ref:o,children:f(gm,{editor:s,initialValue:h,onChange:e,children:f(Q_,{decorate:c,renderLeaf:i,placeholder:"",onKeyDown:n,spellCheck:"false"})})})})}const J_=e=>{const{isTabletOrMobile:t,isBuilder:n,dataSourceType:r,handleQueryChange:i,expr:s,queryValue:o,handleInputKeyDown:l,queryHistory:c,handleHistoryClick:h,queryValid:u,onSubmit:g,onSubmitRate:S,loading:w}=e,m=Re(T=>T.isSplit),C=T=>r===T,k=()=>!m&&r!=="flux"&&r!=="traces";return F(p_,{children:[!t&&!m&&!n&&C("logs")&&f(wh,{...e}),(r!=="logs"||!n)&&r!=="metrics"&&f(yl,{onQueryChange:i,defaultValue:s||"",value:o,onKeyDown:l}),k()&&r==="logs"&&!n&&!t&&F(mt,{children:[f(Th,{queryLength:c.length,handleHistoryClick:h}),r==="logs"&&!n&&f(ps,{disabled:!u,onClick:S,isMobile:!1}),f(Xr,{disabled:!u,onClick:g,isMobile:!1,loading:w||!1})]}),(r==="traces"||r==="metrics")&&f(mt,{children:f(Xr,{disabled:!u,onClick:g,isMobile:!1,loading:w||!1})})]})};function Y_(e){const{searchName:t,name:n,minDuration:r,maxDuration:i,tags:s,limit:o}=e;let l="";(t==null?void 0:t.length)>0&&(l=` service.name="${t}"`);let c="";(s==null?void 0:s.length)>0&&(c=` ${s}`);let h="";(n==null?void 0:n.length)>0&&(h=` name="${n}"`);let u="";(r==null?void 0:r.length)>0&&(u=`&minDuration=${r}`);let g="";(i==null?void 0:i.length)>0&&(g=`&maxDuration=${i}`);let S="";return o&&(S=`&limit=${o}`),`search?tags=${encodeURIComponent(`${c}${l}${h}`)}${u}${g}${S}`}const kh=[{label:"=",value:"equals"},{label:"=~",value:"regexequals"},{label:"!=",value:"excludeequals"},{label:"!~",value:"regexexclude"}],As={equals:"=",regexequals:"=~",excludeequals:"!=",regexexclude:"!~"},gs={label:"",operator:"equals",values:[],metric:"",id:Gn()},Eh={metric:"",label:"",operator:"equals",values:[],id:Gn()},X_={label:"",value:""},Z_=()=>b.useMemo(()=>({id:0,name:"none",header:f("div",{children:"Container Header"})}),[]),eI={operations:[],labelsState:[],binaryValue:{binaryOpt:"divide",vectOpt:"on",vectValue:""},labelValuesState:[{metric:"",label:"",operator:"equals",values:[],id:Gn()}],builderResult:"",logsVolumeQuery:"",isBinary:!1,isMetrics:!0},os={minus:"-",plus:"+",by:"*",divide:"/",exp:"^",equals:"==",not_equals:"!=",modulo:"%",more:"<",less:">",less_equals:"<=",more_equals:">="},tI={on:"on",ignoring:"ignoring"};function xl(e){var n;let t=[];for(let r of e)if(r.label){let i=`${r.label}${As[r.operator]}"`;((n=r==null?void 0:r.values)==null?void 0:n.length)>0?i+=`${r==null?void 0:r.values.join("|")}"`:i+=`${(r==null?void 0:r.values[0])||""}"`,t.push(i)}return t.join(",")}function nI(e,t){let n="",r="";return(t==null?void 0:t.length)>0&&(r=xl(t)),e!==""&&r?n=`${e}{${r}}`:n=`${e}{}`,n}function ms(e){let t="";return Array.isArray(e)&&(e==null?void 0:e.length)>0&&(t+=e[0].metric,t+=`{${xl(e)}}`),t}function Ps(e){var n;let t={};if(((n=e==null?void 0:e.headers)==null?void 0:n.length)>0)for(let r of e.headers){const i={[String(r.header)]:r.value};t={...t,...i}}return t}function rI(e){var o,l,c;const n={method:"GET",headers:{...Ps(e),"Content-Type":"application/json"}},r=(o=e==null?void 0:e.auth)==null?void 0:o.basicAuth.value;let i={},s={};if(r){const h=(c=(l=e==null?void 0:e.auth)==null?void 0:l.fields)==null?void 0:c.basicAuth;for(let u of h)u.name==="user"&&(s.username=u.value),u.name==="password"&&(s.password=u.value);i.auth=s}return i.options=n,i}function iI(e){return[...e.values.map(t=>sI(t))]}function sI(e){return{label:e,value:e}}function aI(e,t){return{key:e[t],label:e[t]}}function oI(e,t,n){return{value:e[n],label:As[e[n]]}}function lI(e,t,n){e(t==="metric"?r=>r:t==="operator"?oI(n,As,t):t==="value"?iI(n):aI(n,t))}function Sl(e,t){return{...e,borderRadius:2,fontSize:12,colors:{...e.colors,primary:t.contrast,neutral90:t.accentNeutral,neutral80:t.contrast,neutral0:t.deep,primary25:t.shadow,neutral5:t.shadow,neutral10:t.shadow}}}const cI=e=>(e==null?void 0:e.operator)==="regexequals"||(e==null?void 0:e.operator)==="regexexclude";function _h(e){return e.getTime()+"000000"}const uI=(e,t,n)=>`${e}/loki/api/v1/label?start=${t}&end=${n}`,dI=(e,t,n,r)=>`${e}/loki/api/v1/label/${t}/values?start=${n}&end=${r}`,fI=e=>{var s,o,l;const n={headers:{...Ps(e),"Content-Type":"application/json"}},r=(s=e==null?void 0:e.auth)==null?void 0:s.basicAuth.value;let i={};if(r){const c=(l=(o=e==null?void 0:e.auth)==null?void 0:o.fields)==null?void 0:l.basicAuth;for(let h of c)h.name==="user"&&(i.username=h.value),h.name==="password"&&(i.password=h.value)}return{basicAuth:i,options:n}},hI=async(e,t,n,r,i)=>{r(!0);try{const s={...t,auth:n},o=await Sn.get(e,s);o&&i(o||[])}catch(s){console.error("Error fetching labels"),console.error(s)}r(!1)};async function Ih(e,t,n,r){if(e.type!=="flux"&&e.url&&e.url!==""){const{basicAuth:i,options:s}=fI(e);await hI(t,s,i,n,r)}}const pI=(e,t,n,r)=>{var i,s;return{...Z_,header:e,range:"$__interval",name:(s=(i=e==null?void 0:e.toLowerCase())==null?void 0:i.split(" "))==null?void 0:s.join("_"),id:(r==null?void 0:r.length)+1,expressions:[],prev_args:"",after_args:"",conversion_function:"",labelValue:"",filterText:"",labelFilter:{label:"",operator:"=",value:""},binaryOperation:{value:"",bool:!1},lineFilter:"",quantile:.99,kValue:5,labels:[],labelOpts:n||[],opType:t}},gI=(e,t,n)=>{const r=s=>s.some(o=>o.opType==="Range Functions"),i={...t,header:"Rate",name:"rate",id:t.id+1,opType:"Range Functions"};if(e==="Range Functions"&&r(n)){let s=n.find(l=>l.opType==="Range Functions");return[...n==null?void 0:n.map(l=>(l.id===s.id&&(l={...t,id:s.id}),l))]}return e==="Aggregations"&&!r(n)?[...n,i,t]:[...n,t]};function Rh(e){var l,c,h;const t={method:"GET"},r={...Ps(e),"Content-Type":"application/json"},i=(l=e==null?void 0:e.auth)==null?void 0:l.basicAuth.value;let s={},o={};if(i){const u=(h=(c=e==null?void 0:e.auth)==null?void 0:c.fields)==null?void 0:h.basicAuth;for(let g of u)g.name==="user"&&(o.username=g.value),g.name==="password"&&(o.password=g.value);s.auth=o}return s.options=t,s.headers=r,s}function mI({id:e}){const t=Re(({dataSources:s})=>s),[n,r]=b.useState({data:{tagValues:[]}}),i=b.useMemo(()=>t.find(s=>s.id===e),[t,e]);return b.useEffect(()=>{if(i.type==="traces"&&(i!=null&&i.url)&&(i==null?void 0:i.url)!==""){const s=Rh(i),o=`${i.url}/api/search/tag/name/values`;(async()=>{try{const c=await Sn.get(o,s);r(c||{})}catch(c){console.log("Error at loading Span Names",c)}})()}},[]),b.useMemo(()=>{var s;return(s=n==null?void 0:n.data)!=null&&s.tagValues?[{name:"Search Span Name",value:"",label:"Search Span Name"}].concat(n.data.tagValues.map(o=>({name:o,value:o,label:o}))):[{name:"",value:"",label:""}]},[n])}function vI({id:e}){const t=Re(({dataSources:s})=>s),[n,r]=b.useState({data:{tagValues:[]}}),i=b.useMemo(()=>t.find(s=>s.id===e),[t,e]);return b.useEffect(()=>{if(i.type==="traces"&&(i!=null&&i.url)&&(i==null?void 0:i.url)!==""){const s=Rh(i),o=`${i.url}/api/search/tag/service.name/values`;(async()=>{try{const c=await Sn.get(o,s);r(c||{})}catch(c){console.log("Error at loading Service Names",c)}})()}},[]),b.useMemo(()=>{var s;return(s=n==null?void 0:n.data)!=null&&s.tagValues?[{name:"Select Service Name",value:"",label:"Select Service Name"}].concat(n.data.tagValues.map(o=>({name:o,value:o,label:o}))):[{name:"",value:""}]},[n])}const wl=(e,t,n)=>({container:r=>({...r,flex:n?1:""}),menu:r=>({...r,fontSize:"12px",color:e.contrast}),control:r=>({...r,fontSize:"12px",height:28,minHeight:28,boxShadow:"none",color:e.contrast,border:`1px solid ${e.accentNeutral}`,minWidth:t,flex:n?1:""}),input:r=>({...r,fontSize:"12px",color:e.contrast}),indicatorSeparator:r=>({display:"none"}),dropdownIndicator:r=>({padding:0,svg:{height:12},color:e.contrast}),clearIndicator:r=>({padding:0,svg:{height:12}}),singleValue:r=>({...r,fontSize:"12px",height:30,minHeight:30,margin:0,padding:0,marginTop:"4px",color:e.contrast}),valueContainer:r=>({...r,display:"flex",flex:n?1:""})}),Mh=oe({name:"emek2z",styles:"display:flex;flex-wrap:wrap;align-items:center;gap:3px"}),Nh=oe({name:"s5xdrg",styles:"display:flex;align-items:center"}),vs=e=>oe("color:",e.contrast,";border:1px solid ",e.accentNeutral,";margin-left:3px;cursor:pointer;padding:6px;display:flex;align-items:center;justify-content:center;border-radius:3px;",""),bI=e=>oe("display:flex;align-items:center;margin-top:3px;margin-left:3px;cursor:pointer;color:",e.contrast,";padding:0px 12px;border-radius:3px;height:28px;small{font-size:12px;margin:0;padding:0;}",""),yI=e=>oe("color:",e.contrast,";margin-right:2px;",""),$s=oe({name:"1hkoyyu",styles:"display:flex;flex-wrap:wrap;gap:4px;margin:0px 0px"}),zs=oe({name:"1wmy9hl",styles:"display:flex;flex-direction:column;flex:1"}),xI=oe({name:"lkh5er",styles:"display:flex;flex-wrap:wrap;align-items:center"}),SI=oe({name:"1o318wx",styles:"display:flex;flex-direction:column;margin-top:10px"}),wI=oe({name:"32sczf",styles:"display:flex;flex-wrap:wrap;flex-direction:column"}),TI=e=>oe("background:",e.primary,";border:1px solid ",e.primaryAccent,";border-radius:3px;color:",e.maxContrast,";margin-left:5px;transition:0.25s all;justify-content:center;padding:3px 12px;margin-top:5px;height:30px;display:flex;align-items:center;align-self:flex-end;max-width:200px;cursor:pointer;&:hover{background:",e.primaryLight,";}",""),Lr=75,CI={display:"flex",alignItems:"center",flex:1,width:"100%"},Oh={display:"flex",alignItems:"flex-end",flex:1,width:"100%"};function kI(e){const{defaultValue:t,options:n}=e,r=b.useMemo(()=>{const i=n==null?void 0:n.find(s=>(s==null?void 0:s.value)===t);return{label:i==null?void 0:i.label}},[t,n]);return f("div",{style:Oh,children:f("div",{children:r.label})})}const EI=e=>{const{Option:t}=Fd,{data:{label:n}}=e;return f(t,{...e,children:f("div",{style:CI,children:f("span",{style:{fontSize:"12px"},children:n})})})},_I=e=>{const{data:{label:t}}=e;return f("div",{style:Oh,children:f("div",{children:t})})},Vu=b.forwardRef((e,t)=>{const{options:n,onSelectChange:r,label:i,labelWidth:s}=e,o=qe();return F("div",{style:{marginTop:"5px",display:"flex",alignItems:"center",flex:1,whiteSpace:"nowrap"},children:[f("label",{style:{width:`${s}px`,fontSize:"12px",color:o.contrast,padding:"0px 10px"},children:i}),f(bo,{styles:wl(o,100,!0),placeholder:f(kI,{...e}),options:n,ref:t,components:{Option:EI,SingleValue:_I},theme:l=>Sl(l,o),onChange:r})]})});function II(e){const{name:t,data:{id:n,dataSourceId:r,dataSourceType:i,dataSourceURL:s,expr:o},onSearchChange:l}=e,c=zt(),h=vI({id:r}),u=mI({id:r}),[g,S]=b.useState({name:"",value:"",label:""}),[w,m]=b.useState(u[0]||{name:"",value:"",label:""}),C=qe(),[k,T]=b.useState({searchName:g.value||"",name:w.value||"",tags:"",minDuration:"",maxDuration:"",limit:20}),[x,N]=b.useState("");b.useEffect(()=>{h.length>0&&N(Y_(k))},[k]);const I=()=>({dataSourceType:i,expr:o,queryType:"trace-search",limit:k.limit,name:t,id:n,open:!0,direction:"forward",dataSourceId:r,url:`${s}/api/${x}`}),O=_=>{const A=(_==null?void 0:_.value)||"";S({name:A,value:A,label:A}),T($=>({...$,searchName:A})),l(I())},D=_=>{const A=(_==null?void 0:_.value)||"";m({name:A,value:A,label:A}),T($=>({...$,name:A})),l(I())},p=(_,A)=>{var z;const $=((z=_==null?void 0:_.target)==null?void 0:z.value)||"";T(V=>({...V,[A]:$})),l(I())},E=()=>{s&&s!==""&&c(An(i,o,"trace-search",k.limit,t,n,"forward",r,`${s}/api/${x}`))};return f("div",{className:Pe(SI),children:F("div",{className:Pe(wI),children:[f(Vu,{...e,defaultValue:"",label:"Service Name",options:h,onSelectChange:O,labelWidth:Lr}),f(Vu,{...e,defaultValue:"",label:"Span Name",options:u,onSelectChange:D,labelWidth:Lr}),f(Qi,{label:"Tags",placeholder:"http.status_code=200 error=true",onChange:_=>p(_,"tags"),value:nt(k.tags),labelWidth:Lr}),f(Qi,{label:"Limit",placeholder:"Set limit, default 20",onChange:_=>p(_,"limit"),value:nt(String(k.limit)),labelWidth:Lr}),f(Qi,{label:"Min Duration",placeholder:"e.g. 1.2s, 100ms",onChange:_=>p(_,"minDuration"),value:nt(k.minDuration),labelWidth:Lr}),f(Qi,{label:"Max Duration",placeholder:"e.g. 1.2s, 100ms",onChange:_=>p(_,"maxDuration"),value:nt(k.maxDuration),labelWidth:Lr}),f("button",{className:Pe(TI(C)),onClick:E,children:"Search Traces"})]})})}const RI=oe({name:"12ma1a3",styles:"display:flex;height:30px"}),MI=[{label:"Search",value:"search"},{label:"TraceID",value:"traceId"}];function NI(e){const{value:t,onChange:n}=e,[r,i]=b.useState(t||"traceId"),s=o=>{i(l=>o),n(o)};return f("div",{className:Pe(RI),children:f(Br,{label:"Query Type",options:MI,onChange:s,defaultActive:r})})}const OI=e=>b.useMemo(()=>{var t,n,r;return e&&((t=Object.keys(e))==null?void 0:t.length)>0?(r=(n=Object.keys(e))==null?void 0:n.filter(i=>i!=="__name__"))==null?void 0:r.map(i=>({label:i,value:i})):[]},[e]),Lh=(e,t)=>b.useMemo(()=>{var n;return e[t.value]&&Array.isArray(e[t.value])?(n=e[t.value])==null?void 0:n.map(r=>({label:r,value:r})):[{label:"",value:""}]},[t.value,e]),LI=(e,t,n)=>b.useMemo(()=>t==="operator"?{value:e,label:As[e]}:t==="value"?n.values:{key:e,label:e},[e]),DI=(e,t)=>b.useMemo(()=>e==="metrics"?!1:!!(cI(t)&&e==="value"),[e,t]),AI=(e,t,n)=>b.useMemo(()=>{const r=t==null?void 0:t.find(i=>i.id===e);return n!==""&&(r.url=n),r},[e,t]),Dh=e=>b.useMemo(()=>_h(e),[e]),Ah=e=>b.useMemo(()=>_h(e),[e]),PI=e=>b.useMemo(()=>{var t,n,r;return(t=e==null?void 0:e.data)!=null&&t.data&&Array.isArray((n=e==null?void 0:e.data)==null?void 0:n.data)?(r=e.data.data)==null?void 0:r.map(i=>({label:i,value:i})):[{label:"",value:""}]},[e]);function Ph(e,t,n,r,i=""){const[s,o]=b.useState(!1),[l,c]=b.useState([]),h=Dh(t),u=Ah(n),g=AI(e,r,i),S=b.useMemo(()=>uI(g.url,h,u),[g.url,h,u]);b.useEffect(()=>{Ih(g,S,o,c)},[g]);const w=b.useMemo(()=>{var m,C,k;return(m=l==null?void 0:l.data)!=null&&m.data&&Array.isArray((C=l==null?void 0:l.data)==null?void 0:C.data)?(k=l.data.data)==null?void 0:k.map(T=>({label:T,value:T})):[{label:"",value:""}]},[l]);return{loading:s,logsResponse:w}}const $I=e=>oe("display:flex;flex-direction:column;.operation-header{background:",e.background,";color:",e.contrast,";padding:0px 8px;border-bottom:1px solid ",e.accentNeutral,";display:flex;justify-content:space-between;align-items:center;height:28px;span{font-size:12px;}.operation-tools{display:none;align-items:center;}&:hover .operation-tools{display:flex;}}.operation-body{padding:8px;}",""),Bt=e=>oe("display:flex;flex-direction:column;gap:3px;.input-group{display:flex;align-items:center;gap:3px;justify-content:space-between;}.col{flex-direction:column;}.end{justify-content:flex-end;}.wrap{display:table;}label{font-size:12px;color:",e.contrast,";}input{height:26px;color:",e.contrast,";background:",e.deep,";border:1px solid ",e.accentNeutral,";border-radius:3px;padding:0px 6px;max-width:100px;&.checkbox{font-size:12px;height:12px;}}select{height:26px;color:",e.contrast,";background:",e.deep,";border:1px solid ",e.accentNeutral,";border-radius:3px;padding:0px 6px;}button{height:26px;color:",e.contrast,";background:",e.deep,";border:1px solid ",e.accentNeutral,";border-radius:3px;padding:4px 8px;cursor:pointer;font-size:12px;}.binary-operation-bar{display:flex;align-items:center;justify-content:space-between;background:",e.shadow,";border-radius:3px;padding:6px;.binary-operation-cont{display:flex;align-items:center;gap:6px;}}",""),zI=oe({name:"17pwcu2",styles:"margin:0px;padding:0px;height:12px;width:12px;cursor:pointer"}),$h=e=>{const{initial:t,onChange:n}=e,r=b.useMemo(()=>["$__interval","1m","5m","10m","1h","24h"].map(i=>({name:i,value:i})),[]);return f("select",{defaultValue:t,onChange:n,children:r.map((i,s)=>f("option",{value:i.value,children:i.name},s))})},VI=e=>{const{initial:t,onChange:n}=e,r=b.useMemo(()=>["0.25","0.5","0.75","0.9","0.99"].map(i=>({name:i,value:i})),[]);return f("select",{defaultValue:t,onChange:n,children:r.map((i,s)=>f("option",{value:i.value,children:i.name},s))})},Fu=e=>{const{initial:t,onChange:n,opts:r}=e;return f("select",{defaultValue:t,onChange:n,children:r.map((i,s)=>f("option",{value:i.value,children:i.name},s))})},FI=e=>{const{initial:t,onChange:n}=e,r=b.useMemo(()=>["duration","duration_seconds","bytes",""].map(i=>({name:i,value:i})),[]);return f("select",{defaultValue:t,onChange:n,children:r.map((i,s)=>f("option",{value:i.value,children:i.name},s))})},bs=e=>{const{initial:t,onChange:n,labels:r}=e,i=b.useMemo(()=>(r==null?void 0:r.map(s=>({name:s,value:s})))||[{name:"Select Label",value:""}],[]);return f("select",{defaultValue:t,onChange:n,children:i.map((s,o)=>f("option",{value:s.value,children:s.name},o))})},jI="/loki/api/v1/series?match";function HI(e){return e.getTime()+"000000"}function Tl(e){var n;let t={};if(((n=e==null?void 0:e.headers)==null?void 0:n.length)>0)for(let r of e.headers){const i={[String(r.header)]:r.value};t={...t,...i}}return t}const BI=(e,t,n,r)=>`${e}${jI}${encodeURIComponent("[]")}=${encodeURIComponent(t)}&start=${n}&end=${r}`,qI=e=>{var s,o,l;const t=Tl(e),n={headers:{...t,"Content-Type":"application/json"}},r=(s=e==null?void 0:e.auth)==null?void 0:s.basicAuth.value;let i={};if(r){const c=(l=(o=e==null?void 0:e.auth)==null?void 0:o.fields)==null?void 0:l.basicAuth;for(let h of c)h.name==="user"&&(i.username=h.value),h.name==="password"&&(i.password=h.value)}return{basicAuth:i,options:n,headers:{...t,"Content-Type":"application/json"}}},WI=async(e,t,n,r,i)=>{r(!0);try{const s={...t,auth:n},o=await Sn.get(e,s);o&&i(o||[])}catch(s){console.error("Error fetching labels"),console.error(s)}r(!1)};async function UI(e,t,n,r){if(e.url&&e.url!==""){const{basicAuth:i,options:s}=qI(e);await WI(t,s,i,n,r)}}const QI=e=>{var t;return Array.from(new Set((t=e.map(n=>Object.keys(n)))==null?void 0:t.flat()))},ju=e=>b.useMemo(()=>HI(e),[e]),GI=(e,t,n,r)=>b.useMemo(()=>BI(e,t,n,r),[e,n,r,t]),KI=(e,t)=>b.useMemo(()=>e.find(n=>n.id===t),[e,t]),JI=e=>b.useMemo(()=>{var t,n,r,i;return(t=e==null?void 0:e.data)!=null&&t.data&&Array.isArray((n=e==null?void 0:e.data)==null?void 0:n.data)&&((i=(r=e==null?void 0:e.data)==null?void 0:r.data)==null?void 0:i.length)>0?QI(e.data.data):[]},[e]),Cl=(e,t)=>b.useMemo(()=>{var n;return t!=null&&t.labelOpts?((n=t.labelOpts)==null?void 0:n.filter(r=>r!=="__name__"))||[]:[]},[e,t]),YI=e=>{const{setOperations:t,id:n}=e,r=qe(),[i,s]=b.useState([]),o=b.useCallback((u,g)=>{s(S=>{var m;let w=[...S];return w[g]=(m=u==null?void 0:u.target)==null?void 0:m.value,w}),t(S=>{const w=[...S];return w==null?void 0:w.map(m=>(m.id===n&&(m.expressions[g]=u.target.value),m))})},[]),l=(u,g)=>{s(S=>{const w=[...S];return w==null?void 0:w.filter((m,C)=>C!==g)}),t(S=>{const w=[...S];return w==null?void 0:w.map(m=>(m.id===n&&(m.expressions=[...m==null?void 0:m.expressions].filter((C,k)=>k!==g)),m))})},c=()=>{s(u=>[...u,""]),t(u=>{const g=[...u];return g==null?void 0:g.map(S=>(S.id===n&&(S.expressions=[...S.expressions,""]),S))})},h=()=>Array.isArray(i)&&(i==null?void 0:i.length)>0?i==null?void 0:i.map((u,g)=>F("div",{className:"input-group",children:[" ",f("input",{className:"expression-input",value:nt(u),onChange:S=>o(S,g)})," ",f("button",{onClick:S=>l(S,g),children:"x"})," "]},g)):null;return F("div",{className:Pe(Bt(r)),children:[h(),f("button",{onClick:c,children:"Add Expression"})]})},XI=e=>{const{setOperations:t,id:n}=e,[r,i]=b.useState(""),s=qe(),o=b.useCallback(l=>{i(l.target.value),t(c=>{const h=[...c];return h==null?void 0:h.map(u=>(u.id===n&&(u.expressions[0]=l.target.value),u))})},[r]);return f("div",{className:Pe(Bt(s)),children:f("input",{value:nt(r),placeholder:"<pattern|expression>",onChange:o})})},ZI=e=>{const{setOperations:t,id:n}=e,r=qe(),[i,s]=b.useState(""),o=b.useCallback(c=>{s(c.target.value),t(h=>{const u=[...h];return u==null?void 0:u.map(g=>(g.id===n&&(g.labelValue=c.target.value),g))})},[i]),l=b.useCallback(c=>{t(h=>{const u=[...h];return u==null?void 0:u.map(g=>(g.id===n&&(g.conversion_function=c.target.value),g))})},[]);return F("div",{className:Pe(Bt(r)),children:[f("input",{value:nt(i),placeholder:"Unrap Label",onChange:o}),f(FI,{initial:"",onChange:l,className:"expression-input"})]})},eR=e=>{const{setOperations:t,id:n}=e,[r,i]=b.useState(""),s=qe(),o=b.useCallback(l=>{i(l.target.value),t(c=>{const h=[...c];return h==null?void 0:h.map(u=>(u.id===n&&(u.expressions[0]=l.target.value),u))})},[r]);return f("div",{className:Pe(Bt(s)),children:f("input",{value:nt(r),placeholder:"<re>",onChange:o})})},tR=e=>{const{setOperations:t,id:n}=e,[r,i]=b.useState(""),s=qe(),o=b.useCallback(l=>{i(l.target.value),t(c=>{const h=[...c];return h==null?void 0:h.map(u=>(u.id===n&&(u.expressions[0]=l.target.value),u))})},[r]);return f("div",{className:Pe(Bt(s)),children:f("input",{value:nt(r),placeholder:"{{.status_code}}",onChange:o})})},nR=e=>{const{setOperations:t,id:n}=e,[r,i]=b.useState("1"),[s,o]=b.useState("1"),l=qe(),c=u=>{o(()=>u.target.value)},h=u=>{i(()=>u.target.value)};return b.useEffect(()=>{let g=[r,s].join(",");t(S=>{const w=[...S];return w==null?void 0:w.map(m=>(m.id===n&&(m.after_args=","+g),m))})},[r,s]),F("div",{className:Pe(Bt(l)),children:[F("div",{className:"input-group",children:[f("label",{children:"Minimum Scalar"}),f("input",{value:nt(r),placeholder:"1",onChange:h})]}),F("div",{className:"input-group",children:[f("label",{children:"Maximum Scalar"}),f("input",{value:nt(s),placeholder:"1",onChange:c})]})]})},rR=e=>{const{setOperations:t,id:n}=e,[r,i]=b.useState("1"),s=qe(),o=l=>{i(()=>l.target.value)};return b.useEffect(()=>{let c=[r].join(",");t(h=>{const u=[...h];return u==null?void 0:u.map(g=>(g.id===n&&(g.after_args=","+c),g))})},[r]),f("div",{className:Pe(Bt(s)),children:F("div",{children:[f("label",{children:"Minimum Scalar"}),f("input",{value:nt(r),placeholder:"1",onChange:o})]})})},iR=e=>{const{setOperations:t,id:n}=e,[r,i]=b.useState("1"),s=qe(),o=l=>{i(()=>l.target.value)};return b.useEffect(()=>{let c=[r].join(",");t(h=>{const u=[...h];return u==null?void 0:u.map(g=>(g.id===n&&(g.after_args=","+c),g))})},[r]),f("div",{className:Pe(Bt(s)),children:F("div",{children:[f("label",{children:"Maximum Scalar"}),f("input",{value:nt(r),placeholder:"1",onChange:o})]})})},sR=e=>{const{setOperations:t,id:n}=e,[r,i]=b.useState("1"),s=qe(),o=l=>{i(()=>l.target.value)};return b.useEffect(()=>{t(l=>{const c=[...l];return c==null?void 0:c.map(h=>(h.id===n&&(h.prev_args=r+", "),h))})},[r]),f("div",{className:Pe(Bt(s)),children:F("div",{children:[f("label",{children:"Quantile"}),f("input",{value:nt(r),placeholder:"1",onChange:o})]})})},aR=e=>{const{setOperations:t,id:n}=e,[r,i]=b.useState("1"),s=qe(),o=l=>{i(()=>l.target.value)};return b.useEffect(()=>{t(l=>{const c=[...l];return c==null?void 0:c.map(h=>(h.id===n&&(h.after_args=","+r),h))})},[r]),f("div",{className:Pe(Bt(s)),children:F("div",{children:[f("label",{children:"Nearest Scalar"}),f("input",{value:nt(r),placeholder:"1",onChange:o})]})})},oR=e=>{const{setOperations:t,id:n}=e,[r,i]=b.useState(""),[s,o]=b.useState("$1"),[l,c]=b.useState(""),[h,u]=b.useState("(.*)"),g=qe(),S=k=>{i(k.target.value)},w=k=>{o(k.target.value)},m=k=>{c(k.target.value)},C=k=>{u(k.target.value)};return b.useEffect(()=>{t(k=>{const T=[...k];return T==null?void 0:T.map(x=>(x.id===n&&(x.after_args=', "'+r+'", "'+s+'", "'+l+'", "'+h+'"'),x))})},[r,s,l,h]),F("div",{className:Pe(Bt(g)),children:[F("div",{className:"input-group",children:[f("label",{children:"Destination Label"}),f("input",{value:nt(r),placeholder:r,onChange:S})]}),F("div",{className:"input-group",children:[f("label",{children:"Replacement"}),f("input",{value:nt(s),placeholder:s,onChange:w})]}),F("div",{className:"input-group",children:[f("label",{children:"Source Label"}),f("input",{value:nt(l),placeholder:l,onChange:m})]}),F("div",{className:"input-group",children:[f("label",{children:"Regex"}),f("input",{value:nt(h),placeholder:h,onChange:C})]})]})},lR=()=>f(mt,{}),cR=e=>{const{setOperations:t,id:n}=e,[r,i]=b.useState(e.range),s=qe(),o=b.useCallback(l=>{let c=l.target.value;i(c),t(h=>{const u=[...h];return u==null?void 0:u.map(g=>(g.id===n&&(g.range=c),g))})},[r]);return f("div",{className:Pe(Bt(s)),children:f($h,{onChange:o,initial:r})})},uR=e=>{const{setOperations:t,id:n}=e,[r]=b.useState(e.quantile);b.useEffect(()=>{t(o=>{const l=[...o];return l==null?void 0:l.map(c=>(c.id===n&&(c.prev_args=`${e.quantile},`),c))})},[e.quantile]);const i=qe(),s=b.useCallback(o=>{let l=o.target.value;t(c=>{const h=[...c];return h==null?void 0:h.map(u=>(u.id===n&&(u.quantile=l),u))})},[r]);return f("div",{className:Pe(Bt(i)),children:f(VI,{onChange:s,initial:e.quantile})})},dR=e=>{const{setOperations:t,id:n}=e,r=Cl(n,e),[i,s]=b.useState(""),[o,l]=b.useState(e.labels||[""]),[c,h]=b.useState(","),u=qe(),g=()=>{l(T=>[...T,""])},S=T=>{s(()=>T.target.value)},w=T=>{h(()=>T.target.value)},m=(T,x)=>{l(N=>{var O;let I=[...N];return I[x]=(O=T==null?void 0:T.target)==null?void 0:O.value,I})},C=b.useCallback((T,x)=>{l(N=>{const I=[...N];return I==null?void 0:I.filter((O,D)=>D!==x)})},[o]),k=()=>o==null?void 0:o.map((T,x)=>F("div",{className:"input-group",children:[f("label",{children:"Source Label"}),f(bs,{initial:"",onChange:N=>m(N,x),className:"expression-input",labels:r}),f("button",{onClick:N=>C(N,x),children:"x"})," "]},x));return b.useEffect(()=>{let T=o.join('"'+c+'"');t(x=>{const N=[...x];return N==null?void 0:N.map(I=>(I.id===n&&(I.after_args=', "'+i+'", "'+c+'", "'+T+'"'),I))})},[i,o,c]),F("div",{className:Pe(Bt(u)),children:[F("div",{className:"input-group",children:[f("label",{children:"Destination Label"}),f(bs,{initial:"",onChange:S,className:"expression-input",labels:r})]}),F("div",{className:"input-group",children:[f("label",{children:"Replacement"}),f("input",{value:nt(c),placeholder:c,onChange:w})]}),f("div",{className:"input-group col",children:k()}),f("div",{className:"input-group end",children:f("button",{onClick:g,children:"+ Add Source Label"})})]})},fR=e=>{const{setOperations:t,id:n}=e,r=Cl(n,e),[i,s]=b.useState(e.labels||[]),[o,l]=b.useState(e.range),[c,h]=b.useState(e.quantile),u=qe(),g=()=>{s(T=>[...T,""])},S=b.useCallback((T,x)=>{s(N=>{const I=[...N];return I==null?void 0:I.filter((O,D)=>D!==x)}),t(N=>{const I=[...N];return I==null?void 0:I.map(O=>(O.id===n&&(O.labels=[...O==null?void 0:O.labels].filter((D,p)=>p!==x)),O))})},[i]),w=b.useCallback((T,x)=>{s(N=>{var O;let I=[...N];return I[x]=(O=T==null?void 0:T.target)==null?void 0:O.value,I}),t(N=>{const I=[...N];return I==null?void 0:I.map(O=>(O.id===n&&(O.labels[x]=T.target.value),O))})},[i]),m=b.useCallback(T=>{let x=T.target.value;h(x),t(N=>{const I=[...N];return I==null?void 0:I.map(O=>(O.id===n&&(O.quantile=x),O))})},[o]),C=b.useCallback(T=>{let x=T.target.value;l(x),t(N=>{const I=[...N];return I==null?void 0:I.map(O=>(O.id===n&&(O.range=x),O))})},[o]),k=()=>Array.isArray(i)&&(i==null?void 0:i.length)>0?i==null?void 0:i.map((T,x)=>F("div",{className:"input-group",children:[f(bs,{initial:"",onChange:N=>w(N,x),className:"expression-input",labels:r}),f("button",{onClick:N=>S(N,x),children:"x"})," "]},x)):null;return F("div",{className:Pe(Bt(u)),children:[k(),e.header==="Quantile Over Time"&&f("input",{onChange:m,value:nt(c)}),f("button",{onClick:g,children:"Add Label"}),f($h,{onChange:C,initial:o})]})},Hu=e=>{const{setOperations:t,id:n,aggrType:r}=e,i=Cl(n,e),[s,o]=b.useState([""]),[l,c]=b.useState(e.kValue||[]),h=qe(),u=()=>{o(k=>[...k,""]),t(k=>{const T=[...k];return T==null?void 0:T.map(x=>(x.id===n&&(x.labels=[...s]),x))})},g=b.useCallback((k,T)=>{o(x=>{const N=[...x];return N==null?void 0:N.filter((I,O)=>O!==T)}),t(x=>{const N=[...x];return N==null?void 0:N.map(I=>(I.id===n&&(I.labels=[...I==null?void 0:I.labels].filter((O,D)=>D!==T)),I))})},[s]),S=b.useCallback((k,T)=>{o(x=>{var I;let N=[...x];return N[T]=(I=k==null?void 0:k.target)==null?void 0:I.value,N}),t(x=>{const N=[...x];return N==null?void 0:N.map(I=>(I.id===n&&(I.labels[T]=k.target.value),I))})},[s]),w=b.useCallback(k=>{c(k.target.value),t(T=>{const x=[...T];return x==null?void 0:x.map(N=>(N.id===n&&(N.kValue=k.target.value),N))})},[l]),m=()=>Array.isArray(s)&&(s==null?void 0:s.length)>0?s==null?void 0:s.map((k,T)=>F("div",{className:"input-group",children:[f(bs,{initial:"",onChange:x=>S(x,T),className:"expression-input",labels:i}),f("button",{onClick:x=>g(x,T),children:"x"})," "]},T)):null,C=k=>k==="topk"||k==="bottomk";return F("div",{className:Pe(Bt(h)),children:[C(r)&&f("input",{type:"number",value:nt(String(l)),placeholder:"<pattern|expression>",onChange:w}),m(),f("button",{onClick:u,children:"Add Label"})]})},hR=e=>{const{setOperations:t,id:n}=e,[r,i]=b.useState({label:"",operator:"equals",value:""}),s=qe(),o=b.useMemo(()=>[{name:"=",value:"equals"},{name:"!=",value:"not_equals"},{name:"=~",value:"regex_equals"},{name:"!~",value:"regex_not_equals"},{name:">",value:"more"},{name:"<",value:"less"},{name:">=",value:"more_equals"},{name:"<=",value:"less_equals"}],[]);b.useEffect(()=>{t(c=>{const h=[...c];return h==null?void 0:h.map(u=>(u.id===n&&(u.labelFilter={...r}),u))})},[r]);const l=b.useCallback((c,h)=>{i(u=>({...u,[h]:c.target.value}))},[]);return e.header!=="No Pipeline Errors"?F("div",{className:Pe(Bt(s)),children:[f("input",{value:nt(r.label),placeholder:"Text Filter",onChange:c=>l(c,"label")}),f("select",{defaultValue:"equals",onChange:c=>l(c,"operator"),children:o.map((c,h)=>f("option",{value:nt(c.value),children:c.name},h))}),f("input",{value:nt(r.value),placeholder:"Text Filter",onChange:c=>l(c,"value")})]}):null},pR=e=>{const{setOperations:t,id:n,binaryOperation:r}=e,i=qe(),[s,o]=b.useState(r||{value:0,bool:!1}),l=b.useCallback((c,h)=>{let u=h==="value"?c.target.value:!!c.target.checked;o(g=>({...g,[h]:u})),t(g=>{const S=[...g];return S==null?void 0:S.map(w=>(w.id===n&&(w.binaryOperation={...w.binaryOperation,[h]:u}),w))})},[s]);return F("div",{className:Pe(Bt(i)),children:[f("input",{value:nt(s.value),placeholder:"Value",onChange:c=>l(c,"value")}),F("div",{className:"input-group",children:[f("label",{children:"Boolean"}),f("input",{type:"checkbox",className:"checkbox",checked:s.bool||!1,value:nt("Boolean"),onChange:c=>l(c,"bool")})]})]})},gR=e=>{const{setOperations:t,id:n}=e,[r,i]=b.useState(""),s=qe(),o=b.useCallback(l=>{i(l.target.value),t(c=>{const h=[...c];return h==null?void 0:h.map(u=>(u.id===n&&(u.filterText=l.target.value),u))})},[n,t]);return f("div",{className:Pe(Bt(s)),children:f("input",{value:nt(r),placeholder:"Text Filter",onChange:o})})},mR=["rate","rate_counter","count_over_time","sum_over_time","bytes_rate","bytes_over_time","absent_over_time"],vR=["avg_over_time","max_over_time","min_over_time","first_over_time","last_over_time","stdvar_over_time","stddev_over_time","quantile_over_time",""],bR=["sum","min","max","avg","stddev","stdvar","count"],yR=["topk","bottomk"],Za=(e,t)=>mR.includes(e)?f(cR,{...t}):vR.includes(e)?f(fR,{...t}):null,xR=(e,t)=>{if(bR.includes(e))return f(Hu,{...t,aggrType:e});if(yR.includes(e))return f(Hu,{...t,aggrType:e})},SR=(e,t)=>e==="histogram_quantile"?f(uR,{...t}):e==="clamp"?f(nR,{...t}):e==="clamp_max"?f(iR,{...t}):e==="clamp_min"?f(rR,{...t}):e==="quantile"?f(sR,{...t}):e==="round"?f(aR,{...t}):e==="label_replace"?f(oR,{...t}):e==="label_join"?f(dR,{...t}):Za(e,t),wR=(e,t)=>{switch(e){case"json":return f(YI,{...t});case"pattern":return f(XI,{...t});case"regexp":return f(eR,{...t});case"line_format":return f(tR,{...t});case"unwrap":return f(ZI,{...t});default:return f(lR,{...t})}},TR=(e,t,n)=>{switch(e){case"formats":return wR(t,n);case"range_functions":return Za(t,n);case"aggregations":return xR(t,n);case"line_filters":return f(gR,{...n});case"label_filters":return f(hR,{...n});case"binary_operations":return f(pR,{...n});case"functions":return SR(t,n);default:return Za(t,n)}},kl=e=>!!e&&e[0]==="o",eo=Ci.unstable_batchedUpdates||(e=>e()),Dr=(e,t,n=1e-4)=>Math.abs(e-t)<n,Ri=(e,t)=>e===!0||!!(e&&e[t]),hn=(e,t)=>typeof e=="function"?e(t):e,zh="_szhsinMenu",CR=e=>e[zh],kR=(e,t)=>Object.defineProperty(t,zh,{value:e}),zi=(e,t)=>(t&&Object.keys(t).forEach(n=>{const r=e[n],i=t[n];typeof i=="function"&&r?e[n]=(...s)=>{i(...s),r(...s)}:e[n]=i}),e),ER=e=>{if(typeof e!="string")return{top:0,right:0,bottom:0,left:0};const t=e.trim().split(/\s+/,4).map(parseFloat),n=isNaN(t[0])?0:t[0],r=isNaN(t[1])?n:t[1];return{top:n,right:r,bottom:isNaN(t[2])?n:t[2],left:isNaN(t[3])?r:t[3]}},La=e=>{for(;e;){if(e=e.parentNode,!e||e===document.body||!e.parentNode)return;const{overflow:t,overflowX:n,overflowY:r}=getComputedStyle(e);if(/auto|scroll|overlay|hidden/.test(t+r+n))return e}};function El(e,t){return{"aria-disabled":e||void 0,tabIndex:t?0:-1}}function Bu(e,t){for(let n=0;n<e.length;n++)if(e[n]===t)return n;return-1}const xr=({block:e,element:t,modifiers:n,className:r})=>b.useMemo(()=>{const i=t?`${e}__${t}`:e;let s=i;n&&Object.keys(n).forEach(l=>{const c=n[l];c&&(s+=` ${i}--${c===!0?l:`${l}-${c}`}`)});let o=typeof r=="function"?r(n):r;return typeof o=="string"&&(o=o.trim(),o&&(s+=` ${o}`)),s},[e,t,n,r]),_R="szh-menu-container",qr="szh-menu",IR="szh-menu-button",RR="arrow",Vh="item",MR="submenu",Fh=b.createContext(),_l=b.createContext({}),to=b.createContext({}),jh=b.createContext({}),NR=b.createContext({}),Vs=b.createContext({}),tn=Object.freeze({ENTER:"Enter",ESC:"Escape",SPACE:" ",HOME:"Home",END:"End",LEFT:"ArrowLeft",RIGHT:"ArrowRight",UP:"ArrowUp",DOWN:"ArrowDown"}),Vt=Object.freeze({RESET:0,SET:1,UNSET:2,INCREASE:3,DECREASE:4,FIRST:5,LAST:6,SET_INDEX:7}),Mi=Object.freeze({CLICK:"click",CANCEL:"cancel",BLUR:"blur",SCROLL:"scroll"}),Wr=Object.freeze({FIRST:"first",LAST:"last"}),OR=Object.freeze({entering:"opening",entered:"open",exiting:"closing",exited:"closed"}),Da="absolute",Hh="presentation",Il="menuitem",qu={"aria-hidden":!0,role:Il},LR=kR("MenuButton",b.forwardRef(function({className:t,isOpen:n,disabled:r,children:i,...s},o){const l=b.useMemo(()=>({open:n}),[n]);return Be.jsx("button",{"aria-haspopup":!0,"aria-expanded":n,"aria-disabled":r||void 0,type:"button",disabled:r,...s,ref:o,className:xr({block:IR,modifiers:l,className:t}),children:i})})),DR=({className:e,containerRef:t,containerProps:n,children:r,isOpen:i,theming:s,transition:o,onClose:l})=>{const c=Ri(o,"item"),h=({key:g})=>{switch(g){case tn.ESC:hn(l,{key:g,reason:Mi.CANCEL});break}},u=g=>{i&&!g.currentTarget.contains(g.relatedTarget)&&hn(l,{reason:Mi.BLUR})};return Be.jsx("div",{...zi({onKeyDown:h,onBlur:u},n),className:xr({block:_R,modifiers:b.useMemo(()=>({theme:s,itemTransition:c}),[s,c]),className:e}),style:{position:"absolute",...n==null?void 0:n.style},ref:t,children:r})},AR=()=>{let e,t=0;return{toggle:n=>{n?t++:t--,t=Math.max(t,0)},on:(n,r,i)=>{t?e||(e=setTimeout(()=>{e=0,r()},n)):i==null||i()},off:()=>{e&&(clearTimeout(e),e=0)}}},PR=(e,t)=>{const[n,r]=b.useState(),s=b.useRef({items:[],hoverIndex:-1,sorted:!1}).current,o=b.useCallback((c,h)=>{const{items:u}=s;if(!c)s.items=[];else if(h)u.push(c);else{const g=u.indexOf(c);g>-1&&(u.splice(g,1),c.contains(document.activeElement)&&(t.current.focus(),r()))}s.hoverIndex=-1,s.sorted=!1},[s,t]),l=b.useCallback((c,h,u)=>{const{items:g,hoverIndex:S}=s,w=()=>{if(s.sorted)return;const k=e.current.querySelectorAll(".szh-menu__item");g.sort((T,x)=>Bu(k,T)-Bu(k,x)),s.sorted=!0};let m=-1,C;switch(c){case Vt.RESET:break;case Vt.SET:C=h;break;case Vt.UNSET:C=k=>k===h?void 0:k;break;case Vt.FIRST:w(),m=0,C=g[m];break;case Vt.LAST:w(),m=g.length-1,C=g[m];break;case Vt.SET_INDEX:w(),m=u,C=g[m];break;case Vt.INCREASE:w(),m=S,m<0&&(m=g.indexOf(h)),m++,m>=g.length&&(m=0),C=g[m];break;case Vt.DECREASE:w(),m=S,m<0&&(m=g.indexOf(h)),m--,m<0&&(m=g.length-1),C=g[m];break}C||(m=-1),r(C),s.hoverIndex=m},[e,s]);return{hoverItem:n,dispatch:l,updateItems:o}},$R=(e,t,n,r)=>{const i=t.current.getBoundingClientRect(),s=e.current.getBoundingClientRect(),o=n===window?{left:0,top:0,right:document.documentElement.clientWidth,bottom:window.innerHeight}:n.getBoundingClientRect(),l=ER(r),c=m=>m+s.left-o.left-l.left,h=m=>m+s.left+i.width-o.right+l.right,u=m=>m+s.top-o.top-l.top,g=m=>m+s.top+i.height-o.bottom+l.bottom;return{menuRect:i,containerRect:s,getLeftOverflow:c,getRightOverflow:h,getTopOverflow:u,getBottomOverflow:g,confineHorizontally:m=>{let C=c(m);if(C<0)m-=C;else{const k=h(m);k>0&&(m-=k,C=c(m),C<0&&(m-=C))}return m},confineVertically:m=>{let C=u(m);if(C<0)m-=C;else{const k=g(m);k>0&&(m-=k,C=u(m),C<0&&(m-=C))}return m}}},zR=({arrowRef:e,menuY:t,anchorRect:n,containerRect:r,menuRect:i})=>{let s=n.top-r.top-t+n.height/2;const o=e.current.offsetHeight*1.25;return s=Math.max(o,s),s=Math.min(s,i.height-o),s},VR=({anchorRect:e,containerRect:t,menuRect:n,placeLeftorRightY:r,placeLeftX:i,placeRightX:s,getLeftOverflow:o,getRightOverflow:l,confineHorizontally:c,confineVertically:h,arrowRef:u,arrow:g,direction:S,position:w})=>{let m=S,C=r;w!=="initial"&&(C=h(C),w==="anchor"&&(C=Math.min(C,e.bottom-t.top),C=Math.max(C,e.top-t.top-n.height)));let k,T,x;return m==="left"?(k=i,w!=="initial"&&(T=o(k),T<0&&(x=l(s),(x<=0||-T>x)&&(k=s,m="right")))):(k=s,w!=="initial"&&(x=l(k),x>0&&(T=o(i),(T>=0||-T<x)&&(k=i,m="left")))),w==="auto"&&(k=c(k)),{arrowY:g?zR({menuY:C,arrowRef:u,anchorRect:e,containerRect:t,menuRect:n}):void 0,x:k,y:C,computedDirection:m}},FR=({arrowRef:e,menuX:t,anchorRect:n,containerRect:r,menuRect:i})=>{let s=n.left-r.left-t+n.width/2;const o=e.current.offsetWidth*1.25;return s=Math.max(o,s),s=Math.min(s,i.width-o),s},jR=({anchorRect:e,containerRect:t,menuRect:n,placeToporBottomX:r,placeTopY:i,placeBottomY:s,getTopOverflow:o,getBottomOverflow:l,confineHorizontally:c,confineVertically:h,arrowRef:u,arrow:g,direction:S,position:w})=>{let m=S==="top"?"top":"bottom",C=r;w!=="initial"&&(C=c(C),w==="anchor"&&(C=Math.min(C,e.right-t.left),C=Math.max(C,e.left-t.left-n.width)));let k,T,x;return m==="top"?(k=i,w!=="initial"&&(T=o(k),T<0&&(x=l(s),(x<=0||-T>x)&&(k=s,m="bottom")))):(k=s,w!=="initial"&&(x=l(k),x>0&&(T=o(i),(T>=0||-T<x)&&(k=i,m="top")))),w==="auto"&&(k=h(k)),{arrowX:g?FR({menuX:C,arrowRef:u,anchorRect:e,containerRect:t,menuRect:n}):void 0,x:C,y:k,computedDirection:m}},HR=({arrow:e,align:t,direction:n,gap:r,shift:i,position:s,anchorRect:o,arrowRef:l,positionHelpers:c})=>{const{menuRect:h,containerRect:u}=c,g=n==="left"||n==="right";let S=g?r:i,w=g?i:r;if(e){const O=l.current;g?S+=O.offsetWidth:w+=O.offsetHeight}const m=o.left-u.left-h.width-S,C=o.right-u.left+S,k=o.top-u.top-h.height-w,T=o.bottom-u.top+w;let x,N;t==="end"?(x=o.right-u.left-h.width,N=o.bottom-u.top-h.height):t==="center"?(x=o.left-u.left-(h.width-o.width)/2,N=o.top-u.top-(h.height-o.height)/2):(x=o.left-u.left,N=o.top-u.top),x+=S,N+=w;const I={...c,anchorRect:o,placeLeftX:m,placeRightX:C,placeLeftorRightY:N,placeTopY:k,placeBottomY:T,placeToporBottomX:x,arrowRef:l,arrow:e,direction:n,position:s};switch(n){case"left":case"right":return VR(I);case"top":case"bottom":default:return jR(I)}},ls=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?b.useLayoutEffect:b.useEffect;function Wu(e,t){typeof e=="function"?e(t):e.current=t}const Fs=(e,t)=>b.useMemo(()=>e?t?n=>{Wu(e,n),Wu(t,n)}:e:t,[e,t]),Uu=-9999,Bh=({ariaLabel:e,menuClassName:t,menuStyle:n,arrow:r,arrowProps:i={},anchorPoint:s,anchorRef:o,containerRef:l,containerProps:c,focusProps:h,externalRef:u,parentScrollingRef:g,align:S="start",direction:w="bottom",position:m="auto",overflow:C="visible",setDownOverflow:k,repositionFlag:T,captureFocus:x=!0,state:N,endTransition:I,isDisabled:O,menuItemFocus:D,gap:p=0,shift:E=0,children:_,onClose:A,...$})=>{const[z,V]=b.useState({x:Uu,y:Uu}),[K,ie]=b.useState({}),[ue,te]=b.useState(),[he,Y]=b.useState(w),[Fe]=b.useState(AR),[$e,me]=b.useReducer(J=>J+1,1),{transition:ke,boundingBoxRef:Oe,boundingBoxPadding:re,rootMenuRef:Ce,rootAnchorRef:Ee,scrollNodesRef:be,reposition:pe,viewScroll:Te,submenuCloseDelay:Je}=b.useContext(Vs),{submenuCtx:et,reposSubmenu:De=T}=b.useContext(to),Ye=b.useRef(null),Xe=b.useRef(),it=b.useRef(),rt=b.useRef(!1),Ke=b.useRef({width:0,height:0}),Et=b.useRef(()=>{}),{hoverItem:Rt,dispatch:_e,updateItems:je}=PR(Ye,Xe),Qe=kl(N),at=Ri(ke,"open"),Ie=Ri(ke,"close"),ut=be.current,Dt=J=>{switch(J.key){case tn.HOME:_e(Vt.FIRST);break;case tn.END:_e(Vt.LAST);break;case tn.UP:_e(Vt.DECREASE,Rt);break;case tn.DOWN:_e(Vt.INCREASE,Rt);break;case tn.SPACE:J.target&&J.target.className.indexOf(qr)!==-1&&J.preventDefault();return;default:return}J.preventDefault(),J.stopPropagation()},qt=()=>{N==="closing"&&te(),hn(I)},Gt=J=>{J.stopPropagation(),Fe.on(Je,()=>{_e(Vt.RESET),Xe.current.focus()})},jt=J=>{J.target===J.currentTarget&&Fe.off()},Mt=b.useCallback(J=>{var B;const Z=o?(B=o.current)==null?void 0:B.getBoundingClientRect():s?{left:s.x,right:s.x,top:s.y,bottom:s.y,width:0,height:0}:null;if(!Z)return;ut.menu||(ut.menu=(Oe?Oe.current:La(Ce.current))||window);const W=$R(l,Ye,ut.menu,re);let{arrowX:q,arrowY:ne,x:de,y:le,computedDirection:ge}=HR({arrow:r,align:S,direction:w,gap:p,shift:E,position:m,anchorRect:Z,arrowRef:it,positionHelpers:W});const{menuRect:ze}=W;let Se=ze.height;if(!J&&C!=="visible"){const{getTopOverflow:Le,getBottomOverflow:tt}=W;let Ge,Ae;const we=Ke.current.height,Ne=tt(le);if(Ne>0||Dr(Ne,0)&&Dr(Se,we))Ge=Se-Ne,Ae=Ne;else{const He=Le(le);(He<0||Dr(He,0)&&Dr(Se,we))&&(Ge=Se+He,Ae=0-He,Ge>=0&&(le-=He))}Ge>=0?(Se=Ge,te({height:Ge,overflowAmt:Ae})):te()}r&&ie({x:q,y:ne}),V({x:de,y:le}),Y(ge),Ke.current={width:ze.width,height:Se}},[r,S,re,w,p,E,m,C,s,o,l,Oe,Ce,ut]);ls(()=>{Qe&&(Mt(),rt.current&&me()),rt.current=Qe,Et.current=Mt},[Qe,Mt,De]),ls(()=>{ue&&!k&&(Ye.current.scrollTop=0)},[ue,k]),ls(()=>je,[je]),b.useEffect(()=>{let{menu:J}=ut;if(!Qe||!J)return;if(J=J.addEventListener?J:window,!ut.anchors){ut.anchors=[];let q=La(Ee&&Ee.current);for(;q&&q!==J;)ut.anchors.push(q),q=La(q)}let B=Te;if(ut.anchors.length&&B==="initial"&&(B="auto"),B==="initial")return;const Z=()=>{B==="auto"?eo(()=>Mt(!0)):hn(A,{reason:Mi.SCROLL})},W=ut.anchors.concat(Te!=="initial"?J:[]);return W.forEach(q=>q.addEventListener("scroll",Z)),()=>W.forEach(q=>q.removeEventListener("scroll",Z))},[Ee,ut,Qe,A,Te,Mt]);const Nt=!!ue&&ue.overflowAmt>0;b.useEffect(()=>{if(Nt||!Qe||!g)return;const J=()=>eo(Mt),B=g.current;return B.addEventListener("scroll",J),()=>B.removeEventListener("scroll",J)},[Qe,Nt,g,Mt]),b.useEffect(()=>{if(typeof ResizeObserver!="function"||pe==="initial")return;const J=new ResizeObserver(([Z])=>{const{borderBoxSize:W,target:q}=Z;let ne,de;if(W){const{inlineSize:le,blockSize:ge}=W[0]||W;ne=le,de=ge}else{const le=q.getBoundingClientRect();ne=le.width,de=le.height}ne===0||de===0||Dr(ne,Ke.current.width,1)&&Dr(de,Ke.current.height,1)||Ci.flushSync(()=>{Et.current(),me()})}),B=Ye.current;return J.observe(B,{box:"border-box"}),()=>J.unobserve(B)},[pe]),b.useEffect(()=>{if(!Qe){_e(Vt.RESET),Ie||te();return}const{position:J,alwaysUpdate:B}=D||{},Z=()=>{J===Wr.FIRST?_e(Vt.FIRST):J===Wr.LAST?_e(Vt.LAST):J>=-1&&_e(Vt.SET_INDEX,void 0,J)};if(B)Z();else if(x){const W=setTimeout(()=>{const q=Ye.current;q&&!q.contains(document.activeElement)&&(Xe.current.focus(),Z())},at?170:100);return()=>clearTimeout(W)}},[Qe,at,Ie,x,D,_e]);const At=b.useMemo(()=>({isParentOpen:Qe,submenuCtx:Fe,dispatch:_e,updateItems:je}),[Qe,Fe,_e,je]);let kt,Wt;ue&&(k?Wt=ue.overflowAmt:kt=ue.height);const Cn=b.useMemo(()=>({reposSubmenu:$e,submenuCtx:Fe,overflow:C,overflowAmt:Wt,parentMenuRef:Ye,parentDir:he}),[$e,Fe,C,Wt,he]),In=kt>=0?{maxHeight:kt,overflow:C}:void 0,gn=b.useMemo(()=>({state:N,dir:he}),[N,he]),P=b.useMemo(()=>({dir:he}),[he]),U=xr({block:qr,element:RR,modifiers:P,className:i.className}),j=Be.jsxs("ul",{role:"menu","aria-label":e,...El(O),...zi({onPointerEnter:et==null?void 0:et.off,onPointerMove:Gt,onPointerLeave:jt,onKeyDown:Dt,onAnimationEnd:qt},$),ref:Fs(u,Ye),className:xr({block:qr,modifiers:gn,className:t}),style:{...n,...In,margin:0,display:N==="closed"?"none":void 0,position:Da,left:z.x,top:z.y},children:[Be.jsx("li",{tabIndex:-1,style:{position:Da,left:0,top:0,display:"block",outline:"none"},ref:Xe,...qu,...h}),r&&Be.jsx("li",{...qu,...i,className:U,style:{display:"block",position:Da,left:K.x,top:K.y,...i.style},ref:it}),Be.jsx(to.Provider,{value:Cn,children:Be.jsx(_l.Provider,{value:At,children:Be.jsx(Fh.Provider,{value:Rt,children:hn(_,gn)})})})]});return c?Be.jsx(DR,{...c,isOpen:Qe,children:j}):j},BR=b.forwardRef(function({"aria-label":t,className:n,containerProps:r,initialMounted:i,unmountOnClose:s,transition:o,transitionTimeout:l,boundingBoxRef:c,boundingBoxPadding:h,reposition:u="auto",submenuOpenDelay:g=300,submenuCloseDelay:S=150,viewScroll:w="initial",portal:m,theming:C,onItemClick:k,...T},x){const N=b.useRef(null),I=b.useRef({}),{anchorRef:O,state:D,onClose:p}=T,E=b.useMemo(()=>({initialMounted:i,unmountOnClose:s,transition:o,transitionTimeout:l,boundingBoxRef:c,boundingBoxPadding:h,rootMenuRef:N,rootAnchorRef:O,scrollNodesRef:I,reposition:u,viewScroll:w,submenuOpenDelay:g,submenuCloseDelay:S}),[i,s,o,l,O,c,h,u,w,g,S]),_=b.useMemo(()=>({handleClick($,z){$.stopPropagation||hn(k,$);let V=$.keepOpen;V===void 0&&(V=z&&$.key===tn.SPACE),V||hn(p,{value:$.value,key:$.key,reason:Mi.CLICK})},handleClose($){hn(p,{key:$,reason:Mi.CLICK})}}),[k,p]);if(!D)return null;const A=Be.jsx(Vs.Provider,{value:E,children:Be.jsx(jh.Provider,{value:_,children:Be.jsx(Bh,{...T,ariaLabel:t||"Menu",externalRef:x,containerRef:N,containerProps:{className:n,containerRef:N,containerProps:r,theming:C,transition:o,onClose:p}})})});return m===!0&&typeof document<"u"?Ci.createPortal(A,document.body):m?m.target?Ci.createPortal(A,m.target):m.stablePosition?null:A:A}),no=0,ro=1,ys=2,xs=3,Ss=4,qR=5,qh=6,WR=["preEnter","entering","entered","preExit","exiting","exited","unmounted"],Wh=e=>({_s:e,status:WR[e],isEnter:e<xs,isMounted:e!==qh,isResolved:e===ys||e>Ss}),io=e=>e?qh:qR,UR=(e,t)=>{switch(e){case ro:case no:return ys;case Ss:case xs:return io(t)}},QR=e=>typeof e=="object"?[e.enter,e.exit]:[e,e],GR=(e,t)=>setTimeout(()=>{isNaN(document.body.offsetTop)||e(t+1)},0),Qu=(e,t,n,r,i)=>{clearTimeout(r.current);const s=Wh(e);t(s),n.current=s,i&&i({current:s})},KR=({enter:e=!0,exit:t=!0,preEnter:n,preExit:r,timeout:i,initialEntered:s,mountOnEnter:o,unmountOnExit:l,onStateChange:c}={})=>{const[h,u]=b.useState(()=>Wh(s?ys:io(o))),g=b.useRef(h),S=b.useRef(),[w,m]=QR(i),C=b.useCallback(()=>{const T=UR(g.current._s,l);T&&Qu(T,u,g,S,c)},[c,l]),k=b.useCallback(T=>{const x=I=>{switch(Qu(I,u,g,S,c),I){case ro:w>=0&&(S.current=setTimeout(C,w));break;case Ss:m>=0&&(S.current=setTimeout(C,m));break;case no:case xs:S.current=GR(x,I);break}},N=g.current.isEnter;typeof T!="boolean"&&(T=!N),T?!N&&x(e?n?no:ro:ys):N&&x(t?r?xs:Ss:io(l))},[C,c,e,t,n,r,w,m,l]);return b.useEffect(()=>()=>clearTimeout(S.current),[]),[h,k,C]},JR=({initialOpen:e,initialMounted:t,unmountOnClose:n,transition:r,transitionTimeout:i=500}={})=>{const[{status:s},o,l]=KR({initialEntered:e,mountOnEnter:!t,unmountOnExit:n,timeout:i,enter:Ri(r,"open"),exit:Ri(r,"close")});return[{state:OR[s],endTransition:l},o]},Uh=e=>{const[t,n]=JR(e),[r,i]=b.useState(),s=(o,l)=>{i({position:o,alwaysUpdate:l}),n(!0)};return[{menuItemFocus:r,...t},n,s]},YR=(e,t)=>{const[n]=b.useState({});return{onMouseDown:()=>{n.v=e&&e!=="closed"},onClick:r=>n.v?n.v=!1:t(!0,r)}},Qh=(e,t)=>{const n=b.useRef(t);b.useEffect(()=>{n.current!==t&&hn(e,{open:t}),n.current=t},[e,t])},Gh=b.forwardRef(function({"aria-label":t,captureFocus:n,initialOpen:r,menuButton:i,instanceRef:s,onMenuChange:o,...l},c){const[h,u,g]=Uh(l),{state:S}=h,w=kl(S),m=b.useRef(null),C=YR(S,(O,D)=>g(D.detail?void 0:Wr.FIRST)),k=b.useCallback(O=>{u(!1),O.key&&m.current.focus()},[u]),T=O=>{switch(O.key){case tn.UP:g(Wr.LAST);break;case tn.DOWN:g(Wr.FIRST);break;default:return}O.preventDefault()},x=hn(i,{open:w});if(!x||!x.type)throw new Error("Menu requires a menuButton prop.");const N={ref:Fs(x.ref,m),...zi({onKeyDown:T,...C},x.props)};CR(x.type)==="MenuButton"&&(N.isOpen=w);const I=b.cloneElement(x,N);return Qh(o,w),b.useImperativeHandle(s,()=>({openMenu:g,closeMenu:()=>u(!1)})),Be.jsxs(b.Fragment,{children:[I,Be.jsx(BR,{...l,...h,"aria-label":t||(typeof x.props.children=="string"?x.props.children:"Menu"),anchorRef:m,ref:c,onClose:k})]})}),Kh=(e,t)=>{const n=b.memo(t),r=b.forwardRef((i,s)=>{const o=b.useRef(null);return Be.jsx(n,{...i,itemRef:o,externalRef:s,isHovering:b.useContext(Fh)===o.current})});return r.displayName=`WithHovering(${e})`,r},Jh=(e,t,n)=>{ls(()=>{if(e)return;const r=t.current;return n(r,!0),()=>{n(r)}},[e,t,n])},XR=Kh("SubMenu",function({"aria-label":t,className:n,disabled:r,direction:i,label:s,openTrigger:o,onMenuChange:l,isHovering:c,instanceRef:h,itemRef:u,captureFocus:g,repositionFlag:S,itemProps:w={},...m}){const C=b.useContext(Vs),{rootMenuRef:k,submenuOpenDelay:T,submenuCloseDelay:x}=C,{parentMenuRef:N,parentDir:I,overflow:O}=b.useContext(to),{isParentOpen:D,submenuCtx:p,dispatch:E,updateItems:_}=b.useContext(_l),A=O!=="visible",[$,z,V]=Uh(C),{state:K}=$,ie=!!r,ue=kl(K),te=b.useRef(null),[he]=b.useState({v:0}),Y=()=>{p.off(),he.v&&(clearTimeout(he.v),he.v=0)},Fe=(...De)=>{Y(),$e(),!ie&&V(...De)},$e=()=>!c&&!ie&&E(Vt.SET,u.current),me=De=>{$e(),o||(he.v=setTimeout(()=>eo(Fe),Math.max(De,0)))},ke=De=>{ie||(De.stopPropagation(),!(he.v||ue)&&p.on(x,()=>me(T-x),()=>me(T)))},Oe=()=>{Y(),ue||E(Vt.UNSET,u.current)},re=De=>{if(c)switch(De.key){case tn.ENTER:De.preventDefault();case tn.SPACE:case tn.RIGHT:o!=="none"&&Fe(Wr.FIRST)}},Ce=De=>{let Ye=!1;switch(De.key){case tn.LEFT:ue&&(u.current.focus(),z(!1),Ye=!0);break;case tn.RIGHT:ue||(Ye=!0);break}Ye&&(De.preventDefault(),De.stopPropagation())};Jh(ie,u,_),Qh(l,ue),b.useEffect(()=>p.toggle(ue),[p,ue]),b.useEffect(()=>()=>clearTimeout(he.v),[he]),b.useEffect(()=>{c&&D?u.current.focus():z(!1)},[c,D,z,u]),b.useImperativeHandle(h,()=>({openMenu:(...De)=>{D&&Fe(...De)},closeMenu:()=>{ue&&(u.current.focus(),z(!1))}}));const Ee=b.useMemo(()=>({open:ue,hover:c,disabled:ie,submenu:!0}),[ue,c,ie]),{ref:be,className:pe,...Te}=w,Je=zi({onPointerEnter:p.off,onPointerMove:ke,onPointerLeave:Oe,onKeyDown:re,onClick:()=>o!=="none"&&Fe()},Te),et=()=>{const De=Be.jsx(Bh,{...m,...$,ariaLabel:t||(typeof s=="string"?s:"Submenu"),anchorRef:u,containerRef:A?k:te,direction:i||(I==="right"||I==="left"?I:"right"),parentScrollingRef:A&&N,isDisabled:ie}),Ye=k.current;return A&&Ye?Ci.createPortal(De,Ye):De};return Be.jsxs("li",{className:xr({block:qr,element:MR,className:n}),style:{position:"relative"},role:Hh,ref:te,onKeyDown:Ce,children:[Be.jsx("div",{role:Il,"aria-haspopup":!0,"aria-expanded":ue,...El(ie,c),...Je,ref:Fs(be,u),className:xr({block:qr,element:Vh,modifiers:Ee,className:pe}),children:b.useMemo(()=>hn(s,Ee),[s,Ee])}),K&&et()]})}),ZR=(e,t,n,r)=>{const{submenuCloseDelay:i}=b.useContext(Vs),{isParentOpen:s,submenuCtx:o,dispatch:l,updateItems:c}=b.useContext(_l),h=()=>{!n&&!r&&l(Vt.SET,e.current)},u=()=>{!r&&l(Vt.UNSET,e.current)},g=m=>{n&&!m.currentTarget.contains(m.relatedTarget)&&u()},S=m=>{r||(m.stopPropagation(),o.on(i,h,h))},w=(m,C)=>{o.off(),!C&&u()};return Jh(r,e,c),b.useEffect(()=>{n&&s&&t.current&&t.current.focus()},[t,n,s]),{setHover:h,onBlur:g,onPointerMove:S,onPointerLeave:w}},Yh=Kh("MenuItem",function({className:t,value:n,href:r,type:i,checked:s,disabled:o,children:l,onClick:c,isHovering:h,itemRef:u,externalRef:g,...S}){const w=!!o,{setHover:m,...C}=ZR(u,u,h,w),k=b.useContext(jh),T=b.useContext(NR),x=i==="radio",N=i==="checkbox",I=!!r&&!w&&!x&&!N,O=x?T.value===n:N?!!s:!1,D=$=>{if(w){$.stopPropagation(),$.preventDefault();return}const z={value:n,syntheticEvent:$};$.key!==void 0&&(z.key=$.key),N&&(z.checked=!O),x&&(z.name=T.name),hn(c,z),x&&hn(T.onRadioChange,z),k.handleClick(z,N||x)},p=$=>{if(h)switch($.key){case tn.ENTER:$.preventDefault();case tn.SPACE:I?u.current.click():D($)}},E=b.useMemo(()=>({type:i,disabled:w,hover:h,checked:O,anchor:I}),[i,w,h,O,I]),_=zi({...C,onPointerDown:m,onKeyDown:p,onClick:D},S),A={role:x?"menuitemradio":N?"menuitemcheckbox":Il,"aria-checked":x||N?O:void 0,...El(w,h),..._,ref:Fs(g,u),className:xr({block:qr,element:Vh,modifiers:E,className:t}),children:b.useMemo(()=>hn(l,E),[l,E])};return I?Be.jsx("li",{role:Hh,children:Be.jsx("a",{href:r,...A})}):Be.jsx("li",{...A})});const eM=oo({name:"17t1o1s",styles:"from{opacity:0;}"}),tM=oo({name:"1vdf39n",styles:"to{opacity:0;}"}),nM=e=>oe("font-family:sans-serif;font-size:12px;user-select:none;color:",e.contrast,"!important;background:",e.deep,"!important;box-shadow:1px 1px 20px 1px rgba(0, 0, 0, 0.1);border-radius:3px;padding:6px;min-width:10rem;",""),rM=e=>oe("position:relative;font-size:12px;color:",e.contrast,"!important;background:",e.deep,"!important;&::after{position:absolute;width:4px;right:0.625rem;}&:hover{background:",e.shadow,"!important;}",""),iM=e=>oe("background:",e.deep,";color:",e.contrast,";border:1px solid ",e.accentNeutral,";border-radius:3px;padding:6px;display:flex;align-items:center;cursor:pointer;margin-top:4px;margin:3px;",""),sM=oe("animation:",eM," 0.15s ease-out;",""),aM=oe("animation:",tM," 0.2s ease-out forwards;",""),oM=e=>oe("background:",e.deep,"!important;color:",e.contrast,"!important;border-radius:3px;padding:0.275rem 0.525rem;&:hover{background:",e.shadow,"!important;}",""),lM=e=>oe("color:",e.contrast,";background:",e.shadow,"!important;",""),cM=({hover:e,disabled:t},n)=>wt(oM(n),{[lM(n)]:e}),uM=(e,t)=>wt(cM(e,t),rM(t)),dM=(e,t)=>wt(nM(t),{[sM]:e.state==="opening",[aM]:e.state==="closing"}),fM=e=>{const{theme:t}=e;return f(XR,{...e,menuClassName:n=>dM(n,t),itemProps:{className:n=>uM(n,t)}})},so={Aggregations:["Sum","Min","Max","Avg","Stddev","Stdvar","Count","Topk","Bottomk"],"Range Functions":["Rate","Rate Counter","Count Over Time","Sum Over Time","Bytes Rate","Bytes Over Time","Absent Over Time","Avg Over Time","Max Over Time","Min Over Time","First Over Time","Last Over Time","Quantile Over Time"],Formats:["Json","Logfmt","Regexp","Pattern","Unpack","Line Format","Unwrap"],"Binary Operations":["Add Scalar","Subtract Scalar","Multiply by scalar","Divide by scalar","Modulo by scalar","Exponent","Equal To","Not Equal To","Greater Than","Less Than","Greater Or Equal To","Less Or Equal To","Binary Operation With Query"],"Label Filters":["Label Filter Expression","IP Label Filter Expression","No Pipeline Errors"],"Line Filters":["Line Contains","Line Does Not Contain","Line Contains Case Insensitive","Line Does Not Contain Case Insensitive","Line Contains Regex Match","Line Does Not Match Regex","IP Line Filter Expression","IP Line Not Filter Expression"],Trigonometric:["Acos","Acosh","Asin","Asinh","Atan","Atanh","Cos","Cosh","Sin","Sinh","Tan","Tanh"],"Time Functions":["Day Of Month","Day Of Week","Days In Month"],Functions:["Histogram Quantile","Label Replace","Ln","absent","Ceil","Clamp","Clamp max","Clamp min","Deg","Exp","Floor","Group","Hour","Label join","Log10","Log2","Minute","Pi","Quantile","Rad","Round","Scalar","Sgn","Sort","Sort desc","Sqrt","Stddev","Time","Timestamp","Vector","Year"]},Xh=e=>oe("margin-bottom:6px;.szh-menu{background:",e.deep,"!important;color:",e.contrast,"!important;}.szh-menu__item{&:hover{background:",e.shadow,"!important;}}","");function hM({menuClick:e}){const t=b.useMemo(()=>Object.keys(so),[]),n=qe();return f(Gh,{className:Pe(Xh(n)),menuButton:F(LR,{className:Pe(iM(n)),children:[" ",f(Ai,{style:{height:"13px",width:"13px"}}),f("span",{style:{fontSize:"12px",fontFamily:"sans-serif"},children:"Add Operator"})]}),children:t==null?void 0:t.map((r,i)=>{var s;return f(fM,{label:r,theme:n,children:(s=so[r])==null?void 0:s.map((o,l)=>f(Yh,{onClick:c=>e(c,o,r),style:{fontSize:"12px"},children:o},l))},i)})})}function pM({opType:e,onOperationSelect:t}){var r;const n=qe();return f(Gh,{className:Pe(Xh(n)),menuButton:f($n,{style:{height:"13px",width:"13px",margin:"0px 12px",cursor:"pointer"}}),children:(r=so[e])==null?void 0:r.map((i,s)=>f(Yh,{onClick:o=>t(o,i),style:{fontSize:"12px"},children:i},s))})}function gM(e){const{id:t,opType:n,header:r,removeItem:i,index:s,setOperations:o}=e,l=qe(),[c,h]=b.useState(r);b.useEffect(()=>{h(r)},[r,h]);const u=b.useCallback((S,w)=>{h(w),o(m=>{const C=[...m];return C==null?void 0:C.map(k=>(k.id===t&&(k={...k,header:w,name:w.toLowerCase().split(" ").join("_")}),k))})},[c]),g=S=>{var w,m;return((m=(w=S==null?void 0:S.toLowerCase())==null?void 0:w.split(" "))==null?void 0:m.join("_"))||""};return r&&typeof r=="string"?F("div",{className:Pe($I(l)),children:[F("div",{className:"operation-header",children:[f("span",{children:c}),F("div",{className:"operation-tools",children:[f(pM,{opType:n,onOperationSelect:u}),f(go,{className:Pe(zI),onClick:S=>i(s)})]})]}),f("div",{className:"operation-body",children:TR(g(n),g(r),{...e})})]}):null}const Gu={CARD:"card"},mM=e=>({border:`1px solid ${e.accentNeutral}`,backgroundColor:`${e.deep}`,fontSize:"12px",cursor:"move",display:"flex",margin:"4px",borderRadius:"3px"}),vM=e=>{const{id:t,header:n,rate:r,opType:i,index:s,body:o,moveItem:l,removeItem:c,kValue:h,quantile:u,labelFilter:g,filterText:S,lineFilter:w,conversion_function:m,labelValue:C,labelOpts:k,binaryOperation:T}=e,x=b.useRef(null),N=qe(),[{handlerId:I},O]=Ug({accept:Gu.CARD,collect(_){return{handlerId:_.getHandlerId()}},hover(_,A){var te;if(!x.current)return;const $=_.index,z=s;if($===z)return;const V=(te=x.current)==null?void 0:te.getBoundingClientRect(),K=(V.right-V.left)/2,ue=A.getClientOffset().x-V.left;$<z&&ue<K||$>z&&ue>K||(l($,z),_.index=z)}}),[{isDragging:D},p]=Qg({type:Gu.CARD,item:()=>({id:t,index:s}),collect:_=>({isDragging:_.isDragging()})}),E=D?.5:1;return p(O(x)),f("div",{ref:x,style:{...mM(N),opacity:E},"data-handler-id":I,children:f(gM,{...e,rate:r,id:t,header:n,opType:i,body:o,index:s,kValue:h,quantile:u,labelFilter:g,binaryOperation:T,conversion_function:m,labelValue:C,lineFilter:w,labelOpts:k,filterText:S,removeItem:c})})},bM=oe({name:"798ujy",styles:"width:100%;display:flex;flex-wrap:wrap"}),yM=e=>{const{operations:t,setOperations:n}=e,r=b.useCallback((o,l)=>{n(c=>pc(c,{$splice:[[o,1],[l,0,c[o]]]}))},[]),i=b.useCallback(o=>{n(l=>pc(l,{$splice:[[o,1]]}))},[]),s=b.useCallback((o,l)=>Di(vM,{...e,key:o.id,index:l,id:o.id,opType:o.opType,header:o.header,kValue:o.kValue,quantile:o.quantile,labelValue:o.labelValue,conversion_function:o.conversion_function,binaryOperation:o.binaryOperation,labelOpts:o.labelOpts,lineFilter:o.lineFilter,body:o.body||f(mt,{}),moveItem:r,removeItem:i}),[]);return f(Kg,{backend:Gg,children:f("div",{className:Pe(bM),children:t.map((o,l)=>s(o,l))})})},Zh=e=>{const{mainTheme:t,resetLabelsState:n}=e;return F("div",{className:Pe(bI(t)),onClick:n,children:[f(Ai,{className:Pe(yI(t)),fontSize:"small",style:{height:"14px",width:"14px"}})," ",f("small",{children:"Add Labels"})]})};var Rl={},xM=Ct;Object.defineProperty(Rl,"__esModule",{value:!0});var Ml=Rl.default=void 0,SM=xM(Tt()),wM=Be,TM=(0,SM.default)((0,wM.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"RemoveOutlined");Ml=Rl.default=TM;const gr=b.forwardRef((e,t)=>{const{selectOpts:n,mainTheme:r,minWidth:i,onChange:s,defaultValue:o,type:l,keyVal:c,objId:h,labelsLength:u}=e,g=LI(o,l,c),[S,w]=b.useState(g||X_),m=DI(l,c);b.useEffect(()=>{lI(w,l,c)},[u]);const C=k=>{w(()=>k),s({value:k,id:h})};return f(bo,{id:h,isMulti:m,options:n,styles:wl(r,i),value:S,ref:t,defaultValue:g,theme:k=>Sl(k,r),onChange:C})});function CM(e,t){const n=Re(m=>m.start),r=Re(m=>m.stop),i=Re(m=>m.dataSources),[s,o]=b.useState(!1),[l,c]=b.useState([]),h=b.useMemo(()=>i.find(m=>m.id===e),[i,e]),u=Dh(n),g=Ah(r),S=b.useMemo(()=>dI(h.url,t,u,g),[h.url,u,g,t]),w=PI(l);return b.useEffect(()=>(t&&t!==""&&Ih(h,S,o,c),()=>{c([]),o(!1)}),[S,h]),{logsResponse:w,loading:s}}const kM=e=>{const{keyVal:t,labelOpts:n,labelAdd:r,labelRemove:i,onChange:s,labelValuesLength:o,id:l,dataSourceId:c}=e,h=b.useRef(null),u=b.useRef(null),g=b.useRef(null),S=qe(),[w,m]=b.useState(t),[C,k]=b.useState(n[0]||{label:"Select Option",value:""}),{logsResponse:T}=CM(c,C.value),[x,N]=b.useState({label:"=",value:"equals"}),I=_=>{const{value:A,id:$}=_;k(()=>({value:A==null?void 0:A.value,label:A==null?void 0:A.value}));const V={...JSON.parse(JSON.stringify(w)),label:A==null?void 0:A.label,value:A.value,id:$};s(V),m(K=>({...K,label:A==null?void 0:A.value}))},O=_=>{const{value:A,id:$}=_;let z=[],V=A!==null?A:{label:"",value:""};E&&Array.isArray(V)?z=V==null?void 0:V.map(ue=>ue.value):z=[V.value];const ie={...JSON.parse(JSON.stringify(w)),values:z,id:$};s(ie),m(ue=>({...ue,values:z}))},D=_=>{const{value:A,id:$}=_,V={...JSON.parse(JSON.stringify(w)),operator:A==null?void 0:A.value,id:$};s(V),N(()=>({...A})),m(K=>({...K,operator:A==null?void 0:A.value}))},p=()=>{h!=null&&h.current&&(u!=null&&u.current)&&(g!=null&&g.current)&&i(t.id)},E=b.useMemo(()=>x.value==="regexequals"||x.value==="regexexclude",[x.value]);return o>0?F("div",{id:l,className:Pe(Mh),children:[f(gr,{ref:h,type:"label",isMulti:!1,defaultValue:nt(t.label),selectOpts:n,mainTheme:S,onChange:I,keyVal:t,objId:l,minWidth:100,labelsLength:o}),f(gr,{ref:u,type:"operator",isMulti:!1,defaultValue:nt(t.operator),selectOpts:kh,keyVal:t,mainTheme:S,onChange:D,objId:l,minWidth:60,labelsLength:o}),F("div",{className:Pe(Nh),children:[f(gr,{ref:g,type:"value",isMulti:E,defaultValue:nt(t.values),selectOpts:T,keyVal:t,mainTheme:S,onChange:O,objId:l,minWidth:250,labelsLength:o}),f(Ml,{className:Pe(vs(S)),style:{height:"14px",width:"14px"},onClick:p}),f(Ai,{className:Pe(vs(S)),style:{height:"14px",width:"14px"},onClick:r})]})]}):null},EM=(e,t)=>{const n=Re(m=>m.start),r=Re(m=>m.stop),i=Re(m=>m.dataSources),[s,o]=b.useState({}),[l,c]=b.useState(!1),h=KI(i,e),u=ju(n),g=ju(r),S=GI(h.url,t,u,g);b.useEffect(()=>{t!==""&&t!=="{}"&&UI(h,S,c,o)},[S,h,c,o,t]);const w=JI(s);return{loading:l,labelSeries:w}},_M=()=>({result:"",expressions:[],expressionsString:"",setJSON(e){return e!==""&&(this.result+=e+" | json"),this.result},addExpression(e){this.expressions=[...this.expressions,e]},setExpressions(){this.expressionsString=this.expressions.join(" ")},build(e=""){return this.setJSON(e),this.expressions.length>0?(this.setExpressions(),this.result+" "+this.expressionsString):this.result}}),IM=()=>({result:"",setLogFmt(){return this.result+=" | logfmt",this.result},build(e){return this.result+=e+this.setLogFmt(),this.result}}),RM=()=>({result:"",labelValue:"",conversion_function:"",setLabelValue(e){this.labelValue=e},setConversionFn(e){this.conversion_function=e},setConversionFnString(){this.labelValue=this.conversion_function+"("+this.labelValue+")"},setUnwrapFmt(){this.result=" | unwrap ",this.labelValue!==""&&this.conversion_function===""&&(this.result+=` ${this.labelValue}`),this.conversion_function!==""&&(this.setConversionFnString(),this.result+=`${this.labelValue}`)},build(e){return this.setUnwrapFmt(),e+this.result}}),MM=()=>({result:"",setUnPack(){return this.result+=" | unpack",this.result},build(e){return this.result+=e+this.setUnPack(),this.result}}),NM=()=>({result:"",expression:"",setRegex(e){this.result=e+" | regexp"},setExpression(e){this.expression=e||""},setText(){this.result+=" `"+this.expression+"`"},build(e){return this.setRegex(e),this.setText(),this.result}}),OM=()=>({result:"",expression:"",setPattern(e){this.result=e+" | pattern"},setExpression(e){this.expression=e||""},setText(){this.result+=" `"+this.expression+"`"},build(e){return this.setPattern(e),this.setText(),this.result}}),LM=()=>({result:"",expression:"",setLine(e){this.result=e+" | line_format"},setExpression(e){this.expression=e||""},setText(){this.result+=" `"+this.expression+"`"},build(e){return this.setLine(e),this.setText(),this.result}}),DM=e=>({result:"",range:"",setRange(t){this.range=t},setRate(){this.result+=` [${this.range}])`},setFn(t){this.result=`${e}(${t}`},build(t){return this.setFn(t),this.setRate(),this.result}}),AM=e=>({result:"",range:"",quantile:.5,labels:[],labelsString:"",setQuantile(t){this.quantile=t},setRange(t){this.range=t},setRate(){this.result+=` [${this.range}])`},setFn(t){this.result=`${e}(${t}`},build(t){return this.setFn(t),this.setRate(),this.result}}),PM=e=>({result:"",range:"",labels:[],labelsString:"",quantile:.99,setFn(t){e!=="quantile_over_time"?this.result=`${e}(${t}`:this.result=`${e}(${this.quantile}, ${t}`},updRange(t){this.range=t},setRange(){this.result+=`[${this.range}])`},addLabel(t){this.labels=[...this.labels,t]},setQuantile(t){this.quantile=t},setLabels(){this.labelsString=this.labels.join(",")},build(t){return this.setFn(t),this.setRange(),this.labels.length>0?(this.setLabels(),this.result+=` by(${this.labelsString})`):this.result}}),$M=e=>({result:"",labels:[],labelString:"",aggrType:"by",aggrTypeString:"",setAggrType(t){this.aggrType=t},addLabel(t){this.labels=[...this.labels,t]},setLabels(){this.labelString=this.labels.join(",")},setAggrTypeString(){this.aggrTypeString=`${this.aggrType}(${this.labelString})`},setFn(t){this.result=`${e}(${t})`},build(t){return this.setFn(t),this.labels.length>0&&(this.setLabels(),this.setAggrTypeString(),this.result=`${e} ${this.aggrTypeString} (${t})`),this.result}}),zM=e=>({result:"",labels:[],labelString:"",kvalue:5,aggrType:"by",aggrTypeString:"",setAggrType(t){this.aggrType=t},setAggrTypeString(){this.aggrTypeString=`${this.aggrType}(${this.labelString})`},addLabel(t){this.labels=[...this.labels,t]},setLabels(){this.labelString=this.labels.join(",")},setKValue(t){this.kvalue=t},setFn(t){this.result=`${e} (${this.kvalue}, ${t})`},build(t){return this.setFn(t),this.labels.length>0&&(this.setLabels(),this.setAggrTypeString(),this.result=`${e} ${this.aggrTypeString} (${this.kvalue}, ${t})`),this.result}}),VM={line_contains:"|= `",line_does_not_contain:"!= `",line_contains_regex_match:"|~ `",line_does_not_match_regex:"!~ `",line_contains_case_insensitive:"|~ `(?i)",line_does_not_contain_case_insensitive:"!~ `(?i)",ip_line_filter_expression:"|= ip(`",ip_line_not_filter_expression:"!= ip(`"},ep=e=>e.includes("ip_"),FM=e=>({result:"",filterText:"",lineFilter:VM[e],setFilterText(t){this.filterText=t},setFn(t){this.result=`${t} ${this.lineFilter}${this.filterText}`},closeFn(){const t=ep(e)?"`)":"`";this.result+=`${t}`},build(t){return this.setFn(t),this.closeFn(),this.result}}),jM={equals:"=",not_equals:"!=",regex_equals:"=~",regex_not_equals:"!~",more:">",less:"<",more_equals:">=",less_equals:"<="},HM=e=>e==="no_pipeline_errors",BM=e=>({result:"",label:"",operator:"=",value:"",labelValueString:"",setLabel(t){this.label=t},setOperator(t){this.operator=jM[t]},setValue(t){this.value=t},setFilterType(t){return ep(e)?"ip(`"+t+"`)":"`"+t+"`"},setLabelValueString(){this.labelValueString=" "+this.label+" "+this.operator+this.setFilterType(this.value)},setFn(t){HM(e)?this.result=t+" | __error__=``":(this.setLabelValueString(),this.result=`${t} |${this.labelValueString}`)},build(t){return this.setFn(t),this.result}}),qM={add_scalar:"+",subtract_scalar:"-",multiply_by_scalar:"*",divide_by_scalar:"/",modulo_by_scalar:"%",exponent:"^",equal_to:"==",not_equal_to:"!=",greater_than:">",less_than:"<",greater_or_equal_to:">=",less_or_equal_to:"<=",binary_operation_with_query:""},WM=e=>({result:"",value:"",bool:!1,boolString:"",setValue(t){this.value=t},setBoolean(t){this.bool=t},setBooleanString(){this.boolString=this.bool?"bool ":""},setFn(t){this.result=`${t} ${qM[e]} ${this.boolString}${this.value}`},build(t){return this.setBooleanString(),this.setFn(t),this.result}}),UM=e=>({result:"",setFn(t){this.result=`${e}(${t})`},build(t){return this.setFn(t),this.result}}),QM=e=>({result:"",setFn(t){this.result=`${e}(${t})`},build(t){return this.setFn(t),this.result}}),GM=e=>({result:"",setFn(t){this.result=`${e}(${t})`},build(t){return this.setFn(t),this.result}}),KM=e=>({result:"",prev_args:"",after_args:"",setPrevArgs(t){this.prev_args=t},setAfterArgs(t){this.after_args=t},setFn(t){this.result=`${e}(${this.prev_args}${t}${this.after_args})`},setEditableParams(t){typeof(t==null?void 0:t.after_args)=="string"&&(t==null?void 0:t.after_args)!==""&&this.setAfterArgs(t.after_args),typeof(t==null?void 0:t.prev_args)=="string"&&(t==null?void 0:t.prev_args)!==""&&this.setPrevArgs(t.prev_args)},build(t){return this.setFn(t),this.result}}),JM={json:_M,logfmt:IM,unpack:MM,regexp:NM,pattern:OM,line_format:LM,unwrap:RM},Ku=e=>({range:DM(e),label_range:PM(e)}),YM=e=>({range_function:AM(e)}),Ju=e=>({aggr:$M(e),aggr_btk:zM(e)}),XM=e=>({line_filter:FM(e)}),ZM=e=>({label_filter:BM(e)}),eN=e=>({binary_operation:WM(e)}),tN=e=>({time_function:UM(e)}),nN=e=>({trigonometric:QM(e)}),Yu=e=>({metric_functions:GM(e),editable_functions:KM(e)}),rN=["json","logfmt","regexp","pattern","unpack","line_format","label_format","unwrap"],iN=["duration","duration_seconds","bytes",""],sN=["rate","rate_counter","count_over_time","sum_over_time","bytes_rate","bytes_over_time","absent_over_time"],aN=["changes","irate","increase","idelta","delta","holt winters","predict linear","quantile over time","deriv","resets","avg_over_time","min_over_time","max_over_time","last_over_time","present_over_time","stddev_over_time"],oN=["avg_over_time","max_over_time","min_over_time","first_over_time","last_over_time","stdvar_over_time","stddev_over_time","quantile_over_time"],lN=["line_contains","line_does_not_contain","line_contains_regex_match","line_does_not_match_regex","line_contains_case_insensitive","line_does_not_contain_case_insensitive","ip_line_filter_expression","ip_line_not_filter_expression"],cN=["add_scalar","subtract_scalar","multiply_by_scalar","divide_by_scalar","modulo_by_scalar","exponent","equal_to","not_equal_to","greater_than","less_than","greater_or_equal_to","less_or_equal_to","binary_operation_with_query"],uN=["no_pipeline_errors","ip_label_filter_expression","label_filter_expression"],dN=["acos","acosh","asin","asinh","atan","atanh","cos","cosh","sin","sinh","tan","tanh"],fN=["sum","min","max","avg","stddev","stdvar","count","count_values"],hN=["topk","bottomk"],pN=["day_of_month","day_of_week","days_in_month"],gN=["ln","absent","ceil","deg","exp","floor","group","hour","log10","log2","minute","pi","rad","scalar","sgn","sort","sort_desc","sqrt","stddev","time","timestamp","vector","year"],mN=["histogram_quantile","label_replace","clamp","clamp_max","clamp_min","label_join","quantile","round"],vN=e=>["line_format","regexp","pattern"].includes(e),pn=(e,t)=>JSON.parse(JSON.stringify(e===""?t:e)),bN=(e,t)=>{Array.isArray(t)&&t.length>0&&t.forEach(n=>{e.addExpression(n)})},Aa=(e,t)=>{Array.isArray(t)&&(t==null?void 0:t.length)>0&&t.forEach(n=>{e.addLabel(n)})},yN=(e,t)=>{e.setKValue(t)},xN=(e,t)=>{let n="";if(e&&typeof e=="string"){const r=ms(JSON.parse(e));(t==null?void 0:t.length)>0?t.forEach(i=>{var s,o,l,c,h,u,g,S;if(rN.includes(i.name)){const w=pn(n,r);if(n=JM[i.name](),i.name==="unwrap"&&((i==null?void 0:i.labelValue)!==""&&typeof i.labelValue=="string"&&n.setLabelValue(i.labelValue),(i==null?void 0:i.conversion_function)!==""&&typeof i.conversion_function=="string"&&iN.includes(i.conversion_function)&&n.setConversionFn(i.conversion_function)),i.name==="json")bN(n,i.expressions);else if(vN(i.name)){const[m]=i.expressions;m!==""&&n.setExpression(i.expressions[0])}n=n.build(w)}if(sN.includes(i.name)){const w=pn(n,r);n=Ku(i.name).range,n.setRange(i.range||"$__interval"),n=n.build(w)}if(aN.includes(i.name)){const w=pn(n,r);n=YM(i.name).range_function,n.setRange(i.range||"$__interval"),n=n.build(w)}if(gN.includes(i.name)){const w=pn(n,r);n=Yu(i.name).metric_functions,n=n.build(w)}if(mN.includes(i.name)){const w=pn(n,r);n=Yu(i.name).editable_functions,n.setEditableParams(i),n=n.build(w)}if(dN.includes(i.name)){const w=pn(n,r);n=nN(i.name).trigonometric,n=n.build(w)}if(oN.includes(i.name)){const w=pn(n,r);n=Ku(i.name).label_range,Aa(n,i.labels),n.updRange(i.range||"$__interval"),i.name==="quantile_over_time"&&n.setQuantile(i.quantile),n=n.build(w)}if(fN.includes(i.name)){const w=pn(n,r);n=Ju(i.name).aggr,Aa(n,i.labels),n=n.build(w)}if(hN.includes(i.name)){const w=pn(n,r);n=Ju(i.name).aggr_btk,Aa(n,i.labels),yN(n,i.kValue),n=n.build(w)}if(lN.includes(i.name)){const w=pn(n,r);n=XM(i.name).line_filter,n.setFilterText(i.filterText||""),n=n.build(w)}if(uN.includes(i.name)&&(i!=null&&i.labelFilter)){const w=pn(n,r);n=(s=ZM(i.name))==null?void 0:s.label_filter,n.setLabel(((o=i==null?void 0:i.labelFilter)==null?void 0:o.label)||""),n.setOperator(((l=i==null?void 0:i.labelFilter)==null?void 0:l.operator)||"equals"),n.setValue(((c=i==null?void 0:i.labelFilter)==null?void 0:c.value)||""),n=n.build(w)}if(pN.includes(i.name)){const w=pn(n,r);n=(h=tN(i.name))==null?void 0:h.time_function,n=n.build(w)}if(cN.includes(i.name)&&(i!=null&&i.binaryOperation)){const w=pn(n,r);n=(u=eN(i.name))==null?void 0:u.binary_operation,n.setValue(((g=i==null?void 0:i.binaryOperation)==null?void 0:g.value)||1),n.setBoolean(((S=i==null?void 0:i.binaryOperation)==null?void 0:S.bool)||!1),n=n.build(w)}}):n=r}return n},SN=e=>`sum by(level) (count_over_time(${e}[$__interval]))`,wN=e=>{const{dataSourceId:t,logsResponse:n,theme:r,setFinalQuery:i,setLabelsString:s,labelValueString:o,setLabelValueString:l,setBuilders:c,index:h}=e,[u,g]=b.useState(e.labelValuesState||[{...gs}]),S=k=>{g(T=>{const x=JSON.parse(JSON.stringify(T))||[];return x==null?void 0:x.filter(I=>I.id!==k)}),l(T=>{let x=[];(T==null?void 0:T.length)>1&&(x=JSON.parse(T||JSON.stringify("[]")));const N=x==null?void 0:x.filter(I=>I.id!==k);return JSON.stringify(N)})},w=k=>{g(T=>[...T,{...Eh,id:Gn()}])},m=k=>{const T=u==null?void 0:u.some(I=>I.id===k.id);(u==null?void 0:u.length)===1&&!T&&(g(()=>[k]),l(()=>JSON.stringify([k])));const x=[...u],N=x==null?void 0:x.map(I=>I.id===k.id?{...k}:I);T&&(g(()=>[...N]),l(()=>JSON.stringify(N)))};b.useEffect(()=>{const k=o||JSON.stringify(""),T=ms(JSON.parse(k));s(T),i(T)},[o]),b.useEffect(()=>{c(k=>{const T=[...k];return T.map(x=>T.indexOf(x)===h?{...x,labelValuesState:[...u],logsVolumeQuery:SN(ms(u))}:x)})},[u]);const C=()=>{g(()=>[{...gs}])};return Array.isArray(u)?F("div",{className:Pe($s),children:[(u==null?void 0:u.length)>0&&(u==null?void 0:u.map((k,T)=>f(kM,{dataSourceId:t,id:k.id,keyVal:k,labelOpts:n,labelAdd:w,labelRemove:S,onChange:m,currentState:u,labelValuesLength:u.length||0},T))),CN(r,C,(u==null?void 0:u.length)||0)]}):null},TN=e=>{const{dataSourceId:t,setFinalQuery:n,labelsString:r,labelValueString:i,addBinary:s,setBuilders:o,index:l}=e,{labelSeries:c}=EM(t,r),[h,u]=b.useState(e.operations||[]);b.useEffect(()=>{if(i!==""){let S=xN(i,h);n(S)}},[h,i]);const g=b.useCallback((S,w,m)=>{if(w==="Binary Operation With Query"){s(l);return}const C=pI(w,m,c,h);u(k=>gI(m,C,k))},[h,c,r]);return b.useEffect(()=>{o(S=>{const w=[...S];return w.map(m=>w.indexOf(m)===l?{...m,operations:[...h]}:m)})},[h]),F("div",{className:Pe($s),children:[f(hM,{menuClick:g}),f(yM,{...e,setOperations:u,operations:h})]})},CN=(e,t,n)=>n<1?f(Zh,{mainTheme:e,resetLabelsState:t}):null;function kN(e){var n;let t={};if(((n=e==null?void 0:e.headers)==null?void 0:n.length)>0)for(let r of e.headers){const i={[String(r.header)]:r.value};t={...t,...i}}return t}function EN(e){var o,l,c;let t=kN(e);const n={method:"GET"},r=(o=e==null?void 0:e.auth)==null?void 0:o.basicAuth.value;let i={},s={};if(r){const h=(c=(l=e==null?void 0:e.auth)==null?void 0:l.fields)==null?void 0:c.basicAuth;for(let u of h)u.name==="user"&&(s.username=u.value),u.name==="password"&&(s.password=u.value);i.auth=s}return i.options=n,i.headers={...t,"Content-Type":"application/json"},i}function tp(e){const t=Re(c=>c.dataSources),n=Re(c=>c.start),r=Re(c=>c.stop),i=b.useMemo(()=>({start:nn(n).unix(),end:nn(r).unix()}),[n,r]),[s,o]=b.useState([]),l=b.useMemo(()=>t.find(c=>c.id===e),[t,e]);return b.useEffect(()=>{if(l.type==="metrics"&&(l!=null&&l.url)&&(l==null?void 0:l.url)!==""){const c=EN(l),h=`${l.url}/api/v1/label/__name__/values?start=${i.start}&end=${i.end}`;(async()=>{var g;try{const S=await Sn.get(h,c);(S==null?void 0:S.status)===200&&o(((g=S==null?void 0:S.data)==null?void 0:g.data)||[])}catch(S){console.log("Error at loading Span Names",S)}})()}},[]),b.useMemo(()=>(s==null?void 0:s.length)>0?s.map(c=>({label:c,value:c})):[{label:"",value:""}],[s])}function _N(e,t){const n=Re(u=>u.dataSources),r=Re(u=>u.start),i=Re(u=>u.stop),s=b.useMemo(()=>({start:nn(r).unix(),end:nn(i).unix()}),[r,i]),[o,l]=b.useState([]),c=b.useMemo(()=>n.find(u=>u.id===e),[n,e]),h=b.useMemo(()=>{const u=encodeURIComponent(`{__name__="${t}"}`),S=`match${encodeURIComponent("[]")}`;if(t)return`${S}=${u}`},[t]);return b.useEffect(()=>{if(c.type==="metrics"&&(c!=null&&c.url)&&(c==null?void 0:c.url)!==""&&t&&t!==""){const u=rI(c),g=`${c.url}/api/v1/series?start=${s.start}&end=${s.end}&${h}`;(async()=>{var w;try{const m=await Sn.get(g,u);(m==null?void 0:m.status)===200&&l(((w=m==null?void 0:m.data)==null?void 0:w.data)||[])}catch(m){console.log("Error at loading Span Names",m)}})()}},[c,s.end,s.start,h]),b.useMemo(()=>{if((o==null?void 0:o.length)>0){const u=[...o];let g={};return u.forEach(S=>{Object.keys(S).forEach(m=>{var C;(C=g[m])!=null&&C.some(k=>k===S[m])||(g[m]=[...g[m]||[],S[m]])})}),g}return{}},[o])}const IN=e=>{const{keyVal:t,labelOpts:n,valuesOpts:r,labelAdd:i,labelRemove:s,onChange:o,labelValuesLength:l,id:c,metric:h}=e,u=b.useRef(null),g=b.useRef(null),S=b.useRef(null),w=qe(),[m,C]=b.useState(t),[k,T]=b.useState(n[0]||{label:"Select Option",value:""}),x=Lh(r,k),[N,I]=b.useState({label:"=",value:"equals"}),O=A=>{const{value:$,id:z}=A;T(()=>({value:$==null?void 0:$.value,label:$==null?void 0:$.value}));const K={...JSON.parse(JSON.stringify(m)),metric:h,label:$==null?void 0:$.label,value:$.value,id:z};o(K),C(ie=>({...ie,label:$==null?void 0:$.value,metric:h}))},D=A=>{const{value:$,id:z}=A;let V=[],K=$!==null?$:{label:"",value:"",metric:h};_&&Array.isArray(K)?V=K==null?void 0:K.map(te=>te.value):V=[K.value];const ue={...JSON.parse(JSON.stringify(m)),values:V,id:z};o(ue),C(te=>({...te,values:V}))},p=A=>{const{value:$,id:z}=A,K={...JSON.parse(JSON.stringify(m)),operator:$==null?void 0:$.value,id:z};o(K),I(()=>({...$})),C(ie=>({...ie,operator:$==null?void 0:$.value}))},E=()=>{u!=null&&u.current&&(g!=null&&g.current)&&(S!=null&&S.current)&&s(t.id)},_=b.useMemo(()=>N.value==="regexequals"||N.value==="regexexclude",[N.value]);return l>0?F("div",{id:c,className:Pe(Mh),children:[f(gr,{ref:u,type:"label",isMulti:!1,defaultValue:nt(t.label),selectOpts:n,mainTheme:w,onChange:O,keyVal:t,objId:c,minWidth:100,labelsLength:l}),f(gr,{ref:g,type:"operator",isMulti:!1,defaultValue:nt(t.operator),selectOpts:kh,keyVal:t,mainTheme:w,onChange:p,objId:c,minWidth:60,labelsLength:l}),F("div",{className:Pe(Nh),children:[f(gr,{ref:S,type:"value",isMulti:_,defaultValue:nt(t.values),selectOpts:x,keyVal:t,mainTheme:w,onChange:D,objId:c,minWidth:250,labelsLength:l}),f(Ml,{className:Pe(vs(w)),style:{height:"14px",width:"14px"},onClick:E}),f(Ai,{className:Pe(vs(w)),style:{height:"14px",width:"14px"},onClick:i})]})]}):null};function RN(e){const{dataSourceId:t,value:n,metricValueChange:r,onChange:i,setBuilders:s,index:o,setFinalQuery:l,labelValueString:c,setLabelValueString:h}=e,u=_N(t,n),[g,S]=b.useState(e.labelValuesState||[{...gs,metric:n}]),w=qe(),m=OI(u),C=I=>{S(O=>{const D=JSON.parse(JSON.stringify(O))||[];return D==null?void 0:D.filter(E=>E.id!==I)}),h(O=>{let D=[];(O==null?void 0:O.length)>1&&(D=JSON.parse(O||JSON.stringify("[]")));const p=D==null?void 0:D.filter(E=>E.id!==I);return JSON.stringify(p)})},k=()=>{S(I=>[...I,{...Eh,metric:n,id:Gn()}])},T=I=>{const O=g==null?void 0:g.some(E=>E.id===I.id);(g==null?void 0:g.length)===1&&!O&&(S(()=>[I]),h(()=>JSON.stringify([I])));const D=[...g],p=D==null?void 0:D.map(E=>E.id===I.id?{...I}:E);O&&(S(()=>[...p]),h(()=>JSON.stringify(p))),i(I)},x=()=>{S(I=>[{...gs,metric:n}])};b.useEffect(()=>{const I=c||JSON.stringify(""),O=nI(n,JSON.parse(I));r(O),l(O)},[c,n]),b.useEffect(()=>{s(I=>{const O=[...I];return O.map(D=>O.indexOf(D)===o?{...D,labelValuesState:[...g]}:D)})},[g]);const N=()=>(g==null?void 0:g.length)<1?f(Zh,{mainTheme:w,resetLabelsState:x}):null;return f(vt,{theme:w,children:F("div",{className:Pe($s),children:[(g==null?void 0:g.length)>0&&(g==null?void 0:g.map((I,O)=>f(IN,{id:I.id,idx:O,metric:n,keyVal:I,labelOpts:m,valuesOpts:u,labelAdd:k,labelRemove:C,onChange:T,currentState:g,useValueSelectOpts:Lh,labelValuesLength:(g==null?void 0:g.length)||0},O))),N()]})})}const np=e=>{const t=qe(),{builders:n,setBuilders:r,dataSourceId:i,logsResponse:s}=e;return f("div",{className:Pe(zs),children:n==null?void 0:n.map((o,l)=>Di(NN,{...e,builder:o,dataSourceId:i,logsResponse:s,key:l,idx:l,theme:t,setBuilders:r}))})},MN=e=>{const{onBinaryClose:t,theme:n,onBinaryOptChange:r,binaryValue:i}=e,[s,o]=b.useState(i.vectValue||""),l=b.useCallback((u,g)=>{o(u.target.value),r(u,g)},[s]),c=b.useMemo(()=>Object.entries(os).map(([u,g])=>({value:u,name:g})),[os]),h=b.useMemo(()=>Object.entries(tI).map(([u,g])=>({value:u,name:g})),[os]);return f("div",{children:f("div",{className:Pe(Bt(n)),children:F("div",{className:"binary-operation-bar",children:[F("div",{className:"binary-operation-cont",children:[f("label",{children:"Operator"})," ",f(Fu,{initial:i.binaryOpt||"divide",onChange:u=>r(u,"binaryOpt"),opts:c}),f("label",{children:"Label Matches"}),f(Fu,{initial:i.vectOpt||"on",onChange:u=>r(u,"vectOpt"),opts:h}),f("input",{value:nt(s),onChange:u=>l(u,"vectValue")})]}),f("button",{onClick:t,children:" X"})]})})})},NN=e=>{const{builder:t,theme:n,idx:r,setBuilders:i,logsResponse:s,dataSourceId:o}=e,[l,c]=b.useState(ms(t.labelValuesState)||""),h=b.useMemo(()=>t!=null&&t.labelValuesState?`{${xl(t==null?void 0:t.labelValuesState)}}`||"{}":{},[t.labelValuesState]),u=tp(o),[g,S]=b.useState(u[0]||{label:"",value:""}),[w,m]=b.useState(t.builderResult||""),[C,k]=b.useState(JSON.stringify(t.labelValuesState)||"");b.useEffect(()=>{k(JSON.stringify(t.labelValuesState))},[t]);const T=b.useCallback(E=>{i(_=>[..._].map(($,z)=>z===r?{...$,builderResult:E}:$)),m(E)},[]),x=()=>{i(E=>[...E].filter((A,$)=>$!==r))},N=E=>{const{value:_}=E;S(()=>({value:_==null?void 0:_.value,label:_==null?void 0:_.value}))},I=()=>{},O=(E,_,A)=>E.isMetrics?A:_,D=E=>{console.log(E)},p=(E,_)=>{i(A=>[...A].map((z,V)=>V===r?{...z,binaryValue:{...z.binaryValue,[_]:E.target.value}}:z))};return F("div",{className:Pe(zs),children:[t.isBinary&&f(MN,{theme:n,binaryValue:nt(t.binaryValue),onBinaryOptChange:p,onBinaryClose:x}),f("div",{className:Pe(xI),children:t.isMetrics===!0?F(mt,{children:[f(ON,{theme:n,onMetricChange:N,dataSourceId:o}),f(RN,{index:r,onChange:D,dataSourceId:o,value:nt(g.value),setBuilders:i,finalQuery:w,builder:t,setFinalQuery:T,labelValueString:C,setLabelValueString:k,metricValueChange:I})]}):f(wN,{...t,dataSourceId:o,logsResponse:s,setLabelsString:c,finalQuery:w,setFinalQuery:T,labelValueString:C,setLabelValueString:k,setBuilders:i,index:r,theme:n})}),f(TN,{...e,...t,setBuilders:i,dataSourceId:o,labelsString:O(t,l,h),labelValueString:C,setFinalQuery:T,finalQuery:w,index:r})]},r)},ON=e=>{const{dataSourceId:t,theme:n,onMetricChange:r}=e,i=tp(t);return f(gr,{isMulti:!1,type:"metric",defaultValue:nt("Select Metric..."),selectOpts:i,mainTheme:n,onChange:r,minWidth:250,labelValuesLength:0})},rp=e=>oe("padding:8px;display:flex;flex:1;gap:4px;flex-direction:column;border-bottom:1px solid ",e.accentNeutral,";background:",e.shadow,";label{font-size:11px;color:",e.contrast,";padding:4px 10px;}.action-buttons{display:flex;align-items:center;flex-direction:row;justify-content:flex-end;gap:2px;}@media (min-width: 420px){flex-direction:row;align-items:center;&.action-buttons{margin-top:0px;}}","");function LN(e){const{dataSourceId:t,labelValueChange:n,searchButton:r,logsRateButton:i}=e,s=Re(I=>I.dataSources),o=Re(I=>I.start),l=Re(I=>I.stop),[c,h]=b.useState(Ii("")),{logsResponse:u}=Ph(t,o,l,s),[g,S]=b.useState(""),w=jd(),[m,C]=b.useState([eI]),k=b.useCallback(I=>{C(O=>[...O,{...O[I],isBinary:!0}])},[m]);b.useEffect(()=>{n(g),h(Ii(g))},[g]),b.useEffect(()=>{C(I=>[...I].map(D=>({...D,logsResponse:u})))},[u]);const T=I=>{const{binaryValue:O}=I,{binaryOpt:D,vectOpt:p,vectValue:E}=O;let _="";return E!==""&&(_=`${p}(${E})`),` ${os[D]} ${_}`},x=I=>{let O="";return I.forEach(D=>{D.isBinary?O+=`${T(D)} ${D.builderResult}`:O+=D.builderResult}),O},N=I=>{var O,D;n((D=(O=I[0])==null?void 0:O.children[0])==null?void 0:D.text)};return b.useEffect(()=>{S(x(m))},[m]),f(vt,{theme:w,children:F("div",{className:Pe(zs),children:[f(np,{type:"metrics_search",addBinary:k,dataSourceId:t,logsResponse:u,setBuilders:C,builders:m,finalQuery:g}),F("div",{className:Pe(rp(w)),children:[f("label",{children:"Raw Query"}),f(yl,{onQueryChange:N,defaultValue:c,value:c}),F("div",{className:"action-buttons",children:[i,r]})]})]})})}function DN(e){const{handleMetricValueChange:t,data:{dataSourceId:n,hasStats:r},searchButton:i,statsSwitch:s,logsRateButton:o}=e,l=u=>{t(u)},c=qe(),h=Re(u=>u.isSplit);return F(vt,{theme:c,children:[f("div",{className:Pe($s),children:f(LN,{...e,dataSourceId:n,labelValueChange:l,searchButton:i,logsRateButton:o})}),r&&h&&f("div",{style:{display:"flex",margin:"10px 0px"},children:s})]})}const AN={operations:[],labelsState:[],binaryValue:{binaryOpt:"divide",vectOpt:"on",vectValue:""},builderResult:"",logsVolumeQuery:"",isBinary:!1},PN={minus:"-",plus:"+",by:"*",divide:"/",exp:"^",equals:"==",not_equals:"!=",modulo:"%",more:"<",less:">",less_equals:"<=",more_equals:">="};function $N(e){const{dataSourceId:t,labelValueChange:n,handleLogsVolumeChange:r,searchButton:i}=e,s=Re(I=>I.dataSources),o=Re(I=>I.start),l=Re(I=>I.stop),[c,h]=b.useState(Ii("")),{logsResponse:u}=Ph(t,o,l,s),[g,S]=b.useState(""),w=jd(),[m,C]=b.useState([AN]),k=b.useCallback(I=>{C(O=>[...O,{...O[I],isBinary:!0}])},[m]);b.useEffect(()=>{m[0].logsVolumeQuery!==""&&r(m[0].logsVolumeQuery)},[m]),b.useEffect(()=>{n(g),h(Ii(g))},[g]),b.useEffect(()=>{C(I=>[...I].map(D=>({...D,logsResponse:u})))},[u]);const T=I=>{const{binaryValue:O}=I,{binaryOpt:D,vectOpt:p,vectValue:E}=O;let _="";return E!==""&&(_=`${p}(${E})`),` ${PN[D]} ${_}`},x=I=>{let O="";return I.forEach(D=>{D.isBinary?O+=`${T(D)} ${D.builderResult}`:O+=D.builderResult}),O};b.useEffect(()=>{S(x(m))},[m]);const N=I=>{var O,D;n((D=(O=I[0])==null?void 0:O.children[0])==null?void 0:D.text)};return f(vt,{theme:w,children:F("div",{className:Pe(zs),children:[f(np,{type:"logs_search",addBinary:k,dataSourceId:t,logsResponse:u,setBuilders:C,builders:m,finalQuery:g}),F("div",{className:Pe(rp(w)),children:[f("label",{children:"Raw Query"}),f(yl,{onQueryChange:N,defaultValue:c,value:c}),f("div",{className:"action-buttons",children:i})]})]})})}function zN(e){const{handleLogValueChange:t,data:{dataSourceId:n,hasStats:r},searchButton:i,statsSwitch:s}=e,o=h=>{t(h)},l=qe(),c=Re(h=>h.isSplit);return F(vt,{theme:l,children:[f("div",{className:Pe(VS),children:f($N,{...e,dataSourceId:n,labelValueChange:o,searchButton:i})}),r&&c&&f("div",{style:{display:"flex",margin:"10px 0px"},children:s})]})}function fn(e,t){return e==="left"?cn(t):Yt(t)}const VN=[{value:"range",label:"Range"},{value:"instant",label:"Instant"}],FN=[{value:"forward",label:"Forward"},{value:"backwards",label:"Backwards"}],jN=[{value:"traceId",label:"TraceId"},{value:"search",label:"Search"}],HN=oe({name:"qhxz92",styles:"max-width:100%"}),BN=e=>{const{data:t,name:n,width:r,launchQuery:i}=e,{queryType:s,limit:o,id:l,dataSourceType:c,direction:h,dataSourceId:u,splitted:g}=t,{data:{loading:S,hasStats:w,isShowStats:m,isBuilder:C,isLogsVolume:k,logsVolumeQuery:T}}=e,{getLocalQueryItem:x,getLocalDataSources:N,setLocalQueryData:I}=M_,{hash:O}=ei(),D=zt(),p=bd(),E=vd().historyStore(),_=qe(),A=Re(B=>B.historyOpen),$=Re(B=>B.isEmbed),z=Re(B=>B.queryHistory),V=Re(B=>B.start),K=Re(B=>B.stop),ie=Re(B=>B.isSplit),ue=Re(B=>B[n]),te=wn.useMediaQuery({query:"(max-width: 1070px)"}),[he,Y]=b.useState(t.expr),[Fe,$e]=b.useState(!1),[me,ke]=b.useState(Ii(t.expr)),[Oe,re]=b.useState("traceId"),[Ce]=b.useState([]),[Ee,be]=b.useState({}),[pe,Te]=b.useState(m||!1),[Je,et]=b.useState(!1),De=Re(B=>B.dataSources),Ye=Re(B=>B[n]),Xe=b.useMemo(()=>Zp.find(B=>B.id===u),[u]),it=(B,Z)=>B==null?void 0:B.find(W=>W.id===u);b.useEffect(()=>{const{expr:B}=x(u,l),Z=N(u);Y(B),ke([{children:[{text:B}]}]),rt(B,k);const W=it(De);let q={};if(Z&&(Z==null?void 0:Z.url)!==Xe&&(Z==null?void 0:Z.url)!==""){q={...Z};const ne=[...Ye];ne.forEach(le=>{le.id===l&&(le.dataSourceId=q.id,le.dataSourceType=q.type,le.dataSourceURL=q.url)}),D(fn(n,ne));const de=[...De];de.forEach(le=>{le.id===u&&(le=q)}),D(us(de))}else W&&W.url!==""&&(q={...W});$&&D(An(c,he,s,o,n,l,h,u,q==null?void 0:q.url))},[]),b.useEffect(()=>{Y(t.expr),ke([{children:[{text:nt(t.expr)}]}])},[t.expr]),b.useEffect(()=>{let B=me[0].children[0].text;Y(B)},[me]),b.useEffect(()=>{te&&ie&&D(Qr(!1))},[te]),b.useEffect(()=>{let{expr:B}=x(u,l),Z=N(u);Y(B),ke([{children:[{text:nt(B)}]}]),k&&T&&rt(B,k);const W=De==null?void 0:De.find(de=>de.id===u);let q={};if(Z&&(Z==null?void 0:Z.url)!==Xe&&(Z==null?void 0:Z.url)!==""){q={...Z};const de=[...Ye];de.forEach(ge=>{ge.id===l&&(ge.dataSourceId=q.id,ge.dataSourceType=q.type,ge.dataSourceURL=q.url)}),D(fn(n,de));const le=[...De];le.forEach(ge=>{ge.id===u&&(ge=q)}),D(us(le))}else W&&W.url!==""&&(q={...W});let{isMatrix:ne}=Nt(B);B!==""&&(B==null?void 0:B.length)>6&&D(An(c,B,s,o,n,l,h,u,q==null?void 0:q.url)),k&&(T!=null&&T.query)&&(T==null?void 0:T.query)!==""&&c==="logs"&&!ne&&D(An(c,T.query,s,o,n,l,h,u,q.url,T.customStep,!0))},[u,l]),b.useEffect(()=>{typeof he=="string"&&(Y(he),ke([{children:[{text:nt(he)}]}]),Ie(),k&&rt(he,!0))},[he]),b.useEffect(()=>{typeof i=="string"&&i!==""&&(Y(i),ke([{children:[{text:nt(i)}]}]),Ie(),k&&rt(i,!0))},[i]),b.useEffect(()=>{rt(he,k)},[he]);function rt(B,Z){if(Z&&B!==""){let W=B.match(/[^{\}]+(?=})/g);if(Array.isArray(W)&&(W==null?void 0:W.length)>0){let ne=`sum by(level) (count_over_time(${`{${W==null?void 0:W.join(",")}}`}[$__interval]))`;Qe(ne)}}}function Ke(B){ke(B),Ie(B)}const Et=B=>{B.code==="Enter"&&B.ctrlKey&&at(B)},Rt=B=>{const Z=[{children:[{text:nt(B)}]}];Ke(Z)},_e=B=>{const Z=[{children:[{text:nt(B)}]}];Ke(Z)},je=(B,Z,W,q)=>{let ne="",de=0;if(B.includes("$__interval")){const ge=(q.getTime()-W.getTime())/1e3/30,ze=Number((Z/window.innerWidth).toFixed(1)),Se=ge/ze,Le=Math.round(Se*Number(window.devicePixelRatio.toFixed(2)));ne=B.replace(/\[\$__interval\]/,`[${Le}s]`),de=Le}else ne=B;return{query:ne,customStep:de}},Qe=B=>{const{query:Z,customStep:W}=je(B,r,V,K);ut({query:Z,customStep:W})},at=B=>{B.preventDefault();const Z=De.find(W=>W.id===u);if(Oa(he)&&Z)try{jt(Z.type,he,s,o,l,h,Z.id,Z.url),k&&!T&&rt(he,k),Mt(he,!0),At(),I(he,l,u)}catch(W){console.error(W)}else D(mr(!0)),console.log("Please make a log query",he)},Ie=(B=[])=>{if((B==null?void 0:B.length)>0){const Z=new URLSearchParams(O.replace(/#/,"")),W=B==null?void 0:B.map(ne=>ne.children[0].text).join(`
`),q=[...ue];q.forEach(ne=>{ne.id===l&&W&&(ne.expr=W)}),D(fn(n,q)),Z.set(n,JSON.stringify(q)),I(he,l,u)}},ut=B=>{const Z=[...ue];Z.forEach(W=>{W.id===l&&B&&B.query!==""&&(W.logsVolumeQuery={query:B.query,customStep:B.customStep})}),D(fn(n,Z))};function Dt(B){const Z=B.length===0;let W="";if(!Z){const q=B.startsWith("rate(");c==="metrics"?q?(W=B.replace(/{([^}]+)}/g,"{}"),W=W.replace(/\[\d+ms\]/,"[$__interval]")):W=`rate(${B.replace(/{([^}]+)}/g,"{}")}[$__interval])`:q?W=B.replace(/\[\d+ms\]/,"[$__interval]"):W=`rate(${B}[$__interval])`}return W}const qt=B=>{B.preventDefault();const Z=he.length===0;let W="";Z||(W=Dt(he),Y(W),ke([{children:[{text:nt(W)}]}]),$e(Oa(W))),Oa(W)&&Gt(W)};function Gt(B){const Z=De.find(W=>W.id===u);try{jt(Z.type,B,s,o,l,h,Z.id,Z.url),At()}catch(W){console.error(W)}}const jt=(B,Z,W,q,ne,de,le,ge)=>{const ze=E.add({data:JSON.stringify({type:B,queryInput:Z,queryType:W,limit:q,direction:de,dataSourceId:le,url:ge,panel:n,id:ne}),url:window.location.hash},10);D(rs(ze))},Mt=(B,Z)=>{const W=De.find(ge=>ge.id===u),q=[...ue];c==="logs"&&q.forEach(ge=>{ge.id===l&&(ge.browserOpen=!1)}),D(fn(n,q));let{querySubmit:ne,customStep:de,isMatrix:le}=Nt(B);Z&&ne!==""&&(ne==null?void 0:ne.length)>6&&D(An(c,ne,s,o,n,l,h,u,W.url,de,k&&!le)),k&&(T!=null&&T.query)&&(T==null?void 0:T.query)!==""&&!le&&D(An(c,T.query,s,o,n,l,h,u,W.url,T.customStep,!0))};function Nt(B){let Z="",W=0,q=!1;if(B.match(/\((.*?)\)/)!==null&&(q=!0),B.includes("$__interval")){q=!0;const le=(K.getTime()-V.getTime())/1e3/30,ge=Number((r/window.innerWidth).toFixed(1)),ze=le/ge,Se=Math.round(ze*Number(window.devicePixelRatio.toFixed(2)));Z=B.replace(/\[\$__interval\]/,`[${Se}s]`),W=Se}else Z=B;return{customStep:W,querySubmit:Z,isMatrix:q}}const At=()=>{const B=De.find(W=>W.id===u),Z=p.add({data:{href:window.location.href,url:B.url,type:c,queryInput:he,queryType:s,limit:o,panel:n,id:l},description:"From Query Submit"},10);D(ns(Z))};function kt(){D(qd(!A))}function Wt(){et(!Je)}function Cn(){Wt()}function In(B){be(()=>B)}function gn(B){const Z=B.target.checked;Te(()=>Z);const W=JSON.parse(JSON.stringify(Ye)),q=W==null?void 0:W.map(ne=>ne.id===l?{...ne,isShowStats:Z}:ne);D(fn(n,q))}const P=B=>{re(()=>B)},U=(B,Z,W,q)=>!W&&!Z&&(B==="metrics"||B==="logs")?q:null,j=(B,Z,W,q)=>B||Z||W!=="flux"||W!=="traces"?q:null;if($)return null;const J=(B,Z,W,q,ne,de)=>B==="traces"?F(mt,{children:[f("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingRight:"15px",marginBottom:"4px"},children:f(NI,{value:"traceId",onChange:P})}),Oe==="traceId"&&W,Oe==="search"&&Z]}):B==="metrics"?F(mt,{children:[q,W]}):B==="logs"?F(mt,{children:[C&&ne,W]}):W;return $?null:f("div",{className:Pe(HN),id:l,children:F(vt,{theme:_,children:[c!=="metrics"&&c!=="traces"&&(te||ie)&&f(U_,{...e,isSplit:g,dataSourceType:c,onShowQuerySettings:Wt,queryHistory:z,handleHistoryClick:kt,isTabletOrMobile:te,queryValid:Fe,onSubmit:at,onSubmitRate:qt,labels:Ce,loading:S||!1,hasStats:w,showStatsOpen:pe,handleStatsOpen:gn}),J(c,f(II,{...e,onSearchChange:In}),f(J_,{...e,isSplit:g,isBuilder:C,dataSourceType:c,handleQueryChange:Ke,expr:he,queryValue:me,handleInputKeyDown:Et,queryHistory:z,handleHistoryClick:kt,queryValid:Fe,onSubmit:at,onSubmitRate:qt,isTabletOrMobile:te,labels:Ce,loading:S||!1}),f(DN,{...e,queryInput:he,searchButton:f(Xr,{disabled:!Fe,loading:S||!1,onClick:at,isMobile:!1,alterText:"Use Query"}),logsRateButton:f(ps,{disabled:!Fe,onClick:qt,isMobile:!1,alterText:"Use as Rate Query"}),statsSwitch:F("div",{className:"options-input",children:[f(pr,{children:"Show Stats"}),f(xn,{checked:pe,size:"small",onChange:gn,inputProps:{"aria-label":"controlled"}})]}),handleMetricValueChange:Rt}),f(zN,{...e,queryInput:he,isBuilder:C,searchButton:f(Xr,{disabled:!Fe,loading:S||!1,onClick:at,isMobile:!1,alterText:"Use Query"}),logsRateButton:f(ps,{disabled:!Fe,onClick:qt,isMobile:!1,alterText:"Use as Rate Query"}),statsSwitch:F("div",{className:"options-input",children:[f(pr,{children:"Show Stats"}),f(xn,{checked:pe,size:"small",onChange:gn,inputProps:{"aria-label":"controlled"}})]}),handleLogValueChange:_e,handleLogsVolumeChange:Qe})),!ie&&U(c,g,te,f(H_,{...e})),j(te,g,c,f(B_,{...e,open:Je,handleClose:Cn,actPanel:ue,name:n}))]})})},qN=e=>f(ve("div",{target:"eieb7p90"})("color:",({theme:n})=>n.contrast,";padding:10px;"),{children:"No labels available, please adjust API"});function WN(e){const{label:t,type:n}=e,[r,i]=b.useState(e.selected);b.useEffect(()=>{i(e.selected)},[e.selected]);const s=b.useMemo(()=>r?{borderColor:"#11abab",color:"#11abab"}:{},[r]);return f("small",{className:n,style:s,onClick:o=>e.onClick(t),children:t})}function UN(e){const{labels:t,data:n}=e,{dataSourceType:r}=n,i=o=>{o==="Select Metric"?e.onLabelSelected("__name__"):e.onLabelSelected(o)},s=b.useMemo(()=>r!=="metrics"?t:t==null?void 0:t.filter(o=>o.name!=="__name__"),[r,t]);return F("div",{className:"valuelist-content",children:[s&&f(mt,{children:s.map((o,l)=>f(WN,{label:o.name,selected:o.selected,onClick:i},l))}),!s&&f(qN,{...e})]})}function Xu(e){return e.getTime()+"000000"}const QN=(e,t,n,r,i)=>({metrics:`${e}/api/v1/label/${n}/values`,logs:`${e}/loki/api/v1/label/${n}/values?start=${r}&end=${i}`})[t];function GN(e,t,n,r){var O,D,p;const i=Re(E=>E.dataSources),s=b.useMemo(()=>i.find(E=>E.id===e),[i,e]),o=(O=s==null?void 0:s.auth)==null?void 0:O.basicAuth.value;let l={},c={};if(o){const E=(p=(D=s==null?void 0:s.auth)==null?void 0:D.fields)==null?void 0:p.basicAuth;for(let _ of E)_.name==="user"&&(l.username=_.value),_.name==="password"&&(l.password=_.value);c.auth=l}const h=Xu(n),u=Xu(r),g=new AbortController,[S,w]=b.useState();b.useEffect(()=>{w(QN(s.url,s.type,t,h,u))},[t,w,s]);const m=Tl(s),[C]=b.useState({...m,"Content-Type":"application/json"}),k=b.useMemo(()=>({signal:g.signal,method:"GET"}),[]);c.options=k,c.headers=C;const[T,x]=b.useState([]),[N,I]=b.useState(!1);return b.useEffect(()=>{s.type!=="flux"&&t!==""&&(async()=>{if(I(!0),S&&S!=="")try{const _=await Sn.get(S,c);x(_||[])}catch(_){console.log(_)}I(!1)})()},[s,S,t]),{response:T,controller:k.signal,loading:N}}const KN=ve("div",{target:"e138p68f2"})({name:"1qjnm4o",styles:"display:flex;align-items:center;justify-content:center;flex:1;width:100%;height:100%"}),JN=ve(mv,{target:"e138p68f1"})({name:"ue7o5o",styles:"width:30px;height:30px"}),YN=ve("input",{target:"e138p68f0"})("background:",({theme:e})=>e.deep,";color:",({theme:e})=>e.contrast,";font-size:10px;border:1px solid ",({theme:e})=>e.accentNeutral,";border-radius:3px;outline:none;");function Zu(e,t){return e==="left"?cn(t):Yt(t)}const XN={borderColor:"#11abab",color:"#11abab"},ZN=e=>{let{value:t,data:n,onValueClick:r}=e;const i=b.useMemo(()=>t.selected,[t.selected]),[s,o]=b.useState(i),l=b.useMemo(()=>s||(n==null?void 0:n.metric)===t.name?XN:{},[s,t.selected,n.metric,t.name]);return b.useEffect(()=>{o(t.selected)},[t.selected]),f("small",{className:"label-value",style:l,onClick:()=>{let h=!1;o(g=>(h=!g,!g));const u={...t,selected:h};r(u)},children:t.name})},ed=e=>{const t=zt(),{name:n,data:r,labelsSelected:i,label:s,queries:o}=e,{dataSourceId:l,start:c,stop:h,labels:u}=r,[g,S]=b.useState(""),{response:w,loading:m}=GN(l,s,new Date(c),new Date(h)),C=z=>{const V=JSON.stringify(z);return JSON.parse(V)},[k,T]=b.useState([]);b.useEffect(()=>{var K;const z=(K=r==null?void 0:r.labels)==null?void 0:K.find(ie=>ie.name===ie),V=z==null?void 0:z.values;typeof V<"u"&&T(V)},[o]);const x=b.useMemo(()=>{var V,K;if(((K=(V=e==null?void 0:e.data)==null?void 0:V.labels)==null?void 0:K.length)<1)return[];const z=e.data.labels.find(ie=>ie.name===s);return z?z==null?void 0:z.values:[]},[e.data.labels]),N=b.useMemo(()=>{var z,V,K,ie,ue;if(((V=(z=w==null?void 0:w.data)==null?void 0:z.data)==null?void 0:V.length)>0){const te=(K=r==null?void 0:r.labels)==null?void 0:K.find(Fe=>Fe.name===s),he=te==null?void 0:te.values,Y=new Map;return he==null||he.forEach(Fe=>{Y.set(Fe.name,{...Fe,label:s})}),(ue=(ie=w==null?void 0:w.data)==null?void 0:ie.data)==null?void 0:ue.map(Fe=>{var $e,me;return{label:s,name:Fe,selected:(($e=Y.get(Fe))==null?void 0:$e.selected)||!1,inverted:!1,type:"value",id:((me=Y.get(Fe))==null?void 0:me.id)||Gn()}})}else return[]},[w]),[I,O]=b.useState(N),[D,p]=b.useState(I);b.useEffect(()=>{O(N)},[N,O]),b.useEffect(()=>{p(I)},[I,p]),b.useEffect(()=>{if(N&&x){let z=C(N),V=[];z.forEach(K=>{if(x.some(ie=>ie.name===K.name)){const ie=x.find(ue=>ue.name===K.name);V.push({...ie})}else V.push(K)}),O(V)}},[x,N,O]);const E=z=>{const V=Of(r.expr||"",z||s,null,"=","value"),K=[...o];K.forEach(ie=>{ie.id===e.data.id&&(ie.expr=V)}),t(Zu(n,K))},_=(z,V)=>{if(V.some(K=>K.name===z.name))return V.filter(ie=>ie.name!==z.name);if(!V.some(K=>K.name===z.name))return[...V,{...z}]},A=z=>{let V=[];k.length>0&&(V=_(z,k),z.type==="metrics"&&O(te=>{const he=te.some(Fe=>Fe.id===z.id);let Y=[...te];if(he)return Y==null?void 0:Y.map(Fe=>Fe.id===z.id?{...Fe,selected:!1}:{...Fe,selected:!0})})),V=[...V,{...z}];let K=[];if((u==null?void 0:u.length)<1)K=[{name:s,selected:i.includes(s)&&V.length>0,values:[...V]}];else if(u.some(te=>te.name===s))for(let te of u)te.name===s&&(te={name:s,selected:i.includes(s)&&V.length>0,values:[...V]}),K.push(te);else K=[...u,{name:s,selected:i.includes(s)&&V.length>0,values:[...V]}];const ie=i==null?void 0:i.map(te=>K.some(he=>he.name===te)?K.find(he=>he.name===te):{name:te,selected:!0,values:[]}),ue=[...o];ue.forEach(te=>{te.id===e.data.id&&(te.labels=ie)}),t(Zu(n,ue)),T(V)},$=b.useCallback(z=>{const V=z.target.value;S(K=>V),p(z!==""?()=>I.filter(K=>K.name.toLowerCase().includes(V.toLowerCase())):()=>I)},[g]);return F("div",{className:"values-column",children:[f("div",{className:"values-column-title",children:f(eO,{resp:N,label:s,onClear:E,filterState:g,onFilterChange:$})}),F("div",{className:"valuelist-content column",children:[m&&f(KN,{children:f(JN,{})}),(I==null?void 0:I.length)>0&&(D==null?void 0:D.map((z,V)=>Di(ZN,{...e,key:V,value:z,actPanel:o,onValueClick:A})))]})]})},eO=({resp:e,label:t,onClear:n,filterState:r,onFilterChange:i})=>F(mt,{children:[F("span",{children:[f("span",{className:"key",children:t})," | ",e==null?void 0:e.length]}),f("span",{children:f(YN,{placeholder:"Search For Values...",value:r,onChange:i})}),f("span",{className:"close-column",onClick:s=>n(t),children:"clear"})]});function tO(e,t){return e==="left"?cn(t):Yt(t)}function nO(e){const{data:t,name:n}=e,{dataSourceType:r}=t,i=zt(),s=Re(g=>g[n]),[o,l]=b.useState(e.labelsSelected),c=b.useMemo(()=>r==="metrics"?o.filter(g=>g.name!=="__name__"):o,[o,r]),h=b.useMemo(()=>r==="metrics"?o.filter(g=>g.name==="__name__"):null,[o,r]),u=()=>{const g=tw(t.labels,t.expr),S=[...s];S.forEach(w=>{w.id===e.data.id&&(w.expr=g,w.labels=t.labels)}),i(tO(n,S))};return b.useEffect(()=>{l(e.labelsSelected)},[e.labelsSelected,l]),F("div",{className:"values-container",children:[F("div",{className:"values-container-column",children:[h!==null&&o.length>0&&f(ed,{...e,label:"__name__",type:"metrics"}),o&&(c==null?void 0:c.map((g,S)=>Di(ed,{...e,label:g,key:S,type:"logs"})))]}),f("div",{style:{margin:"3px",marginBottom:"6px"},children:f(Xr,{onClick:u,isMobile:!1,alterText:"Use Query",loading:!1})})]})}function rO(e){return e.getTime()+"000000"}function iO(e){return Math.round(e.getTime()/1e3)}const td=(e,t,n,r)=>t==="metrics"?`${e}/api/v1/labels`:`${e}/loki/api/v1/label?start=${n}&end=${r}`,nd=(e,t)=>({metrics:iO(e),logs:rO(e)})[t];function sO(e,t="",n,r){const i=zt(),s=n||new Date(Date.now()+3e4),o=r||new Date(Date.now()),l=Re(N=>N.dataSources),c=b.useMemo(()=>{const N=l.find(I=>I.id===e);return t!==""&&(N.url=t),N},[e,l]),[h,u]=b.useState(c.type||"");b.useEffect(()=>{u(c.type)},[c,u]);let g,S;g=nd(new Date(s),h),S=nd(new Date(o),h);const[w,m]=b.useState(td(c.url,h,g,S));b.useEffect(()=>{m(td(c.url,h,g,S))},[m,h,c]);const[C,k]=b.useState([]),[T,x]=b.useState(!1);return b.useEffect(()=>{var N,I,O;if(c.type!=="flux"&&c.url&&c.url!==""){const D=Ps(c),p={method:"GET"},E=(N=c==null?void 0:c.auth)==null?void 0:N.basicAuth.value;let _={},A={};if(E){const z=(O=(I=c==null?void 0:c.auth)==null?void 0:I.fields)==null?void 0:O.basicAuth;for(let V of z)V.name==="user"&&(A.username=V.value),V.name==="password"&&(A.password=V.value);_.auth=A}_.options=p,_.headers={...D,"Content-Type":"application/json"},(async()=>{x(!0);try{const z=await Sn.get(w,_).then(V=>V).catch(V=>{let K="";V.response?K="Error "+V.response.status+"at Labels ":V.request?K=V.request:K=V.message,console.log("error requesting labels"),console.log(V),i(jn({type:tr.error,message:K}))});k(z||[])}catch(z){console.log("Error fetching labels"),console.log(z)}x(!1)})()}},[w,c]),{response:C,loading:T}}const aO=ve("div",{target:"e1ioomy10"})("background:",({theme:e})=>e.shadow,";.valuesList{transition:0.02s all;display:flex;flex-wrap:wrap;flex:1;flex-direction:column;font-size:12px;border-radius:4px;transition:0.02s all;.valuelist-title{display:flex;flex-direction:column;flex:1;justify-content:space-between;font-size:1em;flex:1;margin:5px;}.valuelist-content{display:flex;font-size:14px;align-items:center;flex-wrap:wrap;max-height:500px;overflow:auto;.metric-label{background:gray;}}.valuelist-filter{display:flex;flex:1;flex-direction:column;.valuelist-filter-title{font-size:0.75em;}input{color:white;background:$black-quoise;padding:6px 3px;border-radius:4px;flex:1;margin:0px 3px;outline:none;border:none;}}&::-webkit-scrollbar{width:10px;}&::-webkit-scrollbar-corner{background:transparent;}&::-webkit-scrollbar-thumb{border-radius:10px;background:$grey-light;}}.valuelist-content{small{color:",({theme:e})=>e.contrast,";background:",({theme:e})=>e.neutral,";border:1px solid ",({theme:e})=>e.accentNeutral,";margin:2px;padding:2px 7px;border-radius:3px;line-height:1.5;font-size:12px;cursor:pointer;align-items:center;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;max-width:40ch;transition:.5s all;&:hover{background:",({theme:e})=>e.lightNeutral,";}&.metric{color:",({theme:e})=>e.maxContrast,";background:",({theme:e})=>e.primary,";}}}.values-container{.values-container-column{display:flex;flex-wrap:wrap;max-width:100%;.values-column{margin:5px;border-radius:3px;height:fit-content;min-width:278px;max-width:278px;flex:1;background:",({theme:e})=>e.lightNeutral,";.column{border:1px solid ",({theme:e})=>e.accentNeutral,";background:",({theme:e})=>e.shadow,";border-top:none;max-height:350px;&::-webkit-scrollbar{width:10px;color:#58585898;background:#ffffff1f;}&::-webkit-scrollbar-corner{background:transparent;}&::-webkit-scrollbar-thumb{border-radius:10px;background:$grey-light;}}.values-column-title{padding:4px;font-size:1em;border-radius:4px 4px 0px 0px;display:flex;flex:1;transition:0.02s all;justify-content:space-between;color:",({theme:e})=>e.contrast,";background:",({theme:e})=>e.shadow,";border:1px solid ",({theme:e})=>e.accentNeutral,";.close-column{align-self:flex-end;justify-self:end;cursor:pointer;padding:2px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:10px;&:hover{background:$dark-quoise-hover;color:black;}}}}}}"),oO=(e,t)=>e==="left"?cn(t):Yt(t);function lO(e){const{data:t,name:n,queries:r}=e,i=zt(),{dataSourceId:s,labels:o,start:l,stop:c,id:h}=t,{updateLabelSelected:u}=k_,[g,S]=b.useState([]),[w,m]=b.useState([]),C=qe(),{response:k,loading:T}=sO(s,"",l,c),x=b.useMemo(()=>(o==null?void 0:o.length)>0?o.map(({name:_,selected:A})=>({name:_,selected:A})):[],[o]);b.useEffect(()=>{var _,A;(_=k==null?void 0:k.data)!=null&&_.data&&S((A=k==null?void 0:k.data)==null?void 0:A.data)},[k,S]);const N=b.useMemo(()=>{if((g==null?void 0:g.length)>0)return g==null?void 0:g.map(_=>({name:_,selected:!1}))},[g]);b.useEffect(()=>{N&&O(N)},[N]);const[I,O]=b.useState(N);b.useEffect(()=>{if(N&&x){const A=JSON.parse(JSON.stringify(N)).map(z=>{const V=x.find(K=>K.name===z.name);return V?{...V}:z}),$=A.filter(z=>z.selected).map(z=>z.name);m($),O(A)}},[x,N,O]);const D=(_,A)=>{let $=[];for(let z of _)z.name===A?$.push({...z,selected:!z.selected}):$.push(z);return $},p=(_,A,$)=>{const z=[...A],V=A==null?void 0:A.filter(K=>{const ie=_==null?void 0:_.find(ue=>ue.name===K.name);return ie==null?void 0:ie.selected});if((z==null?void 0:z.length)>0&&(A!=null&&A.some(K=>K.name===$))){const K=[...r],ie=K==null?void 0:K.map(ue=>ue.id===h?{...ue,labels:V}:ue);i(oO(n,ie))}},E=b.useCallback(_=>{let A=D(I,_),$=u(w,_);p(A,o,_),O(A),m($)},[I,w,o]);return t?f(vt,{theme:C,children:f(aO,{children:F("div",{className:"valuesList",children:[f("div",{className:"valuelist-title",children:!T&&f(UN,{...e,labels:I,onLabelSelected:E})}),f(nO,{...e,labelsSelected:w})]})})}):null}const cO=e=>{const t=qe(),{browserOpen:n}=e.data,[r,i]=b.useState(n);return b.useEffect(()=>{i(n)},[n]),r&&f(vt,{theme:t,children:f(lO,{...e})})},rd=e=>{const{data:{dataSourceType:t,isShowStats:n,isBuilder:r},launchQuery:i}=e,s=Re(h=>h.isEmbed),o=(h,u,g)=>!h&&u==="logs"&&!g&&f(cO,{...e}),l=(h,u)=>h&&u&&f(d_,{...e}),c=b.useMemo(()=>!r,[r]);return F("div",{style:{margin:"3px 0px"},children:[f(BN,{...e,launchQuery:i}),o(s,t,r),l(n,c)]})};var Nl={},uO=Ct;Object.defineProperty(Nl,"__esModule",{value:!0});var ip=Nl.default=void 0,dO=uO(Tt()),fO=Be,hO=(0,dO.default)((0,fO.jsx)("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Sync");ip=Nl.default=hO;var Ol={},pO=Ct;Object.defineProperty(Ol,"__esModule",{value:!0});var sp=Ol.default=void 0,gO=pO(Tt()),mO=Be,vO=(0,gO.default)((0,mO.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRightOutlined");sp=Ol.default=vO;const bO=ve("div",{target:"eovd24j5"})("background:",({theme:e})=>`${e.background}`,";color:",({theme:e})=>`${e.contrast}`,";display:flex;flex-direction:column;border-radius:3px;margin-bottom:3px;padding:5px;.query-title{display:flex;align-items:center;}.query-tools-cont{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;}.query-tools{display:flex;align-items:center;flex-wrap:wrap;justify-content:space-between;flex:1;gap:2px;margin-top:4px;}.query-id{font-size:13px;font-weight:bold;margin-left:5px;}.query-title-tabs{display:flex;align-items:center;}"),yO=ve("button",{target:"eovd24j4"})({name:"fpjtql",styles:"background:none;border:none;padding:0px 2px;cursor:pointer"}),xO=ve(Gr,{target:"eovd24j3"})("font-size:13px;color:",({theme:e})=>e.contrast,";"),SO=ve(sp,{target:"eovd24j2"})("font-size:13px;color:",({theme:e})=>e.contrast,";"),id=e=>oe("margin-left:20px;font-family:monospace;font-size:12px;text-overflow:ellipsis;overflow:hidden;max-width:100px;color:",e.contrast,";background:transparent;border:none;outline:none;","");function wO(e){const[t,n]=b.useState(!1),[r,i]=b.useState(e.idRef),s=qe();function o(h){h.preventDefault();const u=h.target.value;i(u)}function l(h){e.onIdRefUpdate(r),n(!1)}function c(h){h.key==="Enter"&&(e.onIdRefUpdate(r),n(!1))}return t===!0?f(mt,{children:f(Lt,{title:r,children:f("input",{className:Pe(id(s)),value:nt(r),placeholder:r,onChange:o,onKeyDown:c,onBlur:l})})}):F(mt,{children:[" ",f(Lt,{title:r,children:f("p",{className:Pe(id(s)),onClick:h=>n(!0),children:r})})]})}const TO={height:"18px",width:"18px",marginRight:"3px"},CO={display:"flex",alignItems:"center"},ap={display:"flex",alignItems:"flex-end"},op={height:"14px",width:"14px",marginRight:"3px"};function kO(e){const{defaultValue:t,options:n}=e,r=b.useMemo(()=>{const i=n==null?void 0:n.find(s=>(s==null?void 0:s.value)===t);return{icon:i==null?void 0:i.icon,label:i==null?void 0:i.label}},[t,n]);return F("div",{style:ap,children:[f(yo,{icon:r.icon,style:op}),f("div",{children:r.label})]})}const EO=e=>{const{Option:t}=Fd,{data:{label:n,icon:r}}=e;return f(t,{...e,children:F("div",{style:CO,children:[f(yo,{icon:r,style:TO}),f("span",{style:{fontSize:"14px"},children:n})]})})},_O=e=>{const{data:{icon:t,label:n}}=e;return F("div",{style:ap,children:[f(yo,{icon:t,style:op}),f("div",{children:n})]})},IO=b.forwardRef((e,t)=>{const{options:n,onSelectChange:r}=e,i=qe();return f(bo,{styles:wl(i,100),placeholder:f(kO,{...e}),options:n,ref:t,components:{Option:EO,SingleValue:_O},theme:s=>Sl(s,i),onChange:r})}),RO=e=>{const{value:t,onChange:n,opts:r,extValue:i}=e,s=b.useRef(null);b.useEffect(()=>{(t==null?void 0:t.value)!==i&&i!==""&&(s.current.value=i)},[]),b.useEffect(()=>{(t==null?void 0:t.value)!==i&&i!==""&&(s!=null&&s.current)&&s.current.setValue(i)},[i]);const o=c=>{n({target:{value:c==null?void 0:c.value}})},l=b.useMemo(()=>r.map(c=>({value:c==null?void 0:c.value,label:c==null?void 0:c.name,icon:c==null?void 0:c.icon})),[r]);return r?f(IO,{ref:s,defaultValue:i,options:l,onSelectChange:o}):null},MO=ve("button",{target:"ecaoith1"})({name:"1cyd9nz",styles:"padding:3px 12px;font-size:12px;line-height:20px;cursor:pointer;user-select:none;border:none;border-radius:3px;font-weight:500;white-space:nowrap;display:flex;align-items:center"}),NO=ve(MO,{target:"ecaoith0"})("background:",e=>e.theme.neutral,";border:1px solid ",e=>e.theme.accentNeutral,";color:",({theme:e})=>e.contrast,";cursor:pointer;text-overflow:ellipsis;transition:0.2s all;height:26px;margin:0px 6px;span{margin-left:4px;color:",e=>e.theme.contrast,";}&:hover{background:",e=>e.theme.lightNeutral,";}");function OO([e,t],n,r,i){let s=[...r],o=s==null?void 0:s.map(l=>({...l,open:!1}));n==="left"&&t&&i(cn([...o])),n==="right"&&e&&i(Yt([...o]))}function LO([e,t],n){let r=[...e],i=[...t];const s=c=>c==null?void 0:c.map(h=>({...h,open:!0})),o=s(r),l=s(i);n(cn(o)),n(Yt(l))}function sd({type:e,side:t="left",onDeleteQuery:n,isSplit:r}){const i=Re(w=>w[t]),s=Re(w=>w.left),o=Re(w=>w.right),l=Re(w=>w[t]),c=zt(),h=Re(w=>w.isSplit),u=w=>{if(w.preventDefault(),w.stopPropagation(),!r&&!h)LO([s,o],c),c(Qr(!0));else{const m=s[0].open,C=o[0].open;OO([m,C],t,i,c),c(Qr(!1))}};return f(mt,{children:e==="split"?f(Lt,{title:r?"Close Split View":"Split View",children:f(NO,{onClick:u,children:r?"Close":"Split"})}):f(ks,{style:{fontSize:"15px",cursor:"pointer",padding:"3px"},onClick:w=>{(l==null?void 0:l.length)>1&&n!==void 0?n():h&&u(w)}})})}const DO=e=>oe("background:",e.WidgetBg,";.MuiTabs-root{height:20px!important;min-height:20px;}.MuiButtonBase-root{min-height:0;}",""),ad={fontSize:"15px",cursor:"pointer",padding:"3px",marginLeft:"10px"};function AO(e){var ke,Oe,re,Ce,Ee;const t=zt(),{onTabChange:n,tabsValue:r,isTabs:i,activeTabs:s}=e,{children:o}=e,{data:{expr:l,id:c,start:h,stop:u,label:g,pickerOpen:S,idRef:w},isQueryOpen:m}=e,C=qe(),k=Re(be=>be.left),T=Re(be=>be.right),x=Re(be=>be[e.name]),N=Re(be=>be.isEmbed),I=Re(be=>be.isCardinality),O=Re(be=>be.isSplit),D=Re(be=>be.dataSources),p=wn.useMediaQuery({query:"(max-width: 1013px)"}),[E,_]=b.useState(e.data.dataSourceId),A=b.useMemo(()=>D.length>0?D.map(be=>({value:be.id,name:be.name,type:be.type,icon:be.icon})):null,[D]);b.useEffect(()=>{_(e.data.dataSourceId)},[]),b.useEffect(()=>{var be;(be=e==null?void 0:e.data)!=null&&be.dataSourceId&&_(e.data.dataSourceId)},[e.data.dataSourceId]);const[$,z]=b.useState({value:((ke=e==null?void 0:e.data)==null?void 0:ke.dataSourceId)||"32D16h5uYBqUUzhD",name:((Oe=D==null?void 0:D.find(be=>{var pe;return(be==null?void 0:be.id)===((pe=e==null?void 0:e.data)==null?void 0:pe.dataSourceId)}))==null?void 0:Oe.name)||((re=e==null?void 0:e.data)==null?void 0:re.dataSourceId),type:(Ce=e==null?void 0:e.data)==null?void 0:Ce.dataSourceType,icon:((Ee=D==null?void 0:D.find(be=>{var pe;return be.id===((pe=e==null?void 0:e.data)==null?void 0:pe.dataSourceId)}))==null?void 0:Ee.icon)||(e==null?void 0:e.data.dataSourceId)}),V=(be,pe)=>be==="left"?cn(pe):Yt(pe);function K(be){const pe=[...x];pe.forEach(Te=>{Te.id===e.data.id&&(Te.idRef=be)}),t(V(e.name,pe))}const ie=()=>{try{let be="";return be=localStorage.getItem("dsSelected"),be?JSON.parse(be):[]}catch(be){console.log(be)}},ue=be=>{var Xe,it;const pe=be.target.value,Te=D.find(rt=>(rt==null?void 0:rt.id)===pe),Je=JSON.parse(JSON.stringify(x)),et=A.find(rt=>rt.value===pe),De=ie();let Ye=[];(De==null?void 0:De.length)>0?(De==null?void 0:De.find(Ke=>{var Et;return(Ke==null?void 0:Ke.queryId)===((Et=e==null?void 0:e.data)==null?void 0:Et.id)}))||!1?Ye=De.map(Ke=>{var Et;return Ke.queryId===((Et=e==null?void 0:e.data)==null?void 0:Et.id)?{queryId:Ke==null?void 0:Ke.queryId,dataSourceId:Te==null?void 0:Te.id}:Ke}):Ye=[...De,{queryId:(Xe=e==null?void 0:e.data)==null?void 0:Xe.id,dataSourceId:Te==null?void 0:Te.id}]:Ye=[...De,{queryId:(it=e==null?void 0:e.data)==null?void 0:it.id,dataSourceId:Te==null?void 0:Te.id}],localStorage.setItem("dsSelected",JSON.stringify(Ye)),z(()=>et),Je.forEach(rt=>{var Ke;(rt==null?void 0:rt.id)===((Ke=e==null?void 0:e.data)==null?void 0:Ke.id)&&(rt.dataSourceId=Te==null?void 0:Te.id,rt.dataSourceType=Te==null?void 0:Te.type,rt.dataSourceURL=Te==null?void 0:Te.url)}),t(V(e.name,Je))},te=be=>{const pe=[...x];pe.forEach(Te=>{Te.id===e.data.id&&(Te.stop=be)}),t(V(e.name,pe))},he=be=>{const pe=[...x];pe.forEach(Te=>{Te.id===e.data.id&&(Te.start=be)}),t(V(e.name,pe))},Y=be=>{const pe=[...x];pe.forEach(Te=>{Te.id===e.data.id&&(Te.label=be)}),t(V(e.name,pe))},Fe=be=>{const pe=[...x];pe.forEach(Te=>{Te.id===e.data.id&&(Te.pickerOpen=be)}),t(V(e.name,pe))},$e=(be,pe)=>{be.forEach(Te=>{Te.start=h,Te.stop=u,Te.label=g}),t(V(pe,be))},me=()=>{const be=[...k],pe=[...T];$e(be,"left"),$e(pe,"right")};return F(bO,{children:[F("div",{className:"query-tools-cont",children:[F("div",{className:"query-title-tabs",children:[f(PO,{isEmbed:N,idRef:w,expr:l,onIdRefUpdate:K,isQueryOpen:m}),i&&f("div",{className:Pe(DO(C)),children:F(Hg,{value:r,onChange:n,children:[f(dc,{label:"Search"}),(s==null?void 0:s.length)>0&&(s==null?void 0:s.map((be,pe)=>f(dc,{label:be.name},pe)))]})})]}),!N&&!I&&F("div",{className:"query-tools",children:[f("div",{style:{display:"flex",alignItems:"center"}}),F("div",{style:{display:"flex",alignItems:"center",justifySelf:"flex-end"},children:[f(Li,{section:"Query Toolbar",localProps:e}),!p&&f(sd,{type:"split",isSplit:O,side:e.name}),f(F0,{id:c,onStopChange:te,onStartChange:he,onLabelChange:Y,onPickerOpen:Fe,startTs:h,stopTs:u,label:g,pickerOpen:S}),f(Lt,{title:"Sync Time Ranges",children:f(ip,{style:ad,onClick:me})}),f(RO,{extValue:E,value:$,onChange:ue,opts:A,label:""}),f(Ai,{style:ad,onClick:e.onAddQuery}),f(sd,{type:"remove",onDeleteQuery:e.onDeleteQuery,side:e.name})]})]})]}),o]})}const PO=e=>{const{isEmbed:t,expr:n,isQueryOpen:r}=e;return F("div",{className:"query-title",children:[!t&&f(yO,{onClick:()=>{r[1](!r[0])},children:r[0]?f(xO,{}):f(SO,{})}),f(wO,{...e}),t&&f("p",{style:{marginLeft:"20px",fontFamily:"monospace"},children:n})]})},$O=e=>{const{section:t,localProps:n,name:r}=e;return f("div",{className:"renderer-content",children:((s,o)=>f(o,{localProps:n,section:t,name:s}))(r,bm.getPlugin(t,r).Component)})},od=()=>{let e=[];try{return e=[...JSON.parse(localStorage.getItem("queryData")||"[]")||[]],e}catch{return[]}};function ld(e,t){return(e==null?void 0:e.length)>1?e==null?void 0:e.filter(n=>(n==null?void 0:n.id)!==t):e}const zO=e=>{localStorage.setItem("queryData",JSON.stringify(e))},VO=(e,t)=>e.queryId!==t,FO=(e,t)=>e.filter(n=>VO(n,t)),jO=(e,t,n,r)=>{const i={...r,id:Gn(),idRef:n,labels:[],expr:"",lastIdx:e+1,cp:0};return[...t,i]},HO=(e,t)=>e>t.length-1?`${t[0]}${e}`:t[e],BO=e=>e[e.length-1].lastIdx,qO=(e,t,n)=>{const r=BO(e),i=HO(r,n);return jO(r,e,i,t)},cd=(e,t)=>e==="left"?cn(t):Yt(t),WO=(e,t)=>e==="left"?Er(t):kr(t),UO=e=>b.useMemo(()=>Array.from(Array(26)).map((r,i)=>i+65).map(r=>{var i;return((i=e==null?void 0:e.slice(0,1))==null?void 0:i.toUpperCase())+"-"+String.fromCharCode(r)}),[]);function ud(e){const{children:t,value:n,index:r,...i}=e;return f("div",{role:"tabpanel",hidden:n!==r,id:`simple-tabpanel-${r}`,"aria-labelledby":`simple-tab-${r}`,...i,children:n===r&&f(mt,{children:t})})}const QO=e=>{const{name:t,data:n}=e,{id:r}=n,[i,s]=b.useState(""),o=zt(),l=Re(I=>I[`${t}DataView`]),c=Re(I=>I[t]),h=b.useState(!0),u=UO(t),g=qe(),[S,w]=b.useState(0),m=()=>{const I=qO(c,n,u);o(cd(t,I))},C=()=>{const I=od();if((I==null?void 0:I.length)>0){const O=FO(I,r);zO(O)}},k=()=>{const I=ld(c,r),O=ld(l,r),D=od();(D==null?void 0:D.length)>0&&C(),I&&o(cd(t,I)),O&&o(WO(t,O)),t==="right"&&I.length===0&&o(km(!1))},T=(I,O)=>{w(()=>O)},{activeTabs:x,isActiveTabs:N}=ym("Query Item");return f(vt,{theme:g,children:f(AO,{...e,isQueryOpen:h,onDeleteQuery:k,onAddQuery:m,onTabChange:T,tabsValue:S,isTabs:N,activeTabs:x,children:N?F("div",{children:[f(ud,{value:S,index:0,children:h[0]&&f(rd,{...e,launchQuery:i})}),x==null?void 0:x.map((I,O)=>f(ud,{value:S,index:O+1,children:f($O,{name:I.name,section:"Query Item",localProps:{props:e,setLaunchQuery:s}})},O))]}):f(mt,{children:h[0]&&f(rd,{...e,launchQuery:i})})})})},GO=e=>oe("background:",e.background,";border:1px solid ",e.accentNeutral,";border-radius:3px;margin:6px;",""),KO=e=>{const{queries:t}=e,n=qe();return t&&Array.isArray(t)&&(t==null?void 0:t.length)>0?F("div",{className:Pe(GO(n)),children:[t==null?void 0:t.map((r,i)=>Di(QO,{...e,data:r,key:i})),f(Li,{section:"Queries",localProps:{queries:t,theme:n}})]}):null},JO=e=>t=>{t({type:"SET_LEFT_PANEL",left:e})},YO=e=>t=>{t({type:"SET_RIGHT_PANEL",right:e})},XO=(e,t)=>e==="left"?JO(t):YO(t),ZO=ve("div",{target:"eh1ess00"})({name:"w1eku5",styles:"display:flex;flex-direction:column;flex:1;width:100%;min-width:50%"}),ws=e=>{var h;const{name:t}=e,n=zt(),r=Re(u=>u.isSplit),i=Re(u=>u[t]),{hash:s}=ei(),o=b.useRef(null),[l,c]=b.useState(0);return b.useEffect(()=>{const g=new URLSearchParams(s.replace(/#/,"")).get(t);let S=[];g&&(S=JSON.parse(decodeURIComponent(g))),(S==null?void 0:S.length)>0&&n(XO(t,S));const w=()=>{c(o.current.clientWidth)};return window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w)}},[]),b.useEffect(()=>{var u;typeof((u=o==null?void 0:o.current)==null?void 0:u.clientWidth)=="number"&&c(o.current.clientWidth)},[(h=o==null?void 0:o.current)==null?void 0:h.clientWidth]),f(mt,{children:F(ZO,{isSplit:r,ref:o,children:[f(KO,{...e,width:l,queries:i}),f(Li,{section:"Panel",localProps:{props:e,panel:i,width:l}}),f(i_,{...e,splitted:r})]})})},eL=ve(Oi,{target:"exls76b4"})("background:",({theme:e})=>e.deep,";"),dd=ve(Dd,{target:"exls76b3"})("color:",({theme:e})=>e.contrast,";background:",({theme:e})=>e.neutral,";border:1px solid ",({theme:e})=>e.accentNeutral,";cursor:pointer;font-size:13px;background-color:transparent;padding:6px 10px;border:none;border-radius:3px 3px 0px 0px;display:flex;justify-content:center;align-items:center;border-bottom:1px solid transparent;transition:0.2s all;&:hover{background-color:",({theme:e})=>e.lightNeutral,";}&:focus{color:",({theme:e})=>e.contrast,";background:",({theme:e})=>e.neutral,";border-radius:3px 3px 0px 0px;outline-offset:2px;}&.",Od.selected,"{border-bottom:1px solid ",({theme:e})=>e.primary,";}&.",Ld.disabled,"{opacity:0.5;cursor:not-allowed;}@media screen and (max-width: 360px){span{display:none;}padding:5px 20px;}"),tL=ve(Ad,{target:"exls76b0"})("min-width:320px;background:",({theme:e})=>e.shadow,";border-bottom:4px solid ",({theme:e})=>e.bgNeutral,";display:flex;align-items:center;align-content:space-between;");function nL(){return F(eL,{defaultValue:0,children:[F(tL,{children:[f(dd,{children:f("span",{children:"Left"})}),f(dd,{children:f("span",{children:"Right"})})]}),f(ja,{value:0,children:f(ws,{name:"left"})}),f(ja,{value:1,children:f(ws,{name:"right"})})]})}const lp=ve("div",{target:"e1vatdtz0"})("position:absolute;display:flex;flex-direction:column;height:inherit;width:100%;flex:1;background-color:",({theme:e})=>e.background,"!important;&::-webkit-scrollbar-corner{background:transparent;}&::-webkit-scrollbar-thumb{border-radius:5px;background:",({theme:e})=>e.alphaPlusNeutral,"!important;}.panels-container{display:flex;background:",({theme:e})=>e.shadow,";height:calc(100vh - 45px);}");function rL({theme:e}){return F(vt,{theme:e,children:[f(lp,{children:f(nL,{})}),f(vf,{})]})}function iL({theme:e,isEmbed:t,isSplit:n,settingsDialogOpen:r}){const[i,s]=b.useState(0),[o,l]=b.useState(0),[c,h]=b.useState(0),[u,g]=b.useState(0),[S,w]=b.useState(0),[m,C]=b.useState(0),[k,T]=b.useState(!1),[x,N]=b.useState(!1),I=b.useRef(null);b.useEffect(()=>{const E=I.current.clientWidth;s(I.current.clientWidth),l(E/(n?2:1)),n&&h(E/2);const _=n?E/4>370?E/4:370:E;C(_)},[l,h,s,C,m,n]),b.useEffect(()=>{const E=I.current.clientWidth;g(o/E),n&&w(c/E)},[o,c,n]),b.useEffect(()=>{const E=()=>{const _=I.current.clientWidth;s(_),l(_*u),n&&h(_*S)};return window.addEventListener("resize",E),()=>{window.removeEventListener("resize",E)}},[i,o,c,u,S,n]);const O=Re(E=>E.left),D=Re(E=>E.right);return b.useEffect(()=>{T(O[0].open),N(D[0].open)},[O[0].open,D[0].open]),F(vt,{theme:e,children:[f(lp,{children:((E,_)=>F("div",{className:"panels-container",ref:I,children:[E===!0&&f(ws,{name:"left"}),_===!0&&f(ws,{name:"right"})]}))(k,x)}),f(Bg,{open:r}),f(vf,{})]})}function sL(e){let t="",n=!1;const r=Re(g=>g.currentUser),i=b.useMemo(()=>e.has("cookie")||!1,[e]),s=b.useMemo(()=>i?en.sanitize(e.get("cookie")):"",[e,i]),[o,l]=cc([s]),[c,h]=cc(["user-cookie"]);let u=r;if(c!=null&&c["user-cookie"])try{u=atob(c["user-cookie"])}catch{console.log("could not parse user cookie")}return o[s]&&(t=o[s],n=!0),{cookieAuth:t,cookiesAvailable:n,cookieUser:u}}function aL(e){const t=b.useMemo(()=>e.has("url"),[e]);return{url:b.useMemo(()=>t?en.sanitize(e.get("url")):"",[e,t]),urlAvailable:t}}const oL=e=>t=>{t({type:"SHOW_DATA_SOURCE_SETTING",showDataSourceSetting:e})};function lL(e,t,n,r,i,s){let o="",l=!1,c=!1,h={};if(r&&(c=!0),i){let w="";const{url:m}=n;if(n!=null&&n.auth&&(w=n.auth),m&&m!=="")try{r=!0,c=!0,o=m}catch(T){console.log(T)}let[C,k]=w.split(":");C!==""&&k!==""&&(h={user:C,password:k},l=!0)}!r&&l&&(o=window.location.protocol+"//"+window.location.host,c=!0),o===""&&(c=!0,o=decodeURIComponent(t));const u=[...s],g=JSON.parse(JSON.stringify(u)),S=g==null?void 0:g.map(w=>({...w,url:c?o:w.url,auth:{...w.auth,basicAuth:{...w.auth.basicAuth,value:l},fields:{...w.auth.fields,basicAuth:l?[...w.auth.fields.basicAuth].map(m=>m.name==="user"?{...m,value:h.user}:m.name==="password"?{...m,value:h.password}:m):[...w.auth.fields.basicAuth]}}}));n&&h&&e(oL(!1)),localStorage.setItem("dataSources",JSON.stringify(S)),e(us(S))}const cL=e=>{let t={},n=(e==null?void 0:e.cors)||!1;const i={...Tl(e),"Content-Type":"application/json",Accept:"application/json"},s={method:"GET",headers:i};return n===!0&&(s.mode="cors"),t.options=s,t.headers=i,t.validateStatus=o=>o>=200&&o<400||o===404||o===500,t},uL=async(e,t,n)=>await Sn.get(`${e}/ready`,t).then(r=>{var i,s;if(r&&(r!=null&&r.status)&&(r!=null&&r.headers))return n={status:r.status,contentType:(i=r==null?void 0:r.headers)==null?void 0:i["content-type"],contentLength:(s=r==null?void 0:r.headers)==null?void 0:s["content-length"]},n}).catch(r=>r).finally(()=>n);async function fd(e,t,n,r){let i={},s=cL(t),o=!1;const{setResponseType:l}=qg.getState();let c={...s};(n==null?void 0:n.username)!==""&&r&&(c.auth=n);try{i=await uL(e,c,i)}catch{o=!1}finally{i&&(i==null?void 0:i.status)===200&&((i==null?void 0:i.contentLength)==="0"?(l(fc.GO),gc().togglePluginVisibility("Query Item","Cardinal View",!0),o=!0):(l(fc.NODE),gc().togglePluginVisibility("Query Item","Cardinal View",!1),o=!0))}return o}async function dL(e,t,n){var g,S,w,m;const r=window.location.origin,i=e.find(C=>C.type==="logs"),s=(S=(g=i==null?void 0:i.auth)==null?void 0:g.basicAuth)==null?void 0:S.value;let o={username:"",password:""},l=(m=(w=i==null?void 0:i.auth)==null?void 0:w.fields)==null?void 0:m.basicAuth;const c=(l==null?void 0:l.length)>0;if(s&&c)for(let C of l)(C==null?void 0:C.name)==="user"&&(o.username=(C==null?void 0:C.value)||""),(C==null?void 0:C.name)==="password"&&(o.password=(C==null?void 0:C.value)||"");let h=!1,u=!1;if((i==null?void 0:i.url)!==""&&(h=await fd(i.url,i,o,s)),!h)if(u=await fd(r,i),u&&!h){const C=[...e],k=JSON.parse(JSON.stringify(C)),T=k==null?void 0:k.map(x=>({...x,url:r}));localStorage.setItem("dataSources",JSON.stringify(T)),t(us(T))}else!h&&!u&&n("datasources")}const fL=e=>oe("background:",e.shadow,";","");function NL(){const e=gg(),t=Re(x=>x.dataSources),{hash:n}=ei(),r=b.useMemo(()=>new URLSearchParams(n.replace(/#/,"")),[n]);Xv();const{cookiesAvailable:i,cookieAuth:s,cookieUser:o}=sL(r),{urlAvailable:l,url:c}=aL(r);b.useEffect(()=>{i&&!l||!i&&l||i&&s&&l&&l!==""?lL(g,c,s,l,i,t):dL(t,g,e)},[]),b.useEffect(()=>{if(o&&typeof o=="string")try{g(xm(JSON.parse(o)))}catch(x){console.log(x)}},[o]),b.useEffect(()=>{const x={url:en.sanitize(window.location.hash),cookiesAvailable:i};localStorage.setItem(btoa("cookie-location"),btoa(JSON.stringify(x)))},[i]);const h=wn.useMediaQuery({query:"(max-width: 1013px)"}),u=wn.useMediaQuery({query:"(prefers-color-scheme: dark)"}),g=zt(),S=Re(x=>x.isSplit),w=Re(x=>x.isEmbed),m=qe(),C=Re(x=>x.autoTheme),k=Re(x=>x.settingsDialogOpen);b.useEffect(()=>{if(C){const x=u?"dark":"light";g(Pd(x)),localStorage.setItem("theme",JSON.stringify({theme:x,auto:C}))}},[u,C,g]);const T=(x,N,I,O)=>x?f(rL,{isEmbed:I,theme:m,settingsDialogOpen:O}):f(iL,{isEmbed:I,isSplit:N,theme:m,settingsDialogOpen:O});return f("div",{className:Pe(fL(m)),children:T(h,w,S,k)})}export{NL as default};
